(self.webpackChunkEarthify_UI=self.webpackChunkEarthify_UI||[]).push([[789],{185:(Rt,yt,K)=>{"use strict";var Q=K(3033);function P(h){var nt=[1/0,1/0,-1/0,-1/0];return Q.coordEach(h,function(H){nt[0]>H[0]&&(nt[0]=H[0]),nt[1]>H[1]&&(nt[1]=H[1]),nt[2]<H[0]&&(nt[2]=H[0]),nt[3]<H[1]&&(nt[3]=H[1])}),nt}P.default=P,yt.Z=P},483:function(Rt){Rt.exports=function(){"use strict";function K(P,h,nt,H,st){for(;H>nt;){if(H-nt>600){var ct=H-nt+1,It=h-nt+1,At=Math.log(ct),xt=.5*Math.exp(2*At/3),mt=.5*Math.sqrt(At*xt*(ct-xt)/ct)*(It-ct/2<0?-1:1);K(P,h,Math.max(nt,Math.floor(h-It*xt/ct+mt)),Math.min(H,Math.floor(h+(ct-It)*xt/ct+mt)),st)}var et=P[h],pt=nt,b=H;for(q(P,nt,h),st(P[H],et)>0&&q(P,nt,H);pt<b;){for(q(P,pt,b),pt++,b--;st(P[pt],et)<0;)pt++;for(;st(P[b],et)>0;)b--}0===st(P[nt],et)?q(P,nt,b):q(P,++b,H),b<=h&&(nt=b+1),h<=b&&(H=b-1)}}function q(P,h,nt){var H=P[h];P[h]=P[nt],P[nt]=H}function Q(P,h){return P<h?-1:P>h?1:0}return function(P,h,nt,H,st){K(P,h,nt||0,H||P.length-1,st||Q)}}()},5454:(Rt,yt,K)=>{"use strict";Rt.exports=Q,Rt.exports.default=Q;var q=K(483);function Q(b,S){if(!(this instanceof Q))return new Q(b,S);this._maxEntries=Math.max(4,b||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),S&&this._initFormat(S),this.clear()}function P(b,S,N){if(!N)return S.indexOf(b);for(var U=0;U<S.length;U++)if(N(b,S[U]))return U;return-1}function h(b,S){nt(b,0,b.children.length,S,b)}function nt(b,S,N,U,I){I||(I=et(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var O,M=S;M<N;M++)O=b.children[M],H(I,b.leaf?U(O):O);return I}function H(b,S){return b.minX=Math.min(b.minX,S.minX),b.minY=Math.min(b.minY,S.minY),b.maxX=Math.max(b.maxX,S.maxX),b.maxY=Math.max(b.maxY,S.maxY),b}function st(b,S){return b.minX-S.minX}function ct(b,S){return b.minY-S.minY}function It(b){return(b.maxX-b.minX)*(b.maxY-b.minY)}function At(b){return b.maxX-b.minX+(b.maxY-b.minY)}function xt(b,S){return(Math.max(S.maxX,b.maxX)-Math.min(S.minX,b.minX))*(Math.max(S.maxY,b.maxY)-Math.min(S.minY,b.minY))}function mt(b,S){var N=Math.max(b.minX,S.minX),U=Math.max(b.minY,S.minY),I=Math.min(b.maxX,S.maxX),M=Math.min(b.maxY,S.maxY);return Math.max(0,I-N)*Math.max(0,M-U)}function bt(b,S){return b.minX<=S.minX&&b.minY<=S.minY&&S.maxX<=b.maxX&&S.maxY<=b.maxY}function qt(b,S){return S.minX<=b.maxX&&S.minY<=b.maxY&&S.maxX>=b.minX&&S.maxY>=b.minY}function et(b){return{children:b,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function pt(b,S,N,U,I){for(var O,M=[S,N];M.length;)!((N=M.pop())-(S=M.pop())<=U)&&(O=S+Math.ceil((N-S)/U/2)*U,q(b,O,S,N,I),M.push(S,O,O,N))}Q.prototype={all:function(){return this._all(this.data,[])},search:function(b){var S=this.data,N=[],U=this.toBBox;if(!qt(b,S))return N;for(var M,O,w,it,I=[];S;){for(M=0,O=S.children.length;M<O;M++)w=S.children[M],qt(b,it=S.leaf?U(w):w)&&(S.leaf?N.push(w):bt(b,it)?this._all(w,N):I.push(w));S=I.pop()}return N},collides:function(b){var S=this.data,N=this.toBBox;if(!qt(b,S))return!1;for(var I,M,O,w,U=[];S;){for(I=0,M=S.children.length;I<M;I++)if(O=S.children[I],qt(b,w=S.leaf?N(O):O)){if(S.leaf||bt(b,w))return!0;U.push(O)}S=U.pop()}return!1},load:function(b){if(!b||!b.length)return this;if(b.length<this._minEntries){for(var S=0,N=b.length;S<N;S++)this.insert(b[S]);return this}var U=this._build(b.slice(),0,b.length-1,0);if(this.data.children.length)if(this.data.height===U.height)this._splitRoot(this.data,U);else{if(this.data.height<U.height){var I=this.data;this.data=U,U=I}this._insert(U,this.data.height-U.height-1,!0)}else this.data=U;return this},insert:function(b){return b&&this._insert(b,this.data.height-1),this},clear:function(){return this.data=et([]),this},remove:function(b,S){if(!b)return this;for(var O,w,it,J,N=this.data,U=this.toBBox(b),I=[],M=[];N||I.length;){if(N||(N=I.pop(),w=I[I.length-1],O=M.pop(),J=!0),N.leaf&&-1!==(it=P(b,N.children,S)))return N.children.splice(it,1),I.push(N),this._condense(I),this;J||N.leaf||!bt(N,U)?w?(O++,N=w.children[O],J=!1):N=null:(I.push(N),M.push(O),O=0,w=N,N=N.children[0])}return this},toBBox:function(b){return b},compareMinX:st,compareMinY:ct,toJSON:function(){return this.data},fromJSON:function(b){return this.data=b,this},_all:function(b,S){for(var N=[];b;)b.leaf?S.push.apply(S,b.children):N.push.apply(N,b.children),b=N.pop();return S},_build:function(b,S,N,U){var O,I=N-S+1,M=this._maxEntries;if(I<=M)return h(O=et(b.slice(S,N+1)),this.toBBox),O;U||(U=Math.ceil(Math.log(I)/Math.log(M)),M=Math.ceil(I/Math.pow(M,U-1))),(O=et([])).leaf=!1,O.height=U;var J,W,R,Ot,w=Math.ceil(I/M),it=w*Math.ceil(Math.sqrt(M));for(pt(b,S,N,it,this.compareMinX),J=S;J<=N;J+=it)for(pt(b,J,R=Math.min(J+it-1,N),w,this.compareMinY),W=J;W<=R;W+=w)Ot=Math.min(W+w-1,R),O.children.push(this._build(b,W,Ot,U-1));return h(O,this.toBBox),O},_chooseSubtree:function(b,S,N,U){for(var I,M,O,w,it,J,W,R;U.push(S),!S.leaf&&U.length-1!==N;){for(W=R=1/0,I=0,M=S.children.length;I<M;I++)it=It(O=S.children[I]),(J=xt(b,O)-it)<R?(R=J,W=it<W?it:W,w=O):J===R&&it<W&&(W=it,w=O);S=w||S.children[0]}return S},_insert:function(b,S,N){var I=N?b:(0,this.toBBox)(b),M=[],O=this._chooseSubtree(I,this.data,S,M);for(O.children.push(b),H(O,I);S>=0&&M[S].children.length>this._maxEntries;)this._split(M,S),S--;this._adjustParentBBoxes(I,M,S)},_split:function(b,S){var N=b[S],U=N.children.length,I=this._minEntries;this._chooseSplitAxis(N,I,U);var M=this._chooseSplitIndex(N,I,U),O=et(N.children.splice(M,N.children.length-M));O.height=N.height,O.leaf=N.leaf,h(N,this.toBBox),h(O,this.toBBox),S?b[S-1].children.push(O):this._splitRoot(N,O)},_splitRoot:function(b,S){this.data=et([b,S]),this.data.height=b.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(b,S,N){var U,I,M,O,w,it,J,W;for(it=J=1/0,U=S;U<=N-S;U++)O=mt(I=nt(b,0,U,this.toBBox),M=nt(b,U,N,this.toBBox)),w=It(I)+It(M),O<it?(it=O,W=U,J=w<J?w:J):O===it&&w<J&&(J=w,W=U);return W},_chooseSplitAxis:function(b,S,N){var U=b.leaf?this.compareMinX:st,I=b.leaf?this.compareMinY:ct;this._allDistMargin(b,S,N,U)<this._allDistMargin(b,S,N,I)&&b.children.sort(U)},_allDistMargin:function(b,S,N,U){b.children.sort(U);var it,J,I=this.toBBox,M=nt(b,0,S,I),O=nt(b,N-S,N,I),w=At(M)+At(O);for(it=S;it<N-S;it++)J=b.children[it],H(M,b.leaf?I(J):J),w+=At(M);for(it=N-S-1;it>=S;it--)J=b.children[it],H(O,b.leaf?I(J):J),w+=At(O);return w},_adjustParentBBoxes:function(b,S,N){for(var U=N;U>=0;U--)H(S[U],b)},_condense:function(b){for(var N,S=b.length-1;S>=0;S--)0===b[S].children.length?S>0?(N=b[S-1].children).splice(N.indexOf(b[S]),1):this.clear():h(b[S],this.toBBox)},_initFormat:function(b){var S=["return a"," - b",";"];this.compareMinX=new Function("a","b",S.join(b[0])),this.compareMinY=new Function("a","b",S.join(b[1])),this.toBBox=new Function("a","return {minX: a"+b[0]+", minY: a"+b[1]+", maxX: a"+b[2]+", maxY: a"+b[3]+"};")}}},8410:(Rt,yt)=>{"use strict";function K(J,W,R){void 0===R&&(R={});var Ot={type:"Feature"};return(0===R.id||R.id)&&(Ot.id=R.id),R.bbox&&(Ot.bbox=R.bbox),Ot.properties=W||{},Ot.geometry=J,Ot}function Q(J,W,R){if(void 0===R&&(R={}),!J)throw new Error("coordinates is required");if(!Array.isArray(J))throw new Error("coordinates must be an Array");if(J.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(J[0])||!M(J[1]))throw new Error("coordinates must contain numbers");return K({type:"Point",coordinates:J},W,R)}function h(J,W,R){void 0===R&&(R={});for(var Ot=0,Nt=J;Ot<Nt.length;Ot++){var Z=Nt[Ot];if(Z.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ft=0;ft<Z[Z.length-1].length;ft++)if(Z[Z.length-1][ft]!==Z[0][ft])throw new Error("First and last Position are not equivalent.")}return K({type:"Polygon",coordinates:J},W,R)}function H(J,W,R){if(void 0===R&&(R={}),J.length<2)throw new Error("coordinates must be an array of two or more positions");return K({type:"LineString",coordinates:J},W,R)}function ct(J,W){void 0===W&&(W={});var R={type:"FeatureCollection"};return W.id&&(R.id=W.id),W.bbox&&(R.bbox=W.bbox),R.features=J,R}function It(J,W,R){return void 0===R&&(R={}),K({type:"MultiLineString",coordinates:J},W,R)}function At(J,W,R){return void 0===R&&(R={}),K({type:"MultiPoint",coordinates:J},W,R)}function xt(J,W,R){return void 0===R&&(R={}),K({type:"MultiPolygon",coordinates:J},W,R)}function qt(J,W){void 0===W&&(W="kilometers");var R=yt.factors[W];if(!R)throw new Error(W+" units is invalid");return J*R}function et(J,W){void 0===W&&(W="kilometers");var R=yt.factors[W];if(!R)throw new Error(W+" units is invalid");return J/R}function S(J){return J%(2*Math.PI)*180/Math.PI}function M(J){return!isNaN(J)&&null!==J&&!Array.isArray(J)}Object.defineProperty(yt,"__esModule",{value:!0}),yt.earthRadius=6371008.8,yt.factors={centimeters:100*yt.earthRadius,centimetres:100*yt.earthRadius,degrees:yt.earthRadius/111325,feet:3.28084*yt.earthRadius,inches:39.37*yt.earthRadius,kilometers:yt.earthRadius/1e3,kilometres:yt.earthRadius/1e3,meters:yt.earthRadius,metres:yt.earthRadius,miles:yt.earthRadius/1609.344,millimeters:1e3*yt.earthRadius,millimetres:1e3*yt.earthRadius,nauticalmiles:yt.earthRadius/1852,radians:1,yards:1.0936*yt.earthRadius},yt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/yt.earthRadius,yards:1.0936133},yt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},yt.feature=K,yt.geometry=function(J,W,R){switch(void 0===R&&(R={}),J){case"Point":return Q(W).geometry;case"LineString":return H(W).geometry;case"Polygon":return h(W).geometry;case"MultiPoint":return At(W).geometry;case"MultiLineString":return It(W).geometry;case"MultiPolygon":return xt(W).geometry;default:throw new Error(J+" is invalid")}},yt.point=Q,yt.points=function(J,W,R){return void 0===R&&(R={}),ct(J.map(function(Ot){return Q(Ot,W)}),R)},yt.polygon=h,yt.polygons=function(J,W,R){return void 0===R&&(R={}),ct(J.map(function(Ot){return h(Ot,W)}),R)},yt.lineString=H,yt.lineStrings=function(J,W,R){return void 0===R&&(R={}),ct(J.map(function(Ot){return H(Ot,W)}),R)},yt.featureCollection=ct,yt.multiLineString=It,yt.multiPoint=At,yt.multiPolygon=xt,yt.geometryCollection=function(J,W,R){return void 0===R&&(R={}),K({type:"GeometryCollection",geometries:J},W,R)},yt.round=function(J,W){if(void 0===W&&(W=0),W&&!(W>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,W||0);return Math.round(J*R)/R},yt.radiansToLength=qt,yt.lengthToRadians=et,yt.lengthToDegrees=function(J,W){return S(et(J,W))},yt.bearingToAzimuth=function(J){var W=J%360;return W<0&&(W+=360),W},yt.radiansToDegrees=S,yt.degreesToRadians=function(J){return J%360*Math.PI/180},yt.convertLength=function(J,W,R){if(void 0===W&&(W="kilometers"),void 0===R&&(R="kilometers"),!(J>=0))throw new Error("length must be a positive number");return qt(et(J,W),R)},yt.convertArea=function(J,W,R){if(void 0===W&&(W="meters"),void 0===R&&(R="kilometers"),!(J>=0))throw new Error("area must be a positive number");var Ot=yt.areaFactors[W];if(!Ot)throw new Error("invalid original units");var Nt=yt.areaFactors[R];if(!Nt)throw new Error("invalid final units");return J/Ot*Nt},yt.isNumber=M,yt.isObject=function(J){return!!J&&J.constructor===Object},yt.validateBBox=function(J){if(!J)throw new Error("bbox is required");if(!Array.isArray(J))throw new Error("bbox must be an Array");if(4!==J.length&&6!==J.length)throw new Error("bbox must be an Array of 4 or 6 numbers");J.forEach(function(W){if(!M(W))throw new Error("bbox must only contain numbers")})},yt.validateId=function(J){if(!J)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof J))throw new Error("id must be a number or a string")}},3033:(Rt,yt,K)=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});var q=K(8410);function Q(N,U,I){if(null!==N)for(var M,O,w,it,J,W,R,Z,Ot=0,Nt=0,ft=N.type,X="FeatureCollection"===ft,at="Feature"===ft,ut=X?N.features.length:1,G=0;G<ut;G++){J=(Z=!!(R=X?N.features[G].geometry:at?N.geometry:N)&&"GeometryCollection"===R.type)?R.geometries.length:1;for(var Ct=0;Ct<J;Ct++){var Lt=0,Xt=0;if(null!==(it=Z?R.geometries[Ct]:R)){W=it.coordinates;var Tt=it.type;switch(Ot=!I||"Polygon"!==Tt&&"MultiPolygon"!==Tt?0:1,Tt){case null:break;case"Point":if(!1===U(W,Nt,G,Lt,Xt))return!1;Nt++,Lt++;break;case"LineString":case"MultiPoint":for(M=0;M<W.length;M++){if(!1===U(W[M],Nt,G,Lt,Xt))return!1;Nt++,"MultiPoint"===Tt&&Lt++}"LineString"===Tt&&Lt++;break;case"Polygon":case"MultiLineString":for(M=0;M<W.length;M++){for(O=0;O<W[M].length-Ot;O++){if(!1===U(W[M][O],Nt,G,Lt,Xt))return!1;Nt++}"MultiLineString"===Tt&&Lt++,"Polygon"===Tt&&Xt++}"Polygon"===Tt&&Lt++;break;case"MultiPolygon":for(M=0;M<W.length;M++){for(Xt=0,O=0;O<W[M].length;O++){for(w=0;w<W[M][O].length-Ot;w++){if(!1===U(W[M][O][w],Nt,G,Lt,Xt))return!1;Nt++}Xt++}Lt++}break;case"GeometryCollection":for(M=0;M<it.geometries.length;M++)if(!1===Q(it.geometries[M],U,I))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function h(N,U){var I;switch(N.type){case"FeatureCollection":for(I=0;I<N.features.length&&!1!==U(N.features[I].properties,I);I++);break;case"Feature":U(N.properties,0)}}function H(N,U){if("Feature"===N.type)U(N,0);else if("FeatureCollection"===N.type)for(var I=0;I<N.features.length&&!1!==U(N.features[I],I);I++);}function It(N,U){var I,M,O,w,it,J,W,R,Ot,Nt,Z=0,ft="FeatureCollection"===N.type,X="Feature"===N.type,at=ft?N.features.length:1;for(I=0;I<at;I++){for(R=ft?N.features[I].properties:X?N.properties:{},Ot=ft?N.features[I].bbox:X?N.bbox:void 0,Nt=ft?N.features[I].id:X?N.id:void 0,it=(W=!!(J=ft?N.features[I].geometry:X?N.geometry:N)&&"GeometryCollection"===J.type)?J.geometries.length:1,O=0;O<it;O++)if(null!==(w=W?J.geometries[O]:J))switch(w.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===U(w,Z,R,Ot,Nt))return!1;break;case"GeometryCollection":for(M=0;M<w.geometries.length;M++)if(!1===U(w.geometries[M],Z,R,Ot,Nt))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===U(null,Z,R,Ot,Nt))return!1;Z++}}function xt(N,U){It(N,function(I,M,O,w,it){var W,J=null===I?null:I.type;switch(J){case null:case"Point":case"LineString":case"Polygon":return!1!==U(q.feature(I,O,{bbox:w,id:it}),M,0)&&void 0}switch(J){case"MultiPoint":W="Point";break;case"MultiLineString":W="LineString";break;case"MultiPolygon":W="Polygon"}for(var R=0;R<I.coordinates.length;R++)if(!1===U(q.feature({type:W,coordinates:I.coordinates[R]},O),M,R))return!1})}function bt(N,U){xt(N,function(I,M,O){var w=0;if(I.geometry){var it=I.geometry.type;if("Point"!==it&&"MultiPoint"!==it){var J,W=0,R=0,Ot=0;if(!1===Q(I,function(Nt,Z,ft,X,at){if(void 0===J||M>W||X>R||at>Ot)return J=Nt,W=M,R=X,Ot=at,void(w=0);var ut=q.lineString([J,Nt],I.properties);if(!1===U(ut,M,O,at,w))return!1;w++,J=Nt}))return!1}}})}function et(N,U){if(!N)throw new Error("geojson is required");xt(N,function(I,M,O){if(null!==I.geometry){var it=I.geometry.coordinates;switch(I.geometry.type){case"LineString":if(!1===U(I,M,O,0,0))return!1;break;case"Polygon":for(var J=0;J<it.length;J++)if(!1===U(q.lineString(it[J],I.properties),M,O,J))return!1}}})}yt.coordAll=function(N){var U=[];return Q(N,function(I){U.push(I)}),U},yt.coordEach=Q,yt.coordReduce=function(N,U,I,M){var O=I;return Q(N,function(w,it,J,W,R){O=0===it&&void 0===I?w:U(O,w,it,J,W,R)},M),O},yt.featureEach=H,yt.featureReduce=function(N,U,I){var M=I;return H(N,function(O,w){M=0===w&&void 0===I?O:U(M,O,w)}),M},yt.findPoint=function(N,U){if(!q.isObject(U=U||{}))throw new Error("options is invalid");var J,I=U.featureIndex||0,M=U.multiFeatureIndex||0,O=U.geometryIndex||0,w=U.coordIndex||0,it=U.properties;switch(N.type){case"FeatureCollection":I<0&&(I=N.features.length+I),it=it||N.features[I].properties,J=N.features[I].geometry;break;case"Feature":it=it||N.properties,J=N.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":J=N;break;default:throw new Error("geojson is invalid")}if(null===J)return null;var W=J.coordinates;switch(J.type){case"Point":return q.point(W,it,U);case"MultiPoint":return M<0&&(M=W.length+M),q.point(W[M],it,U);case"LineString":return w<0&&(w=W.length+w),q.point(W[w],it,U);case"Polygon":return O<0&&(O=W.length+O),w<0&&(w=W[O].length+w),q.point(W[O][w],it,U);case"MultiLineString":return M<0&&(M=W.length+M),w<0&&(w=W[M].length+w),q.point(W[M][w],it,U);case"MultiPolygon":return M<0&&(M=W.length+M),O<0&&(O=W[M].length+O),w<0&&(w=W[M][O].length-w),q.point(W[M][O][w],it,U)}throw new Error("geojson is invalid")},yt.findSegment=function(N,U){if(!q.isObject(U=U||{}))throw new Error("options is invalid");var J,I=U.featureIndex||0,M=U.multiFeatureIndex||0,O=U.geometryIndex||0,w=U.segmentIndex||0,it=U.properties;switch(N.type){case"FeatureCollection":I<0&&(I=N.features.length+I),it=it||N.features[I].properties,J=N.features[I].geometry;break;case"Feature":it=it||N.properties,J=N.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":J=N;break;default:throw new Error("geojson is invalid")}if(null===J)return null;var W=J.coordinates;switch(J.type){case"Point":case"MultiPoint":return null;case"LineString":return w<0&&(w=W.length+w-1),q.lineString([W[w],W[w+1]],it,U);case"Polygon":return O<0&&(O=W.length+O),w<0&&(w=W[O].length+w-1),q.lineString([W[O][w],W[O][w+1]],it,U);case"MultiLineString":return M<0&&(M=W.length+M),w<0&&(w=W[M].length+w-1),q.lineString([W[M][w],W[M][w+1]],it,U);case"MultiPolygon":return M<0&&(M=W.length+M),O<0&&(O=W[M].length+O),w<0&&(w=W[M][O].length-w-1),q.lineString([W[M][O][w],W[M][O][w+1]],it,U)}throw new Error("geojson is invalid")},yt.flattenEach=xt,yt.flattenReduce=function(N,U,I){var M=I;return xt(N,function(O,w,it){M=0===w&&0===it&&void 0===I?O:U(M,O,w,it)}),M},yt.geomEach=It,yt.geomReduce=function(N,U,I){var M=I;return It(N,function(O,w,it,J,W){M=0===w&&void 0===I?O:U(M,O,w,it,J,W)}),M},yt.lineEach=et,yt.lineReduce=function(N,U,I){var M=I;return et(N,function(O,w,it,J){M=0===w&&void 0===I?O:U(M,O,w,it,J)}),M},yt.propEach=h,yt.propReduce=function(N,U,I){var M=I;return h(N,function(O,w){M=0===w&&void 0===I?O:U(M,O,w)}),M},yt.segmentEach=bt,yt.segmentReduce=function(N,U,I){var M=I,O=!1;return bt(N,function(w,it,J,W,R){M=!1===O&&void 0===I?w:U(M,w,it,J,W,R),O=!0}),M}},9336:function(Rt){Rt.exports=function(){"use strict";function K(P,h,nt,H,st){for(;H>nt;){if(H-nt>600){var ct=H-nt+1,It=h-nt+1,At=Math.log(ct),xt=.5*Math.exp(2*At/3),mt=.5*Math.sqrt(At*xt*(ct-xt)/ct)*(It-ct/2<0?-1:1);K(P,h,Math.max(nt,Math.floor(h-It*xt/ct+mt)),Math.min(H,Math.floor(h+(ct-It)*xt/ct+mt)),st)}var et=P[h],pt=nt,b=H;for(q(P,nt,h),st(P[H],et)>0&&q(P,nt,H);pt<b;){for(q(P,pt,b),pt++,b--;st(P[pt],et)<0;)pt++;for(;st(P[b],et)>0;)b--}0===st(P[nt],et)?q(P,nt,b):q(P,++b,H),b<=h&&(nt=b+1),h<=b&&(H=b-1)}}function q(P,h,nt){var H=P[h];P[h]=P[nt],P[nt]=H}function Q(P,h){return P<h?-1:P>h?1:0}return function(P,h,nt,H,st){K(P,h,nt||0,H||P.length-1,st||Q)}}()},8309:(Rt,yt,K)=>{"use strict";Rt.exports=Q,Rt.exports.default=Q;var q=K(9336);function Q(b,S){if(!(this instanceof Q))return new Q(b,S);this._maxEntries=Math.max(4,b||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),S&&this._initFormat(S),this.clear()}function P(b,S,N){if(!N)return S.indexOf(b);for(var U=0;U<S.length;U++)if(N(b,S[U]))return U;return-1}function h(b,S){nt(b,0,b.children.length,S,b)}function nt(b,S,N,U,I){I||(I=et(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var O,M=S;M<N;M++)O=b.children[M],H(I,b.leaf?U(O):O);return I}function H(b,S){return b.minX=Math.min(b.minX,S.minX),b.minY=Math.min(b.minY,S.minY),b.maxX=Math.max(b.maxX,S.maxX),b.maxY=Math.max(b.maxY,S.maxY),b}function st(b,S){return b.minX-S.minX}function ct(b,S){return b.minY-S.minY}function It(b){return(b.maxX-b.minX)*(b.maxY-b.minY)}function At(b){return b.maxX-b.minX+(b.maxY-b.minY)}function xt(b,S){return(Math.max(S.maxX,b.maxX)-Math.min(S.minX,b.minX))*(Math.max(S.maxY,b.maxY)-Math.min(S.minY,b.minY))}function mt(b,S){var N=Math.max(b.minX,S.minX),U=Math.max(b.minY,S.minY),I=Math.min(b.maxX,S.maxX),M=Math.min(b.maxY,S.maxY);return Math.max(0,I-N)*Math.max(0,M-U)}function bt(b,S){return b.minX<=S.minX&&b.minY<=S.minY&&S.maxX<=b.maxX&&S.maxY<=b.maxY}function qt(b,S){return S.minX<=b.maxX&&S.minY<=b.maxY&&S.maxX>=b.minX&&S.maxY>=b.minY}function et(b){return{children:b,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function pt(b,S,N,U,I){for(var O,M=[S,N];M.length;)!((N=M.pop())-(S=M.pop())<=U)&&(O=S+Math.ceil((N-S)/U/2)*U,q(b,O,S,N,I),M.push(S,O,O,N))}Q.prototype={all:function(){return this._all(this.data,[])},search:function(b){var S=this.data,N=[],U=this.toBBox;if(!qt(b,S))return N;for(var M,O,w,it,I=[];S;){for(M=0,O=S.children.length;M<O;M++)w=S.children[M],qt(b,it=S.leaf?U(w):w)&&(S.leaf?N.push(w):bt(b,it)?this._all(w,N):I.push(w));S=I.pop()}return N},collides:function(b){var S=this.data,N=this.toBBox;if(!qt(b,S))return!1;for(var I,M,O,w,U=[];S;){for(I=0,M=S.children.length;I<M;I++)if(O=S.children[I],qt(b,w=S.leaf?N(O):O)){if(S.leaf||bt(b,w))return!0;U.push(O)}S=U.pop()}return!1},load:function(b){if(!b||!b.length)return this;if(b.length<this._minEntries){for(var S=0,N=b.length;S<N;S++)this.insert(b[S]);return this}var U=this._build(b.slice(),0,b.length-1,0);if(this.data.children.length)if(this.data.height===U.height)this._splitRoot(this.data,U);else{if(this.data.height<U.height){var I=this.data;this.data=U,U=I}this._insert(U,this.data.height-U.height-1,!0)}else this.data=U;return this},insert:function(b){return b&&this._insert(b,this.data.height-1),this},clear:function(){return this.data=et([]),this},remove:function(b,S){if(!b)return this;for(var O,w,it,J,N=this.data,U=this.toBBox(b),I=[],M=[];N||I.length;){if(N||(N=I.pop(),w=I[I.length-1],O=M.pop(),J=!0),N.leaf&&-1!==(it=P(b,N.children,S)))return N.children.splice(it,1),I.push(N),this._condense(I),this;J||N.leaf||!bt(N,U)?w?(O++,N=w.children[O],J=!1):N=null:(I.push(N),M.push(O),O=0,w=N,N=N.children[0])}return this},toBBox:function(b){return b},compareMinX:st,compareMinY:ct,toJSON:function(){return this.data},fromJSON:function(b){return this.data=b,this},_all:function(b,S){for(var N=[];b;)b.leaf?S.push.apply(S,b.children):N.push.apply(N,b.children),b=N.pop();return S},_build:function(b,S,N,U){var O,I=N-S+1,M=this._maxEntries;if(I<=M)return h(O=et(b.slice(S,N+1)),this.toBBox),O;U||(U=Math.ceil(Math.log(I)/Math.log(M)),M=Math.ceil(I/Math.pow(M,U-1))),(O=et([])).leaf=!1,O.height=U;var J,W,R,Ot,w=Math.ceil(I/M),it=w*Math.ceil(Math.sqrt(M));for(pt(b,S,N,it,this.compareMinX),J=S;J<=N;J+=it)for(pt(b,J,R=Math.min(J+it-1,N),w,this.compareMinY),W=J;W<=R;W+=w)Ot=Math.min(W+w-1,R),O.children.push(this._build(b,W,Ot,U-1));return h(O,this.toBBox),O},_chooseSubtree:function(b,S,N,U){for(var I,M,O,w,it,J,W,R;U.push(S),!S.leaf&&U.length-1!==N;){for(W=R=1/0,I=0,M=S.children.length;I<M;I++)it=It(O=S.children[I]),(J=xt(b,O)-it)<R?(R=J,W=it<W?it:W,w=O):J===R&&it<W&&(W=it,w=O);S=w||S.children[0]}return S},_insert:function(b,S,N){var I=N?b:(0,this.toBBox)(b),M=[],O=this._chooseSubtree(I,this.data,S,M);for(O.children.push(b),H(O,I);S>=0&&M[S].children.length>this._maxEntries;)this._split(M,S),S--;this._adjustParentBBoxes(I,M,S)},_split:function(b,S){var N=b[S],U=N.children.length,I=this._minEntries;this._chooseSplitAxis(N,I,U);var M=this._chooseSplitIndex(N,I,U),O=et(N.children.splice(M,N.children.length-M));O.height=N.height,O.leaf=N.leaf,h(N,this.toBBox),h(O,this.toBBox),S?b[S-1].children.push(O):this._splitRoot(N,O)},_splitRoot:function(b,S){this.data=et([b,S]),this.data.height=b.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(b,S,N){var U,I,M,O,w,it,J,W;for(it=J=1/0,U=S;U<=N-S;U++)O=mt(I=nt(b,0,U,this.toBBox),M=nt(b,U,N,this.toBBox)),w=It(I)+It(M),O<it?(it=O,W=U,J=w<J?w:J):O===it&&w<J&&(J=w,W=U);return W},_chooseSplitAxis:function(b,S,N){var U=b.leaf?this.compareMinX:st,I=b.leaf?this.compareMinY:ct;this._allDistMargin(b,S,N,U)<this._allDistMargin(b,S,N,I)&&b.children.sort(U)},_allDistMargin:function(b,S,N,U){b.children.sort(U);var it,J,I=this.toBBox,M=nt(b,0,S,I),O=nt(b,N-S,N,I),w=At(M)+At(O);for(it=S;it<N-S;it++)J=b.children[it],H(M,b.leaf?I(J):J),w+=At(M);for(it=N-S-1;it>=S;it--)J=b.children[it],H(O,b.leaf?I(J):J),w+=At(O);return w},_adjustParentBBoxes:function(b,S,N){for(var U=N;U>=0;U--)H(S[U],b)},_condense:function(b){for(var N,S=b.length-1;S>=0;S--)0===b[S].children.length?S>0?(N=b[S-1].children).splice(N.indexOf(b[S]),1):this.clear():h(b[S],this.toBBox)},_initFormat:function(b){var S=["return a"," - b",";"];this.compareMinX=new Function("a","b",S.join(b[0])),this.compareMinY=new Function("a","b",S.join(b[1])),this.toBBox=new Function("a","return {minX: a"+b[0]+", minY: a"+b[1]+", maxX: a"+b[2]+", maxY: a"+b[3]+"};")}}},9568:(Rt,yt,K)=>{"use strict";var q=K(8540),Q=K(44),P=Q(q("String.prototype.indexOf"));Rt.exports=function(nt,H){var st=q(nt,!!H);return"function"==typeof st&&P(nt,".prototype.")>-1?Q(st):st}},44:(Rt,yt,K)=>{"use strict";var q=K(5396),Q=K(8540),P=Q("%Function.prototype.apply%"),h=Q("%Function.prototype.call%"),nt=Q("%Reflect.apply%",!0)||q.call(h,P),H=Q("%Object.getOwnPropertyDescriptor%",!0),st=Q("%Object.defineProperty%",!0),ct=Q("%Math.max%");if(st)try{st({},"a",{value:1})}catch(At){st=null}Rt.exports=function(xt){var mt=nt(q,h,arguments);if(H&&st){var bt=H(mt,"length");bt.configurable&&st(mt,"length",{value:1+ct(0,xt.length-(arguments.length-1))})}return mt};var It=function(){return nt(q,P,arguments)};st?st(Rt.exports,"apply",{value:It}):Rt.exports.apply=It},6896:(Rt,yt,K)=>{"use strict";var q=K(3036),Q=K(54),P=K(5503),h=K(5322).orient2d;function nt(I,M,O){M=Math.max(0,void 0===M?2:M),O=O||0;var w=function(I){for(var M=I[0],O=I[0],w=I[0],it=I[0],J=0;J<I.length;J++){var W=I[J];W[0]<M[0]&&(M=W),W[0]>w[0]&&(w=W),W[1]<O[1]&&(O=W),W[1]>it[1]&&(it=W)}var R=[M,O,w,it],Ot=R.slice();for(J=0;J<I.length;J++)P(I[J],R)||Ot.push(I[J]);return function(I){I.sort(N);for(var M=[],O=0;O<I.length;O++){for(;M.length>=2&&xt(M[M.length-2],M[M.length-1],I[O])<=0;)M.pop();M.push(I[O])}for(var w=[],it=I.length-1;it>=0;it--){for(;w.length>=2&&xt(w[w.length-2],w[w.length-1],I[it])<=0;)w.pop();w.push(I[it])}return w.pop(),M.pop(),M.concat(w)}(Ot)}(I),it=new q(16);it.toBBox=function(Xt){return{minX:Xt[0],minY:Xt[1],maxX:Xt[0],maxY:Xt[1]}},it.compareMinX=function(Xt,Tt){return Xt[0]-Tt[0]},it.compareMinY=function(Xt,Tt){return Xt[1]-Tt[1]},it.load(I);for(var R,J=[],W=0;W<w.length;W++){var Ot=w[W];it.remove(Ot),R=et(Ot,R),J.push(R)}var Nt=new q(16);for(W=0;W<J.length;W++)Nt.insert(bt(J[W]));for(var Z=M*M,ft=O*O;J.length;){var X=J.shift(),at=X.p,ut=X.next.p,G=pt(at,ut);if(!(G<ft)){var Ct=G/Z;(Ot=H(it,X.prev.p,at,ut,X.next.next.p,Ct,Nt))&&Math.min(pt(Ot,at),pt(Ot,ut))<=Ct&&(J.push(X),J.push(et(Ot,X)),it.remove(Ot),Nt.remove(X),Nt.insert(bt(X)),Nt.insert(bt(X.next)))}}X=R;var Lt=[];do{Lt.push(X.p),X=X.next}while(X!==R);return Lt.push(X.p),Lt}function H(I,M,O,w,it,J,W){for(var R=new Q([],st),Ot=I.data;Ot;){for(var Nt=0;Nt<Ot.children.length;Nt++){var Z=Ot.children[Nt],ft=Ot.leaf?b(Z,O,w):ct(O,w,Z);ft>J||R.push({node:Z,dist:ft})}for(;R.length&&!R.peek().node.children;){var X=R.pop(),at=X.node,ut=b(at,M,O),G=b(at,w,it);if(X.dist<ut&&X.dist<G&&At(O,at,W)&&At(w,at,W))return at}(Ot=R.pop())&&(Ot=Ot.node)}return null}function st(I,M){return I.dist-M.dist}function ct(I,M,O){if(It(I,O)||It(M,O))return 0;var w=S(I[0],I[1],M[0],M[1],O.minX,O.minY,O.maxX,O.minY);if(0===w)return 0;var it=S(I[0],I[1],M[0],M[1],O.minX,O.minY,O.minX,O.maxY);if(0===it)return 0;var J=S(I[0],I[1],M[0],M[1],O.maxX,O.minY,O.maxX,O.maxY);if(0===J)return 0;var W=S(I[0],I[1],M[0],M[1],O.minX,O.maxY,O.maxX,O.maxY);return 0===W?0:Math.min(w,it,J,W)}function It(I,M){return I[0]>=M.minX&&I[0]<=M.maxX&&I[1]>=M.minY&&I[1]<=M.maxY}function At(I,M,O){for(var w=Math.min(I[0],M[0]),it=Math.min(I[1],M[1]),J=Math.max(I[0],M[0]),W=Math.max(I[1],M[1]),R=O.search({minX:w,minY:it,maxX:J,maxY:W}),Ot=0;Ot<R.length;Ot++)if(mt(R[Ot].p,R[Ot].next.p,I,M))return!1;return!0}function xt(I,M,O){return h(I[0],I[1],M[0],M[1],O[0],O[1])}function mt(I,M,O,w){return I!==w&&M!==O&&xt(I,M,O)>0!=xt(I,M,w)>0&&xt(O,w,I)>0!=xt(O,w,M)>0}function bt(I){var M=I.p,O=I.next.p;return I.minX=Math.min(M[0],O[0]),I.minY=Math.min(M[1],O[1]),I.maxX=Math.max(M[0],O[0]),I.maxY=Math.max(M[1],O[1]),I}function et(I,M){var O={p:I,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return M?(O.next=M.next,O.prev=M,M.next.prev=O,M.next=O):(O.prev=O,O.next=O),O}function pt(I,M){var O=I[0]-M[0],w=I[1]-M[1];return O*O+w*w}function b(I,M,O){var w=M[0],it=M[1],J=O[0]-w,W=O[1]-it;if(0!==J||0!==W){var R=((I[0]-w)*J+(I[1]-it)*W)/(J*J+W*W);R>1?(w=O[0],it=O[1]):R>0&&(w+=J*R,it+=W*R)}return(J=I[0]-w)*J+(W=I[1]-it)*W}function S(I,M,O,w,it,J,W,R){var se,pe,ue,Jt,Ot=O-I,Nt=w-M,Z=W-it,ft=R-J,X=I-it,at=M-J,ut=Ot*Ot+Nt*Nt,G=Ot*Z+Nt*ft,Ct=Z*Z+ft*ft,Lt=Ot*X+Nt*at,Xt=Z*X+ft*at,Tt=ut*Ct-G*G,Wt=Tt,Gt=Tt;0===Tt?(pe=0,Wt=1,Jt=Xt,Gt=Ct):(Jt=ut*Xt-G*Lt,(pe=G*Xt-Ct*Lt)<0?(pe=0,Jt=Xt,Gt=Ct):pe>Wt&&(pe=Wt,Jt=Xt+G,Gt=Ct)),Jt<0?(Jt=0,-Lt<0?pe=0:-Lt>ut?pe=Wt:(pe=-Lt,Wt=ut)):Jt>Gt&&(Jt=Gt,-Lt+G<0?pe=0:-Lt+G>ut?pe=Wt:(pe=-Lt+G,Wt=ut));var dn=(1-(ue=0===Jt?0:Jt/Gt))*it+ue*W-((1-(se=0===pe?0:pe/Wt))*I+se*O),dt=(1-ue)*J+ue*R-((1-se)*M+se*w);return dn*dn+dt*dt}function N(I,M){return I[0]===M[0]?I[1]-M[1]:I[0]-M[0]}Q.default&&(Q=Q.default),Rt.exports=nt,Rt.exports.default=nt},2978:(Rt,yt,K)=>{var q=K(8507),Q=K(7316),P=K(4269),h=K(5544),nt=K(437),H=K(3105),st=Date.prototype.getTime;function It(mt){return null==mt}function At(mt){return!(!mt||"object"!=typeof mt||"number"!=typeof mt.length||"function"!=typeof mt.copy||"function"!=typeof mt.slice||mt.length>0&&"number"!=typeof mt[0])}Rt.exports=function ct(mt,bt,qt){var et=qt||{};return!!(et.strict?P(mt,bt):mt===bt)||(!mt||!bt||"object"!=typeof mt&&"object"!=typeof bt?et.strict?P(mt,bt):mt==bt:function(mt,bt,qt){var et,pt;if(typeof mt!=typeof bt||It(mt)||It(bt)||mt.prototype!==bt.prototype||Q(mt)!==Q(bt))return!1;var b=h(mt),S=h(bt);if(b!==S)return!1;if(b||S)return mt.source===bt.source&&nt(mt)===nt(bt);if(H(mt)&&H(bt))return st.call(mt)===st.call(bt);var N=At(mt),U=At(bt);if(N!==U)return!1;if(N||U){if(mt.length!==bt.length)return!1;for(et=0;et<mt.length;et++)if(mt[et]!==bt[et])return!1;return!0}if(typeof mt!=typeof bt)return!1;try{var I=q(mt),M=q(bt)}catch(O){return!1}if(I.length!==M.length)return!1;for(I.sort(),M.sort(),et=I.length-1;et>=0;et--)if(I[et]!=M[et])return!1;for(et=I.length-1;et>=0;et--)if(!ct(mt[pt=I[et]],bt[pt],qt))return!1;return!0}(mt,bt,et))}},6886:(Rt,yt,K)=>{"use strict";var q=K(8507),Q="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),P=Object.prototype.toString,h=Array.prototype.concat,nt=Object.defineProperty,ct=nt&&function(){var xt={};try{for(var mt in nt(xt,"x",{enumerable:!1,value:xt}),xt)return!1;return xt.x===xt}catch(bt){return!1}}(),It=function(xt,mt,bt,qt){mt in xt&&(!function(xt){return"function"==typeof xt&&"[object Function]"===P.call(xt)}(qt)||!qt())||(ct?nt(xt,mt,{configurable:!0,enumerable:!1,value:bt,writable:!0}):xt[mt]=bt)},At=function(xt,mt){var bt=arguments.length>2?arguments[2]:{},qt=q(mt);Q&&(qt=h.call(qt,Object.getOwnPropertySymbols(mt)));for(var et=0;et<qt.length;et+=1)It(xt,qt[et],mt[qt[et]],bt[qt[et]])};At.supportsDescriptors=!!ct,Rt.exports=At},5810:Rt=>{function yt(K,q,Q,P){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(K,q,Q,P)}yt.prototype.run=function(K,q,Q,P){this._init(K,q,Q,P);for(var h=0;h<this._datasetLength;h++)if(1!==this._visited[h]){this._visited[h]=1;var nt=this._regionQuery(h);if(nt.length<this.minPts)this.noise.push(h);else{var H=this.clusters.length;this.clusters.push([]),this._addToCluster(h,H),this._expandCluster(H,nt)}}return this.clusters},yt.prototype._init=function(K,q,Q,P){if(K){if(!(K instanceof Array))throw Error("Dataset must be of type array, "+typeof K+" given");this.dataset=K,this.clusters=[],this.noise=[],this._datasetLength=K.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}q&&(this.epsilon=q),Q&&(this.minPts=Q),P&&(this.distance=P)},yt.prototype._expandCluster=function(K,q){for(var Q=0;Q<q.length;Q++){var P=q[Q];if(1!==this._visited[P]){this._visited[P]=1;var h=this._regionQuery(P);h.length>=this.minPts&&(q=this._mergeArrays(q,h))}1!==this._assigned[P]&&this._addToCluster(P,K)}},yt.prototype._addToCluster=function(K,q){this.clusters[q].push(K),this._assigned[K]=1},yt.prototype._regionQuery=function(K){for(var q=[],Q=0;Q<this._datasetLength;Q++)this.distance(this.dataset[K],this.dataset[Q])<this.epsilon&&q.push(Q);return q},yt.prototype._mergeArrays=function(K,q){for(var Q=q.length,P=0;P<Q;P++){var h=q[P];K.indexOf(h)<0&&K.push(h)}return K},yt.prototype._euclideanDistance=function(K,q){for(var Q=0,P=Math.min(K.length,q.length);P--;)Q+=(K[P]-q[P])*(K[P]-q[P]);return Math.sqrt(Q)},Rt.exports&&(Rt.exports=yt)},1955:Rt=>{function yt(K,q,Q){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(K,q,Q)}yt.prototype.init=function(K,q,Q){this.assignments=[],this.centroids=[],void 0!==K&&(this.dataset=K),void 0!==q&&(this.k=q),void 0!==Q&&(this.distance=Q)},yt.prototype.run=function(K,q){this.init(K,q);for(var Q=this.dataset.length,P=0;P<this.k;P++)this.centroids[P]=this.randomCentroid();for(var h=!0;h;){h=this.assign();for(var nt=0;nt<this.k;nt++){for(var H=new Array(At),st=0,ct=0;ct<At;ct++)H[ct]=0;for(var It=0;It<Q;It++){var At=this.dataset[It].length;if(nt===this.assignments[It]){for(ct=0;ct<At;ct++)H[ct]+=this.dataset[It][ct];st++}}if(st>0){for(ct=0;ct<At;ct++)H[ct]/=st;this.centroids[nt]=H}else this.centroids[nt]=this.randomCentroid(),h=!0}}return this.getClusters()},yt.prototype.randomCentroid=function(){var q,Q,K=this.dataset.length-1;do{Q=Math.round(Math.random()*K),q=this.dataset[Q]}while(this.centroids.indexOf(q)>=0);return q},yt.prototype.assign=function(){for(var Q,K=!1,q=this.dataset.length,P=0;P<q;P++)(Q=this.argmin(this.dataset[P],this.centroids,this.distance))!=this.assignments[P]&&(this.assignments[P]=Q,K=!0);return K},yt.prototype.getClusters=function(){for(var q,K=new Array(this.k),Q=0;Q<this.assignments.length;Q++)void 0===K[q=this.assignments[Q]]&&(K[q]=[]),K[q].push(Q);return K},yt.prototype.argmin=function(K,q,Q){for(var H,P=Number.MAX_VALUE,h=0,nt=q.length,st=0;st<nt;st++)(H=Q(K,q[st]))<P&&(P=H,h=st);return h},yt.prototype.distance=function(K,q){for(var Q=0,P=Math.min(K.length,q.length);P--;){var h=K[P]-q[P];Q+=h*h}return Math.sqrt(Q)},Rt.exports&&(Rt.exports=yt)},5e3:(Rt,yt,K)=>{if(Rt.exports)var q=K(571);function Q(P,h,nt,H){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(P,h,nt,H)}Q.prototype.run=function(P,h,nt,H){this._init(P,h,nt,H);for(var st=0,ct=this.dataset.length;st<ct;st++)if(1!==this._processed[st]){this._processed[st]=1,this.clusters.push([st]);var It=this.clusters.length-1;this._orderedList.push(st);var At=new q(null,null,"asc"),xt=this._regionQuery(st);void 0!==this._distanceToCore(st)&&(this._updateQueue(st,xt,At),this._expandCluster(It,At))}return this.clusters},Q.prototype.getReachabilityPlot=function(){for(var P=[],h=0,nt=this._orderedList.length;h<nt;h++){var H=this._orderedList[h];P.push([H,this._reachability[H]])}return P},Q.prototype._init=function(P,h,nt,H){if(P){if(!(P instanceof Array))throw Error("Dataset must be of type array, "+typeof P+" given");this.dataset=P,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}h&&(this.epsilon=h),nt&&(this.minPts=nt),H&&(this.distance=H)},Q.prototype._updateQueue=function(P,h,nt){var H=this;this._coreDistance=this._distanceToCore(P),h.forEach(function(st){if(void 0===H._processed[st]){var ct=H.distance(H.dataset[P],H.dataset[st]),It=Math.max(H._coreDistance,ct);void 0===H._reachability[st]?(H._reachability[st]=It,nt.insert(st,It)):It<H._reachability[st]&&(H._reachability[st]=It,nt.remove(st),nt.insert(st,It))}})},Q.prototype._expandCluster=function(P,h){for(var nt=h.getElements(),H=0,st=nt.length;H<st;H++){var ct=nt[H];if(void 0===this._processed[ct]){var It=this._regionQuery(ct);this._processed[ct]=1,this.clusters[P].push(ct),this._orderedList.push(ct),void 0!==this._distanceToCore(ct)&&(this._updateQueue(ct,It,h),this._expandCluster(P,h))}}},Q.prototype._distanceToCore=function(P){for(var h=this.epsilon,nt=0;nt<h;nt++)if(this._regionQuery(P,nt).length>=this.minPts)return nt},Q.prototype._regionQuery=function(P,h){h=h||this.epsilon;for(var nt=[],H=0,st=this.dataset.length;H<st;H++)this.distance(this.dataset[P],this.dataset[H])<h&&nt.push(H);return nt},Q.prototype._euclideanDistance=function(P,h){for(var nt=0,H=Math.min(P.length,h.length);H--;)nt+=(P[H]-h[H])*(P[H]-h[H]);return Math.sqrt(nt)},Rt.exports&&(Rt.exports=Q)},571:Rt=>{function yt(K,q,Q){this._queue=[],this._priorities=[],this._sorting="desc",this._init(K,q,Q)}yt.prototype.insert=function(K,q){for(var Q=this._queue.length,P=Q;P--;){var h=this._priorities[P];"desc"===this._sorting?q>h&&(Q=P):q<h&&(Q=P)}this._insertAt(K,q,Q)},yt.prototype.remove=function(K){for(var q=this._queue.length;q--;)if(K===this._queue[q]){this._queue.splice(q,1),this._priorities.splice(q,1);break}},yt.prototype.forEach=function(K){this._queue.forEach(K)},yt.prototype.getElements=function(){return this._queue},yt.prototype.getElementPriority=function(K){return this._priorities[K]},yt.prototype.getPriorities=function(){return this._priorities},yt.prototype.getElementsWithPriorities=function(){for(var K=[],q=0,Q=this._queue.length;q<Q;q++)K.push([this._queue[q],this._priorities[q]]);return K},yt.prototype._init=function(K,q,Q){if(K&&q){if(this._queue=[],this._priorities=[],K.length!==q.length)throw new Error("Arrays must have the same length");for(var P=0;P<K.length;P++)this.insert(K[P],q[P])}Q&&(this._sorting=Q)},yt.prototype._insertAt=function(K,q,Q){this._queue.length===Q?(this._queue.push(K),this._priorities.push(q)):(this._queue.splice(Q,0,K),this._priorities.splice(Q,0,q))},Rt.exports&&(Rt.exports=yt)},6882:(Rt,yt,K)=>{Rt.exports&&(Rt.exports={DBSCAN:K(5810),KMEANS:K(1955),OPTICS:K(5e3),PriorityQueue:K(571)})},1604:Rt=>{"use strict";function yt(Z,ft,X){X=X||2;var Lt,Xt,Tt,se,pe,ue,Jt,at=ft&&ft.length,ut=at?ft[0]*X:Z.length,G=K(Z,0,ut,X,!0),Ct=[];if(!G||G.next===G.prev)return Ct;if(at&&(G=function(Z,ft,X,at){var G,Ct,Tt,ut=[];for(G=0,Ct=ft.length;G<Ct;G++)(Tt=K(Z,ft[G]*at,G<Ct-1?ft[G+1]*at:Z.length,at,!1))===Tt.next&&(Tt.steiner=!0),ut.push(et(Tt));for(ut.sort(ct),G=0;G<ut.length;G++)X=q(X=It(ut[G],X),X.next);return X}(Z,ft,G,X)),Z.length>80*X){Lt=Tt=Z[0],Xt=se=Z[1];for(var Wt=X;Wt<ut;Wt+=X)(pe=Z[Wt])<Lt&&(Lt=pe),(ue=Z[Wt+1])<Xt&&(Xt=ue),pe>Tt&&(Tt=pe),ue>se&&(se=ue);Jt=0!==(Jt=Math.max(Tt-Lt,se-Xt))?1/Jt:0}return Q(G,Ct,X,Lt,Xt,Jt),Ct}function K(Z,ft,X,at,ut){var G,Ct;if(ut===Nt(Z,ft,X,at)>0)for(G=ft;G<X;G+=at)Ct=W(G,Z[G],Z[G+1],Ct);else for(G=X-at;G>=ft;G-=at)Ct=W(G,Z[G],Z[G+1],Ct);return Ct&&N(Ct,Ct.next)&&(R(Ct),Ct=Ct.next),Ct}function q(Z,ft){if(!Z)return Z;ft||(ft=Z);var at,X=Z;do{if(at=!1,X.steiner||!N(X,X.next)&&0!==S(X.prev,X,X.next))X=X.next;else{if(R(X),(X=ft=X.prev)===X.next)break;at=!0}}while(at||X!==ft);return ft}function Q(Z,ft,X,at,ut,G,Ct){if(Z){!Ct&&G&&function(Z,ft,X,at){var ut=Z;do{null===ut.z&&(ut.z=qt(ut.x,ut.y,ft,X,at)),ut.prevZ=ut.prev,ut.nextZ=ut.next,ut=ut.next}while(ut!==Z);ut.prevZ.nextZ=null,ut.prevZ=null,function(Z){var ft,X,at,ut,G,Ct,Lt,Xt,Tt=1;do{for(X=Z,Z=null,G=null,Ct=0;X;){for(Ct++,at=X,Lt=0,ft=0;ft<Tt&&(Lt++,at=at.nextZ);ft++);for(Xt=Tt;Lt>0||Xt>0&&at;)0!==Lt&&(0===Xt||!at||X.z<=at.z)?(ut=X,X=X.nextZ,Lt--):(ut=at,at=at.nextZ,Xt--),G?G.nextZ=ut:Z=ut,ut.prevZ=G,G=ut;X=at}G.nextZ=null,Tt*=2}while(Ct>1)}(ut)}(Z,at,ut,G);for(var Xt,Tt,Lt=Z;Z.prev!==Z.next;)if(Xt=Z.prev,Tt=Z.next,G?h(Z,at,ut,G):P(Z))ft.push(Xt.i/X),ft.push(Z.i/X),ft.push(Tt.i/X),R(Z),Z=Tt.next,Lt=Tt.next;else if((Z=Tt)===Lt){Ct?1===Ct?Q(Z=nt(q(Z),ft,X),ft,X,at,ut,G,2):2===Ct&&H(Z,ft,X,at,ut,G):Q(q(Z),ft,X,at,ut,G,1);break}}}function P(Z){var ft=Z.prev,X=Z,at=Z.next;if(S(ft,X,at)>=0)return!1;for(var ut=Z.next.next;ut!==Z.prev;){if(pt(ft.x,ft.y,X.x,X.y,at.x,at.y,ut.x,ut.y)&&S(ut.prev,ut,ut.next)>=0)return!1;ut=ut.next}return!0}function h(Z,ft,X,at){var ut=Z.prev,G=Z,Ct=Z.next;if(S(ut,G,Ct)>=0)return!1;for(var Tt=ut.x>G.x?ut.x>Ct.x?ut.x:Ct.x:G.x>Ct.x?G.x:Ct.x,se=ut.y>G.y?ut.y>Ct.y?ut.y:Ct.y:G.y>Ct.y?G.y:Ct.y,pe=qt(ut.x<G.x?ut.x<Ct.x?ut.x:Ct.x:G.x<Ct.x?G.x:Ct.x,ut.y<G.y?ut.y<Ct.y?ut.y:Ct.y:G.y<Ct.y?G.y:Ct.y,ft,X,at),ue=qt(Tt,se,ft,X,at),Jt=Z.prevZ,Wt=Z.nextZ;Jt&&Jt.z>=pe&&Wt&&Wt.z<=ue;){if(Jt!==Z.prev&&Jt!==Z.next&&pt(ut.x,ut.y,G.x,G.y,Ct.x,Ct.y,Jt.x,Jt.y)&&S(Jt.prev,Jt,Jt.next)>=0||(Jt=Jt.prevZ,Wt!==Z.prev&&Wt!==Z.next&&pt(ut.x,ut.y,G.x,G.y,Ct.x,Ct.y,Wt.x,Wt.y)&&S(Wt.prev,Wt,Wt.next)>=0))return!1;Wt=Wt.nextZ}for(;Jt&&Jt.z>=pe;){if(Jt!==Z.prev&&Jt!==Z.next&&pt(ut.x,ut.y,G.x,G.y,Ct.x,Ct.y,Jt.x,Jt.y)&&S(Jt.prev,Jt,Jt.next)>=0)return!1;Jt=Jt.prevZ}for(;Wt&&Wt.z<=ue;){if(Wt!==Z.prev&&Wt!==Z.next&&pt(ut.x,ut.y,G.x,G.y,Ct.x,Ct.y,Wt.x,Wt.y)&&S(Wt.prev,Wt,Wt.next)>=0)return!1;Wt=Wt.nextZ}return!0}function nt(Z,ft,X){var at=Z;do{var ut=at.prev,G=at.next.next;!N(ut,G)&&U(ut,at,at.next,G)&&w(ut,G)&&w(G,ut)&&(ft.push(ut.i/X),ft.push(at.i/X),ft.push(G.i/X),R(at),R(at.next),at=Z=G),at=at.next}while(at!==Z);return q(at)}function H(Z,ft,X,at,ut,G){var Ct=Z;do{for(var Lt=Ct.next.next;Lt!==Ct.prev;){if(Ct.i!==Lt.i&&b(Ct,Lt)){var Xt=J(Ct,Lt);return Ct=q(Ct,Ct.next),Xt=q(Xt,Xt.next),Q(Ct,ft,X,at,ut,G),void Q(Xt,ft,X,at,ut,G)}Lt=Lt.next}Ct=Ct.next}while(Ct!==Z)}function ct(Z,ft){return Z.x-ft.x}function It(Z,ft){var X=function(Z,ft){var Ct,X=ft,at=Z.x,ut=Z.y,G=-1/0;do{if(ut<=X.y&&ut>=X.next.y&&X.next.y!==X.y){var Lt=X.x+(ut-X.y)*(X.next.x-X.x)/(X.next.y-X.y);if(Lt<=at&&Lt>G){if(G=Lt,Lt===at){if(ut===X.y)return X;if(ut===X.next.y)return X.next}Ct=X.x<X.next.x?X:X.next}}X=X.next}while(X!==ft);if(!Ct)return null;if(at===G)return Ct;var ue,Xt=Ct,Tt=Ct.x,se=Ct.y,pe=1/0;X=Ct;do{at>=X.x&&X.x>=Tt&&at!==X.x&&pt(ut<se?at:G,ut,Tt,se,ut<se?G:at,ut,X.x,X.y)&&(ue=Math.abs(ut-X.y)/(at-X.x),w(X,Z)&&(ue<pe||ue===pe&&(X.x>Ct.x||X.x===Ct.x&&xt(Ct,X)))&&(Ct=X,pe=ue)),X=X.next}while(X!==Xt);return Ct}(Z,ft);if(!X)return ft;var at=J(X,Z),ut=q(X,X.next);return q(at,at.next),ft===X?ut:ft}function xt(Z,ft){return S(Z.prev,Z,ft.prev)<0&&S(ft.next,Z,Z.next)<0}function qt(Z,ft,X,at,ut){return(Z=1431655765&((Z=858993459&((Z=252645135&((Z=16711935&((Z=32767*(Z-X)*ut)|Z<<8))|Z<<4))|Z<<2))|Z<<1))|(ft=1431655765&((ft=858993459&((ft=252645135&((ft=16711935&((ft=32767*(ft-at)*ut)|ft<<8))|ft<<4))|ft<<2))|ft<<1))<<1}function et(Z){var ft=Z,X=Z;do{(ft.x<X.x||ft.x===X.x&&ft.y<X.y)&&(X=ft),ft=ft.next}while(ft!==Z);return X}function pt(Z,ft,X,at,ut,G,Ct,Lt){return(ut-Ct)*(ft-Lt)-(Z-Ct)*(G-Lt)>=0&&(Z-Ct)*(at-Lt)-(X-Ct)*(ft-Lt)>=0&&(X-Ct)*(G-Lt)-(ut-Ct)*(at-Lt)>=0}function b(Z,ft){return Z.next.i!==ft.i&&Z.prev.i!==ft.i&&!function(Z,ft){var X=Z;do{if(X.i!==Z.i&&X.next.i!==Z.i&&X.i!==ft.i&&X.next.i!==ft.i&&U(X,X.next,Z,ft))return!0;X=X.next}while(X!==Z);return!1}(Z,ft)&&(w(Z,ft)&&w(ft,Z)&&function(Z,ft){var X=Z,at=!1,ut=(Z.x+ft.x)/2,G=(Z.y+ft.y)/2;do{X.y>G!=X.next.y>G&&X.next.y!==X.y&&ut<(X.next.x-X.x)*(G-X.y)/(X.next.y-X.y)+X.x&&(at=!at),X=X.next}while(X!==Z);return at}(Z,ft)&&(S(Z.prev,Z,ft.prev)||S(Z,ft.prev,ft))||N(Z,ft)&&S(Z.prev,Z,Z.next)>0&&S(ft.prev,ft,ft.next)>0)}function S(Z,ft,X){return(ft.y-Z.y)*(X.x-ft.x)-(ft.x-Z.x)*(X.y-ft.y)}function N(Z,ft){return Z.x===ft.x&&Z.y===ft.y}function U(Z,ft,X,at){var ut=M(S(Z,ft,X)),G=M(S(Z,ft,at)),Ct=M(S(X,at,Z)),Lt=M(S(X,at,ft));return!!(ut!==G&&Ct!==Lt||0===ut&&I(Z,X,ft)||0===G&&I(Z,at,ft)||0===Ct&&I(X,Z,at)||0===Lt&&I(X,ft,at))}function I(Z,ft,X){return ft.x<=Math.max(Z.x,X.x)&&ft.x>=Math.min(Z.x,X.x)&&ft.y<=Math.max(Z.y,X.y)&&ft.y>=Math.min(Z.y,X.y)}function M(Z){return Z>0?1:Z<0?-1:0}function w(Z,ft){return S(Z.prev,Z,Z.next)<0?S(Z,ft,Z.next)>=0&&S(Z,Z.prev,ft)>=0:S(Z,ft,Z.prev)<0||S(Z,Z.next,ft)<0}function J(Z,ft){var X=new Ot(Z.i,Z.x,Z.y),at=new Ot(ft.i,ft.x,ft.y),ut=Z.next,G=ft.prev;return Z.next=ft,ft.prev=Z,X.next=ut,ut.prev=X,at.next=X,X.prev=at,G.next=at,at.prev=G,at}function W(Z,ft,X,at){var ut=new Ot(Z,ft,X);return at?(ut.next=at.next,ut.prev=at,at.next.prev=ut,at.next=ut):(ut.prev=ut,ut.next=ut),ut}function R(Z){Z.next.prev=Z.prev,Z.prev.next=Z.next,Z.prevZ&&(Z.prevZ.nextZ=Z.nextZ),Z.nextZ&&(Z.nextZ.prevZ=Z.prevZ)}function Ot(Z,ft,X){this.i=Z,this.x=ft,this.y=X,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nt(Z,ft,X,at){for(var ut=0,G=ft,Ct=X-at;G<X;G+=at)ut+=(Z[Ct]-Z[G])*(Z[G+1]+Z[Ct+1]),Ct=G;return ut}Rt.exports=yt,Rt.exports.default=yt,yt.deviation=function(Z,ft,X,at){var ut=ft&&ft.length,Ct=Math.abs(Nt(Z,0,ut?ft[0]*X:Z.length,X));if(ut)for(var Lt=0,Xt=ft.length;Lt<Xt;Lt++)Ct-=Math.abs(Nt(Z,ft[Lt]*X,Lt<Xt-1?ft[Lt+1]*X:Z.length,X));var pe=0;for(Lt=0;Lt<at.length;Lt+=3){var ue=at[Lt]*X,Jt=at[Lt+1]*X,Wt=at[Lt+2]*X;pe+=Math.abs((Z[ue]-Z[Wt])*(Z[Jt+1]-Z[ue+1])-(Z[ue]-Z[Jt])*(Z[Wt+1]-Z[ue+1]))}return 0===Ct&&0===pe?0:Math.abs((pe-Ct)/Ct)},yt.flatten=function(Z){for(var ft=Z[0][0].length,X={vertices:[],holes:[],dimensions:ft},at=0,ut=0;ut<Z.length;ut++){for(var G=0;G<Z[ut].length;G++)for(var Ct=0;Ct<ft;Ct++)X.vertices.push(Z[ut][G][Ct]);ut>0&&X.holes.push(at+=Z[ut-1].length)}return X}},1609:Rt=>{"use strict";var yt="Function.prototype.bind called on incompatible ",K=Array.prototype.slice,q=Object.prototype.toString,Q="[object Function]";Rt.exports=function(h){var nt=this;if("function"!=typeof nt||q.call(nt)!==Q)throw new TypeError(yt+nt);for(var st,H=K.call(arguments,1),ct=function(){if(this instanceof st){var bt=nt.apply(this,H.concat(K.call(arguments)));return Object(bt)===bt?bt:this}return nt.apply(h,H.concat(K.call(arguments)))},It=Math.max(0,nt.length-H.length),At=[],xt=0;xt<It;xt++)At.push("$"+xt);if(st=Function("binder","return function ("+At.join(",")+"){ return binder.apply(this,arguments); }")(ct),nt.prototype){var mt=function(){};mt.prototype=nt.prototype,st.prototype=new mt,mt.prototype=null}return st}},5396:(Rt,yt,K)=>{"use strict";var q=K(1609);Rt.exports=Function.prototype.bind||q},9331:(Rt,yt,K)=>{var q=K(2978),Q=function(H){this.precision=H&&H.precision?H.precision:17,this.direction=!(!H||!H.direction)&&H.direction,this.pseudoNode=!(!H||!H.pseudoNode)&&H.pseudoNode,this.objectComparator=H&&H.objectComparator?H.objectComparator:nt};function P(H){return H.coordinates.map(function(st){return{type:H.type.replace("Multi",""),coordinates:st}})}function h(H,st){return H.hasOwnProperty("coordinates")?H.coordinates.length===st.coordinates.length:H.length===st.length}function nt(H,st){return q(H,st,{strict:!0})}Q.prototype.compare=function(H,st){if(H.type!==st.type||!h(H,st))return!1;switch(H.type){case"Point":return this.compareCoord(H.coordinates,st.coordinates);case"LineString":return this.compareLine(H.coordinates,st.coordinates,0,!1);case"Polygon":return this.comparePolygon(H,st);case"Feature":return this.compareFeature(H,st);default:if(0===H.type.indexOf("Multi")){var ct=this,It=P(H),At=P(st);return It.every(function(xt){return this.some(function(mt){return ct.compare(xt,mt)})},At)}}return!1},Q.prototype.compareCoord=function(H,st){if(H.length!==st.length)return!1;for(var ct=0;ct<H.length;ct++)if(H[ct].toFixed(this.precision)!==st[ct].toFixed(this.precision))return!1;return!0},Q.prototype.compareLine=function(H,st,ct,It){if(!h(H,st))return!1;var At=this.pseudoNode?H:this.removePseudo(H),xt=this.pseudoNode?st:this.removePseudo(st);if(!It||this.compareCoord(At[0],xt[0])||(xt=this.fixStartIndex(xt,At))){var mt=this.compareCoord(At[ct],xt[ct]);return this.direction||mt?this.comparePath(At,xt):!!this.compareCoord(At[ct],xt[xt.length-(1+ct)])&&this.comparePath(At.slice().reverse(),xt)}},Q.prototype.fixStartIndex=function(H,st){for(var ct,It=-1,At=0;At<H.length;At++)if(this.compareCoord(H[At],st[0])){It=At;break}return It>=0&&(ct=[].concat(H.slice(It,H.length),H.slice(1,It+1))),ct},Q.prototype.comparePath=function(H,st){var ct=this;return H.every(function(It,At){return ct.compareCoord(It,this[At])},st)},Q.prototype.comparePolygon=function(H,st){if(this.compareLine(H.coordinates[0],st.coordinates[0],1,!0)){var ct=H.coordinates.slice(1,H.coordinates.length),It=st.coordinates.slice(1,st.coordinates.length),At=this;return ct.every(function(xt){return this.some(function(mt){return At.compareLine(xt,mt,1,!0)})},It)}return!1},Q.prototype.compareFeature=function(H,st){return!(H.id!==st.id||!this.objectComparator(H.properties,st.properties)||!this.compareBBox(H,st))&&this.compare(H.geometry,st.geometry)},Q.prototype.compareBBox=function(H,st){return!!(!H.bbox&&!st.bbox||H.bbox&&st.bbox&&this.compareCoord(H.bbox,st.bbox))},Q.prototype.removePseudo=function(H){return H},Rt.exports=Q},2689:(Rt,yt,K)=>{var q=K(3036),Q=K(8410),P=K(3033),h=K(185).Z,nt=P.featureEach,ct=Q.featureCollection;function It(At){var xt=new q(At);return xt.insert=function(mt){if("Feature"!==mt.type)throw new Error("invalid feature");return mt.bbox=mt.bbox?mt.bbox:h(mt),q.prototype.insert.call(this,mt)},xt.load=function(mt){var bt=[];return Array.isArray(mt)?mt.forEach(function(qt){if("Feature"!==qt.type)throw new Error("invalid features");qt.bbox=qt.bbox?qt.bbox:h(qt),bt.push(qt)}):nt(mt,function(qt){if("Feature"!==qt.type)throw new Error("invalid features");qt.bbox=qt.bbox?qt.bbox:h(qt),bt.push(qt)}),q.prototype.load.call(this,bt)},xt.remove=function(mt,bt){if("Feature"!==mt.type)throw new Error("invalid feature");return mt.bbox=mt.bbox?mt.bbox:h(mt),q.prototype.remove.call(this,mt,bt)},xt.clear=function(){return q.prototype.clear.call(this)},xt.search=function(mt){var bt=q.prototype.search.call(this,this.toBBox(mt));return ct(bt)},xt.collides=function(mt){return q.prototype.collides.call(this,this.toBBox(mt))},xt.all=function(){var mt=q.prototype.all.call(this);return ct(mt)},xt.toJSON=function(){return q.prototype.toJSON.call(this)},xt.fromJSON=function(mt){return q.prototype.fromJSON.call(this,mt)},xt.toBBox=function(mt){var bt;if(mt.bbox)bt=mt.bbox;else if(Array.isArray(mt)&&4===mt.length)bt=mt;else if(Array.isArray(mt)&&6===mt.length)bt=[mt[0],mt[1],mt[3],mt[4]];else if("Feature"===mt.type)bt=h(mt);else{if("FeatureCollection"!==mt.type)throw new Error("invalid geojson");bt=h(mt)}return{minX:bt[0],minY:bt[1],maxX:bt[2],maxY:bt[3]}},xt}Rt.exports=It,Rt.exports.default=It},8540:(Rt,yt,K)=>{"use strict";var q,Q=SyntaxError,P=Function,h=TypeError,nt=function(J){try{return P('"use strict"; return ('+J+").constructor;")()}catch(W){}},H=Object.getOwnPropertyDescriptor;if(H)try{H({},"")}catch(J){H=null}var st=function(){throw new h},ct=H?function(){try{return st}catch(J){try{return H(arguments,"callee").get}catch(W){return st}}}():st,It=K(9326)(),At=Object.getPrototypeOf||function(J){return J.__proto__},xt={},mt="undefined"==typeof Uint8Array?q:At(Uint8Array),bt={"%AggregateError%":"undefined"==typeof AggregateError?q:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?q:ArrayBuffer,"%ArrayIteratorPrototype%":It?At([][Symbol.iterator]()):q,"%AsyncFromSyncIteratorPrototype%":q,"%AsyncFunction%":xt,"%AsyncGenerator%":xt,"%AsyncGeneratorFunction%":xt,"%AsyncIteratorPrototype%":xt,"%Atomics%":"undefined"==typeof Atomics?q:Atomics,"%BigInt%":"undefined"==typeof BigInt?q:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?q:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?q:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?q:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":xt,"%Int8Array%":"undefined"==typeof Int8Array?q:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?q:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":It?At(At([][Symbol.iterator]())):q,"%JSON%":"object"==typeof JSON?JSON:q,"%Map%":"undefined"==typeof Map?q:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&It?At((new Map)[Symbol.iterator]()):q,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?q:Promise,"%Proxy%":"undefined"==typeof Proxy?q:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?q:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?q:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&It?At((new Set)[Symbol.iterator]()):q,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":It?At(""[Symbol.iterator]()):q,"%Symbol%":It?Symbol:q,"%SyntaxError%":Q,"%ThrowTypeError%":ct,"%TypedArray%":mt,"%TypeError%":h,"%Uint8Array%":"undefined"==typeof Uint8Array?q:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?q:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?q:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?q:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?q:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?q:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?q:WeakSet},qt=function J(W){var R;if("%AsyncFunction%"===W)R=nt("async function () {}");else if("%GeneratorFunction%"===W)R=nt("function* () {}");else if("%AsyncGeneratorFunction%"===W)R=nt("async function* () {}");else if("%AsyncGenerator%"===W){var Ot=J("%AsyncGeneratorFunction%");Ot&&(R=Ot.prototype)}else if("%AsyncIteratorPrototype%"===W){var Nt=J("%AsyncGenerator%");Nt&&(R=At(Nt.prototype))}return bt[W]=R,R},et={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pt=K(5396),b=K(6558),S=pt.call(Function.call,Array.prototype.concat),N=pt.call(Function.apply,Array.prototype.splice),U=pt.call(Function.call,String.prototype.replace),I=pt.call(Function.call,String.prototype.slice),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,w=function(W){var R=I(W,0,1),Ot=I(W,-1);if("%"===R&&"%"!==Ot)throw new Q("invalid intrinsic syntax, expected closing `%`");if("%"===Ot&&"%"!==R)throw new Q("invalid intrinsic syntax, expected opening `%`");var Nt=[];return U(W,M,function(Z,ft,X,at){Nt[Nt.length]=X?U(at,O,"$1"):ft||Z}),Nt},it=function(W,R){var Nt,Ot=W;if(b(et,Ot)&&(Ot="%"+(Nt=et[Ot])[0]+"%"),b(bt,Ot)){var Z=bt[Ot];if(Z===xt&&(Z=qt(Ot)),void 0===Z&&!R)throw new h("intrinsic "+W+" exists, but is not available. Please file an issue!");return{alias:Nt,name:Ot,value:Z}}throw new Q("intrinsic "+W+" does not exist!")};Rt.exports=function(W,R){if("string"!=typeof W||0===W.length)throw new h("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof R)throw new h('"allowMissing" argument must be a boolean');var Ot=w(W),Nt=Ot.length>0?Ot[0]:"",Z=it("%"+Nt+"%",R),ft=Z.name,X=Z.value,at=!1,ut=Z.alias;ut&&(Nt=ut[0],N(Ot,S([0,1],ut)));for(var G=1,Ct=!0;G<Ot.length;G+=1){var Lt=Ot[G],Xt=I(Lt,0,1),Tt=I(Lt,-1);if(('"'===Xt||"'"===Xt||"`"===Xt||'"'===Tt||"'"===Tt||"`"===Tt)&&Xt!==Tt)throw new Q("property names with quotes must have matching quotes");if(("constructor"===Lt||!Ct)&&(at=!0),b(bt,ft="%"+(Nt+="."+Lt)+"%"))X=bt[ft];else if(null!=X){if(!(Lt in X)){if(!R)throw new h("base intrinsic for "+W+" exists, but the property is not available.");return}if(H&&G+1>=Ot.length){var se=H(X,Lt);X=(Ct=!!se)&&"get"in se&&!("originalValue"in se.get)?se.get:X[Lt]}else Ct=b(X,Lt),X=X[Lt];Ct&&!at&&(bt[ft]=X)}}return X}},9326:(Rt,yt,K)=>{"use strict";var q="undefined"!=typeof Symbol&&Symbol,Q=K(9045);Rt.exports=function(){return"function"==typeof q&&"function"==typeof Symbol&&"symbol"==typeof q("foo")&&"symbol"==typeof Symbol("bar")&&Q()}},9045:Rt=>{"use strict";Rt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var K={},q=Symbol("test"),Q=Object(q);if("string"==typeof q||"[object Symbol]"!==Object.prototype.toString.call(q)||"[object Symbol]"!==Object.prototype.toString.call(Q))return!1;for(q in K[q]=42,K)return!1;if("function"==typeof Object.keys&&0!==Object.keys(K).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(K).length)return!1;var h=Object.getOwnPropertySymbols(K);if(1!==h.length||h[0]!==q||!Object.prototype.propertyIsEnumerable.call(K,q))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var nt=Object.getOwnPropertyDescriptor(K,q);if(42!==nt.value||!0!==nt.enumerable)return!1}return!0}},1407:(Rt,yt,K)=>{"use strict";var q=K(9045);Rt.exports=function(){return q()&&!!Symbol.toStringTag}},6558:(Rt,yt,K)=>{"use strict";var q=K(5396);Rt.exports=q.call(Function.call,Object.prototype.hasOwnProperty)},7316:(Rt,yt,K)=>{"use strict";var q=K(1407)(),P=K(9568)("Object.prototype.toString"),h=function(ct){return!(q&&ct&&"object"==typeof ct&&Symbol.toStringTag in ct)&&"[object Arguments]"===P(ct)},nt=function(ct){return!!h(ct)||null!==ct&&"object"==typeof ct&&"number"==typeof ct.length&&ct.length>=0&&"[object Array]"!==P(ct)&&"[object Function]"===P(ct.callee)},H=function(){return h(arguments)}();h.isLegacyArguments=nt,Rt.exports=H?h:nt},3105:(Rt,yt,K)=>{"use strict";var q=Date.prototype.getDay,P=Object.prototype.toString,nt=K(1407)();Rt.exports=function(st){return"object"==typeof st&&null!==st&&(nt?function(st){try{return q.call(st),!0}catch(ct){return!1}}(st):"[object Date]"===P.call(st))}},5544:(Rt,yt,K)=>{"use strict";var P,h,nt,H,q=K(9568),Q=K(1407)();if(Q){P=q("Object.prototype.hasOwnProperty"),h=q("RegExp.prototype.exec"),nt={};var st=function(){throw nt};H={toString:st,valueOf:st},"symbol"==typeof Symbol.toPrimitive&&(H[Symbol.toPrimitive]=st)}var ct=q("Object.prototype.toString"),It=Object.getOwnPropertyDescriptor;Rt.exports=Q?function(mt){if(!mt||"object"!=typeof mt)return!1;var bt=It(mt,"lastIndex");if(!bt||!P(bt,"value"))return!1;try{h(mt,H)}catch(et){return et===nt}}:function(mt){return!(!mt||"object"!=typeof mt&&"function"!=typeof mt)&&"[object RegExp]"===ct(mt)}},8228:Rt=>{"use strict";var yt=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;function Q(h){if(null==h)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}Rt.exports=function(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de","5"===Object.getOwnPropertyNames(h)[0])return!1;for(var nt={},H=0;H<10;H++)nt["_"+String.fromCharCode(H)]=H;if("0123456789"!==Object.getOwnPropertyNames(nt).map(function(It){return nt[It]}).join(""))return!1;var ct={};return"abcdefghijklmnopqrst".split("").forEach(function(It){ct[It]=It}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},ct)).join("")}catch(It){return!1}}()?Object.assign:function(h,nt){for(var H,ct,st=Q(h),It=1;It<arguments.length;It++){for(var At in H=Object(arguments[It]))K.call(H,At)&&(st[At]=H[At]);if(yt){ct=yt(H);for(var xt=0;xt<ct.length;xt++)q.call(H,ct[xt])&&(st[ct[xt]]=H[ct[xt]])}}return st}},7859:Rt=>{"use strict";var yt=function(K){return K!=K};Rt.exports=function(q,Q){return 0===q&&0===Q?1/q==1/Q:!!(q===Q||yt(q)&&yt(Q))}},4269:(Rt,yt,K)=>{"use strict";var q=K(6886),Q=K(44),P=K(7859),h=K(8593),nt=K(6343),H=Q(h(),Object);q(H,{getPolyfill:h,implementation:P,shim:nt}),Rt.exports=H},8593:(Rt,yt,K)=>{"use strict";var q=K(7859);Rt.exports=function(){return"function"==typeof Object.is?Object.is:q}},6343:(Rt,yt,K)=>{"use strict";var q=K(8593),Q=K(6886);Rt.exports=function(){var h=q();return Q(Object,{is:h},{is:function(){return Object.is!==h}}),h}},6068:(Rt,yt,K)=>{"use strict";var q;if(!Object.keys){var Q=Object.prototype.hasOwnProperty,P=Object.prototype.toString,h=K(2666),nt=Object.prototype.propertyIsEnumerable,H=!nt.call({toString:null},"toString"),st=nt.call(function(){},"prototype"),ct=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],It=function(bt){var qt=bt.constructor;return qt&&qt.prototype===bt},At={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},xt=function(){if("undefined"==typeof window)return!1;for(var bt in window)try{if(!At["$"+bt]&&Q.call(window,bt)&&null!==window[bt]&&"object"==typeof window[bt])try{It(window[bt])}catch(qt){return!0}}catch(qt){return!0}return!1}();q=function(qt){var et=null!==qt&&"object"==typeof qt,pt="[object Function]"===P.call(qt),b=h(qt),S=et&&"[object String]"===P.call(qt),N=[];if(!et&&!pt&&!b)throw new TypeError("Object.keys called on a non-object");var U=st&&pt;if(S&&qt.length>0&&!Q.call(qt,0))for(var I=0;I<qt.length;++I)N.push(String(I));if(b&&qt.length>0)for(var M=0;M<qt.length;++M)N.push(String(M));else for(var O in qt)(!U||"prototype"!==O)&&Q.call(qt,O)&&N.push(String(O));if(H)for(var w=function(bt){if("undefined"==typeof window||!xt)return It(bt);try{return It(bt)}catch(qt){return!1}}(qt),it=0;it<ct.length;++it)(!w||"constructor"!==ct[it])&&Q.call(qt,ct[it])&&N.push(ct[it]);return N}}Rt.exports=q},8507:(Rt,yt,K)=>{"use strict";var q=Array.prototype.slice,Q=K(2666),P=Object.keys,h=P?function(st){return P(st)}:K(6068),nt=Object.keys;h.shim=function(){return Object.keys?function(){var ct=Object.keys(arguments);return ct&&ct.length===arguments.length}(1,2)||(Object.keys=function(It){return Q(It)?nt(q.call(It)):nt(It)}):Object.keys=h,Object.keys||h},Rt.exports=h},2666:Rt=>{"use strict";var yt=Object.prototype.toString;Rt.exports=function(q){var Q=yt.call(q),P="[object Arguments]"===Q;return P||(P="[object Array]"!==Q&&null!==q&&"object"==typeof q&&"number"==typeof q.length&&q.length>=0&&"[object Function]"===yt.call(q.callee)),P}},5751:Rt=>{Rt.exports=function(K,q,Q,P){var h=K[0],nt=K[1],H=!1;void 0===Q&&(Q=0),void 0===P&&(P=q.length);for(var st=(P-Q)/2,ct=0,It=st-1;ct<st;It=ct++){var At=q[Q+2*ct+0],xt=q[Q+2*ct+1],bt=q[Q+2*It+1];xt>nt!=bt>nt&&h<(q[Q+2*It+0]-At)*(nt-xt)/(bt-xt)+At&&(H=!H)}return H}},5503:(Rt,yt,K)=>{var q=K(5751),Q=K(5891);Rt.exports=function(h,nt,H,st){return nt.length>0&&Array.isArray(nt[0])?Q(h,nt,H,st):q(h,nt,H,st)},Rt.exports.nested=Q,Rt.exports.flat=q},5891:Rt=>{Rt.exports=function(K,q,Q,P){var h=K[0],nt=K[1],H=!1;void 0===Q&&(Q=0),void 0===P&&(P=q.length);for(var st=P-Q,ct=0,It=st-1;ct<st;It=ct++){var At=q[ct+Q][0],xt=q[ct+Q][1],bt=q[It+Q][1];xt>nt!=bt>nt&&h<(q[It+Q][0]-At)*(nt-xt)/(bt-xt)+At&&(H=!H)}return H}},171:function(Rt){Rt.exports=function(){"use strict";function yt(dt,D){if(!(dt instanceof D))throw new TypeError("Cannot call a class as a function")}function K(dt,D){for(var A=0;A<D.length;A++){var L=D[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(dt,L.key,L)}}function q(dt,D,A){return D&&K(dt.prototype,D),A&&K(dt,A),dt}var Q=function(D,A){this.next=null,this.key=D,this.data=A,this.left=null,this.right=null};function P(dt,D){return dt>D?1:dt<D?-1:0}function h(dt,D,A){for(var L=new Q(null,null),V=L,lt=L;;){var wt=A(dt,D.key);if(wt<0){if(null===D.left)break;if(A(dt,D.left.key)<0&&(D.left=(Dt=D.left).right,Dt.right=D,null===(D=Dt).left))break;lt.left=D,lt=D,D=D.left}else{if(!(wt>0))break;if(null===D.right)break;var Dt;if(A(dt,D.right.key)>0&&(D.right=(Dt=D.right).left,Dt.left=D,null===(D=Dt).right))break;V.right=D,V=D,D=D.right}}return V.right=D.left,lt.left=D.right,D.left=L.right,D.right=L.left,D}function nt(dt,D,A,L){var V=new Q(dt,D);if(null===A)return V.left=V.right=null,V;var lt=L(dt,(A=h(dt,A,L)).key);return lt<0?(V.left=A.left,V.right=A,A.left=null):lt>=0&&(V.right=A.right,V.left=A,A.right=null),V}function H(dt,D,A){var L=null,V=null;if(D){var lt=A((D=h(dt,D,A)).key,dt);0===lt?(L=D.left,V=D.right):lt<0?(V=D.right,D.right=null,L=D):(L=D.left,D.left=null,V=D)}return{left:L,right:V}}function ct(dt,D,A,L,V){if(dt){L(D+(A?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+V(dt)+"\n");var lt=D+(A?"    ":"\u2502   ");dt.left&&ct(dt.left,lt,!1,L,V),dt.right&&ct(dt.right,lt,!0,L,V)}}var It=function(){function dt(D){void 0===D&&(D=P),this._root=null,this._size=0,this._comparator=D}return dt.prototype.insert=function(D,A){return this._size++,this._root=nt(D,A,this._root,this._comparator)},dt.prototype.add=function(D,A){var L=new Q(D,A);null===this._root&&(L.left=L.right=null,this._size++,this._root=L);var V=this._comparator,lt=h(D,this._root,V),wt=V(D,lt.key);return 0===wt?this._root=lt:(wt<0?(L.left=lt.left,L.right=lt,lt.left=null):wt>0&&(L.right=lt.right,L.left=lt,lt.right=null),this._size++,this._root=L),this._root},dt.prototype.remove=function(D){this._root=this._remove(D,this._root,this._comparator)},dt.prototype._remove=function(D,A,L){var V;return null===A?null:0===L(D,(A=h(D,A,L)).key)?(null===A.left?V=A.right:(V=h(D,A.left,L)).right=A.right,this._size--,V):A},dt.prototype.pop=function(){var D=this._root;if(D){for(;D.left;)D=D.left;return this._root=h(D.key,this._root,this._comparator),this._root=this._remove(D.key,this._root,this._comparator),{key:D.key,data:D.data}}return null},dt.prototype.findStatic=function(D){for(var A=this._root,L=this._comparator;A;){var V=L(D,A.key);if(0===V)return A;A=V<0?A.left:A.right}return null},dt.prototype.find=function(D){return this._root&&(this._root=h(D,this._root,this._comparator),0!==this._comparator(D,this._root.key))?null:this._root},dt.prototype.contains=function(D){for(var A=this._root,L=this._comparator;A;){var V=L(D,A.key);if(0===V)return!0;A=V<0?A.left:A.right}return!1},dt.prototype.forEach=function(D,A){for(var L=this._root,V=[],lt=!1;!lt;)null!==L?(V.push(L),L=L.left):0!==V.length?(L=V.pop(),D.call(A,L),L=L.right):lt=!0;return this},dt.prototype.range=function(D,A,L,V){for(var lt=[],wt=this._comparator,Dt=this._root;0!==lt.length||Dt;)if(Dt)lt.push(Dt),Dt=Dt.left;else{if(wt((Dt=lt.pop()).key,A)>0)break;if(wt(Dt.key,D)>=0&&L.call(V,Dt))return this;Dt=Dt.right}return this},dt.prototype.keys=function(){var D=[];return this.forEach(function(A){return D.push(A.key)}),D},dt.prototype.values=function(){var D=[];return this.forEach(function(A){return D.push(A.data)}),D},dt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},dt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},dt.prototype.minNode=function(D){if(void 0===D&&(D=this._root),D)for(;D.left;)D=D.left;return D},dt.prototype.maxNode=function(D){if(void 0===D&&(D=this._root),D)for(;D.right;)D=D.right;return D},dt.prototype.at=function(D){for(var A=this._root,L=!1,V=0,lt=[];!L;)if(A)lt.push(A),A=A.left;else if(lt.length>0){if(A=lt.pop(),V===D)return A;V++,A=A.right}else L=!0;return null},dt.prototype.next=function(D){var A=this._root,L=null;if(D.right){for(L=D.right;L.left;)L=L.left;return L}for(var V=this._comparator;A;){var lt=V(D.key,A.key);if(0===lt)break;lt<0?(L=A,A=A.left):A=A.right}return L},dt.prototype.prev=function(D){var A=this._root,L=null;if(null!==D.left){for(L=D.left;L.right;)L=L.right;return L}for(var V=this._comparator;A;){var lt=V(D.key,A.key);if(0===lt)break;lt<0?A=A.left:(L=A,A=A.right)}return L},dt.prototype.clear=function(){return this._root=null,this._size=0,this},dt.prototype.toList=function(){return function(dt){for(var D=dt,A=[],L=!1,V=new Q(null,null),lt=V;!L;)D?(A.push(D),D=D.left):A.length>0?D=(D=lt=lt.next=A.pop()).right:L=!0;return lt.next=null,V.next}(this._root)},dt.prototype.load=function(D,A,L){void 0===A&&(A=[]),void 0===L&&(L=!1);var V=D.length,lt=this._comparator;if(L&&et(D,A,0,V-1,lt),null===this._root)this._root=At(D,A,0,V),this._size=V;else{var wt=function(dt,D,A){for(var L=new Q(null,null),V=L,lt=dt,wt=D;null!==lt&&null!==wt;)A(lt.key,wt.key)<0?(V.next=lt,lt=lt.next):(V.next=wt,wt=wt.next),V=V.next;return null!==lt?V.next=lt:null!==wt&&(V.next=wt),L.next}(this.toList(),function(dt,D){for(var A=new Q(null,null),L=A,V=0;V<dt.length;V++)L=L.next=new Q(dt[V],D[V]);return L.next=null,A.next}(D,A),lt);this._root=bt({head:wt},0,V=this._size+V)}return this},dt.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(dt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(dt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),dt.prototype.toString=function(D){void 0===D&&(D=function(V){return String(V.key)});var A=[];return ct(this._root,"",!0,function(L){return A.push(L)},D),A.join("")},dt.prototype.update=function(D,A,L){var V=this._comparator,lt=H(D,this._root,V),wt=lt.left,Dt=lt.right;V(D,A)<0?Dt=nt(A,L,Dt,V):wt=nt(A,L,wt,V),this._root=function(dt,D,A){return null===D?dt:(null===dt||((D=h(dt.key,D,A)).left=dt),D)}(wt,Dt,V)},dt.prototype.split=function(D){return H(D,this._root,this._comparator)},dt}();function At(dt,D,A,L){var V=L-A;if(V>0){var lt=A+Math.floor(V/2),Ft=new Q(dt[lt],D[lt]);return Ft.left=At(dt,D,A,lt),Ft.right=At(dt,D,lt+1,L),Ft}return null}function bt(dt,D,A){var L=A-D;if(L>0){var V=D+Math.floor(L/2),lt=bt(dt,D,V),wt=dt.head;return wt.left=lt,dt.head=dt.head.next,wt.right=bt(dt,V+1,A),wt}return null}function et(dt,D,A,L,V){if(!(A>=L)){for(var lt=dt[A+L>>1],wt=A-1,Dt=L+1;;){do{wt++}while(V(dt[wt],lt)<0);do{Dt--}while(V(dt[Dt],lt)>0);if(wt>=Dt)break;var Ft=dt[wt];dt[wt]=dt[Dt],dt[Dt]=Ft,Ft=D[wt],D[wt]=D[Dt],D[Dt]=Ft}et(dt,D,A,Dt,V),et(dt,D,Dt+1,L,V)}}var pt=function(D,A){return D.ll.x<=A.x&&A.x<=D.ur.x&&D.ll.y<=A.y&&A.y<=D.ur.y},b=function(D,A){return A.ur.x<D.ll.x||D.ur.x<A.ll.x||A.ur.y<D.ll.y||D.ur.y<A.ll.y?null:{ll:{x:D.ll.x<A.ll.x?A.ll.x:D.ll.x,y:D.ll.y<A.ll.y?A.ll.y:D.ll.y},ur:{x:D.ur.x<A.ur.x?D.ur.x:A.ur.x,y:D.ur.y<A.ur.y?D.ur.y:A.ur.y}}},S=Number.EPSILON;void 0===S&&(S=Math.pow(2,-52));var N=S*S,U=function(D,A){if(-S<D&&D<S&&-S<A&&A<S)return 0;var L=D-A;return L*L<N*D*A?0:D<A?-1:1},I=function(){function dt(){yt(this,dt),this.reset()}return q(dt,[{key:"reset",value:function(){this.xRounder=new M,this.yRounder=new M}},{key:"round",value:function(A,L){return{x:this.xRounder.round(A),y:this.yRounder.round(L)}}}]),dt}(),M=function(){function dt(){yt(this,dt),this.tree=new It,this.round(0)}return q(dt,[{key:"round",value:function(A){var L=this.tree.add(A),V=this.tree.prev(L);if(null!==V&&0===U(L.key,V.key))return this.tree.remove(A),V.key;var lt=this.tree.next(L);return null!==lt&&0===U(L.key,lt.key)?(this.tree.remove(A),lt.key):A}}]),dt}(),O=new I,w=function(D,A){return D.x*A.y-D.y*A.x},it=function(D,A){return D.x*A.x+D.y*A.y},J=function(D,A,L){var wt=w({x:A.x-D.x,y:A.y-D.y},{x:L.x-D.x,y:L.y-D.y});return U(wt,0)},W=function(D){return Math.sqrt(it(D,D))},R=function(D,A,L){var V={x:A.x-D.x,y:A.y-D.y},lt={x:L.x-D.x,y:L.y-D.y};return w(lt,V)/W(lt)/W(V)},Ot=function(D,A,L){var V={x:A.x-D.x,y:A.y-D.y},lt={x:L.x-D.x,y:L.y-D.y};return it(lt,V)/W(lt)/W(V)},Nt=function(D,A,L){return 0===A.y?null:{x:D.x+A.x/A.y*(L-D.y),y:L}},Z=function(D,A,L){return 0===A.x?null:{x:L,y:D.y+A.y/A.x*(L-D.x)}},X=function(){function dt(D,A){yt(this,dt),void 0===D.events?D.events=[this]:D.events.push(this),this.point=D,this.isLeft=A}return q(dt,null,[{key:"compare",value:function(A,L){var V=dt.comparePoints(A.point,L.point);return 0!==V?V:(A.point!==L.point&&A.link(L),A.isLeft!==L.isLeft?A.isLeft?1:-1:ut.compare(A.segment,L.segment))}},{key:"comparePoints",value:function(A,L){return A.x<L.x?-1:A.x>L.x?1:A.y<L.y?-1:A.y>L.y?1:0}}]),q(dt,[{key:"link",value:function(A){if(A.point===this.point)throw new Error("Tried to link already linked events");for(var L=A.point.events,V=0,lt=L.length;V<lt;V++){var wt=L[V];this.point.events.push(wt),wt.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var A=this.point.events.length,L=0;L<A;L++){var V=this.point.events[L];if(void 0===V.segment.consumedBy)for(var lt=L+1;lt<A;lt++){var wt=this.point.events[lt];void 0===wt.consumedBy&&V.otherSE.point.events===wt.otherSE.point.events&&V.segment.consume(wt.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var A=[],L=0,V=this.point.events.length;L<V;L++){var lt=this.point.events[L];lt!==this&&!lt.segment.ringOut&&lt.segment.isInResult()&&A.push(lt)}return A}},{key:"getLeftmostComparator",value:function(A){var L=this,V=new Map,lt=function(Dt){var Ft=Dt.otherSE;V.set(Dt,{sine:R(L.point,A.point,Ft.point),cosine:Ot(L.point,A.point,Ft.point)})};return function(wt,Dt){V.has(wt)||lt(wt),V.has(Dt)||lt(Dt);var Ft=V.get(wt),Mt=Ft.sine,ae=Ft.cosine,de=V.get(Dt),Zt=de.sine,ye=de.cosine;return Mt>=0&&Zt>=0?ae<ye?1:ae>ye?-1:0:Mt<0&&Zt<0?ae<ye?-1:ae>ye?1:0:Zt<Mt?-1:Zt>Mt?1:0}}}]),dt}(),at=0,ut=function(){function dt(D,A,L,V){yt(this,dt),this.id=++at,this.leftSE=D,D.segment=this,D.otherSE=A,this.rightSE=A,A.segment=this,A.otherSE=D,this.rings=L,this.windings=V}return q(dt,null,[{key:"compare",value:function(A,L){var V=A.leftSE.point.x,lt=L.leftSE.point.x,wt=A.rightSE.point.x,Dt=L.rightSE.point.x;if(Dt<V)return 1;if(wt<lt)return-1;var Ft=A.leftSE.point.y,Mt=L.leftSE.point.y,ae=A.rightSE.point.y,de=L.rightSE.point.y;if(V<lt){if(Mt<Ft&&Mt<ae)return 1;if(Mt>Ft&&Mt>ae)return-1;var Zt=A.comparePoint(L.leftSE.point);if(Zt<0)return 1;if(Zt>0)return-1;var ye=L.comparePoint(A.rightSE.point);return 0!==ye?ye:-1}if(V>lt){if(Ft<Mt&&Ft<de)return-1;if(Ft>Mt&&Ft>de)return 1;var vn=L.comparePoint(A.leftSE.point);if(0!==vn)return vn;var we=A.comparePoint(L.rightSE.point);return we<0?1:we>0?-1:1}if(Ft<Mt)return-1;if(Ft>Mt)return 1;if(wt<Dt){var be=L.comparePoint(A.rightSE.point);if(0!==be)return be}if(wt>Dt){var yn=A.comparePoint(L.rightSE.point);if(yn<0)return 1;if(yn>0)return-1}if(wt!==Dt){var Dn=ae-Ft,nr=wt-V,Tn=de-Mt,vr=Dt-lt;if(Dn>nr&&Tn<vr)return 1;if(Dn<nr&&Tn>vr)return-1}return wt>Dt?1:wt<Dt||ae<de?-1:ae>de?1:A.id<L.id?-1:A.id>L.id?1:0}}]),q(dt,[{key:"replaceRightSE",value:function(A){this.rightSE=A,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var A=this.leftSE.point.y,L=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:A<L?A:L},ur:{x:this.rightSE.point.x,y:A>L?A:L}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(A){return A.x===this.leftSE.point.x&&A.y===this.leftSE.point.y||A.x===this.rightSE.point.x&&A.y===this.rightSE.point.y}},{key:"comparePoint",value:function(A){if(this.isAnEndpoint(A))return 0;var L=this.leftSE.point,V=this.rightSE.point,lt=this.vector();if(L.x===V.x)return A.x===L.x?0:A.x<L.x?1:-1;if(A.x===L.x+(A.y-L.y)/lt.y*lt.x)return 0;var Mt=L.y+(A.x-L.x)/lt.x*lt.y;return A.y===Mt?0:A.y<Mt?-1:1}},{key:"getIntersection",value:function(A){var L=this.bbox(),V=A.bbox(),lt=b(L,V);if(null===lt)return null;var wt=this.leftSE.point,Dt=this.rightSE.point,Ft=A.leftSE.point,Mt=A.rightSE.point,ae=pt(L,Ft)&&0===this.comparePoint(Ft),de=pt(V,wt)&&0===A.comparePoint(wt),Zt=pt(L,Mt)&&0===this.comparePoint(Mt),ye=pt(V,Dt)&&0===A.comparePoint(Dt);if(de&&ae)return ye&&!Zt?Dt:!ye&&Zt?Mt:null;if(de)return Zt&&wt.x===Mt.x&&wt.y===Mt.y?null:wt;if(ae)return ye&&Dt.x===Ft.x&&Dt.y===Ft.y?null:Ft;if(ye&&Zt)return null;if(ye)return Dt;if(Zt)return Mt;var vn=function(D,A,L,V){if(0===A.x)return Z(L,V,D.x);if(0===V.x)return Z(D,A,L.x);if(0===A.y)return Nt(L,V,D.y);if(0===V.y)return Nt(D,A,L.y);var lt=w(A,V);if(0==lt)return null;var wt={x:L.x-D.x,y:L.y-D.y},Dt=w(wt,A)/lt,Ft=w(wt,V)/lt;return{x:(D.x+Ft*A.x+(L.x+Dt*V.x))/2,y:(D.y+Ft*A.y+(L.y+Dt*V.y))/2}}(wt,this.vector(),Ft,A.vector());return null!==vn&&pt(lt,vn)?O.round(vn.x,vn.y):null}},{key:"split",value:function(A){var L=[],V=void 0!==A.events,lt=new X(A,!0),wt=new X(A,!1),Dt=this.rightSE;this.replaceRightSE(wt),L.push(wt),L.push(lt);var Ft=new dt(lt,Dt,this.rings.slice(),this.windings.slice());return X.comparePoints(Ft.leftSE.point,Ft.rightSE.point)>0&&Ft.swapEvents(),X.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),V&&(lt.checkForConsuming(),wt.checkForConsuming()),L}},{key:"swapEvents",value:function(){var A=this.rightSE;this.rightSE=this.leftSE,this.leftSE=A,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var L=0,V=this.windings.length;L<V;L++)this.windings[L]*=-1}},{key:"consume",value:function(A){for(var L=this,V=A;L.consumedBy;)L=L.consumedBy;for(;V.consumedBy;)V=V.consumedBy;var lt=dt.compare(L,V);if(0!==lt){if(lt>0){var wt=L;L=V,V=wt}if(L.prev===V){var Dt=L;L=V,V=Dt}for(var Ft=0,Mt=V.rings.length;Ft<Mt;Ft++){var ae=V.rings[Ft],de=V.windings[Ft],Zt=L.rings.indexOf(ae);-1===Zt?(L.rings.push(ae),L.windings.push(de)):L.windings[Zt]+=de}V.rings=null,V.windings=null,V.consumedBy=L,V.leftSE.consumedBy=L.leftSE,V.rightSE.consumedBy=L.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var A=this.beforeState();this._afterState={rings:A.rings.slice(0),windings:A.windings.slice(0),multiPolys:[]};for(var L=this._afterState.rings,V=this._afterState.windings,lt=this._afterState.multiPolys,wt=0,Dt=this.rings.length;wt<Dt;wt++){var Ft=this.rings[wt],Mt=this.windings[wt],ae=L.indexOf(Ft);-1===ae?(L.push(Ft),V.push(Mt)):V[ae]+=Mt}for(var de=[],Zt=[],ye=0,vn=L.length;ye<vn;ye++)if(0!==V[ye]){var we=L[ye],be=we.poly;if(-1===Zt.indexOf(be))if(we.isExterior)de.push(be);else{-1===Zt.indexOf(be)&&Zt.push(be);var yn=de.indexOf(we.poly);-1!==yn&&de.splice(yn,1)}}for(var Dn=0,nr=de.length;Dn<nr;Dn++){var Tn=de[Dn].multiPoly;-1===lt.indexOf(Tn)&&lt.push(Tn)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var A=this.beforeState().multiPolys,L=this.afterState().multiPolys;switch(Gt.type){case"union":this._isInResult=0===A.length!=(0===L.length);break;case"intersection":var wt,Dt;A.length<L.length?(wt=A.length,Dt=L.length):(wt=L.length,Dt=A.length),this._isInResult=Dt===Gt.numMultiPolys&&wt<Dt;break;case"xor":var Ft=Math.abs(A.length-L.length);this._isInResult=Ft%2==1;break;case"difference":var Mt=function(de){return 1===de.length&&de[0].isSubject};this._isInResult=Mt(A)!==Mt(L);break;default:throw new Error("Unrecognized operation type found ".concat(Gt.type))}return this._isInResult}}],[{key:"fromRing",value:function(A,L,V){var lt,wt,Dt,Ft=X.comparePoints(A,L);if(Ft<0)lt=A,wt=L,Dt=1;else{if(!(Ft>0))throw new Error("Tried to create degenerate segment at [".concat(A.x,", ").concat(A.y,"]"));lt=L,wt=A,Dt=-1}return new dt(new X(lt,!0),new X(wt,!1),[V],[Dt])}}]),dt}(),G=function(){function dt(D,A,L){if(yt(this,dt),!Array.isArray(D)||0===D.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=A,this.isExterior=L,this.segments=[],"number"!=typeof D[0][0]||"number"!=typeof D[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var V=O.round(D[0][0],D[0][1]);this.bbox={ll:{x:V.x,y:V.y},ur:{x:V.x,y:V.y}};for(var lt=V,wt=1,Dt=D.length;wt<Dt;wt++){if("number"!=typeof D[wt][0]||"number"!=typeof D[wt][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ft=O.round(D[wt][0],D[wt][1]);Ft.x===lt.x&&Ft.y===lt.y||(this.segments.push(ut.fromRing(lt,Ft,this)),Ft.x<this.bbox.ll.x&&(this.bbox.ll.x=Ft.x),Ft.y<this.bbox.ll.y&&(this.bbox.ll.y=Ft.y),Ft.x>this.bbox.ur.x&&(this.bbox.ur.x=Ft.x),Ft.y>this.bbox.ur.y&&(this.bbox.ur.y=Ft.y),lt=Ft)}(V.x!==lt.x||V.y!==lt.y)&&this.segments.push(ut.fromRing(lt,V,this))}return q(dt,[{key:"getSweepEvents",value:function(){for(var A=[],L=0,V=this.segments.length;L<V;L++){var lt=this.segments[L];A.push(lt.leftSE),A.push(lt.rightSE)}return A}}]),dt}(),Ct=function(){function dt(D,A){if(yt(this,dt),!Array.isArray(D))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new G(D[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var L=1,V=D.length;L<V;L++){var lt=new G(D[L],this,!1);lt.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=lt.bbox.ll.x),lt.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=lt.bbox.ll.y),lt.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=lt.bbox.ur.x),lt.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=lt.bbox.ur.y),this.interiorRings.push(lt)}this.multiPoly=A}return q(dt,[{key:"getSweepEvents",value:function(){for(var A=this.exteriorRing.getSweepEvents(),L=0,V=this.interiorRings.length;L<V;L++)for(var lt=this.interiorRings[L].getSweepEvents(),wt=0,Dt=lt.length;wt<Dt;wt++)A.push(lt[wt]);return A}}]),dt}(),Lt=function(){function dt(D,A){if(yt(this,dt),!Array.isArray(D))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof D[0][0][0]&&(D=[D])}catch(wt){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var L=0,V=D.length;L<V;L++){var lt=new Ct(D[L],this);lt.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=lt.bbox.ll.x),lt.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=lt.bbox.ll.y),lt.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=lt.bbox.ur.x),lt.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=lt.bbox.ur.y),this.polys.push(lt)}this.isSubject=A}return q(dt,[{key:"getSweepEvents",value:function(){for(var A=[],L=0,V=this.polys.length;L<V;L++)for(var lt=this.polys[L].getSweepEvents(),wt=0,Dt=lt.length;wt<Dt;wt++)A.push(lt[wt]);return A}}]),dt}(),Xt=function(){function dt(D){yt(this,dt),this.events=D;for(var A=0,L=D.length;A<L;A++)D[A].segment.ringOut=this;this.poly=null}return q(dt,null,[{key:"factory",value:function(A){for(var L=[],V=0,lt=A.length;V<lt;V++){var wt=A[V];if(wt.isInResult()&&!wt.ringOut){for(var Dt=null,Ft=wt.leftSE,Mt=wt.rightSE,ae=[Ft],de=Ft.point,Zt=[];Dt=Ft,ae.push(Ft=Mt),Ft.point!==de;)for(;;){var ye=Ft.getAvailableLinkedEvents();if(0===ye.length){var vn=ae[0].point,we=ae[ae.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(vn.x,",")+" ".concat(vn.y,"]. Last matching segment found ends at")+" [".concat(we.x,", ").concat(we.y,"]."))}if(1===ye.length){Mt=ye[0].otherSE;break}for(var be=null,yn=0,Dn=Zt.length;yn<Dn;yn++)if(Zt[yn].point===Ft.point){be=yn;break}if(null===be){Zt.push({index:ae.length,point:Ft.point});var vr=Ft.getLeftmostComparator(Dt);Mt=ye.sort(vr)[0].otherSE;break}var nr=Zt.splice(be)[0],Tn=ae.splice(nr.index);Tn.unshift(Tn[0].otherSE),L.push(new dt(Tn.reverse()))}L.push(new dt(ae))}}return L}}]),q(dt,[{key:"getGeom",value:function(){for(var A=this.events[0].point,L=[A],V=1,lt=this.events.length-1;V<lt;V++){var wt=this.events[V].point;0!==J(wt,A,this.events[V+1].point)&&(L.push(wt),A=wt)}if(1===L.length)return null;0===J(L[0],A,L[1])&&L.shift(),L.push(L[0]);for(var ae=this.isExteriorRing()?1:-1,de=this.isExteriorRing()?0:L.length-1,Zt=this.isExteriorRing()?L.length:-1,ye=[],vn=de;vn!=Zt;vn+=ae)ye.push([L[vn].x,L[vn].y]);return ye}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var A=this.enclosingRing();this._isExteriorRing=!A||!A.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var A=this.events[0],L=1,V=this.events.length;L<V;L++){var lt=this.events[L];X.compare(A,lt)>0&&(A=lt)}for(var wt=A.segment.prevInResult(),Dt=wt?wt.prevInResult():null;;){if(!wt)return null;if(!Dt)return wt.ringOut;if(Dt.ringOut!==wt.ringOut)return Dt.ringOut.enclosingRing()!==wt.ringOut?wt.ringOut:wt.ringOut.enclosingRing();wt=Dt.prevInResult(),Dt=wt?wt.prevInResult():null}}}]),dt}(),Tt=function(){function dt(D){yt(this,dt),this.exteriorRing=D,D.poly=this,this.interiorRings=[]}return q(dt,[{key:"addInterior",value:function(A){this.interiorRings.push(A),A.poly=this}},{key:"getGeom",value:function(){var A=[this.exteriorRing.getGeom()];if(null===A[0])return null;for(var L=0,V=this.interiorRings.length;L<V;L++){var lt=this.interiorRings[L].getGeom();null!==lt&&A.push(lt)}return A}}]),dt}(),se=function(){function dt(D){yt(this,dt),this.rings=D,this.polys=this._composePolys(D)}return q(dt,[{key:"getGeom",value:function(){for(var A=[],L=0,V=this.polys.length;L<V;L++){var lt=this.polys[L].getGeom();null!==lt&&A.push(lt)}return A}},{key:"_composePolys",value:function(A){for(var L=[],V=0,lt=A.length;V<lt;V++){var wt=A[V];if(!wt.poly)if(wt.isExteriorRing())L.push(new Tt(wt));else{var Dt=wt.enclosingRing();Dt.poly||L.push(new Tt(Dt)),Dt.poly.addInterior(wt)}}return L}}]),dt}(),pe=function(){function dt(D){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.compare;yt(this,dt),this.queue=D,this.tree=new It(A),this.segments=[]}return q(dt,[{key:"process",value:function(A){var L=A.segment,V=[];if(A.consumedBy)return A.isLeft?this.queue.remove(A.otherSE):this.tree.remove(L),V;var lt=A.isLeft?this.tree.insert(L):this.tree.find(L);if(!lt)throw new Error("Unable to find segment #".concat(L.id," ")+"[".concat(L.leftSE.point.x,", ").concat(L.leftSE.point.y,"] -> ")+"[".concat(L.rightSE.point.x,", ").concat(L.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var wt=lt,Dt=lt,Ft=void 0,Mt=void 0;void 0===Ft;)null===(wt=this.tree.prev(wt))?Ft=null:void 0===wt.key.consumedBy&&(Ft=wt.key);for(;void 0===Mt;)null===(Dt=this.tree.next(Dt))?Mt=null:void 0===Dt.key.consumedBy&&(Mt=Dt.key);if(A.isLeft){var ae=null;if(Ft){var de=Ft.getIntersection(L);if(null!==de&&(L.isAnEndpoint(de)||(ae=de),!Ft.isAnEndpoint(de)))for(var Zt=this._splitSafely(Ft,de),ye=0,vn=Zt.length;ye<vn;ye++)V.push(Zt[ye])}var we=null;if(Mt){var be=Mt.getIntersection(L);if(null!==be&&(L.isAnEndpoint(be)||(we=be),!Mt.isAnEndpoint(be)))for(var yn=this._splitSafely(Mt,be),Dn=0,nr=yn.length;Dn<nr;Dn++)V.push(yn[Dn])}if(null!==ae||null!==we){var Tn;Tn=null===ae?we:null===we||X.comparePoints(ae,we)<=0?ae:we,this.queue.remove(L.rightSE),V.push(L.rightSE);for(var fn=L.split(Tn),Xr=0,Bn=fn.length;Xr<Bn;Xr++)V.push(fn[Xr])}V.length>0?(this.tree.remove(L),V.push(A)):(this.segments.push(L),L.prev=Ft)}else{if(Ft&&Mt){var kt=Ft.getIntersection(Mt);if(null!==kt){if(!Ft.isAnEndpoint(kt))for(var Io=this._splitSafely(Ft,kt),Or=0,fe=Io.length;Or<fe;Or++)V.push(Io[Or]);if(!Mt.isAnEndpoint(kt))for(var Ii=this._splitSafely(Mt,kt),_e=0,Si=Ii.length;_e<Si;_e++)V.push(Ii[_e])}}this.tree.remove(L)}return V}},{key:"_splitSafely",value:function(A,L){this.tree.remove(A);var V=A.rightSE;this.queue.remove(V);var lt=A.split(L);return lt.push(V),void 0===A.consumedBy&&this.tree.insert(A),lt}}]),dt}(),ue="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Jt="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Gt=new(function(){function dt(){yt(this,dt)}return q(dt,[{key:"run",value:function(A,L,V){Gt.type=A,O.reset();for(var lt=[new Lt(L,!0)],wt=0,Dt=V.length;wt<Dt;wt++)lt.push(new Lt(V[wt],!1));if(Gt.numMultiPolys=lt.length,"difference"===Gt.type)for(var Ft=lt[0],Mt=1;Mt<lt.length;)null!==b(lt[Mt].bbox,Ft.bbox)?Mt++:lt.splice(Mt,1);if("intersection"===Gt.type)for(var ae=0,de=lt.length;ae<de;ae++)for(var Zt=lt[ae],ye=ae+1,vn=lt.length;ye<vn;ye++)if(null===b(Zt.bbox,lt[ye].bbox))return[];for(var we=new It(X.compare),be=0,yn=lt.length;be<yn;be++)for(var Dn=lt[be].getSweepEvents(),nr=0,Tn=Dn.length;nr<Tn;nr++)if(we.insert(Dn[nr]),we.size>ue)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var vr=new pe(we),fn=we.size,Xr=we.pop();Xr;){var Bn=Xr.key;if(we.size===fn){var kt=Bn.segment;throw new Error("Unable to pop() ".concat(Bn.isLeft?"left":"right"," SweepEvent ")+"[".concat(Bn.point.x,", ").concat(Bn.point.y,"] from segment #").concat(kt.id," ")+"[".concat(kt.leftSE.point.x,", ").concat(kt.leftSE.point.y,"] -> ")+"[".concat(kt.rightSE.point.x,", ").concat(kt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(we.size>ue)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(vr.segments.length>Jt)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Io=vr.process(Bn),Or=0,fe=Io.length;Or<fe;Or++){var Ii=Io[Or];void 0===Ii.consumedBy&&we.insert(Ii)}fn=we.size,Xr=we.pop()}O.reset();var _e=Xt.factory(vr.segments);return new se(_e).getGeom()}}]),dt}());return{union:function(D){for(var A=arguments.length,L=new Array(A>1?A-1:0),V=1;V<A;V++)L[V-1]=arguments[V];return Gt.run("union",D,L)},intersection:function(D){for(var A=arguments.length,L=new Array(A>1?A-1:0),V=1;V<A;V++)L[V-1]=arguments[V];return Gt.run("intersection",D,L)},xor:function(D){for(var A=arguments.length,L=new Array(A>1?A-1:0),V=1;V<A;V++)L[V-1]=arguments[V];return Gt.run("xor",D,L)},difference:function(D){for(var A=arguments.length,L=new Array(A>1?A-1:0),V=1;V<A;V++)L[V-1]=arguments[V];return Gt.run("difference",D,L)}}}()},3036:function(Rt){Rt.exports=function(){"use strict";function yt(et,pt,b,S,N){!function U(I,M,O,w,it){for(;w>O;){if(w-O>600){var J=w-O+1,W=M-O+1,R=Math.log(J),Ot=.5*Math.exp(2*R/3),Nt=.5*Math.sqrt(R*Ot*(J-Ot)/J)*(W-J/2<0?-1:1);U(I,M,Math.max(O,Math.floor(M-W*Ot/J+Nt)),Math.min(w,Math.floor(M+(J-W)*Ot/J+Nt)),it)}var X=I[M],at=O,ut=w;for(K(I,O,M),it(I[w],X)>0&&K(I,O,w);at<ut;){for(K(I,at,ut),at++,ut--;it(I[at],X)<0;)at++;for(;it(I[ut],X)>0;)ut--}0===it(I[O],X)?K(I,O,ut):K(I,++ut,w),ut<=M&&(O=ut+1),M<=ut&&(w=ut-1)}}(et,pt,b||0,S||et.length-1,N||q)}function K(et,pt,b){var S=et[pt];et[pt]=et[b],et[b]=S}function q(et,pt){return et<pt?-1:et>pt?1:0}var Q=function(et){void 0===et&&(et=9),this._maxEntries=Math.max(4,et),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function P(et,pt,b){if(!b)return pt.indexOf(et);for(var S=0;S<pt.length;S++)if(b(et,pt[S]))return S;return-1}function h(et,pt){nt(et,0,et.children.length,pt,et)}function nt(et,pt,b,S,N){N||(N=bt(null)),N.minX=1/0,N.minY=1/0,N.maxX=-1/0,N.maxY=-1/0;for(var U=pt;U<b;U++){var I=et.children[U];H(N,et.leaf?S(I):I)}return N}function H(et,pt){return et.minX=Math.min(et.minX,pt.minX),et.minY=Math.min(et.minY,pt.minY),et.maxX=Math.max(et.maxX,pt.maxX),et.maxY=Math.max(et.maxY,pt.maxY),et}function st(et,pt){return et.minX-pt.minX}function ct(et,pt){return et.minY-pt.minY}function It(et){return(et.maxX-et.minX)*(et.maxY-et.minY)}function At(et){return et.maxX-et.minX+(et.maxY-et.minY)}function xt(et,pt){return et.minX<=pt.minX&&et.minY<=pt.minY&&pt.maxX<=et.maxX&&pt.maxY<=et.maxY}function mt(et,pt){return pt.minX<=et.maxX&&pt.minY<=et.maxY&&pt.maxX>=et.minX&&pt.maxY>=et.minY}function bt(et){return{children:et,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function qt(et,pt,b,S,N){for(var U=[pt,b];U.length;)if(!((b=U.pop())-(pt=U.pop())<=S)){var I=pt+Math.ceil((b-pt)/S/2)*S;yt(et,I,pt,b,N),U.push(pt,I,I,b)}}return Q.prototype.all=function(){return this._all(this.data,[])},Q.prototype.search=function(et){var pt=this.data,b=[];if(!mt(et,pt))return b;for(var S=this.toBBox,N=[];pt;){for(var U=0;U<pt.children.length;U++){var I=pt.children[U],M=pt.leaf?S(I):I;mt(et,M)&&(pt.leaf?b.push(I):xt(et,M)?this._all(I,b):N.push(I))}pt=N.pop()}return b},Q.prototype.collides=function(et){var pt=this.data;if(!mt(et,pt))return!1;for(var b=[];pt;){for(var S=0;S<pt.children.length;S++){var N=pt.children[S],U=pt.leaf?this.toBBox(N):N;if(mt(et,U)){if(pt.leaf||xt(et,U))return!0;b.push(N)}}pt=b.pop()}return!1},Q.prototype.load=function(et){if(!et||!et.length)return this;if(et.length<this._minEntries){for(var pt=0;pt<et.length;pt++)this.insert(et[pt]);return this}var b=this._build(et.slice(),0,et.length-1,0);if(this.data.children.length)if(this.data.height===b.height)this._splitRoot(this.data,b);else{if(this.data.height<b.height){var S=this.data;this.data=b,b=S}this._insert(b,this.data.height-b.height-1,!0)}else this.data=b;return this},Q.prototype.insert=function(et){return et&&this._insert(et,this.data.height-1),this},Q.prototype.clear=function(){return this.data=bt([]),this},Q.prototype.remove=function(et,pt){if(!et)return this;for(var b,S,N,U=this.data,I=this.toBBox(et),M=[],O=[];U||M.length;){if(U||(U=M.pop(),S=M[M.length-1],b=O.pop(),N=!0),U.leaf){var w=P(et,U.children,pt);if(-1!==w)return U.children.splice(w,1),M.push(U),this._condense(M),this}N||U.leaf||!xt(U,I)?S?(b++,U=S.children[b],N=!1):U=null:(M.push(U),O.push(b),b=0,S=U,U=U.children[0])}return this},Q.prototype.toBBox=function(et){return et},Q.prototype.compareMinX=function(et,pt){return et.minX-pt.minX},Q.prototype.compareMinY=function(et,pt){return et.minY-pt.minY},Q.prototype.toJSON=function(){return this.data},Q.prototype.fromJSON=function(et){return this.data=et,this},Q.prototype._all=function(et,pt){for(var b=[];et;)et.leaf?pt.push.apply(pt,et.children):b.push.apply(b,et.children),et=b.pop();return pt},Q.prototype._build=function(et,pt,b,S){var N,U=b-pt+1,I=this._maxEntries;if(U<=I)return h(N=bt(et.slice(pt,b+1)),this.toBBox),N;S||(S=Math.ceil(Math.log(U)/Math.log(I)),I=Math.ceil(U/Math.pow(I,S-1))),(N=bt([])).leaf=!1,N.height=S;var M=Math.ceil(U/I),O=M*Math.ceil(Math.sqrt(I));qt(et,pt,b,O,this.compareMinX);for(var w=pt;w<=b;w+=O){var it=Math.min(w+O-1,b);qt(et,w,it,M,this.compareMinY);for(var J=w;J<=it;J+=M){var W=Math.min(J+M-1,it);N.children.push(this._build(et,J,W,S-1))}}return h(N,this.toBBox),N},Q.prototype._chooseSubtree=function(et,pt,b,S){for(;S.push(pt),!pt.leaf&&S.length-1!==b;){for(var N=1/0,U=1/0,I=void 0,M=0;M<pt.children.length;M++){var O=pt.children[M],w=It(O),it=(J=et,W=O,(Math.max(W.maxX,J.maxX)-Math.min(W.minX,J.minX))*(Math.max(W.maxY,J.maxY)-Math.min(W.minY,J.minY))-w);it<U?(U=it,N=w<N?w:N,I=O):it===U&&w<N&&(N=w,I=O)}pt=I||pt.children[0]}var J,W;return pt},Q.prototype._insert=function(et,pt,b){var S=b?et:this.toBBox(et),N=[],U=this._chooseSubtree(S,this.data,pt,N);for(U.children.push(et),H(U,S);pt>=0&&N[pt].children.length>this._maxEntries;)this._split(N,pt),pt--;this._adjustParentBBoxes(S,N,pt)},Q.prototype._split=function(et,pt){var b=et[pt],S=b.children.length,N=this._minEntries;this._chooseSplitAxis(b,N,S);var U=this._chooseSplitIndex(b,N,S),I=bt(b.children.splice(U,b.children.length-U));I.height=b.height,I.leaf=b.leaf,h(b,this.toBBox),h(I,this.toBBox),pt?et[pt-1].children.push(I):this._splitRoot(b,I)},Q.prototype._splitRoot=function(et,pt){this.data=bt([et,pt]),this.data.height=et.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},Q.prototype._chooseSplitIndex=function(et,pt,b){for(var S,N,U,I,M,O,w,it=1/0,J=1/0,W=pt;W<=b-pt;W++){var R=nt(et,0,W,this.toBBox),Ot=nt(et,W,b,this.toBBox),Nt=(N=R,U=Ot,void 0,void 0,void 0,void 0,I=Math.max(N.minX,U.minX),M=Math.max(N.minY,U.minY),O=Math.min(N.maxX,U.maxX),w=Math.min(N.maxY,U.maxY),Math.max(0,O-I)*Math.max(0,w-M)),Z=It(R)+It(Ot);Nt<it?(it=Nt,S=W,J=Z<J?Z:J):Nt===it&&Z<J&&(J=Z,S=W)}return S||b-pt},Q.prototype._chooseSplitAxis=function(et,pt,b){var S=et.leaf?this.compareMinX:st,N=et.leaf?this.compareMinY:ct;this._allDistMargin(et,pt,b,S)<this._allDistMargin(et,pt,b,N)&&et.children.sort(S)},Q.prototype._allDistMargin=function(et,pt,b,S){et.children.sort(S);for(var N=this.toBBox,U=nt(et,0,pt,N),I=nt(et,b-pt,b,N),M=At(U)+At(I),O=pt;O<b-pt;O++){var w=et.children[O];H(U,et.leaf?N(w):w),M+=At(U)}for(var it=b-pt-1;it>=pt;it--){var J=et.children[it];H(I,et.leaf?N(J):J),M+=At(I)}return M},Q.prototype._adjustParentBBoxes=function(et,pt,b){for(var S=b;S>=0;S--)H(pt[S],et)},Q.prototype._condense=function(et){for(var pt=et.length-1,b=void 0;pt>=0;pt--)0===et[pt].children.length?pt>0?(b=et[pt-1].children).splice(b.indexOf(et[pt]),1):this.clear():h(et[pt],this.toBBox)},Q}()},565:Rt=>{"use strict";var yt=Object,K=TypeError;Rt.exports=function(){if(null!=this&&this!==yt(this))throw new K("RegExp.prototype.flags getter called on non-object");var Q="";return this.hasIndices&&(Q+="d"),this.global&&(Q+="g"),this.ignoreCase&&(Q+="i"),this.multiline&&(Q+="m"),this.dotAll&&(Q+="s"),this.unicode&&(Q+="u"),this.sticky&&(Q+="y"),Q}},437:(Rt,yt,K)=>{"use strict";var q=K(6886),Q=K(44),P=K(565),h=K(3880),nt=K(9129),H=Q(h());q(H,{getPolyfill:h,implementation:P,shim:nt}),Rt.exports=H},3880:(Rt,yt,K)=>{"use strict";var q=K(565),Q=K(6886).supportsDescriptors,P=Object.getOwnPropertyDescriptor;Rt.exports=function(){if(Q&&"gim"===/a/gim.flags){var nt=P(RegExp.prototype,"flags");if(nt&&"function"==typeof nt.get&&"boolean"==typeof/a/.dotAll)return nt.get}return q}},9129:(Rt,yt,K)=>{"use strict";var q=K(6886).supportsDescriptors,Q=K(3880),P=Object.getOwnPropertyDescriptor,h=Object.defineProperty,nt=TypeError,H=Object.getPrototypeOf,st=/a/;Rt.exports=function(){if(!q||!H)throw new nt("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var It=Q(),At=H(st),xt=P(At,"flags");return(!xt||xt.get!==It)&&h(At,"flags",{configurable:!0,enumerable:!1,get:It}),It}},5322:function(Rt,yt){!function(K){"use strict";const q=134217729;function P(bt,qt,et,pt,b){let S,N,U,I,M=qt[0],O=pt[0],w=0,it=0;O>M==O>-M?(S=M,M=qt[++w]):(S=O,O=pt[++it]);let J=0;if(w<bt&&it<et)for(O>M==O>-M?(U=S-((N=M+S)-M),M=qt[++w]):(U=S-((N=O+S)-O),O=pt[++it]),S=N,0!==U&&(b[J++]=U);w<bt&&it<et;)O>M==O>-M?(U=S-((N=S+M)-(I=N-S))+(M-I),M=qt[++w]):(U=S-((N=S+O)-(I=N-S))+(O-I),O=pt[++it]),S=N,0!==U&&(b[J++]=U);for(;w<bt;)U=S-((N=S+M)-(I=N-S))+(M-I),M=qt[++w],S=N,0!==U&&(b[J++]=U);for(;it<et;)U=S-((N=S+O)-(I=N-S))+(O-I),O=pt[++it],S=N,0!==U&&(b[J++]=U);return 0===S&&0!==J||(b[J++]=S),J}function h(bt){return new Float64Array(bt)}const ct=h(4),It=h(8),At=h(12),xt=h(16),mt=h(4);K.orient2d=function(bt,qt,et,pt,b,S){const N=(qt-S)*(et-b),U=(bt-b)*(pt-S),I=N-U;if(0===N||0===U||N>0!=U>0)return I;const M=Math.abs(N+U);return Math.abs(I)>=33306690738754716e-32*M?I:-function(O,w,it,J,W,R,Ot){let Nt,Z,ft,X,at,ut,G,Ct,Lt,Xt,Tt,se,pe,ue,Jt,Wt,Gt,mn;const cn=O-W,xn=it-W,un=w-R,dn=J-R;at=(Jt=(Ct=cn-(G=(ut=q*cn)-(ut-cn)))*(Xt=dn-(Lt=(ut=q*dn)-(ut-dn)))-((ue=cn*dn)-G*Lt-Ct*Lt-G*Xt))-(Tt=Jt-(Gt=(Ct=un-(G=(ut=q*un)-(ut-un)))*(Xt=xn-(Lt=(ut=q*xn)-(ut-xn)))-((Wt=un*xn)-G*Lt-Ct*Lt-G*Xt))),ct[0]=Jt-(Tt+at)+(at-Gt),at=(pe=ue-((se=ue+Tt)-(at=se-ue))+(Tt-at))-(Tt=pe-Wt),ct[1]=pe-(Tt+at)+(at-Wt),at=(mn=se+Tt)-se,ct[2]=se-(mn-at)+(Tt-at),ct[3]=mn;let dt=function(lt,wt){let Dt=wt[0];for(let Ft=1;Ft<4;Ft++)Dt+=wt[Ft];return Dt}(0,ct),D=22204460492503146e-32*Ot;if(dt>=D||-dt>=D||(Nt=O-(cn+(at=O-cn))+(at-W),ft=it-(xn+(at=it-xn))+(at-W),Z=w-(un+(at=w-un))+(at-R),X=J-(dn+(at=J-dn))+(at-R),0===Nt&&0===Z&&0===ft&&0===X)||(D=11093356479670487e-47*Ot+33306690738754706e-32*Math.abs(dt),(dt+=cn*X+dn*Nt-(un*ft+xn*Z))>=D||-dt>=D))return dt;at=(Jt=(Ct=Nt-(G=(ut=q*Nt)-(ut-Nt)))*(Xt=dn-(Lt=(ut=q*dn)-(ut-dn)))-((ue=Nt*dn)-G*Lt-Ct*Lt-G*Xt))-(Tt=Jt-(Gt=(Ct=Z-(G=(ut=q*Z)-(ut-Z)))*(Xt=xn-(Lt=(ut=q*xn)-(ut-xn)))-((Wt=Z*xn)-G*Lt-Ct*Lt-G*Xt))),mt[0]=Jt-(Tt+at)+(at-Gt),at=(pe=ue-((se=ue+Tt)-(at=se-ue))+(Tt-at))-(Tt=pe-Wt),mt[1]=pe-(Tt+at)+(at-Wt),at=(mn=se+Tt)-se,mt[2]=se-(mn-at)+(Tt-at),mt[3]=mn;const A=P(4,ct,4,mt,It);at=(Jt=(Ct=cn-(G=(ut=q*cn)-(ut-cn)))*(Xt=X-(Lt=(ut=q*X)-(ut-X)))-((ue=cn*X)-G*Lt-Ct*Lt-G*Xt))-(Tt=Jt-(Gt=(Ct=un-(G=(ut=q*un)-(ut-un)))*(Xt=ft-(Lt=(ut=q*ft)-(ut-ft)))-((Wt=un*ft)-G*Lt-Ct*Lt-G*Xt))),mt[0]=Jt-(Tt+at)+(at-Gt),at=(pe=ue-((se=ue+Tt)-(at=se-ue))+(Tt-at))-(Tt=pe-Wt),mt[1]=pe-(Tt+at)+(at-Wt),at=(mn=se+Tt)-se,mt[2]=se-(mn-at)+(Tt-at),mt[3]=mn;const L=P(A,It,4,mt,At);at=(Jt=(Ct=Nt-(G=(ut=q*Nt)-(ut-Nt)))*(Xt=X-(Lt=(ut=q*X)-(ut-X)))-((ue=Nt*X)-G*Lt-Ct*Lt-G*Xt))-(Tt=Jt-(Gt=(Ct=Z-(G=(ut=q*Z)-(ut-Z)))*(Xt=ft-(Lt=(ut=q*ft)-(ut-ft)))-((Wt=Z*ft)-G*Lt-Ct*Lt-G*Xt))),mt[0]=Jt-(Tt+at)+(at-Gt),at=(pe=ue-((se=ue+Tt)-(at=se-ue))+(Tt-at))-(Tt=pe-Wt),mt[1]=pe-(Tt+at)+(at-Wt),at=(mn=se+Tt)-se,mt[2]=se-(mn-at)+(Tt-at),mt[3]=mn;const V=P(L,At,4,mt,xt);return xt[V-1]}(bt,qt,et,pt,b,S,M)},K.orient2dfast=function(bt,qt,et,pt,b,S){return(qt-S)*(et-b)-(bt-b)*(pt-S)},Object.defineProperty(K,"__esModule",{value:!0})}(yt)},6257:Rt=>{"use strict";Rt.exports={eudist:function(K,q,Q){for(var P=K.length,h=0,nt=0;nt<P;nt++){var H=(K[nt]||0)-(q[nt]||0);h+=H*H}return Q?Math.sqrt(h):h},mandist:function(K,q,Q){for(var P=K.length,h=0,nt=0;nt<P;nt++)h+=Math.abs((K[nt]||0)-(q[nt]||0));return Q?Math.sqrt(h):h},dist:function(K,q,Q){var P=Math.abs(K-q);return Q?P:P*P}}},6019:(Rt,yt,K)=>{"use strict";var q=K(6257),Q=q.eudist,P=q.dist;Rt.exports={kmrand:function(nt,H){for(var st={},ct=[],It=H<<2,At=nt.length,xt=nt[0].length>0;ct.length<H&&It-- >0;){var mt=nt[Math.floor(Math.random()*At)],bt=xt?mt.join("_"):""+mt;st[bt]||(st[bt]=!0,ct.push(mt))}if(ct.length<H)throw new Error("Error initializating clusters");return ct},kmpp:function(nt,H){var st=nt[0].length?Q:P,ct=[],It=nt.length,At=nt[0].length>0,mt=nt[Math.floor(Math.random()*It)];for(At&&mt.join("_"),ct.push(mt);ct.length<H;){for(var qt=[],et=ct.length,pt=0,b=[],S=0;S<It;S++){for(var N=1/0,U=0;U<et;U++){var I=st(nt[S],ct[U]);I<=N&&(N=I)}qt[S]=N}for(var M=0;M<It;M++)pt+=qt[M];for(var O=0;O<It;O++)b[O]={i:O,v:nt[O],pr:qt[O]/pt,cs:0};b.sort(function(W,R){return W.pr-R.pr}),b[0].cs=b[0].pr;for(var w=1;w<It;w++)b[w].cs=b[w-1].cs+b[w].pr;for(var it=Math.random(),J=0;J<It-1&&b[J++].cs<it;);ct.push(b[J-1].v)}return ct}}},3212:(Rt,yt,K)=>{"use strict";var q=K(6257),Q=K(6019),P=q.eudist,H=Q.kmrand,st=Q.kmpp;function It(xt,mt,bt){bt=bt||[];for(var qt=0;qt<xt;qt++)bt[qt]=mt;return bt}Rt.exports=function(xt,mt,bt,qt){var et=[],pt=[],b=[],S=[],N=!1,U=qt||1e4,I=xt.length,M=xt[0].length,O=M>0,w=[];if(bt)et="kmrand"==bt?H(xt,mt):"kmpp"==bt?st(xt,mt):bt;else for(var it={};et.length<mt;){var J=Math.floor(Math.random()*I);it[J]||(it[J]=!0,et.push(xt[J]))}do{It(mt,0,w);for(var W=0;W<I;W++){for(var R=1/0,Ot=0,Nt=0;Nt<mt;Nt++)(S=O?P(xt[W],et[Nt]):Math.abs(xt[W]-et[Nt]))<=R&&(R=S,Ot=Nt);b[W]=Ot,w[Ot]++}for(var Z=[],X=(pt=[],0);X<mt;X++)Z[X]=O?It(M,0,Z[X]):0,pt[X]=et[X];if(O){for(var at=0;at<mt;at++)et[at]=[];for(var ut=0;ut<I;ut++)for(var Ct=Z[b[ut]],Lt=xt[ut],Xt=0;Xt<M;Xt++)Ct[Xt]+=Lt[Xt];N=!0;for(var Tt=0;Tt<mt;Tt++){for(var se=et[Tt],pe=Z[Tt],ue=pt[Tt],Jt=w[Tt],Wt=0;Wt<M;Wt++)se[Wt]=pe[Wt]/Jt||0;if(N)for(var Gt=0;Gt<M;Gt++)if(ue[Gt]!=se[Gt]){N=!1;break}}}else{for(var mn=0;mn<I;mn++)Z[b[mn]]+=xt[mn];for(var xn=0;xn<mt;xn++)et[xn]=Z[xn]/w[xn]||0;N=!0;for(var un=0;un<mt;un++)if(pt[un]!=et[un]){N=!1;break}}N=N||--U<=0}while(!N);return{it:1e4-U,k:mt,idxs:b,centroids:et}}},54:(Rt,yt,K)=>{"use strict";K.r(yt),K.d(yt,{default:()=>q});class q{constructor(h=[],nt=Q){if(this.data=h,this.length=this.data.length,this.compare=nt,this.length>0)for(let H=(this.length>>1)-1;H>=0;H--)this._down(H)}push(h){this.data.push(h),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const h=this.data[0],nt=this.data.pop();return this.length--,this.length>0&&(this.data[0]=nt,this._down(0)),h}peek(){return this.data[0]}_up(h){const{data:nt,compare:H}=this,st=nt[h];for(;h>0;){const ct=h-1>>1,It=nt[ct];if(H(st,It)>=0)break;nt[h]=It,h=ct}nt[h]=st}_down(h){const{data:nt,compare:H}=this,st=this.length>>1,ct=nt[h];for(;h<st;){let It=1+(h<<1),At=nt[It];const xt=It+1;if(xt<this.length&&H(nt[xt],At)<0&&(It=xt,At=nt[xt]),H(At,ct)>=0)break;nt[h]=At,h=It}nt[h]=ct}}function Q(P,h){return P<h?-1:P>h?1:0}},7299:function(Rt,yt){!function(K){"use strict";function q(){}function Q(t){this.message=t||""}function P(t){this.message=t||""}function h(t){this.message=t||""}function nt(){}function H(t){return null===t?Pi:t.color}function st(t){return null===t?null:t.parent}function ct(t,e){null!==t&&(t.color=e)}function It(t){return null===t?null:t.left}function At(t){return null===t?null:t.right}function xt(){this.root_=null,this.size_=0}function mt(){}function bt(){this.array_=[],arguments[0]instanceof fn&&this.addAll(arguments[0])}function qt(){}function et(t){this.message=t||""}function pt(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),o=Math.max(Math.min(e.length,9007199254740991),0)||0,a=1 in arguments&&parseInt(Number(arguments[1]),10)||0;a=a<0?Math.max(o+a,0):Math.min(a,o);var c=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:o;for(c=c<0?Math.max(o+arguments[2],0):Math.min(c,o);a<c;)e[a]=t,++a;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var b=function(){};b.prototype.interfaces_=function(){return[]},b.prototype.getClass=function(){return b},b.prototype.equalsWithTolerance=function(t,e,o){return Math.abs(t-e)<=o};var S=function(t){function e(o){t.call(this,o),this.name="IllegalArgumentException",this.message=o,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),N=function(){},U={MAX_VALUE:{configurable:!0}};N.isNaN=function(t){return Number.isNaN(t)},N.doubleToLongBits=function(t){return t},N.longBitsToDouble=function(t){return t},N.isInfinite=function(t){return!Number.isFinite(t)},U.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(N,U);var I=function(){},M=function(){},O=function(){},w=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},it={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};w.prototype.setOrdinate=function(t,e){switch(t){case w.X:this.x=e;break;case w.Y:this.y=e;break;case w.Z:this.z=e;break;default:throw new S("Invalid ordinate index: "+t)}},w.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],o=arguments[1];return!!b.equalsWithTolerance(this.x,e.x,o)&&!!b.equalsWithTolerance(this.y,e.y,o)}},w.prototype.getOrdinate=function(t){switch(t){case w.X:return this.x;case w.Y:return this.y;case w.Z:return this.z}throw new S("Invalid ordinate index: "+t)},w.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||N.isNaN(this.z))&&N.isNaN(t.z)},w.prototype.equals=function(t){return t instanceof w&&this.equals2D(t)},w.prototype.equalInZ=function(t,e){return b.equalsWithTolerance(this.z,t.z,e)},w.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},w.prototype.clone=function(){},w.prototype.copy=function(){return new w(this)},w.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},w.prototype.distance3D=function(t){var e=this.x-t.x,o=this.y-t.y,a=this.z-t.z;return Math.sqrt(e*e+o*o+a*a)},w.prototype.distance=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},w.prototype.hashCode=function(){var t=17;return 37*(t=37*t+w.hashCode(this.x))+w.hashCode(this.y)},w.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},w.prototype.interfaces_=function(){return[I,M,q]},w.prototype.getClass=function(){return w},w.hashCode=function(){if(1===arguments.length){var e=N.doubleToLongBits(arguments[0]);return Math.trunc((e^e)>>>32)}},it.DimensionalComparator.get=function(){return J},it.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},it.NULL_ORDINATE.get=function(){return N.NaN},it.X.get=function(){return 0},it.Y.get=function(){return 1},it.Z.get=function(){return 2},Object.defineProperties(w,it);var J=function(t){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new S("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};J.prototype.compare=function(t,e){var o=t,a=e,c=J.compare(o.x,a.x);if(0!==c)return c;var y=J.compare(o.y,a.y);return 0!==y?y:this._dimensionsToTest<=2?0:J.compare(o.z,a.z)},J.prototype.interfaces_=function(){return[O]},J.prototype.getClass=function(){return J},J.compare=function(t,e){return t<e?-1:t>e?1:N.isNaN(t)?N.isNaN(e)?0:-1:N.isNaN(e)?1:0};var W=function(){};W.prototype.create=function(){},W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W};var R=function(){},Ot={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},R.toLocationSymbol=function(t){switch(t){case R.EXTERIOR:return"e";case R.BOUNDARY:return"b";case R.INTERIOR:return"i";case R.NONE:return"-"}throw new S("Unknown location value: "+t)},Ot.INTERIOR.get=function(){return 0},Ot.BOUNDARY.get=function(){return 1},Ot.EXTERIOR.get=function(){return 2},Ot.NONE.get=function(){return-1},Object.defineProperties(R,Ot);var Nt=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},Z=function(){},ft={LOG_10:{configurable:!0}};Z.prototype.interfaces_=function(){return[]},Z.prototype.getClass=function(){return Z},Z.log10=function(t){var e=Math.log(t);return N.isInfinite(e)||N.isNaN(e)?e:e/Z.LOG_10},Z.min=function(t,e,o,a){var c=t;return e<c&&(c=e),o<c&&(c=o),a<c&&(c=a),c},Z.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],o=arguments[2];return t<e?e:t>o?o:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],c=arguments[1],y=arguments[2];return a<c?c:a>y?y:a}},Z.wrap=function(t,e){return t<0?e- -t%e:t%e},Z.max=function(){if(3===arguments.length){var e=arguments[1],o=arguments[2],a=arguments[0];return e>a&&(a=e),o>a&&(a=o),a}if(4===arguments.length){var y=arguments[1],x=arguments[2],C=arguments[3],B=arguments[0];return y>B&&(B=y),x>B&&(B=x),C>B&&(B=C),B}},Z.average=function(t,e){return(t+e)/2},ft.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Z,ft);var X=function(t){this.str=t};X.prototype.append=function(t){this.str+=t},X.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},X.prototype.toString=function(t){return this.str};var at=function(t){this.value=t};at.prototype.intValue=function(){return this.value},at.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},at.isNaN=function(t){return Number.isNaN(t)};var ut=function(){};ut.isWhitespace=function(t){return t<=32&&t>=0||127===t},ut.toUpperCase=function(t){return t.toUpperCase()};var G=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Ct={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};G.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},G.prototype.extractSignificantDigits=function(t,e){var o=this.abs(),a=G.magnitude(o._hi),c=G.TEN.pow(a);(o=o.divide(c)).gt(G.TEN)?(o=o.divide(G.TEN),a+=1):o.lt(G.ONE)&&(o=o.multiply(G.TEN),a-=1);for(var y=a+1,x=new X,C=G.MAX_PRINT_DIGITS-1,B=0;B<=C;B++){t&&B===y&&x.append(".");var rt=Math.trunc(o._hi);if(rt<0)break;var Et=!1,Pt=0;rt>9?(Et=!0,Pt="9"):Pt="0"+rt,x.append(Pt),o=o.subtract(G.valueOf(rt)).multiply(G.TEN),Et&&o.selfAdd(G.TEN);var Ut=!0,Yt=G.magnitude(o._hi);if(Yt<0&&Math.abs(Yt)>=C-B&&(Ut=!1),!Ut)break}return e[0]=a,x.toString()},G.prototype.sqr=function(){return this.multiply(this)},G.prototype.doubleValue=function(){return this._hi+this._lo},G.prototype.subtract=function(){return arguments[0]instanceof G?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},G.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},G.prototype.isZero=function(){return 0===this._hi&&0===this._lo},G.prototype.selfSubtract=function(){if(arguments[0]instanceof G){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},G.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},G.prototype.min=function(t){return this.le(t)?this:t},G.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var o=arguments[0],c=null,y=null,x=null,C=null,B=null,rt=null,Et=null,Pt=null;return this._hi=Pt=(B=this._hi/o)+(rt=(this._hi-(Et=B*o)-(Pt=(c=(rt=G.SPLIT*B)-(c=rt-B))*(x=(Pt=G.SPLIT*o)-(x=Pt-o))-Et+c*(C=o-x)+(y=B-c)*x+y*C)+this._lo-B*arguments[1])/o),this._lo=B-Pt+rt,this}},G.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},G.prototype.divide=function(){if(arguments[0]instanceof G){var t=arguments[0],e=null,o=null,a=null,c=null,y=null,x=null,C=null,B=null;return o=(y=this._hi/t._hi)-(e=(x=G.SPLIT*y)-(e=x-y)),B=e*(a=(B=G.SPLIT*t._hi)-(a=B-t._hi))-(C=y*t._hi)+e*(c=t._hi-a)+o*a+o*c,new G(B=y+(x=(this._hi-C-B+this._lo-y*t._lo)/t._hi),y-B+x)}if("number"==typeof arguments[0]){var rt=arguments[0];return N.isNaN(rt)?G.createNaN():G.copy(this).selfDivide(rt,0)}},G.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},G.prototype.pow=function(t){if(0===t)return G.valueOf(1);var e=new G(this),o=G.valueOf(1),a=Math.abs(t);if(a>1)for(;a>0;)a%2==1&&o.selfMultiply(e),(a/=2)>0&&(e=e.sqr());else o=e;return t<0?o.reciprocal():o},G.prototype.ceil=function(){if(this.isNaN())return G.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new G(t,e)},G.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},G.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},G.prototype.setValue=function(){return arguments[0]instanceof G||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},G.prototype.max=function(t){return this.ge(t)?this:t},G.prototype.sqrt=function(){if(this.isZero())return G.valueOf(0);if(this.isNegative())return G.NaN;var t=1/Math.sqrt(this._hi),o=G.valueOf(this._hi*t),a=this.subtract(o.sqr())._hi*(.5*t);return o.add(a)},G.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],o=null,a=null,c=null,x=null,C=null;return this._hi=(o=(c=this._hi+e)+(C=e-(x=c-this._hi)+(this._hi-(c-x))+this._lo))+(a=C+(c-o)),this._lo=a+(o-this._hi),this}}else if(2===arguments.length){var B=arguments[0],rt=arguments[1],Et=null,Pt=null,Ut=null,Yt=null,$t=null,ne=null,Ke=null;$t=(Yt=this._hi+B)-(ne=Yt-this._hi),Ut=(Pt=this._lo+rt)-(Ke=Pt-this._lo);var Ln=(Et=Yt+(ne=($t=B-ne+(this._hi-$t))+Pt))+(ne=(Ut=rt-Ke+(this._lo-Ut))+(ne+(Yt-Et))),ar=ne+(Et-Ln);return this._hi=Ln,this._lo=ar,this}},G.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var o=arguments[0],c=null,y=null,x=null,C=null,B=null,rt=null;c=(B=G.SPLIT*this._hi)-this._hi,c=B-c;var Et=(B=this._hi*o)+(rt=c*(x=(rt=G.SPLIT*o)-(x=rt-o))-B+c*(C=o-x)+(y=this._hi-c)*x+y*C+(this._hi*arguments[1]+this._lo*o)),Pt=rt+(c=B-Et);return this._hi=Et,this._lo=Pt,this}},G.prototype.selfSqr=function(){return this.selfMultiply(this)},G.prototype.floor=function(){if(this.isNaN())return G.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new G(t,e)},G.prototype.negate=function(){return this.isNaN()?this:new G(-this._hi,-this._lo)},G.prototype.clone=function(){},G.prototype.multiply=function(){if(arguments[0]instanceof G){var t=arguments[0];return t.isNaN()?G.createNaN():G.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return N.isNaN(e)?G.createNaN():G.copy(this).selfMultiply(e,0)}},G.prototype.isNaN=function(){return N.isNaN(this._hi)},G.prototype.intValue=function(){return Math.trunc(this._hi)},G.prototype.toString=function(){var t=G.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},G.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!0,e),a=e[0]+1,c=o;return"."===o.charAt(0)?c="0"+o:a<0?c="0."+G.stringOfChar("0",-a)+o:-1===o.indexOf(".")&&(c=o+G.stringOfChar("0",a-o.length)+".0"),this.isNegative()?"-"+c:c},G.prototype.reciprocal=function(){var e,a,c,x,t=null,o=null,y=null,C=null;e=(c=1/this._hi)-(t=(y=G.SPLIT*c)-(t=y-c)),o=(C=G.SPLIT*this._hi)-this._hi;var B=c+(y=(1-(x=c*this._hi)-(C=t*(o=C-o)-x+t*(a=this._hi-o)+e*o+e*a)-c*this._lo)/this._hi);return new G(B,c-B+y)},G.prototype.toSciNotation=function(){if(this.isZero())return G.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!1,e),a=G.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===o.charAt(0))throw new Error("Found leading zero: "+o);var c="";o.length>1&&(c=o.substring(1));var y=o.charAt(0)+"."+c;return this.isNegative()?"-"+y+a:y+a},G.prototype.abs=function(){return this.isNaN()?G.NaN:this.isNegative()?this.negate():new G(this)},G.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},G.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},G.prototype.add=function(){if(arguments[0]instanceof G){var t=arguments[0];return G.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return G.copy(this).selfAdd(e)}},G.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof G){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var a=arguments[1];this._hi=arguments[0],this._lo=a}},G.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},G.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},G.prototype.trunc=function(){return this.isNaN()?G.NaN:this.isPositive()?this.floor():this.ceil()},G.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},G.prototype.interfaces_=function(){return[q,I,M]},G.prototype.getClass=function(){return G},G.sqr=function(t){return G.valueOf(t).selfMultiply(t)},G.valueOf=function(){return"string"==typeof arguments[0]?G.parse(arguments[0]):"number"==typeof arguments[0]?new G(arguments[0]):void 0},G.sqrt=function(t){return G.valueOf(t).sqrt()},G.parse=function(t){for(var e=0,o=t.length;ut.isWhitespace(t.charAt(e));)e++;var a=!1;if(e<o){var c=t.charAt(e);"-"!==c&&"+"!==c||(e++,"-"===c&&(a=!0))}for(var y=new G,x=0,C=0,B=0;!(e>=o);){var rt=t.charAt(e);if(e++,ut.isDigit(rt)){var Et=rt-"0";y.selfMultiply(G.TEN),y.selfAdd(Et),x++}else{if("."!==rt){if("e"===rt||"E"===rt){var Pt=t.substring(e);try{B=at.parseInt(Pt)}catch(Ke){throw Ke instanceof Error?new Error("Invalid exponent "+Pt+" in string "+t):Ke}break}throw new Error("Unexpected character '"+rt+"' at position "+e+" in string "+t)}C=x}}var Ut=y,Yt=x-C-B;if(0===Yt)Ut=y;else if(Yt>0){var $t=G.TEN.pow(Yt);Ut=y.divide($t)}else if(Yt<0){var ne=G.TEN.pow(-Yt);Ut=y.multiply(ne)}return a?Ut.negate():Ut},G.createNaN=function(){return new G(N.NaN,N.NaN)},G.copy=function(t){return new G(t)},G.magnitude=function(t){var e=Math.abs(t),o=Math.log(e)/Math.log(10),a=Math.trunc(Math.floor(o));return 10*Math.pow(10,a)<=e&&(a+=1),a},G.stringOfChar=function(t,e){for(var o=new X,a=0;a<e;a++)o.append(t);return o.toString()},Ct.PI.get=function(){return new G(3.141592653589793,12246467991473532e-32)},Ct.TWO_PI.get=function(){return new G(6.283185307179586,24492935982947064e-32)},Ct.PI_2.get=function(){return new G(1.5707963267948966,6123233995736766e-32)},Ct.E.get=function(){return new G(2.718281828459045,14456468917292502e-32)},Ct.NaN.get=function(){return new G(N.NaN,N.NaN)},Ct.EPS.get=function(){return 123259516440783e-46},Ct.SPLIT.get=function(){return 134217729},Ct.MAX_PRINT_DIGITS.get=function(){return 32},Ct.TEN.get=function(){return G.valueOf(10)},Ct.ONE.get=function(){return G.valueOf(1)},Ct.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Ct.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(G,Ct);var Lt=function(){},Xt={DP_SAFE_EPSILON:{configurable:!0}};Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt},Lt.orientationIndex=function(t,e,o){var a=Lt.orientationIndexFilter(t,e,o);if(a<=1)return a;var c=G.valueOf(e.x).selfAdd(-t.x),y=G.valueOf(e.y).selfAdd(-t.y),x=G.valueOf(o.x).selfAdd(-e.x),C=G.valueOf(o.y).selfAdd(-e.y);return c.selfMultiply(C).selfSubtract(y.selfMultiply(x)).signum()},Lt.signOfDet2x2=function(t,e,o,a){return t.multiply(a).selfSubtract(e.multiply(o)).signum()},Lt.intersection=function(t,e,o,a){var c=G.valueOf(a.y).selfSubtract(o.y).selfMultiply(G.valueOf(e.x).selfSubtract(t.x)),y=G.valueOf(a.x).selfSubtract(o.x).selfMultiply(G.valueOf(e.y).selfSubtract(t.y)),x=c.subtract(y),C=G.valueOf(a.x).selfSubtract(o.x).selfMultiply(G.valueOf(t.y).selfSubtract(o.y)),B=G.valueOf(a.y).selfSubtract(o.y).selfMultiply(G.valueOf(t.x).selfSubtract(o.x)),rt=C.subtract(B).selfDivide(x).doubleValue(),Et=G.valueOf(t.x).selfAdd(G.valueOf(e.x).selfSubtract(t.x).selfMultiply(rt)).doubleValue(),Pt=G.valueOf(e.x).selfSubtract(t.x).selfMultiply(G.valueOf(t.y).selfSubtract(o.y)),Ut=G.valueOf(e.y).selfSubtract(t.y).selfMultiply(G.valueOf(t.x).selfSubtract(o.x)),Yt=Pt.subtract(Ut).selfDivide(x).doubleValue(),$t=G.valueOf(o.y).selfAdd(G.valueOf(a.y).selfSubtract(o.y).selfMultiply(Yt)).doubleValue();return new w(Et,$t)},Lt.orientationIndexFilter=function(t,e,o){var a=null,c=(t.x-o.x)*(e.y-o.y),y=(t.y-o.y)*(e.x-o.x),x=c-y;if(c>0){if(y<=0)return Lt.signum(x);a=c+y}else{if(!(c<0)||y>=0)return Lt.signum(x);a=-c-y}var C=Lt.DP_SAFE_EPSILON*a;return x>=C||-x>=C?Lt.signum(x):2},Lt.signum=function(t){return t>0?1:t<0?-1:0},Xt.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Lt,Xt);var Tt=function(){},se={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};se.X.get=function(){return 0},se.Y.get=function(){return 1},se.Z.get=function(){return 2},se.M.get=function(){return 3},Tt.prototype.setOrdinate=function(t,e,o){},Tt.prototype.size=function(){},Tt.prototype.getOrdinate=function(t,e){},Tt.prototype.getCoordinate=function(){},Tt.prototype.getCoordinateCopy=function(t){},Tt.prototype.getDimension=function(){},Tt.prototype.getX=function(t){},Tt.prototype.clone=function(){},Tt.prototype.expandEnvelope=function(t){},Tt.prototype.copy=function(){},Tt.prototype.getY=function(t){},Tt.prototype.toCoordinateArray=function(){},Tt.prototype.interfaces_=function(){return[M]},Tt.prototype.getClass=function(){return Tt},Object.defineProperties(Tt,se);var pe=function(){},ue=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(pe),Jt=function(){};Jt.arraycopy=function(t,e,o,a,c){for(var y=0,x=e;x<e+c;x++)o[a+y]=t[x],y++},Jt.getProperty=function(t){return{"line.separator":"\n"}[t]};var Wt=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[1];this.x=arguments[0],this.y=a,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var c=arguments[0],y=arguments[1];this.x=c.y*y.w-y.y*c.w,this.y=y.x*c.w-c.x*y.w,this.w=c.x*y.y-y.x*c.y}else if(arguments[0]instanceof w&&arguments[1]instanceof w){var x=arguments[0],C=arguments[1];this.x=x.y-C.y,this.y=C.x-x.x,this.w=x.x*C.y-C.x*x.y}}else if(3===arguments.length){var rt=arguments[1],Et=arguments[2];this.x=arguments[0],this.y=rt,this.w=Et}else if(4===arguments.length){var Pt=arguments[0],Ut=arguments[1],Yt=arguments[2],$t=arguments[3],ne=Pt.y-Ut.y,Ke=Ut.x-Pt.x,Ln=Pt.x*Ut.y-Ut.x*Pt.y,ar=Yt.y-$t.y,Tr=$t.x-Yt.x,io=Yt.x*$t.y-$t.x*Yt.y;this.x=Ke*io-Tr*Ln,this.y=ar*Ln-ne*io,this.w=ne*Tr-ar*Ke}};Wt.prototype.getY=function(){var t=this.y/this.w;if(N.isNaN(t)||N.isInfinite(t))throw new ue;return t},Wt.prototype.getX=function(){var t=this.x/this.w;if(N.isNaN(t)||N.isInfinite(t))throw new ue;return t},Wt.prototype.getCoordinate=function(){var t=new w;return t.x=this.getX(),t.y=this.getY(),t},Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.intersection=function(t,e,o,a){var c=t.y-e.y,y=e.x-t.x,x=t.x*e.y-e.x*t.y,C=o.y-a.y,B=a.x-o.x,rt=o.x*a.y-a.x*o.y,Et=c*B-C*y,Pt=(y*rt-B*x)/Et,Ut=(C*x-c*rt)/Et;if(N.isNaN(Pt)||N.isInfinite(Pt)||N.isNaN(Ut)||N.isInfinite(Ut))throw new ue;return new w(Pt,Ut)};var Gt=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof w){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var a=arguments[0],c=arguments[1];this.init(a.x,c.x,a.y,c.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},mn={serialVersionUID:{configurable:!0}};Gt.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Gt.prototype.equals=function(t){if(!(t instanceof Gt))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Gt.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new Gt:new Gt(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},Gt.prototype.isNull=function(){return this._maxx<this._minx},Gt.prototype.getMaxX=function(){return this._maxx},Gt.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Gt){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var o=arguments[0],a=arguments[1];return!this.isNull()&&o>=this._minx&&o<=this._maxx&&a>=this._miny&&a<=this._maxy}},Gt.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Gt){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof w){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var o=arguments[0],a=arguments[1];return!this.isNull()&&!(o>this._maxx||o<this._minx||a>this._maxy||a<this._miny)}},Gt.prototype.getMinY=function(){return this._miny},Gt.prototype.getMinX=function(){return this._minx},Gt.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Gt){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var o=arguments[0],a=arguments[1];this.isNull()?(this._minx=o,this._maxx=o,this._miny=a,this._maxy=a):(o<this._minx&&(this._minx=o),o>this._maxx&&(this._maxx=o),a<this._miny&&(this._miny=a),a>this._maxy&&(this._maxy=a))}},Gt.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Gt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Gt.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Gt.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Gt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Gt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Gt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Gt.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Gt.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=o,this._maxy+=o,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Gt.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Gt)return this.covers(arguments[0]);if(arguments[0]instanceof w)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Gt.prototype.centre=function(){return this.isNull()?null:new w((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Gt.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Gt){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var o=arguments[0],a=arguments[1];this.init(o.x,a.x,o.y,a.y)}else if(4===arguments.length){var c=arguments[0],y=arguments[1],x=arguments[2],C=arguments[3];c<y?(this._minx=c,this._maxx=y):(this._minx=y,this._maxx=c),x<C?(this._miny=x,this._maxy=C):(this._miny=C,this._maxy=x)}},Gt.prototype.getMaxY=function(){return this._maxy},Gt.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var o=0;return this._maxy<t._miny?o=t._miny-this._maxy:this._miny>t._maxy&&(o=this._miny-t._maxy),0===e?o:0===o?e:Math.sqrt(e*e+o*o)},Gt.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+w.hashCode(this._minx))+w.hashCode(this._maxx))+w.hashCode(this._miny))+w.hashCode(this._maxy)},Gt.prototype.interfaces_=function(){return[I,q]},Gt.prototype.getClass=function(){return Gt},Gt.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2];return o.x>=(t.x<e.x?t.x:e.x)&&o.x<=(t.x>e.x?t.x:e.x)&&o.y>=(t.y<e.y?t.y:e.y)&&o.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var a=arguments[0],c=arguments[1],y=arguments[2],x=arguments[3],C=Math.min(y.x,x.x),B=Math.max(y.x,x.x),rt=Math.min(a.x,c.x),Et=Math.max(a.x,c.x);return!(rt>B||Et<C||(C=Math.min(y.y,x.y),B=Math.max(y.y,x.y),rt=Math.min(a.y,c.y),Et=Math.max(a.y,c.y),rt>B||Et<C))}},mn.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Gt,mn);var cn={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},xn=function(t){this.geometryFactory=t||new ve};xn.prototype.read=function(t){var e,o;t=t.replace(/[\n\r]/g," ");var c=cn.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((c=cn.emptyTypeStr.exec(t))[2]=void 0),c&&(o=c[1].toLowerCase(),dn[o]&&(e=dn[o].apply(this,[c[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},xn.prototype.write=function(t){return this.extractGeometry(t)},xn.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!un[e])return null;var o=e.toUpperCase();return t.isEmpty()?o+" EMPTY":o+"("+un[e].apply(this,[t])+")"};var un={coordinate:function(t){return t.x+" "+t.y},point:function(t){return un.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],o=0,a=t._geometries.length;o<a;++o)e.push("("+un.point.apply(this,[t._geometries[o]])+")");return e.join(",")},linestring:function(t){for(var e=[],o=0,a=t._points._coordinates.length;o<a;++o)e.push(un.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},linearring:function(t){for(var e=[],o=0,a=t._points._coordinates.length;o<a;++o)e.push(un.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},multilinestring:function(t){for(var e=[],o=0,a=t._geometries.length;o<a;++o)e.push("("+un.linestring.apply(this,[t._geometries[o]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+un.linestring.apply(this,[t._shell])+")");for(var o=0,a=t._holes.length;o<a;++o)e.push("("+un.linestring.apply(this,[t._holes[o]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],o=0,a=t._geometries.length;o<a;++o)e.push("("+un.polygon.apply(this,[t._geometries[o]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],o=0,a=t._geometries.length;o<a;++o)e.push(this.extractGeometry(t._geometries[o]));return e.join(",")}},dn={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(cn.spaces);return this.geometryFactory.createPoint(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,o=t.trim().split(","),a=[],c=0,y=o.length;c<y;++c)e=o[c].replace(cn.trimParens,"$1"),a.push(dn.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(a)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,o=t.trim().split(","),a=[],c=0,y=o.length;c<y;++c)e=o[c].trim().split(cn.spaces),a.push(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(a)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,o=t.trim().split(","),a=[],c=0,y=o.length;c<y;++c)e=o[c].trim().split(cn.spaces),a.push(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(a)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,o=t.trim().split(cn.parenComma),a=[],c=0,y=o.length;c<y;++c)e=o[c].replace(cn.trimParens,"$1"),a.push(dn.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(a)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,o,a,c,y=t.trim().split(cn.parenComma),x=[],C=0,B=y.length;C<B;++C)e=y[C].replace(cn.trimParens,"$1"),o=dn.linestring.apply(this,[e]),a=this.geometryFactory.createLinearRing(o._points),0===C?c=a:x.push(a);return this.geometryFactory.createPolygon(c,x)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,o=t.trim().split(cn.doubleParenComma),a=[],c=0,y=o.length;c<y;++c)e=o[c].replace(cn.trimParens,"$1"),a.push(dn.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),o=[],a=0,c=e.length;a<c;++a)o.push(this.read(e[a]));return this.geometryFactory.createGeometryCollection(o)}},dt=function(t){this.parser=new xn(t)};dt.prototype.write=function(t){return this.parser.write(t)},dt.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var D=function(t){function e(o){t.call(this,o),this.name="RuntimeException",this.message=o,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),A=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(D),L=function(){};L.prototype.interfaces_=function(){return[]},L.prototype.getClass=function(){return L},L.shouldNeverReachHere=function(){if(0===arguments.length)L.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new A("Should never reach here"+(null!==t?": "+t:""))}},L.isTrue=function(){var e;if(1===arguments.length)L.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new A:new A(e)},L.equals=function(){var t,e,o;if(2===arguments.length)L.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(o=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new A("Expected "+t+" but encountered "+e+(null!==o?": "+o:""))};var V=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new w,this._intPt[1]=new w,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},lt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};V.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},V.prototype.getTopologySummary=function(){var t=new X;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},V.prototype.computeIntersection=function(t,e,o,a){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=o,this._inputLines[1][1]=a,this._result=this.computeIntersect(t,e,o,a)},V.prototype.getIntersectionNum=function(){return this._result},V.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},V.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},V.prototype.setPrecisionModel=function(t){this._precisionModel=t},V.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},V.prototype.getIntersection=function(t){return this._intPt[t]},V.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},V.prototype.hasIntersection=function(){return this._result!==V.NO_INTERSECTION},V.prototype.getEdgeDistance=function(t,e){return V.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},V.prototype.isCollinear=function(){return this._result===V.COLLINEAR_INTERSECTION},V.prototype.toString=function(){return dt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+dt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},V.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},V.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},V.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},V.prototype.interfaces_=function(){return[]},V.prototype.getClass=function(){return V},V.computeEdgeDistance=function(t,e,o){var a=Math.abs(o.x-e.x),c=Math.abs(o.y-e.y),y=-1;if(t.equals(e))y=0;else if(t.equals(o))y=a>c?a:c;else{var x=Math.abs(t.x-e.x),C=Math.abs(t.y-e.y);0!==(y=a>c?x:C)||t.equals(e)||(y=Math.max(x,C))}return L.isTrue(!(0===y&&!t.equals(e)),"Bad distance calculation"),y},V.nonRobustComputeEdgeDistance=function(t,e,o){var a=t.x-e.x,c=t.y-e.y,y=Math.sqrt(a*a+c*c);return L.isTrue(!(0===y&&!t.equals(e)),"Invalid distance calculation"),y},lt.DONT_INTERSECT.get=function(){return 0},lt.DO_INTERSECT.get=function(){return 1},lt.COLLINEAR.get=function(){return 2},lt.NO_INTERSECTION.get=function(){return 0},lt.POINT_INTERSECTION.get=function(){return 1},lt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(V,lt);var wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(o){var a=new Gt(this._inputLines[0][0],this._inputLines[0][1]),c=new Gt(this._inputLines[1][0],this._inputLines[1][1]);return a.contains(o)&&c.contains(o)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var o=arguments[0],a=arguments[1],c=arguments[2];if(this._isProper=!1,Gt.intersects(a,c,o)&&0===Mt.orientationIndex(a,c,o)&&0===Mt.orientationIndex(c,a,o))return this._isProper=!0,(o.equals(a)||o.equals(c))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(o,a,c,y,x){x.x=this.smallestInAbsValue(o.x,a.x,c.x,y.x),x.y=this.smallestInAbsValue(o.y,a.y,c.y,y.y),o.x-=x.x,o.y-=x.y,a.x-=x.x,a.y-=x.y,c.x-=x.x,c.y-=x.y,y.x-=x.x,y.y-=x.y},e.prototype.safeHCoordinateIntersection=function(o,a,c,y){var x=null;try{x=Wt.intersection(o,a,c,y)}catch(C){if(!(C instanceof ue))throw C;x=e.nearestEndpoint(o,a,c,y)}return x},e.prototype.intersection=function(o,a,c,y){var x=this.intersectionWithNormalization(o,a,c,y);return this.isInSegmentEnvelopes(x)||(x=new w(e.nearestEndpoint(o,a,c,y))),null!==this._precisionModel&&this._precisionModel.makePrecise(x),x},e.prototype.smallestInAbsValue=function(o,a,c,y){var x=o,C=Math.abs(x);return Math.abs(a)<C&&(x=a,C=Math.abs(a)),Math.abs(c)<C&&(x=c,C=Math.abs(c)),Math.abs(y)<C&&(x=y),x},e.prototype.checkDD=function(o,a,c,y,x){var C=Lt.intersection(o,a,c,y),B=this.isInSegmentEnvelopes(C);Jt.out.println("DD in env = "+B+"  --------------------- "+C),x.distance(C)>1e-4&&Jt.out.println("Distance = "+x.distance(C))},e.prototype.intersectionWithNormalization=function(o,a,c,y){var x=new w(o),C=new w(a),B=new w(c),rt=new w(y),Et=new w;this.normalizeToEnvCentre(x,C,B,rt,Et);var Pt=this.safeHCoordinateIntersection(x,C,B,rt);return Pt.x+=Et.x,Pt.y+=Et.y,Pt},e.prototype.computeCollinearIntersection=function(o,a,c,y){var x=Gt.intersects(o,a,c),C=Gt.intersects(o,a,y),B=Gt.intersects(c,y,o),rt=Gt.intersects(c,y,a);return x&&C?(this._intPt[0]=c,this._intPt[1]=y,t.COLLINEAR_INTERSECTION):B&&rt?(this._intPt[0]=o,this._intPt[1]=a,t.COLLINEAR_INTERSECTION):x&&B?(this._intPt[0]=c,this._intPt[1]=o,!c.equals(o)||C||rt?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):x&&rt?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||C||B?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):C&&B?(this._intPt[0]=y,this._intPt[1]=o,!y.equals(o)||x||rt?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):C&&rt?(this._intPt[0]=y,this._intPt[1]=a,!y.equals(a)||x||B?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(o,a,c,y,x){var C=o.x<a.x?o.x:a.x,B=o.y<a.y?o.y:a.y,rt=o.x>a.x?o.x:a.x,Et=o.y>a.y?o.y:a.y,Pt=c.x<y.x?c.x:y.x,Ut=c.y<y.y?c.y:y.y,Yt=c.x>y.x?c.x:y.x,$t=c.y>y.y?c.y:y.y,Ke=((B>Ut?B:Ut)+(Et<$t?Et:$t))/2;x.x=((C>Pt?C:Pt)+(rt<Yt?rt:Yt))/2,x.y=Ke,o.x-=x.x,o.y-=x.y,a.x-=x.x,a.y-=x.y,c.x-=x.x,c.y-=x.y,y.x-=x.x,y.y-=x.y},e.prototype.computeIntersect=function(o,a,c,y){if(this._isProper=!1,!Gt.intersects(o,a,c,y))return t.NO_INTERSECTION;var x=Mt.orientationIndex(o,a,c),C=Mt.orientationIndex(o,a,y);if(x>0&&C>0||x<0&&C<0)return t.NO_INTERSECTION;var B=Mt.orientationIndex(c,y,o),rt=Mt.orientationIndex(c,y,a);return B>0&&rt>0||B<0&&rt<0?t.NO_INTERSECTION:0===x&&0===C&&0===B&&0===rt?this.computeCollinearIntersection(o,a,c,y):(0===x||0===C||0===B||0===rt?(this._isProper=!1,o.equals2D(c)||o.equals2D(y)?this._intPt[0]=o:a.equals2D(c)||a.equals2D(y)?this._intPt[0]=a:0===x?this._intPt[0]=new w(c):0===C?this._intPt[0]=new w(y):0===B?this._intPt[0]=new w(o):0===rt&&(this._intPt[0]=new w(a))):(this._isProper=!0,this._intPt[0]=this.intersection(o,a,c,y)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(o,a,c,y){var x=o,C=Mt.distancePointLine(o,c,y),B=Mt.distancePointLine(a,c,y);return B<C&&(C=B,x=a),(B=Mt.distancePointLine(c,o,a))<C&&(C=B,x=c),(B=Mt.distancePointLine(y,o,a))<C&&(C=B,x=y),x},e}(V),Dt=function(){};Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt},Dt.orientationIndex=function(t,e,o){return Dt.signOfDet2x2(e.x-t.x,e.y-t.y,o.x-e.x,o.y-e.y)},Dt.signOfDet2x2=function(t,e,o,a){var c=null,y=null,x=null;if(c=1,0===t||0===a)return 0===e||0===o?0:e>0?o>0?-c:c:o>0?c:-c;if(0===e||0===o)return a>0?t>0?c:-c:t>0?-c:c;if(e>0?a>0?e<=a||(c=-c,y=t,t=o,o=y,y=e,e=a,a=y):e<=-a?(c=-c,o=-o,a=-a):(y=t,t=-o,o=y,y=e,e=-a,a=y):a>0?-e<=a?(c=-c,t=-t,e=-e):(y=-t,t=o,o=y,y=-e,e=a,a=y):e>=a?(t=-t,e=-e,o=-o,a=-a):(c=-c,y=-t,t=-o,o=y,y=-e,e=-a,a=y),t>0){if(!(o>0&&t<=o))return c}else{if(o>0||!(t>=o))return-c;c=-c,t=-t,o=-o}for(;;){if((a-=(x=Math.floor(o/t))*e)<0)return-c;if(a>e)return c;if(t>(o-=x*t)+o){if(e<a+a)return c}else{if(e>a+a)return-c;o=t-o,a=e-a,c=-c}if(0===a)return 0===o?0:-c;if(0===o||(t-=(x=Math.floor(t/o))*o,(e-=x*a)<0))return c;if(e>a)return-c;if(o>t+t){if(a<e+e)return-c}else{if(a>e+e)return c;t=o-t,e=a-e,c=-c}if(0===e)return 0===t?0:c;if(0===t)return-c}};var Ft=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Ft.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var o=t.x,a=e.x;return o>a&&(o=e.x,a=t.x),this._p.x>=o&&this._p.x<=a&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var y=t.y-this._p.y,C=e.y-this._p.y,B=Dt.signOfDet2x2(t.x-this._p.x,y,e.x-this._p.x,C);if(0===B)return this._isPointOnSegment=!0,null;C<y&&(B=-B),B>0&&this._crossingCount++}},Ft.prototype.isPointInPolygon=function(){return this.getLocation()!==R.EXTERIOR},Ft.prototype.getLocation=function(){return this._isPointOnSegment?R.BOUNDARY:this._crossingCount%2==1?R.INTERIOR:R.EXTERIOR},Ft.prototype.isOnSegment=function(){return this._isPointOnSegment},Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft},Ft.locatePointInRing=function(){if(arguments[0]instanceof w&&Nt(arguments[1],Tt)){for(var e=arguments[1],o=new Ft(arguments[0]),a=new w,c=new w,y=1;y<e.size();y++)if(e.getCoordinate(y,a),e.getCoordinate(y-1,c),o.countSegment(a,c),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof w&&arguments[1]instanceof Array){for(var C=arguments[1],B=new Ft(arguments[0]),rt=1;rt<C.length;rt++)if(B.countSegment(C[rt],C[rt-1]),B.isOnSegment())return B.getLocation();return B.getLocation()}};var Mt=function(){},ae={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt},Mt.orientationIndex=function(t,e,o){return Lt.orientationIndex(t,e,o)},Mt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,o=t[0].x,a=1;a<t.length-1;a++)e+=(t[a].x-o)*(t[a-1].y-t[a+1].y);return e/2}if(Nt(arguments[0],Tt)){var x=arguments[0],C=x.size();if(C<3)return 0;var B=new w,rt=new w,Et=new w;x.getCoordinate(0,rt),x.getCoordinate(1,Et);var Pt=rt.x;Et.x-=Pt;for(var Ut=0,Yt=1;Yt<C-1;Yt++)B.y=rt.y,rt.x=Et.x,rt.y=Et.y,x.getCoordinate(Yt+1,Et),Et.x-=Pt,Ut+=rt.x*(B.y-Et.y);return Ut/2}},Mt.distanceLineLine=function(t,e,o,a){if(t.equals(e))return Mt.distancePointLine(t,o,a);if(o.equals(a))return Mt.distancePointLine(a,t,e);var c=!1;if(Gt.intersects(t,e,o,a)){var y=(e.x-t.x)*(a.y-o.y)-(e.y-t.y)*(a.x-o.x);if(0===y)c=!0;else{var C=((t.y-o.y)*(e.x-t.x)-(t.x-o.x)*(e.y-t.y))/y,B=((t.y-o.y)*(a.x-o.x)-(t.x-o.x)*(a.y-o.y))/y;(B<0||B>1||C<0||C>1)&&(c=!0)}}else c=!0;return c?Z.min(Mt.distancePointLine(t,o,a),Mt.distancePointLine(e,o,a),Mt.distancePointLine(o,t,e),Mt.distancePointLine(a,t,e)):0},Mt.isPointInRing=function(t,e){return Mt.locatePointInRing(t,e)!==R.EXTERIOR},Mt.computeLength=function(t){var e=t.size();if(e<=1)return 0;var o=0,a=new w;t.getCoordinate(0,a);for(var c=a.x,y=a.y,x=1;x<e;x++){t.getCoordinate(x,a);var C=a.x,B=a.y,rt=C-c,Et=B-y;o+=Math.sqrt(rt*rt+Et*Et),c=C,y=B}return o},Mt.isCCW=function(t){var e=t.length-1;if(e<3)throw new S("Ring has fewer than 4 points, so orientation cannot be determined");for(var o=t[0],a=0,c=1;c<=e;c++){var y=t[c];y.y>o.y&&(o=y,a=c)}var x=a;do{(x-=1)<0&&(x=e)}while(t[x].equals2D(o)&&x!==a);var C=a;do{C=(C+1)%e}while(t[C].equals2D(o)&&C!==a);var B=t[x],rt=t[C];if(B.equals2D(o)||rt.equals2D(o)||B.equals2D(rt))return!1;var Et=Mt.computeOrientation(B,o,rt);return 0===Et?B.x>rt.x:Et>0},Mt.locatePointInRing=function(t,e){return Ft.locatePointInRing(t,e)},Mt.distancePointLinePerpendicular=function(t,e,o){var a=(o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y);return Math.abs(((e.y-t.y)*(o.x-e.x)-(e.x-t.x)*(o.y-e.y))/a)*Math.sqrt(a)},Mt.computeOrientation=function(t,e,o){return Mt.orientationIndex(t,e,o)},Mt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new S("Line array must contain at least one vertex");for(var o=t.distance(e[0]),a=0;a<e.length-1;a++){var c=Mt.distancePointLine(t,e[a],e[a+1]);c<o&&(o=c)}return o}if(3===arguments.length){var y=arguments[0],x=arguments[1],C=arguments[2];if(x.x===C.x&&x.y===C.y)return y.distance(x);var B=(C.x-x.x)*(C.x-x.x)+(C.y-x.y)*(C.y-x.y),rt=((y.x-x.x)*(C.x-x.x)+(y.y-x.y)*(C.y-x.y))/B;return rt<=0?y.distance(x):rt>=1?y.distance(C):Math.abs(((x.y-y.y)*(C.x-x.x)-(x.x-y.x)*(C.y-x.y))/B)*Math.sqrt(B)}},Mt.isOnLine=function(t,e){for(var o=new wt,a=1;a<e.length;a++)if(o.computeIntersection(t,e[a-1],e[a]),o.hasIntersection())return!0;return!1},ae.CLOCKWISE.get=function(){return-1},ae.RIGHT.get=function(){return Mt.CLOCKWISE},ae.COUNTERCLOCKWISE.get=function(){return 1},ae.LEFT.get=function(){return Mt.COUNTERCLOCKWISE},ae.COLLINEAR.get=function(){return 0},ae.STRAIGHT.get=function(){return Mt.COLLINEAR},Object.defineProperties(Mt,ae);var de=function(){};de.prototype.filter=function(t){},de.prototype.interfaces_=function(){return[]},de.prototype.getClass=function(){return de};var Zt=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ye={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Zt.prototype.isGeometryCollection=function(){return this.getSortIndex()===Zt.SORTINDEX_GEOMETRYCOLLECTION},Zt.prototype.getFactory=function(){return this._factory},Zt.prototype.getGeometryN=function(t){return this},Zt.prototype.getArea=function(){return 0},Zt.prototype.isRectangle=function(){return!1},Zt.prototype.equals=function(){if(arguments[0]instanceof Zt){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof Zt&&this.equalsExact(e)}},Zt.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Zt.prototype.geometryChanged=function(){this.apply(Zt.geometryChangedFilter)},Zt.prototype.geometryChangedAction=function(){this._envelope=null},Zt.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Zt.prototype.getLength=function(){return 0},Zt.prototype.getNumGeometries=function(){return 1},Zt.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var o=arguments[0],a=arguments[1];return this.getSortIndex()!==o.getSortIndex()?this.getSortIndex()-o.getSortIndex():this.isEmpty()&&o.isEmpty()?0:this.isEmpty()?-1:o.isEmpty()?1:this.compareToSameClass(o,a)}},Zt.prototype.getUserData=function(){return this._userData},Zt.prototype.getSRID=function(){return this._SRID},Zt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Zt.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Zt.SORTINDEX_GEOMETRYCOLLECTION)throw new S("This method does not support GeometryCollection arguments")},Zt.prototype.equal=function(t,e,o){return 0===o?t.equals(e):t.distance(e)<=o},Zt.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Zt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Zt.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Gt(this._envelope)},Zt.prototype.setSRID=function(t){this._SRID=t},Zt.prototype.setUserData=function(t){this._userData=t},Zt.prototype.compare=function(t,e){for(var o=t.iterator(),a=e.iterator();o.hasNext()&&a.hasNext();){var c=o.next(),y=a.next(),x=c.compareTo(y);if(0!==x)return x}return o.hasNext()?1:a.hasNext()?-1:0},Zt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Zt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Zt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Zt.SORTINDEX_MULTIPOINT||this.getSortIndex()===Zt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Zt.SORTINDEX_MULTIPOLYGON},Zt.prototype.interfaces_=function(){return[M,I,q]},Zt.prototype.getClass=function(){return Zt},Zt.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Zt.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},ye.serialVersionUID.get=function(){return 0x799ea46522854c00},ye.SORTINDEX_POINT.get=function(){return 0},ye.SORTINDEX_MULTIPOINT.get=function(){return 1},ye.SORTINDEX_LINESTRING.get=function(){return 2},ye.SORTINDEX_LINEARRING.get=function(){return 3},ye.SORTINDEX_MULTILINESTRING.get=function(){return 4},ye.SORTINDEX_POLYGON.get=function(){return 5},ye.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ye.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ye.geometryChangedFilter.get=function(){return vn},Object.defineProperties(Zt,ye);var vn=function(){};vn.interfaces_=function(){return[de]},vn.filter=function(t){t.geometryChangedAction()};var we=function(){};we.prototype.filter=function(t){},we.prototype.interfaces_=function(){return[]},we.prototype.getClass=function(){return we};var be=function(){},yn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};be.prototype.isInBoundary=function(t){},be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be},yn.Mod2BoundaryNodeRule.get=function(){return Dn},yn.EndPointBoundaryNodeRule.get=function(){return nr},yn.MultiValentEndPointBoundaryNodeRule.get=function(){return Tn},yn.MonoValentEndPointBoundaryNodeRule.get=function(){return vr},yn.MOD2_BOUNDARY_RULE.get=function(){return new Dn},yn.ENDPOINT_BOUNDARY_RULE.get=function(){return new nr},yn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Tn},yn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vr},yn.OGC_SFS_BOUNDARY_RULE.get=function(){return be.MOD2_BOUNDARY_RULE},Object.defineProperties(be,yn);var Dn=function(){};Dn.prototype.isInBoundary=function(t){return t%2==1},Dn.prototype.interfaces_=function(){return[be]},Dn.prototype.getClass=function(){return Dn};var nr=function(){};nr.prototype.isInBoundary=function(t){return t>0},nr.prototype.interfaces_=function(){return[be]},nr.prototype.getClass=function(){return nr};var Tn=function(){};Tn.prototype.isInBoundary=function(t){return t>1},Tn.prototype.interfaces_=function(){return[be]},Tn.prototype.getClass=function(){return Tn};var vr=function(){};vr.prototype.isInBoundary=function(t){return 1===t},vr.prototype.interfaces_=function(){return[be]},vr.prototype.getClass=function(){return vr};var fn=function(){};fn.prototype.add=function(){},fn.prototype.addAll=function(){},fn.prototype.isEmpty=function(){},fn.prototype.iterator=function(){},fn.prototype.size=function(){},fn.prototype.toArray=function(){},fn.prototype.remove=function(){},(Q.prototype=new Error).name="IndexOutOfBoundsException";var Xr=function(){};Xr.prototype.hasNext=function(){},Xr.prototype.next=function(){},Xr.prototype.remove=function(){};var Bn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(fn);(P.prototype=new Error).name="NoSuchElementException";var kt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof fn&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,fn]},e.prototype.add=function(o){return 1===arguments.length?this.array_.push(o):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(o){for(var a=o.iterator();a.hasNext();)this.add(a.next());return!0},e.prototype.set=function(o,a){var c=this.array_[o];return this.array_[o]=a,c},e.prototype.iterator=function(){return new Io(this)},e.prototype.get=function(o){if(o<0||o>=this.size())throw new Q;return this.array_[o]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var o=[],a=0,c=this.array_.length;a<c;a++)o.push(this.array_[a]);return o},e.prototype.remove=function(o){for(var a=!1,c=0,y=this.array_.length;c<y;c++)if(this.array_[c]===o){this.array_.splice(c,1),a=!0;break}return a},e}(Bn),Io=function(t){function e(o){t.call(this),this.arrayList_=o,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new P;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(o){return this.arrayList_.set(this.position_-1,o)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Xr),Or=function(t){function e(){if(t.call(this),0!==arguments.length)if(1===arguments.length){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(2===arguments.length){var c=arguments[0],y=arguments[1];this.ensureCapacity(c.length),this.add(c,y)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={coordArrayType:{configurable:!0}};return o.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(a){return this.get(a)},e.prototype.addAll=function(){if(2===arguments.length){for(var c=arguments[1],y=!1,x=arguments[0].iterator();x.hasNext();)this.add(x.next(),c),y=!0;return y}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var a=t.prototype.clone.call(this),c=0;c<this.size();c++)a.add(c,this.get(c).copy());return a},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof w&&"boolean"==typeof arguments[1]){var x=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(x))return null;t.prototype.add.call(this,x)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var rt=arguments[0],Et=arguments[1];if(arguments[2])for(var Pt=0;Pt<rt.length;Pt++)this.add(rt[Pt],Et);else for(var Ut=rt.length-1;Ut>=0;Ut--)this.add(rt[Ut],Et);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof w){var Yt=arguments[0],$t=arguments[1];if(!arguments[2]){var ne=this.size();if(ne>0&&(Yt>0&&this.get(Yt-1).equals2D($t)||Yt<ne&&this.get(Yt).equals2D($t)))return null}t.prototype.add.call(this,Yt,$t)}}else if(4===arguments.length){var Ke=arguments[0],Ln=arguments[1],ar=arguments[2],Tr=arguments[3],io=1;ar>Tr&&(io=-1);for(var Pa=ar;Pa!==Tr;Pa+=io)this.add(Ke[Pa],Ln);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new w(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,o),e}(kt),fe=function(){},Ii={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ii.ForwardComparator.get=function(){return _e},Ii.BidirectionalComparator.get=function(){return Si},Ii.coordArrayType.get=function(){return new Array(0).fill(null)},fe.prototype.interfaces_=function(){return[]},fe.prototype.getClass=function(){return fe},fe.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},fe.ptNotInList=function(t,e){for(var o=0;o<t.length;o++){var a=t[o];if(fe.indexOf(a,e)<0)return a}return null},fe.scroll=function(t,e){var o=fe.indexOf(e,t);if(o<0)return null;var a=new Array(t.length).fill(null);Jt.arraycopy(t,o,a,0,t.length-o),Jt.arraycopy(t,0,a,t.length-o,o),Jt.arraycopy(a,0,t,0,t.length)},fe.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e||t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!t[o].equals(e[o]))return!1;return!0}if(3===arguments.length){var a=arguments[0],c=arguments[1],y=arguments[2];if(a===c)return!0;if(null===a||null===c||a.length!==c.length)return!1;for(var x=0;x<a.length;x++)if(0!==y.compare(a[x],c[x]))return!1;return!0}},fe.intersection=function(t,e){for(var o=new Or,a=0;a<t.length;a++)e.intersects(t[a])&&o.add(t[a],!0);return o.toCoordinateArray()},fe.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},fe.removeRepeatedPoints=function(t){return fe.hasRepeatedPoints(t)?new Or(t,!1).toCoordinateArray():t},fe.reverse=function(t){for(var e=t.length-1,o=Math.trunc(e/2),a=0;a<=o;a++){var c=t[a];t[a]=t[e-a],t[e-a]=c}},fe.removeNull=function(t){for(var e=0,o=0;o<t.length;o++)null!==t[o]&&e++;var a=new Array(e).fill(null);if(0===e)return a;for(var c=0,y=0;y<t.length;y++)null!==t[y]&&(a[c++]=t[y]);return a},fe.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),o=0;o<t.length;o++)e[o]=new w(t[o]);return e}if(5===arguments.length)for(var a=arguments[0],c=arguments[1],y=arguments[2],x=arguments[3],C=arguments[4],B=0;B<C;B++)y[x+B]=new w(a[c+B])},fe.isEqualReversed=function(t,e){for(var o=0;o<t.length;o++)if(0!==t[o].compareTo(e[t.length-o-1]))return!1;return!0},fe.envelope=function(t){for(var e=new Gt,o=0;o<t.length;o++)e.expandToInclude(t[o]);return e},fe.toCoordinateArray=function(t){return t.toArray(fe.coordArrayType)},fe.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},fe.indexOf=function(t,e){for(var o=0;o<e.length;o++)if(t.equals(e[o]))return o;return-1},fe.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var a=t[e].compareTo(t[t.length-1-e]);if(0!==a)return a}return 1},fe.compare=function(t,e){for(var o=0;o<t.length&&o<e.length;){var a=t[o].compareTo(e[o]);if(0!==a)return a;o++}return o<e.length?-1:o<t.length?1:0},fe.minCoordinate=function(t){for(var e=null,o=0;o<t.length;o++)(null===e||e.compareTo(t[o])>0)&&(e=t[o]);return e},fe.extract=function(t,e,o){e=Z.clamp(e,0,t.length);var a=(o=Z.clamp(o,-1,t.length))-e+1;o<0&&(a=0),e>=t.length&&(a=0),o<e&&(a=0);var c=new Array(a).fill(null);if(0===a)return c;for(var y=0,x=e;x<=o;x++)c[y++]=t[x];return c},Object.defineProperties(fe,Ii);var _e=function(){};_e.prototype.compare=function(t,e){return fe.compare(t,e)},_e.prototype.interfaces_=function(){return[O]},_e.prototype.getClass=function(){return _e};var Si=function(){};Si.prototype.compare=function(t,e){var o=t,a=e;if(o.length<a.length)return-1;if(o.length>a.length)return 1;if(0===o.length)return 0;var c=fe.compare(o,a);return fe.isEqualReversed(o,a)?0:c},Si.prototype.OLDcompare=function(t,e){var o=t,a=e;if(o.length<a.length)return-1;if(o.length>a.length)return 1;if(0===o.length)return 0;for(var c=fe.increasingDirection(o),y=fe.increasingDirection(a),x=c>0?0:o.length-1,C=y>0?0:o.length-1,B=0;B<o.length;B++){var rt=o[x].compareTo(a[C]);if(0!==rt)return rt;x+=c,C+=y}return 0},Si.prototype.interfaces_=function(){return[O]},Si.prototype.getClass=function(){return Si};var fo=function(){};fo.prototype.get=function(){},fo.prototype.put=function(){},fo.prototype.size=function(){},fo.prototype.values=function(){},fo.prototype.entrySet=function(){};var pa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(fo);(h.prototype=new Error).name="OperationNotSupported",(nt.prototype=new fn).contains=function(){};var us=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof fn&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(o){for(var a=0,c=this.array_.length;a<c;a++)if(this.array_[a]===o)return!0;return!1},e.prototype.add=function(o){return!this.contains(o)&&(this.array_.push(o),!0)},e.prototype.addAll=function(o){for(var a=o.iterator();a.hasNext();)this.add(a.next());return!0},e.prototype.remove=function(o){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var o=[],a=0,c=this.array_.length;a<c;a++)o.push(this.array_[a]);return o},e.prototype.iterator=function(){return new Rs(this)},e}(nt),Rs=function(t){function e(o){t.call(this),this.hashSet_=o,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new P;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new h},e}(Xr),Pi=0;(xt.prototype=new pa).get=function(t){for(var e=this.root_;null!==e;){var o=t.compareTo(e.key);if(o<0)e=e.left;else{if(!(o>0))return e.value;e=e.right}}return null},xt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Pi,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var o,a,c=this.root_;do{if(o=c,(a=t.compareTo(c.key))<0)c=c.left;else{if(!(a>0)){var y=c.value;return c.value=e,y}c=c.right}}while(null!==c);var x={key:t,left:null,right:null,value:e,parent:o,color:Pi,getValue:function(){return this.value},getKey:function(){return this.key}};return a<0?o.left=x:o.right=x,this.fixAfterInsertion(x),this.size_++,null},xt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(st(t)===It(st(st(t)))){var e=At(st(st(t)));1===H(e)?(ct(st(t),Pi),ct(e,Pi),ct(st(st(t)),1),t=st(st(t))):(t===At(st(t))&&(t=st(t),this.rotateLeft(t)),ct(st(t),Pi),ct(st(st(t)),1),this.rotateRight(st(st(t))))}else{var o=It(st(st(t)));1===H(o)?(ct(st(t),Pi),ct(o,Pi),ct(st(st(t)),1),t=st(st(t))):(t===It(st(t))&&(t=st(t),this.rotateRight(t)),ct(st(t),Pi),ct(st(st(t)),1),this.rotateLeft(st(st(t))))}this.root_.color=Pi},xt.prototype.values=function(){var t=new kt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=xt.successor(e));)t.add(e.value);return t},xt.prototype.entrySet=function(){var t=new us,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=xt.successor(e));)t.add(e);return t},xt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},xt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},xt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},xt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var o=t.parent,a=t;null!==o&&a===o.right;)a=o,o=o.parent;return o},xt.prototype.size=function(){return this.size_};var Xo=function(){};Xo.prototype.interfaces_=function(){return[]},Xo.prototype.getClass=function(){return Xo},mt.prototype=new nt,(bt.prototype=new mt).contains=function(t){for(var e=0,o=this.array_.length;e<o;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},bt.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,o=this.array_.length;e<o;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},bt.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},bt.prototype.remove=function(t){throw new h},bt.prototype.size=function(){return this.array_.length},bt.prototype.isEmpty=function(){return 0===this.array_.length},bt.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t},bt.prototype.iterator=function(){return new ls(this)};var ls=function(t){this.treeSet_=t,this.position_=0};ls.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new P;return this.treeSet_.array_[this.position_++]},ls.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ls.prototype.remove=function(){throw new h};var Hi=function(){};Hi.sort=function(){var t,e,o,c=arguments[0];if(1===arguments.length)c.sort(function(x,C){return x.compareTo(C)});else if(2===arguments.length)o=arguments[1],c.sort(function(x,C){return o.compare(x,C)});else if(3===arguments.length){(e=c.slice(arguments[1],arguments[2])).sort();var y=c.slice(0,arguments[1]).concat(e,c.slice(arguments[2],c.length));for(c.splice(0,c.length),t=0;t<y.length;t++)c.push(y[t])}else if(4===arguments.length)for(e=c.slice(arguments[1],arguments[2]),o=arguments[3],e.sort(function(x,C){return o.compare(x,C)}),y=c.slice(0,arguments[1]).concat(e,c.slice(arguments[2],c.length)),c.splice(0,c.length),t=0;t<y.length;t++)c.push(y[t])},Hi.asList=function(t){for(var e=new kt,o=0,a=t.length;o<a;o++)e.add(t[o]);return e};var He=function(){},Jr={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Jr.P.get=function(){return 0},Jr.L.get=function(){return 1},Jr.A.get=function(){return 2},Jr.FALSE.get=function(){return-1},Jr.TRUE.get=function(){return-2},Jr.DONTCARE.get=function(){return-3},Jr.SYM_FALSE.get=function(){return"F"},Jr.SYM_TRUE.get=function(){return"T"},Jr.SYM_DONTCARE.get=function(){return"*"},Jr.SYM_P.get=function(){return"0"},Jr.SYM_L.get=function(){return"1"},Jr.SYM_A.get=function(){return"2"},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},He.toDimensionSymbol=function(t){switch(t){case He.FALSE:return He.SYM_FALSE;case He.TRUE:return He.SYM_TRUE;case He.DONTCARE:return He.SYM_DONTCARE;case He.P:return He.SYM_P;case He.L:return He.SYM_L;case He.A:return He.SYM_A}throw new S("Unknown dimension value: "+t)},He.toDimensionValue=function(t){switch(ut.toUpperCase(t)){case He.SYM_FALSE:return He.FALSE;case He.SYM_TRUE:return He.TRUE;case He.SYM_DONTCARE:return He.DONTCARE;case He.SYM_P:return He.P;case He.SYM_L:return He.L;case He.SYM_A:return He.A}throw new S("Unknown dimension symbol: "+t)},Object.defineProperties(He,Jr);var Qr=function(){};Qr.prototype.filter=function(t){},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr};var Kr=function(){};Kr.prototype.filter=function(t,e){},Kr.prototype.isDone=function(){},Kr.prototype.isGeometryChanged=function(){},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr};var lr=function(t){function e(a,c){if(t.call(this,c),this._geometries=a||[],t.hasNullElements(this._geometries))throw new S("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var a=new Gt,c=0;c<this._geometries.length;c++)a.expandToInclude(this._geometries[c].getEnvelopeInternal());return a},e.prototype.getGeometryN=function(a){return this._geometries[a]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var a=new Array(this.getNumPoints()).fill(null),c=-1,y=0;y<this._geometries.length;y++)for(var x=this._geometries[y].getCoordinates(),C=0;C<x.length;C++)a[++c]=x[C];return a},e.prototype.getArea=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getArea();return a},e.prototype.equalsExact=function(){if(2===arguments.length){var a=arguments[0],c=arguments[1];if(!this.isEquivalentClass(a))return!1;var y=a;if(this._geometries.length!==y._geometries.length)return!1;for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].equalsExact(y._geometries[x],c))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();Hi.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var a=He.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getBoundaryDimension());return a},e.prototype.getDimension=function(){for(var a=He.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getDimension());return a},e.prototype.getLength=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getLength();return a},e.prototype.getNumPoints=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getNumPoints();return a},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var c=new Array(this._geometries.length).fill(null),y=0;y<this._geometries.length;y++)c[y]=this._geometries[y].reverse();return this.getFactory().createGeometryCollection(c)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var a=arguments[0],c=new bt(Hi.asList(this._geometries)),y=new bt(Hi.asList(a._geometries));return this.compare(c,y)}if(2===arguments.length){for(var C=arguments[1],B=arguments[0],rt=this.getNumGeometries(),Et=B.getNumGeometries(),Pt=0;Pt<rt&&Pt<Et;){var Ut=this.getGeometryN(Pt),Yt=B.getGeometryN(Pt),$t=Ut.compareToSameClass(Yt,C);if(0!==$t)return $t;Pt++}return Pt<rt?1:Pt<Et?-1:0}},e.prototype.apply=function(){if(Nt(arguments[0],we))for(var a=arguments[0],c=0;c<this._geometries.length;c++)this._geometries[c].apply(a);else if(Nt(arguments[0],Kr)){var y=arguments[0];if(0===this._geometries.length)return null;for(var x=0;x<this._geometries.length&&(this._geometries[x].apply(y),!y.isDone());x++);y.isGeometryChanged()&&this.geometryChanged()}else if(Nt(arguments[0],Qr)){var C=arguments[0];C.filter(this);for(var B=0;B<this._geometries.length;B++)this._geometries[B].apply(C)}else if(Nt(arguments[0],de)){var rt=arguments[0];rt.filter(this);for(var Et=0;Et<this._geometries.length;Et++)this._geometries[Et].apply(rt)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),L.shouldNeverReachHere(),null},e.prototype.clone=function(){var a=t.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var c=0;c<this._geometries.length;c++)a._geometries[c]=this._geometries[c].clone();return a},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new e(a,this._factory)},e.prototype.isEmpty=function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,o),e}(Zt),ho=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Zt.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&t.prototype.equalsExact.call(this,a,c)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?He.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),y=0;y<this._geometries.length;y++)c[a-1-y]=this._geometries[y].reverse();return this.getFactory().createMultiLineString(c)},e.prototype.getBoundary=function(){return new Nr(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new e(a,this._factory)},e.prototype.interfaces_=function(){return[Xo]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,o),e}(lr),Nr=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=be.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var o=arguments[0],a=arguments[1];this._geom=o,this._geomFact=o.getFactory(),this._bnRule=a}};Nr.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Nr.prototype.getBoundary=function(){return this._geom instanceof En?this.boundaryLineString(this._geom):this._geom instanceof ho?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Nr.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Nr.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Nr.prototype.computeBoundaryCoordinates=function(t){var e=new kt;this._endpointMap=new xt;for(var o=0;o<t.getNumGeometries();o++){var a=t.getGeometryN(o);0!==a.getNumPoints()&&(this.addEndpoint(a.getCoordinateN(0)),this.addEndpoint(a.getCoordinateN(a.getNumPoints()-1)))}for(var c=this._endpointMap.entrySet().iterator();c.hasNext();){var y=c.next(),x=y.getValue().count;this._bnRule.isInBoundary(x)&&e.add(y.getKey())}return fe.toCoordinateArray(e)},Nr.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Jo,this._endpointMap.put(t,e)),e.count++},Nr.prototype.interfaces_=function(){return[]},Nr.prototype.getClass=function(){return Nr},Nr.getBoundary=function(){return 1===arguments.length?new Nr(arguments[0]).getBoundary():2===arguments.length?new Nr(arguments[0],arguments[1]).getBoundary():void 0};var Jo=function(){this.count=null};Jo.prototype.interfaces_=function(){return[]},Jo.prototype.getClass=function(){return Jo};var Rr=function(){},ga={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.chars=function(t,e){for(var o=new Array(e).fill(null),a=0;a<e;a++)o[a]=t;return String(o)},Rr.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},o=new function(){}(e);return t.printStackTrace(o),e.toString()}if(2===arguments.length){for(var c=arguments[1],y="",x=new function(){}(new function(){}(Rr.getStackTrace(arguments[0]))),C=0;C<c;C++)try{y+=x.readLine()+Rr.NEWLINE}catch(B){if(!(B instanceof qt))throw B;L.shouldNeverReachHere()}return y}},Rr.split=function(t,e){for(var o=e.length,a=new kt,c=""+t,y=c.indexOf(e);y>=0;){var x=c.substring(0,y);a.add(x),y=(c=c.substring(y+o)).indexOf(e)}c.length>0&&a.add(c);for(var C=new Array(a.size()).fill(null),B=0;B<C.length;B++)C[B]=a.get(B);return C},Rr.toString=function(){if(1===arguments.length)return Rr.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},Rr.spaces=function(t){return Rr.chars(" ",t)},ga.NEWLINE.get=function(){return Jt.getProperty("line.separator")},ga.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Rr,ga);var In=function(){};In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},In.copyCoord=function(t,e,o,a){for(var c=Math.min(t.getDimension(),o.getDimension()),y=0;y<c;y++)o.setOrdinate(a,y,t.getOrdinate(e,y))},In.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Tt.X)===t.getOrdinate(e-1,Tt.X)&&t.getOrdinate(0,Tt.Y)===t.getOrdinate(e-1,Tt.Y)},In.isEqual=function(t,e){var o=t.size();if(o!==e.size())return!1;for(var a=Math.min(t.getDimension(),e.getDimension()),c=0;c<o;c++)for(var y=0;y<a;y++){var x=t.getOrdinate(c,y),C=e.getOrdinate(c,y);if(!(t.getOrdinate(c,y)===e.getOrdinate(c,y)||N.isNaN(x)&&N.isNaN(C)))return!1}return!0},In.extend=function(t,e,o){var a=t.create(o,e.getDimension()),c=e.size();if(In.copy(e,0,a,0,c),c>0)for(var y=c;y<o;y++)In.copy(e,c-1,a,y,1);return a},In.reverse=function(t){for(var e=t.size()-1,o=Math.trunc(e/2),a=0;a<=o;a++)In.swap(t,a,e-a)},In.swap=function(t,e,o){if(e===o)return null;for(var a=0;a<t.getDimension();a++){var c=t.getOrdinate(e,a);t.setOrdinate(e,a,t.getOrdinate(o,a)),t.setOrdinate(o,a,c)}},In.copy=function(t,e,o,a,c){for(var y=0;y<c;y++)In.copyCoord(t,e+y,o,a+y)},In.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var o=t.getDimension(),a=new X;a.append("(");for(var c=0;c<e;c++){c>0&&a.append(" ");for(var y=0;y<o;y++)y>0&&a.append(","),a.append(Rr.toString(t.getOrdinate(c,y)))}return a.append(")"),a.toString()}},In.ensureValidRing=function(t,e){var o=e.size();return 0===o?e:o<=3?In.createClosedRing(t,e,4):e.getOrdinate(0,Tt.X)===e.getOrdinate(o-1,Tt.X)&&e.getOrdinate(0,Tt.Y)===e.getOrdinate(o-1,Tt.Y)?e:In.createClosedRing(t,e,o+1)},In.createClosedRing=function(t,e,o){var a=t.create(o,e.getDimension()),c=e.size();In.copy(e,0,a,0,c);for(var y=c;y<o;y++)In.copy(e,0,a,y,1);return a};var En=function(t){function e(a,c){t.call(this,c),this._points=null,this.init(a)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Gt:this._points.expandEnvelope(new Gt)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var a=arguments[0],c=arguments[1];if(!this.isEquivalentClass(a))return!1;var y=a;if(this._points.size()!==y._points.size())return!1;for(var x=0;x<this._points.size();x++)if(!this.equal(this._points.getCoordinate(x),y._points.getCoordinate(x),c))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var a=0;a<Math.trunc(this._points.size()/2);a++){var c=this._points.size()-1-a;if(!this._points.getCoordinate(a).equals(this._points.getCoordinate(c)))return this._points.getCoordinate(a).compareTo(this._points.getCoordinate(c))>0&&In.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?He.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Mt.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var a=this._points.copy();return In.reverse(a),this.getFactory().createLineString(a)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var a=arguments[0],c=0,y=0;c<this._points.size()&&y<a._points.size();){var x=this._points.getCoordinate(c).compareTo(a._points.getCoordinate(y));if(0!==x)return x;c++,y++}return c<this._points.size()?1:y<a._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){if(Nt(arguments[0],we))for(var a=arguments[0],c=0;c<this._points.size();c++)a.filter(this._points.getCoordinate(c));else if(Nt(arguments[0],Kr)){var y=arguments[0];if(0===this._points.size())return null;for(var x=0;x<this._points.size()&&(y.filter(this._points,x),!y.isDone());x++);y.isGeometryChanged()&&this.geometryChanged()}else(Nt(arguments[0],Qr)||Nt(arguments[0],de))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Nr(this).getBoundary()},e.prototype.isEquivalentClass=function(a){return a instanceof e},e.prototype.clone=function(){var a=t.prototype.clone.call(this);return a._points=this._points.clone(),a},e.prototype.getCoordinateN=function(a){return this._points.getCoordinate(a)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(a){if(null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),1===a.size())throw new S("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a},e.prototype.isCoordinate=function(a){for(var c=0;c<this._points.size();c++)if(this._points.getCoordinate(c).equals(a))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))},e.prototype.interfaces_=function(){return[Xo]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,o),e}(Zt),cs=function(){};cs.prototype.interfaces_=function(){return[]},cs.prototype.getClass=function(){return cs};var Mr=function(t){function e(a,c){t.call(this,c),this._coordinates=a||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Gt;var a=new Gt;return a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),a},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),c))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return He.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var a=arguments[0];return this.getCoordinate().compareTo(a.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(Nt(arguments[0],we)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(Nt(arguments[0],Kr)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this._coordinates,0),c.isGeometryChanged()&&this.geometryChanged()}else(Nt(arguments[0],Qr)||Nt(arguments[0],de))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var a=t.prototype.clone.call(this);return a._coordinates=this._coordinates.clone(),a},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(a){null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),L.isTrue(a.size()<=1),this._coordinates=a},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[cs]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,o),e}(Zt),Ni=function(){};Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni};var An=function(t){function e(a,c,y){if(t.call(this,y),this._shell=null,this._holes=null,null===a&&(a=this.getFactory().createLinearRing()),null===c&&(c=[]),t.hasNullElements(c))throw new S("holes must not contain null elements");if(a.isEmpty()&&t.hasNonEmptyElements(c))throw new S("shell is empty but holes are not");this._shell=a,this._holes=c}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),c=-1,y=this._shell.getCoordinates(),x=0;x<y.length;x++)a[++c]=y[x];for(var C=0;C<this._holes.length;C++)for(var B=this._holes[C].getCoordinates(),rt=0;rt<B.length;rt++)a[++c]=B[rt];return a},e.prototype.getArea=function(){var a=0;a+=Math.abs(Mt.signedArea(this._shell.getCoordinateSequence()));for(var c=0;c<this._holes.length;c++)a-=Math.abs(Mt.signedArea(this._holes[c].getCoordinateSequence()));return a},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var a=this._shell.getCoordinateSequence(),c=this.getEnvelopeInternal(),y=0;y<5;y++){var x=a.getX(y);if(x!==c.getMinX()&&x!==c.getMaxX())return!1;var C=a.getY(y);if(C!==c.getMinY()&&C!==c.getMaxY())return!1}for(var B=a.getX(0),rt=a.getY(0),Et=1;Et<=4;Et++){var Pt=a.getX(Et),Ut=a.getY(Et);if(Pt!==B==(Ut!==rt))return!1;B=Pt,rt=Ut}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var a=arguments[0],c=arguments[1];if(!this.isEquivalentClass(a))return!1;var y=a;if(!this._shell.equalsExact(y._shell,c)||this._holes.length!==y._holes.length)return!1;for(var B=0;B<this._holes.length;B++)if(!this._holes[B].equalsExact(y._holes[B],c))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var a=0;a<this._holes.length;a++)this.normalize(this._holes[a],!1);Hi.sort(this._holes)}else if(2===arguments.length){var c=arguments[0],y=arguments[1];if(c.isEmpty())return null;var x=new Array(c.getCoordinates().length-1).fill(null);Jt.arraycopy(c.getCoordinates(),0,x,0,x.length);var C=fe.minCoordinate(c.getCoordinates());fe.scroll(x,C),Jt.arraycopy(x,0,c.getCoordinates(),0,x.length),c.getCoordinates()[x.length]=x[0],Mt.isCCW(c.getCoordinates())===y&&fe.reverse(c.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var a=0;a+=this._shell.getLength();for(var c=0;c<this._holes.length;c++)a+=this._holes[c].getLength();return a},e.prototype.getNumPoints=function(){for(var a=this._shell.getNumPoints(),c=0;c<this._holes.length;c++)a+=this._holes[c].getNumPoints();return a},e.prototype.reverse=function(){var a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].copy().reverse();return a},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var C=arguments[1],B=arguments[0],Pt=this._shell.compareToSameClass(B._shell,C);if(0!==Pt)return Pt;for(var Ut=this.getNumInteriorRing(),Yt=B.getNumInteriorRing(),$t=0;$t<Ut&&$t<Yt;){var ne=this.getInteriorRingN($t),Ke=B.getInteriorRingN($t),Ln=ne.compareToSameClass(Ke,C);if(0!==Ln)return Ln;$t++}return $t<Ut?1:$t<Yt?-1:0}},e.prototype.apply=function(a){if(Nt(a,we)){this._shell.apply(a);for(var c=0;c<this._holes.length;c++)this._holes[c].apply(a)}else if(Nt(a,Kr)){if(this._shell.apply(a),!a.isDone())for(var y=0;y<this._holes.length&&(this._holes[y].apply(a),!a.isDone());y++);a.isGeometryChanged()&&this.geometryChanged()}else if(Nt(a,Qr))a.filter(this);else if(Nt(a,de)){a.filter(this),this._shell.apply(a);for(var x=0;x<this._holes.length;x++)this._holes[x].apply(a)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var c=0;c<this._holes.length;c++)a[c+1]=this._holes[c];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},e.prototype.clone=function(){var a=t.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].clone();return a},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var a=this._shell.copy(),c=new Array(this._holes.length).fill(null),y=0;y<c.length;y++)c[y]=this._holes[y].copy();return new e(a,c,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(a){return this._holes[a]},e.prototype.interfaces_=function(){return[Ni]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,o),e}(Zt),So=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Zt.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&t.prototype.equalsExact.call(this,a,c)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return He.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new e(a,this._factory)},e.prototype.interfaces_=function(){return[cs]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,o),e}(lr),hi=function(t){function e(a,c){a instanceof w&&c instanceof ve&&(a=c.getCoordinateSequenceFactory().create(a)),t.call(this,a,c),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Zt.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return He.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var a=this._points.copy();return In.reverse(a),this.getFactory().createLinearRing(a)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new S("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new S("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.MINIMUM_VALID_SIZE.get=function(){return 4},o.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,o),e}(En),Mi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Zt.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&t.prototype.equalsExact.call(this,a,c)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var c=new Array(this._geometries.length).fill(null),y=0;y<this._geometries.length;y++)c[y]=this._geometries[y].reverse();return this.getFactory().createMultiPolygon(c)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new kt,c=0;c<this._geometries.length;c++)for(var y=this._geometries[c].getBoundary(),x=0;x<y.getNumGeometries();x++)a.add(y.getGeometryN(x));var C=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(C))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new e(a,this._factory)},e.prototype.interfaces_=function(){return[Ni]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,o),e}(lr),cr=function(t){this._factory=t||null,this._isUserDataCopied=!1},fs={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};cr.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},cr.prototype.edit=function(t,e){if(null===t)return null;var o=this.editInternal(t,e);return this._isUserDataCopied&&o.setUserData(t.getUserData()),o},cr.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof lr?this.editGeometryCollection(t,e):t instanceof An?this.editPolygon(t,e):t instanceof Mr||t instanceof En?e.edit(t,this._factory):(L.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},cr.prototype.editGeometryCollection=function(t,e){for(var o=e.edit(t,this._factory),a=new kt,c=0;c<o.getNumGeometries();c++){var y=this.edit(o.getGeometryN(c),e);null===y||y.isEmpty()||a.add(y)}return o.getClass()===So?this._factory.createMultiPoint(a.toArray([])):o.getClass()===ho?this._factory.createMultiLineString(a.toArray([])):o.getClass()===Mi?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))},cr.prototype.editPolygon=function(t,e){var o=e.edit(t,this._factory);if(null===o&&(o=this._factory.createPolygon(null)),o.isEmpty())return o;var a=this.edit(o.getExteriorRing(),e);if(null===a||a.isEmpty())return this._factory.createPolygon();for(var c=new kt,y=0;y<o.getNumInteriorRing();y++){var x=this.edit(o.getInteriorRingN(y),e);null===x||x.isEmpty()||c.add(x)}return this._factory.createPolygon(a,c.toArray([]))},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},cr.GeometryEditorOperation=function(){},fs.NoOpGeometryOperation.get=function(){return hs},fs.CoordinateOperation.get=function(){return ps},fs.CoordinateSequenceOperation.get=function(){return gs},Object.defineProperties(cr,fs);var hs=function(){};hs.prototype.edit=function(t,e){return t},hs.prototype.interfaces_=function(){return[cr.GeometryEditorOperation]},hs.prototype.getClass=function(){return hs};var ps=function(){};ps.prototype.edit=function(t,e){var o=this.editCoordinates(t.getCoordinates(),t);return null===o?t:t instanceof hi?e.createLinearRing(o):t instanceof En?e.createLineString(o):t instanceof Mr?o.length>0?e.createPoint(o[0]):e.createPoint():t},ps.prototype.interfaces_=function(){return[cr.GeometryEditorOperation]},ps.prototype.getClass=function(){return ps};var gs=function(){};gs.prototype.edit=function(t,e){return t instanceof hi?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof En?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Mr?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},gs.prototype.interfaces_=function(){return[cr.GeometryEditorOperation]},gs.prototype.getClass=function(){return gs};var _n=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new w}else if(Nt(arguments[0],Tt)){var o=arguments[0];if(null===o)return this._coordinates=new Array(0).fill(null),null;this._dimension=o.getDimension(),this._coordinates=new Array(o.size()).fill(null);for(var a=0;a<this._coordinates.length;a++)this._coordinates[a]=o.getCoordinateCopy(a)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var c=arguments[0],y=arguments[1];this._coordinates=c,this._dimension=y,null===c&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var x=arguments[0],C=arguments[1];this._coordinates=new Array(x).fill(null),this._dimension=C;for(var B=0;B<x;B++)this._coordinates[B]=new w}},Ds={serialVersionUID:{configurable:!0}};_n.prototype.setOrdinate=function(t,e,o){switch(e){case Tt.X:this._coordinates[t].x=o;break;case Tt.Y:this._coordinates[t].y=o;break;case Tt.Z:this._coordinates[t].z=o;break;default:throw new S("invalid ordinateIndex")}},_n.prototype.size=function(){return this._coordinates.length},_n.prototype.getOrdinate=function(t,e){switch(e){case Tt.X:return this._coordinates[t].x;case Tt.Y:return this._coordinates[t].y;case Tt.Z:return this._coordinates[t].z}return N.NaN},_n.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var e=arguments[0],o=arguments[1];o.x=this._coordinates[e].x,o.y=this._coordinates[e].y,o.z=this._coordinates[e].z}},_n.prototype.getCoordinateCopy=function(t){return new w(this._coordinates[t])},_n.prototype.getDimension=function(){return this._dimension},_n.prototype.getX=function(t){return this._coordinates[t].x},_n.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new _n(t,this._dimension)},_n.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},_n.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new _n(t,this._dimension)},_n.prototype.toString=function(){if(this._coordinates.length>0){var t=new X(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},_n.prototype.getY=function(t){return this._coordinates[t].y},_n.prototype.toCoordinateArray=function(){return this._coordinates},_n.prototype.interfaces_=function(){return[Tt,q]},_n.prototype.getClass=function(){return _n},Ds.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(_n,Ds);var Dr=function(){},da={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Dr.prototype.readResolve=function(){return Dr.instance()},Dr.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new _n(arguments[0]);if(Nt(arguments[0],Tt))return new _n(arguments[0])}else if(2===arguments.length){var o=arguments[0],a=arguments[1];return a>3&&(a=3),a<2?new _n(o):new _n(o,a)}},Dr.prototype.interfaces_=function(){return[W,q]},Dr.prototype.getClass=function(){return Dr},Dr.instance=function(){return Dr.instanceObject},da.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},da.instanceObject.get=function(){return new Dr},Object.defineProperties(Dr,da);var lu=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(o){return this.map_.get(o)||null},e.prototype.put=function(o,a){return this.map_.set(o,a),a},e.prototype.values=function(){for(var o=new kt,a=this.map_.values(),c=a.next();!c.done;)o.add(c.value),c=a.next();return o},e.prototype.entrySet=function(){var o=new us;return this.map_.entries().forEach(function(a){return o.add(a)}),o},e.prototype.size=function(){return this.map_.size()},e}(fo),We=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Fr){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var o=arguments[0];this._modelType=t.FIXED,this.setScale(o)}else if(arguments[0]instanceof t){var a=arguments[0];this._modelType=a._modelType,this._scale=a._scale}},Fs={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};We.prototype.equals=function(t){return t instanceof We&&this._modelType===t._modelType&&this._scale===t._scale},We.prototype.compareTo=function(t){var e=t,o=this.getMaximumSignificantDigits(),a=e.getMaximumSignificantDigits();return new at(o).compareTo(new at(a))},We.prototype.getScale=function(){return this._scale},We.prototype.isFloating=function(){return this._modelType===We.FLOATING||this._modelType===We.FLOATING_SINGLE},We.prototype.getType=function(){return this._modelType},We.prototype.toString=function(){var t="UNKNOWN";return this._modelType===We.FLOATING?t="Floating":this._modelType===We.FLOATING_SINGLE?t="Floating-Single":this._modelType===We.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},We.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return N.isNaN(t)||this._modelType===We.FLOATING_SINGLE?t:this._modelType===We.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof w){var e=arguments[0];if(this._modelType===We.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},We.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===We.FLOATING?t=16:this._modelType===We.FLOATING_SINGLE?t=6:this._modelType===We.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},We.prototype.setScale=function(t){this._scale=Math.abs(t)},We.prototype.interfaces_=function(){return[q,I]},We.prototype.getClass=function(){return We},We.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Fs.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Fs.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(We,Fs);var Fr=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ya={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Fr.prototype.readResolve=function(){return Fr.nameToTypeMap.get(this._name)},Fr.prototype.toString=function(){return this._name},Fr.prototype.interfaces_=function(){return[q]},Fr.prototype.getClass=function(){return Fr},ya.serialVersionUID.get=function(){return-552860263173159e4},ya.nameToTypeMap.get=function(){return new lu},Object.defineProperties(Fr,ya),We.Type=Fr,We.FIXED=new Fr("FIXED"),We.FLOATING=new Fr("FLOATING"),We.FLOATING_SINGLE=new Fr("FLOATING SINGLE");var ve=function t(){this._precisionModel=new We,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Nt(arguments[0],W)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof We&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},cu={serialVersionUID:{configurable:!0}};ve.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new w(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new w(t.getMinX(),t.getMinY()),new w(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new w(t.getMinX(),t.getMinY()),new w(t.getMinX(),t.getMaxY()),new w(t.getMaxX(),t.getMaxY()),new w(t.getMaxX(),t.getMinY()),new w(t.getMinX(),t.getMinY())]),null)},ve.prototype.createLineString=function(t){return t?t instanceof Array?new En(this.getCoordinateSequenceFactory().create(t),this):Nt(t,Tt)?new En(t,this):void 0:new En(this.getCoordinateSequenceFactory().create([]),this)},ve.prototype.createMultiLineString=function(){return 0===arguments.length?new ho(null,this):1===arguments.length?new ho(arguments[0],this):void 0},ve.prototype.buildGeometry=function(t){for(var e=null,o=!1,a=!1,c=t.iterator();c.hasNext();){var y=c.next(),x=y.getClass();null===e&&(e=x),x!==e&&(o=!0),y.isGeometryCollectionOrDerived()&&(a=!0)}if(null===e)return this.createGeometryCollection();if(o||a)return this.createGeometryCollection(ve.toGeometryArray(t));var C=t.iterator().next();if(t.size()>1){if(C instanceof An)return this.createMultiPolygon(ve.toPolygonArray(t));if(C instanceof En)return this.createMultiLineString(ve.toLineStringArray(t));if(C instanceof Mr)return this.createMultiPoint(ve.toPointArray(t));L.shouldNeverReachHere("Unhandled class: "+C.getClass().getName())}return C},ve.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},ve.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Nt(arguments[0],Tt))return new Mr(arguments[0],this)}},ve.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ve.prototype.createPolygon=function(){if(0===arguments.length)return new An(null,null,this);if(1===arguments.length){if(Nt(arguments[0],Tt))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof hi)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new An(arguments[0],arguments[1],this)},ve.prototype.getSRID=function(){return this._SRID},ve.prototype.createGeometryCollection=function(){return 0===arguments.length?new lr(null,this):1===arguments.length?new lr(arguments[0],this):void 0},ve.prototype.createGeometry=function(t){return new cr(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},ve.prototype.getPrecisionModel=function(){return this._precisionModel},ve.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Nt(arguments[0],Tt))return new hi(arguments[0],this)}},ve.prototype.createMultiPolygon=function(){return 0===arguments.length?new Mi(null,this):1===arguments.length?new Mi(arguments[0],this):void 0},ve.prototype.createMultiPoint=function(){if(0===arguments.length)return new So(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new So(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Nt(arguments[0],Tt)){var o=arguments[0];if(null===o)return this.createMultiPoint(new Array(0).fill(null));for(var a=new Array(o.size()).fill(null),c=0;c<o.size();c++){var y=this.getCoordinateSequenceFactory().create(1,o.getDimension());In.copy(o,c,y,0,1),a[c]=this.createPoint(y)}return this.createMultiPoint(a)}}},ve.prototype.interfaces_=function(){return[q]},ve.prototype.getClass=function(){return ve},ve.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.getDefaultCoordinateSequenceFactory=function(){return Dr.instance()},ve.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},cu.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(ve,cu);var _l=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ds=function(t){this.geometryFactory=t||new ve};ds.prototype.read=function(t){var e,o=(e="string"==typeof t?JSON.parse(t):t).type;if(!ti[o])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==_l.indexOf(o)?ti[o].apply(this,[e.coordinates]):ti[o].apply(this,"GeometryCollection"===o?[e.geometries]:[e])},ds.prototype.write=function(t){var e=t.getGeometryType();if(!Bi[e])throw new Error("Geometry is not supported");return Bi[e].apply(this,[t])};var ti={Feature:function(t){var e={};for(var o in t)e[o]=t[o];if(t.geometry){if(!ti[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=ti.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var o=0;o<t.features.length;++o)e.features.push(this.read(t.features[o]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],o=0;o<t.length;++o){var a=t[o];e.push(new w(a[0],a[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new w(t[0],t[1]),new w(t[2],t[1]),new w(t[2],t[3]),new w(t[0],t[3]),new w(t[0],t[1])])},Point:function(t){var e=new w(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],o=0;o<t.length;++o)e.push(ti.Point.apply(this,[t[o]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=ti.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],o=0;o<t.length;++o)e.push(ti.LineString.apply(this,[t[o]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=ti.coordinates.apply(this,[t[0]]),o=this.geometryFactory.createLinearRing(e),a=[],c=1;c<t.length;++c){var x=ti.coordinates.apply(this,[t[c]]),C=this.geometryFactory.createLinearRing(x);a.push(C)}return this.geometryFactory.createPolygon(o,a)},MultiPolygon:function(t){for(var e=[],o=0;o<t.length;++o)e.push(ti.Polygon.apply(this,[t[o]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],o=0;o<t.length;++o)e.push(this.read(t[o]));return this.geometryFactory.createGeometryCollection(e)}},Bi={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Bi.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var c=Bi.Point.apply(this,[t._geometries[o]]);e.push(c.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],o=t.getCoordinates(),a=0;a<o.length;++a)e.push(Bi.coordinate.apply(this,[o[a]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var c=Bi.LineString.apply(this,[t._geometries[o]]);e.push(c.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],o=Bi.LineString.apply(this,[t._shell]);e.push(o.coordinates);for(var a=0;a<t._holes.length;++a){var y=Bi.LineString.apply(this,[t._holes[a]]);e.push(y.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var c=Bi.Polygon.apply(this,[t._geometries[o]]);e.push(c.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var a=t._geometries[o],c=a.getGeometryType();e.push(Bi[c].apply(this,[a]))}return{type:"GeometryCollection",geometries:e}}},ma=function(t){this.geometryFactory=t||new ve,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ds(this.geometryFactory)};ma.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===We.FIXED&&this.reducePrecision(e),e},ma.prototype.reducePrecision=function(t){var e,o;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,o=t.points.length;e<o;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,o=t.geometries.length;e<o;e++)this.reducePrecision(t.geometries[e])};var va=function(){this.parser=new ds(this.geometryFactory)};va.prototype.write=function(t){return this.parser.write(t)};var Bt=function(){},qs={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt},Bt.opposite=function(t){return t===Bt.LEFT?Bt.RIGHT:t===Bt.RIGHT?Bt.LEFT:t},qs.ON.get=function(){return 0},qs.LEFT.get=function(){return 1},qs.RIGHT.get=function(){return 2},Object.defineProperties(Bt,qs),(et.prototype=new Error).name="EmptyStackException",(pt.prototype=new Bn).add=function(t){return this.array_.push(t),!0},pt.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},pt.prototype.push=function(t){return this.array_.push(t),t},pt.prototype.pop=function(t){if(0===this.array_.length)throw new et;return this.array_.pop()},pt.prototype.peek=function(){if(0===this.array_.length)throw new et;return this.array_[this.array_.length-1]},pt.prototype.empty=function(){return 0===this.array_.length},pt.prototype.isEmpty=function(){return this.empty()},pt.prototype.search=function(t){return this.array_.indexOf(t)},pt.prototype.size=function(){return this.array_.length},pt.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t};var ei=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};ei.prototype.getCoordinate=function(){return this._minCoord},ei.prototype.getRightmostSide=function(t,e){var o=this.getRightmostSideOfSegment(t,e);return o<0&&(o=this.getRightmostSideOfSegment(t,e-1)),o<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),o},ei.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();L.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],o=t[this._minIndex+1],a=Mt.computeOrientation(this._minCoord,o,e),c=!1;(e.y<this._minCoord.y&&o.y<this._minCoord.y&&a===Mt.COUNTERCLOCKWISE||e.y>this._minCoord.y&&o.y>this._minCoord.y&&a===Mt.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)},ei.prototype.getRightmostSideOfSegment=function(t,e){var o=t.getEdge().getCoordinates();if(e<0||e+1>=o.length||o[e].y===o[e+1].y)return-1;var a=Bt.LEFT;return o[e].y<o[e+1].y&&(a=Bt.RIGHT),a},ei.prototype.getEdge=function(){return this._orientedDe},ei.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),o=0;o<e.length-1;o++)(null===this._minCoord||e[o].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=o,this._minCoord=e[o])},ei.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},ei.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();o.isForward()&&this.checkForRightmostCoordinate(o)}L.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Bt.LEFT&&(this._orientedDe=this._minDe.getSym())},ei.prototype.interfaces_=function(){return[]},ei.prototype.getClass=function(){return ei};var Gi=function(t){function e(o,a){t.call(this,e.msgWithCoord(o,a)),this.pt=a?new w(a):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(o,a){return a?o:o+" [ "+a+" ]"},e}(D),ks=function(){this.array_=[]};ks.prototype.addLast=function(t){this.array_.push(t)},ks.prototype.removeFirst=function(){return this.array_.shift()},ks.prototype.isEmpty=function(){return 0===this.array_.length};var fr=function(){this._finder=null,this._dirEdgeList=new kt,this._nodes=new kt,this._rightMostCoord=null,this._env=null,this._finder=new ei};fr.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},fr.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},fr.prototype.computeNodeDepth=function(t){for(var e=null,o=t.getEdges().iterator();o.hasNext();){var a=o.next();if(a.isVisited()||a.getSym().isVisited()){e=a;break}}if(null===e)throw new Gi("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var c=t.getEdges().iterator();c.hasNext();){var y=c.next();y.setVisited(!0),this.copySymDepths(y)}},fr.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Bt.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},fr.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},fr.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Bt.RIGHT)>=1&&e.getDepth(Bt.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},fr.prototype.computeDepths=function(t){var e=new us,o=new ks,a=t.getNode();for(o.addLast(a),e.add(a),t.setVisited(!0);!o.isEmpty();){var c=o.removeFirst();e.add(c),this.computeNodeDepth(c);for(var y=c.getEdges().iterator();y.hasNext();){var x=y.next().getSym();if(!x.isVisited()){var C=x.getNode();e.contains(C)||(o.addLast(C),e.add(C))}}}},fr.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},fr.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Gt,e=this._dirEdgeList.iterator();e.hasNext();)for(var o=e.next().getEdge().getCoordinates(),a=0;a<o.length-1;a++)t.expandToInclude(o[a]);this._env=t}return this._env},fr.prototype.addReachable=function(t){var e=new pt;for(e.add(t);!e.empty();){var o=e.pop();this.add(o,e)}},fr.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Bt.LEFT,t.getDepth(Bt.RIGHT)),e.setDepth(Bt.RIGHT,t.getDepth(Bt.LEFT))},fr.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var o=t.getEdges().iterator();o.hasNext();){var a=o.next();this._dirEdgeList.add(a);var c=a.getSym().getNode();c.isVisited()||e.push(c)}},fr.prototype.getNodes=function(){return this._nodes},fr.prototype.getDirectedEdges=function(){return this._dirEdgeList},fr.prototype.interfaces_=function(){return[I]},fr.prototype.getClass=function(){return fr};var ln=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var o=arguments[0];this.init(1),this.location[Bt.ON]=o}else if(arguments[0]instanceof t){var a=arguments[0];if(this.init(a.location.length),null!==a)for(var c=0;c<this.location.length;c++)this.location[c]=a.location[c]}}else if(3===arguments.length){var y=arguments[0],x=arguments[1],C=arguments[2];this.init(3),this.location[Bt.ON]=y,this.location[Bt.LEFT]=x,this.location[Bt.RIGHT]=C}};ln.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},ln.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==R.NONE)return!1;return!0},ln.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===R.NONE&&(this.location[e]=t)},ln.prototype.isLine=function(){return 1===this.location.length},ln.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Bt.ON]=this.location[Bt.ON],e[Bt.LEFT]=R.NONE,e[Bt.RIGHT]=R.NONE,this.location=e}for(var o=0;o<this.location.length;o++)this.location[o]===R.NONE&&o<t.location.length&&(this.location[o]=t.location[o])},ln.prototype.getLocations=function(){return this.location},ln.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Bt.LEFT];this.location[Bt.LEFT]=this.location[Bt.RIGHT],this.location[Bt.RIGHT]=t},ln.prototype.toString=function(){var t=new X;return this.location.length>1&&t.append(R.toLocationSymbol(this.location[Bt.LEFT])),t.append(R.toLocationSymbol(this.location[Bt.ON])),this.location.length>1&&t.append(R.toLocationSymbol(this.location[Bt.RIGHT])),t.toString()},ln.prototype.setLocations=function(t,e,o){this.location[Bt.ON]=t,this.location[Bt.LEFT]=e,this.location[Bt.RIGHT]=o},ln.prototype.get=function(t){return t<this.location.length?this.location[t]:R.NONE},ln.prototype.isArea=function(){return this.location.length>1},ln.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===R.NONE)return!0;return!1},ln.prototype.setLocation=function(){1===arguments.length?this.setLocation(Bt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},ln.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(R.NONE)},ln.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},ln.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln};var nn=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new ln(e),this.elt[1]=new ln(e)}else if(arguments[0]instanceof t){var o=arguments[0];this.elt[0]=new ln(o.elt[0]),this.elt[1]=new ln(o.elt[1])}}else if(2===arguments.length){var a=arguments[0],c=arguments[1];this.elt[0]=new ln(R.NONE),this.elt[1]=new ln(R.NONE),this.elt[a].setLocation(c)}else if(3===arguments.length){var y=arguments[0],x=arguments[1],C=arguments[2];this.elt[0]=new ln(y,x,C),this.elt[1]=new ln(y,x,C)}else if(4===arguments.length){var B=arguments[0],rt=arguments[1],Et=arguments[2],Pt=arguments[3];this.elt[0]=new ln(R.NONE,R.NONE,R.NONE),this.elt[1]=new ln(R.NONE,R.NONE,R.NONE),this.elt[B].setLocations(rt,Et,Pt)}};nn.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},nn.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},nn.prototype.isNull=function(t){return this.elt[t].isNull()},nn.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},nn.prototype.isLine=function(t){return this.elt[t].isLine()},nn.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new ln(t.elt[e]):this.elt[e].merge(t.elt[e])},nn.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},nn.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Bt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},nn.prototype.toString=function(){var t=new X;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},nn.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},nn.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},nn.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Bt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},nn.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},nn.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},nn.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new ln(this.elt[t].location[0]))},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn},nn.toLineLabel=function(t){for(var e=new nn(R.NONE),o=0;o<2;o++)e.setLocation(o,t.getLocation(o));return e};var On=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new kt,this._pts=new kt,this._label=new nn(R.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new kt,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};On.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Mt.isCCW(this._ring.getCoordinates())},On.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},On.prototype.computePoints=function(t){this._startDe=t;var e=t,o=!0;do{if(null===e)throw new Gi("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Gi("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var a=e.getLabel();L.isTrue(a.isArea()),this.mergeLabel(a),this.addPoints(e.getEdge(),e.isForward(),o),o=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},On.prototype.getLinearRing=function(){return this._ring},On.prototype.getCoordinate=function(t){return this._pts.get(t)},On.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},On.prototype.addPoints=function(t,e,o){var a=t.getCoordinates();if(e){var c=1;o&&(c=0);for(var y=c;y<a.length;y++)this._pts.add(a[y])}else{var x=a.length-2;o&&(x=a.length-1);for(var C=x;C>=0;C--)this._pts.add(a[C])}},On.prototype.isHole=function(){return this._isHole},On.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},On.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t)||!Mt.isPointInRing(t,e.getCoordinates()))return!1;for(var o=this._holes.iterator();o.hasNext();)if(o.next().containsPoint(t))return!1;return!0},On.prototype.addHole=function(t){this._holes.add(t)},On.prototype.isShell=function(){return null===this._shell},On.prototype.getLabel=function(){return this._label},On.prototype.getEdges=function(){return this._edges},On.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},On.prototype.getShell=function(){return this._shell},On.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var o=arguments[1],a=arguments[0].getLocation(o,Bt.RIGHT);if(a===R.NONE)return null;if(this._label.getLocation(o)===R.NONE)return this._label.setLocation(o,a),null}},On.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},On.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),o=0;o<this._holes.size();o++)e[o]=this._holes.get(o).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On};var xl=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(o,a){o.setMinEdgeRing(a)},e.prototype.getNext=function(o){return o.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(On),Bs=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var o=new kt,a=this._startDe;do{if(null===a.getMinEdgeRing()){var c=new xl(a,this._geometryFactory);o.add(c)}a=a.getNext()}while(a!==this._startDe);return o},e.prototype.setEdgeRing=function(o,a){o.setEdgeRing(a)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var o=this._startDe;do{o.getNode().getEdges().linkMinimalDirectedEdges(this),o=o.getNext()}while(o!==this._startDe)},e.prototype.getNext=function(o){return o.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(On),_r=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};_r.prototype.setVisited=function(t){this._isVisited=t},_r.prototype.setInResult=function(t){this._isInResult=t},_r.prototype.isCovered=function(){return this._isCovered},_r.prototype.isCoveredSet=function(){return this._isCoveredSet},_r.prototype.setLabel=function(t){this._label=t},_r.prototype.getLabel=function(){return this._label},_r.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},_r.prototype.updateIM=function(t){L.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},_r.prototype.isInResult=function(){return this._isInResult},_r.prototype.isVisited=function(){return this._isVisited},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r};var jo=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var a=arguments[1];this._coord=arguments[0],this._edges=a,this._label=new nn(0,R.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var o=this.getEdges().getEdges().iterator();o.hasNext();)if(o.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(o){o.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(o){},e.prototype.computeMergedLocation=function(o,a){var c=R.NONE;if(c=this._label.getLocation(a),!o.isNull(a)){var y=o.getLocation(a);c!==R.BOUNDARY&&(c=y)}return c},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var o=arguments[0],a=arguments[1];null===this._label?this._label=new nn(o,a):this._label.setLocation(o,a)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof nn)for(var a=arguments[0],c=0;c<2;c++){var y=this.computeMergedLocation(a,c);this._label.getLocation(c)===R.NONE&&this._label.setLocation(c,y)}},e.prototype.add=function(o){this._edges.insert(o),o.setNode(this)},e.prototype.setLabelBoundary=function(o){if(null===this._label)return null;var a=R.NONE;null!==this._label&&(a=this._label.getLocation(o));var c=null;switch(a){case R.BOUNDARY:c=R.INTERIOR;break;case R.INTERIOR:default:c=R.BOUNDARY}this._label.setLocation(o,c)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(_r),gi=function(){this.nodeMap=new xt,this.nodeFact=null,this.nodeFact=arguments[0]};gi.prototype.find=function(t){return this.nodeMap.get(t)},gi.prototype.addNode=function(){if(arguments[0]instanceof w){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof jo){var o=arguments[0],a=this.nodeMap.get(o.getCoordinate());return null===a?(this.nodeMap.put(o.getCoordinate(),o),o):(a.mergeLabel(o),a)}},gi.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},gi.prototype.iterator=function(){return this.nodeMap.values().iterator()},gi.prototype.values=function(){return this.nodeMap.values()},gi.prototype.getBoundaryNodes=function(t){for(var e=new kt,o=this.iterator();o.hasNext();){var a=o.next();a.getLabel().getLocation(t)===R.BOUNDARY&&e.add(a)}return e},gi.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},gi.prototype.interfaces_=function(){return[]},gi.prototype.getClass=function(){return gi};var rn=function(){},$o={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn},rn.isNorthern=function(t){return t===rn.NE||t===rn.NW},rn.isOpposite=function(t,e){return t!==e&&(t-e+4)%4==2},rn.commonHalfPlane=function(t,e){if(t===e)return t;if((t-e+4)%4==2)return-1;var o=t<e?t:e;return 0===o&&3===(t>e?t:e)?3:o},rn.isInHalfPlane=function(t,e){return e===rn.SE?t===rn.SE||t===rn.SW:t===e||t===e+1},rn.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new S("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?rn.NE:rn.SE:e>=0?rn.NW:rn.SW}if(arguments[0]instanceof w&&arguments[1]instanceof w){var o=arguments[0],a=arguments[1];if(a.x===o.x&&a.y===o.y)throw new S("Cannot compute the quadrant for two identical points "+o);return a.x>=o.x?a.y>=o.y?rn.NE:rn.SE:a.y>=o.y?rn.NW:rn.SW}},$o.NE.get=function(){return 0},$o.NW.get=function(){return 1},$o.SW.get=function(){return 2},$o.SE.get=function(){return 3},Object.defineProperties(rn,$o);var Hn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var o=arguments[1],a=arguments[2];this._edge=arguments[0],this.init(o,a),this._label=null}else if(4===arguments.length){var y=arguments[1],x=arguments[2],C=arguments[3];this._edge=arguments[0],this.init(y,x),this._label=C}};Hn.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Mt.computeOrientation(t._p0,t._p1,this._p1)},Hn.prototype.getDy=function(){return this._dy},Hn.prototype.getCoordinate=function(){return this._p0},Hn.prototype.setNode=function(t){this._node=t},Hn.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),a=o.lastIndexOf("."),c=o.substring(a+1);t.print("  "+c+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Hn.prototype.compareTo=function(t){return this.compareDirection(t)},Hn.prototype.getDirectedCoordinate=function(){return this._p1},Hn.prototype.getDx=function(){return this._dx},Hn.prototype.getLabel=function(){return this._label},Hn.prototype.getEdge=function(){return this._edge},Hn.prototype.getQuadrant=function(){return this._quadrant},Hn.prototype.getNode=function(){return this._node},Hn.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),o=e.lastIndexOf(".");return"  "+e.substring(o+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Hn.prototype.computeLabel=function(t){},Hn.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=rn.quadrant(this._dx,this._dy),L.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Hn.prototype.interfaces_=function(){return[I]},Hn.prototype.getClass=function(){return Hn};var Ho=function(t){function e(){var o=arguments[0],a=arguments[1];if(t.call(this,o),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=a,a)this.init(o.getCoordinate(0),o.getCoordinate(1));else{var c=o.getNumPoints()-1;this.init(o.getCoordinate(c),o.getCoordinate(c-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(o){return this._depth[o]},e.prototype.setVisited=function(o){this._isVisited=o},e.prototype.computeDirectedLabel=function(){this._label=new nn(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(o,a){if(-999!==this._depth[o]&&this._depth[o]!==a)throw new Gi("assigned depths do not match",this.getCoordinate());this._depth[o]=a},e.prototype.isInteriorAreaEdge=function(){for(var o=!0,a=0;a<2;a++)this._label.isArea(a)&&this._label.getLocation(a,Bt.LEFT)===R.INTERIOR&&this._label.getLocation(a,Bt.RIGHT)===R.INTERIOR||(o=!1);return o},e.prototype.setNextMin=function(o){this._nextMin=o},e.prototype.print=function(o){t.prototype.print.call(this,o),o.print(" "+this._depth[Bt.LEFT]+"/"+this._depth[Bt.RIGHT]),o.print(" ("+this.getDepthDelta()+")"),this._isInResult&&o.print(" inResult")},e.prototype.setMinEdgeRing=function(o){this._minEdgeRing=o},e.prototype.isLineEdge=function(){var o=this._label.isLine(0)||this._label.isLine(1),a=!this._label.isArea(0)||this._label.allPositionsEqual(0,R.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,R.EXTERIOR);return o&&a&&c},e.prototype.setEdgeRing=function(o){this._edgeRing=o},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var o=this._edge.getDepthDelta();return this._isForward||(o=-o),o},e.prototype.setInResult=function(o){this._isInResult=o},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(o){this.print(o),o.print(" "),this._isForward?this._edge.print(o):this._edge.printReverse(o)},e.prototype.setSym=function(o){this._sym=o},e.prototype.setVisitedEdge=function(o){this.setVisited(o),this._sym.setVisited(o)},e.prototype.setEdgeDepths=function(o,a){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var y=1;o===Bt.LEFT&&(y=-1);var x=Bt.opposite(o),C=a+c*y;this.setDepth(o,a),this.setDepth(x,C)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(o){this._next=o},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(o,a){return o===R.EXTERIOR&&a===R.INTERIOR?1:o===R.INTERIOR&&a===R.EXTERIOR?-1:0},e}(Hn),Po=function(){};Po.prototype.createNode=function(t){return new jo(t,null)},Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po};var hn=function(){this._edges=new kt,this._nodes=null,this._edgeEndList=new kt,0===arguments.length?this._nodes=new gi(new Po):1===arguments.length&&(this._nodes=new gi(arguments[0]))};hn.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var o=this._edges.get(e);o.print(t),o.eiList.print(t)}},hn.prototype.find=function(t){return this._nodes.find(t)},hn.prototype.addNode=function(){return arguments[0]instanceof jo||arguments[0]instanceof w?this._nodes.addNode(arguments[0]):void 0},hn.prototype.getNodeIterator=function(){return this._nodes.iterator()},hn.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},hn.prototype.debugPrintln=function(t){Jt.out.println(t)},hn.prototype.isBoundaryNode=function(t,e){var o=this._nodes.find(e);if(null===o)return!1;var a=o.getLabel();return null!==a&&a.getLocation(t)===R.BOUNDARY},hn.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},hn.prototype.matchInSameDirection=function(t,e,o,a){return!!t.equals(o)&&Mt.computeOrientation(t,e,a)===Mt.COLLINEAR&&rn.quadrant(t,e)===rn.quadrant(o,a)},hn.prototype.getEdgeEnds=function(){return this._edgeEndList},hn.prototype.debugPrint=function(t){Jt.out.print(t)},hn.prototype.getEdgeIterator=function(){return this._edges.iterator()},hn.prototype.findEdgeInSameDirection=function(t,e){for(var o=0;o<this._edges.size();o++){var a=this._edges.get(o),c=a.getCoordinates();if(this.matchInSameDirection(t,e,c[0],c[1])||this.matchInSameDirection(t,e,c[c.length-1],c[c.length-2]))return a}return null},hn.prototype.insertEdge=function(t){this._edges.add(t)},hn.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var o=e.next();if(o.getEdge()===t)return o}return null},hn.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();this._edges.add(o);var a=new Ho(o,!0),c=new Ho(o,!1);a.setSym(c),c.setSym(a),this.add(a),this.add(c)}},hn.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},hn.prototype.getNodes=function(){return this._nodes.values()},hn.prototype.findEdge=function(t,e){for(var o=0;o<this._edges.size();o++){var a=this._edges.get(o),c=a.getCoordinates();if(t.equals(c[0])&&e.equals(c[1]))return a}return null},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Lr=function(){this._geometryFactory=null,this._shellList=new kt,this._geometryFactory=arguments[0]};Lr.prototype.sortShellsAndHoles=function(t,e,o){for(var a=t.iterator();a.hasNext();){var c=a.next();c.isHole()?o.add(c):e.add(c)}},Lr.prototype.computePolygons=function(t){for(var e=new kt,o=t.iterator();o.hasNext();){var a=o.next().toPolygon(this._geometryFactory);e.add(a)}return e},Lr.prototype.placeFreeHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var a=o.next();if(null===a.getShell()){var c=this.findEdgeRingContaining(a,t);if(null===c)throw new Gi("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(c)}}},Lr.prototype.buildMinimalEdgeRings=function(t,e,o){for(var a=new kt,c=t.iterator();c.hasNext();){var y=c.next();if(y.getMaxNodeDegree()>2){y.linkDirectedEdgesForMinimalEdgeRings();var x=y.buildMinimalRings(),C=this.findShell(x);null!==C?(this.placePolygonHoles(C,x),e.add(C)):o.addAll(x)}else a.add(y)}return a},Lr.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Lr.prototype.buildMaximalEdgeRings=function(t){for(var e=new kt,o=t.iterator();o.hasNext();){var a=o.next();if(a.isInResult()&&a.getLabel().isArea()&&null===a.getEdgeRing()){var c=new Bs(a,this._geometryFactory);e.add(c),c.setInResult()}}return e},Lr.prototype.placePolygonHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var a=o.next();a.isHole()&&a.setShell(t)}},Lr.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Lr.prototype.findEdgeRingContaining=function(t,e){for(var o=t.getLinearRing(),a=o.getEnvelopeInternal(),c=o.getCoordinateN(0),y=null,x=null,C=e.iterator();C.hasNext();){var B=C.next(),rt=B.getLinearRing(),Et=rt.getEnvelopeInternal();null!==y&&(x=y.getLinearRing().getEnvelopeInternal());var Pt=!1;Et.contains(a)&&Mt.isPointInRing(c,rt.getCoordinates())&&(Pt=!0),Pt&&(null===y||x.contains(Et))&&(y=B)}return y},Lr.prototype.findShell=function(t){for(var e=0,o=null,a=t.iterator();a.hasNext();){var c=a.next();c.isHole()||(o=c,e++)}return L.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),o},Lr.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];hn.linkResultDirectedEdges(arguments[1]);var a=this.buildMaximalEdgeRings(e),c=new kt,y=this.buildMinimalEdgeRings(a,this._shellList,c);this.sortShellsAndHoles(y,this._shellList,c),this.placeFreeHoles(this._shellList,c)}},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr};var No=function(){};No.prototype.getBounds=function(){},No.prototype.interfaces_=function(){return[]},No.prototype.getClass=function(){return No};var qr=function(){this._bounds=null,this._item=null;var e=arguments[1];this._bounds=arguments[0],this._item=e};qr.prototype.getItem=function(){return this._item},qr.prototype.getBounds=function(){return this._bounds},qr.prototype.interfaces_=function(){return[No,q]},qr.prototype.getClass=function(){return qr};var di=function(){this._size=null,this._items=null,this._size=0,this._items=new kt,this._items.add(null)};di.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},di.prototype.size=function(){return this._size},di.prototype.reorder=function(t){for(var e=null,o=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(o)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,o)},di.prototype.clear=function(){this._size=0,this._items.clear()},di.prototype.isEmpty=function(){return 0===this._size},di.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di};var Zi=function(){};Zi.prototype.visitItem=function(t){},Zi.prototype.interfaces_=function(){return[]},Zi.prototype.getClass=function(){return Zi};var Mo=function(){};Mo.prototype.insert=function(t,e){},Mo.prototype.remove=function(t,e){},Mo.prototype.query=function(){},Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo};var Fn=function(){this._childBoundables=new kt,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},fu={serialVersionUID:{configurable:!0}};Fn.prototype.getLevel=function(){return this._level},Fn.prototype.size=function(){return this._childBoundables.size()},Fn.prototype.getChildBoundables=function(){return this._childBoundables},Fn.prototype.addChildBoundable=function(t){L.isTrue(null===this._bounds),this._childBoundables.add(t)},Fn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Fn.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Fn.prototype.interfaces_=function(){return[No,q]},Fn.prototype.getClass=function(){return Fn},fu.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Fn,fu);var jr=function(){};jr.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},jr.min=function(t){return jr.sort(t),t.get(0)},jr.sort=function(t,e){var o=t.toArray();e?Hi.sort(o,e):Hi.sort(o);for(var a=t.iterator(),c=0,y=o.length;c<y;c++)a.next(),a.set(o[c])},jr.singletonList=function(t){var e=new kt;return e.add(t),e};var Sn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[1],o=arguments[2];this._boundable1=arguments[0],this._boundable2=e,this._itemDistance=o,this._distance=this.distance()};Sn.prototype.expandToQueue=function(t,e){var o=Sn.isComposite(this._boundable1),a=Sn.isComposite(this._boundable2);if(o&&a)return Sn.area(this._boundable1)>Sn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(o)return this.expand(this._boundable1,this._boundable2,t,e),null;if(a)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new S("neither boundable is composite")},Sn.prototype.isLeaves=function(){return!(Sn.isComposite(this._boundable1)||Sn.isComposite(this._boundable2))},Sn.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Sn.prototype.expand=function(t,e,o,a){for(var c=t.getChildBoundables().iterator();c.hasNext();){var y=c.next(),x=new Sn(y,e,this._itemDistance);x.getDistance()<a&&o.add(x)}},Sn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Sn.prototype.getDistance=function(){return this._distance},Sn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Sn.prototype.interfaces_=function(){return[I]},Sn.prototype.getClass=function(){return Sn},Sn.area=function(t){return t.getBounds().getArea()},Sn.isComposite=function(t){return t instanceof Fn};var Yn=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new kt,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var o=arguments[0];L.isTrue(o>1,"Node capacity must be greater than 1"),this._nodeCapacity=o}},Gs={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Yn.prototype.getNodeCapacity=function(){return this._nodeCapacity},Yn.prototype.lastNode=function(t){return t.get(t.size()-1)},Yn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();o instanceof Fn?t+=this.size(o):o instanceof qr&&(t+=1)}return t}},Yn.prototype.removeItem=function(t,e){for(var o=null,a=t.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof qr&&c.getItem()===e&&(o=c)}return null!==o&&(t.getChildBoundables().remove(o),!0)},Yn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new kt:t}if(1===arguments.length){for(var e=arguments[0],o=new kt,a=e.getChildBoundables().iterator();a.hasNext();){var c=a.next();if(c instanceof Fn){var y=this.itemsTree(c);null!==y&&o.add(y)}else c instanceof qr?o.add(c.getItem()):L.shouldNeverReachHere()}return o.size()<=0?null:o}},Yn.prototype.insert=function(t,e){L.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new qr(t,e))},Yn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new kt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var o=arguments[0],a=arguments[1],c=arguments[2];if(L.isTrue(o>-2),a.getLevel()===o)return c.add(a),null;for(var y=a.getChildBoundables().iterator();y.hasNext();){var x=y.next();x instanceof Fn?this.boundablesAtLevel(o,x,c):(L.isTrue(x instanceof qr),-1===o&&c.add(x))}return null}},Yn.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new kt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var o=arguments[0],a=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.query(o,this._root,a)}else if(3===arguments.length)if(Nt(arguments[2],Zi)&&arguments[0]instanceof Object&&arguments[1]instanceof Fn)for(var c=arguments[0],x=arguments[2],C=arguments[1].getChildBoundables(),B=0;B<C.size();B++){var rt=C.get(B);this.getIntersectsOp().intersects(rt.getBounds(),c)&&(rt instanceof Fn?this.query(c,rt,x):rt instanceof qr?x.visitItem(rt.getItem()):L.shouldNeverReachHere())}else if(Nt(arguments[2],Bn)&&arguments[0]instanceof Object&&arguments[1]instanceof Fn)for(var Et=arguments[0],Ut=arguments[2],Yt=arguments[1].getChildBoundables(),$t=0;$t<Yt.size();$t++){var ne=Yt.get($t);this.getIntersectsOp().intersects(ne.getBounds(),Et)&&(ne instanceof Fn?this.query(Et,ne,Ut):ne instanceof qr?Ut.add(ne.getItem()):L.shouldNeverReachHere())}},Yn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Yn.prototype.getRoot=function(){return this.build(),this._root},Yn.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var o=arguments[0],a=arguments[1],c=arguments[2],y=this.removeItem(a,c);if(y)return!0;for(var x=null,C=a.getChildBoundables().iterator();C.hasNext();){var B=C.next();if(this.getIntersectsOp().intersects(B.getBounds(),o)&&B instanceof Fn&&(y=this.remove(o,B,c))){x=B;break}}return null!==x&&x.getChildBoundables().isEmpty()&&a.getChildBoundables().remove(x),y}},Yn.prototype.createHigherLevels=function(t,e){L.isTrue(!t.isEmpty());var o=this.createParentBoundables(t,e+1);return 1===o.size()?o.get(0):this.createHigherLevels(o,e+1)},Yn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();if(o instanceof Fn){var a=this.depth(o);a>t&&(t=a)}}return t+1}},Yn.prototype.createParentBoundables=function(t,e){L.isTrue(!t.isEmpty());var o=new kt;o.add(this.createNode(e));var a=new kt(t);jr.sort(a,this.getComparator());for(var c=a.iterator();c.hasNext();){var y=c.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(e)),this.lastNode(o).addChildBoundable(y)}return o},Yn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Yn.prototype.interfaces_=function(){return[q]},Yn.prototype.getClass=function(){return Yn},Yn.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Gs.IntersectsOp.get=function(){return El},Gs.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Gs.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Yn,Gs);var El=function(){},Wo=function(){};Wo.prototype.distance=function(t,e){},Wo.prototype.interfaces_=function(){return[]},Wo.prototype.getClass=function(){return Wo};var hu=function(t){function e(a){t.call(this,a=a||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(a,c){L.isTrue(a.length>0);for(var y=new kt,x=0;x<a.length;x++)y.addAll(this.createParentBoundablesFromVerticalSlice(a[x],c));return y},e.prototype.createNode=function(a){return new _a(a)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var a=arguments[0],c=arguments[1];if(a.isNull())return null;t.prototype.insert.call(this,a,c)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(a,c){for(var y=Math.trunc(Math.ceil(a.size()/c)),x=new Array(c).fill(null),C=a.iterator(),B=0;B<c;B++){x[B]=new kt;for(var rt=0;C.hasNext()&&rt<y;){var Et=C.next();x[B].add(Et),rt++}}return x},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Nt(arguments[2],Zi)&&arguments[0]instanceof Object&&arguments[1]instanceof Fn||Nt(arguments[2],Bn)&&arguments[0]instanceof Object&&arguments[1]instanceof Fn)&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(a,c){return t.prototype.createParentBoundables.call(this,a,c)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(a,c){L.isTrue(!a.isEmpty());var y=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),x=new kt(a);jr.sort(x,e.xComparator);var C=this.verticalSlices(x,Math.trunc(Math.ceil(Math.sqrt(y))));return this.createParentBoundablesFromVerticalSlices(C,c)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Nt(arguments[0],Wo)){var a=arguments[0],c=new Sn(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(c)}if(arguments[0]instanceof Sn)return this.nearestNeighbour(arguments[0],N.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&Nt(arguments[1],Wo)){var x=arguments[0],C=arguments[1],B=new Sn(this.getRoot(),x.getRoot(),C);return this.nearestNeighbour(B)}if(arguments[0]instanceof Sn&&"number"==typeof arguments[1]){var rt=arguments[0],Et=arguments[1],Pt=null,Ut=new di;for(Ut.add(rt);!Ut.isEmpty()&&Et>0;){var Yt=Ut.poll(),$t=Yt.getDistance();if($t>=Et)break;Yt.isLeaves()?(Et=$t,Pt=Yt):Yt.expandToQueue(Ut,Et)}return[Pt.getBoundable(0).getItem(),Pt.getBoundable(1).getItem()]}}else if(3===arguments.length){var Ln=arguments[2],ar=new qr(arguments[0],arguments[1]),Tr=new Sn(this.getRoot(),ar,Ln);return this.nearestNeighbour(Tr)[0]}},e.prototype.interfaces_=function(){return[Mo,q]},e.prototype.getClass=function(){return e},e.centreX=function(a){return e.avg(a.getMinX(),a.getMaxX())},e.avg=function(a,c){return(a+c)/2},e.centreY=function(a){return e.avg(a.getMinY(),a.getMaxY())},o.STRtreeNode.get=function(){return _a},o.serialVersionUID.get=function(){return 0x39920f7d5f261e0},o.xComparator.get=function(){return{interfaces_:function(){return[O]},compare:function(a,c){return t.compareDoubles(e.centreX(a.getBounds()),e.centreX(c.getBounds()))}}},o.yComparator.get=function(){return{interfaces_:function(){return[O]},compare:function(a,c){return t.compareDoubles(e.centreY(a.getBounds()),e.centreY(c.getBounds()))}}},o.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(a,c){return a.intersects(c)}}},o.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,o),e}(Yn),_a=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var o=null,a=this.getChildBoundables().iterator();a.hasNext();){var c=a.next();null===o?o=new Gt(c.getBounds()):o.expandToInclude(c.getBounds())}return o},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Fn),xr=function(){};xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr},xr.relativeSign=function(t,e){return t<e?-1:t>e?1:0},xr.compare=function(t,e,o){if(e.equals2D(o))return 0;var a=xr.relativeSign(e.x,o.x),c=xr.relativeSign(e.y,o.y);switch(t){case 0:return xr.compareValue(a,c);case 1:return xr.compareValue(c,a);case 2:return xr.compareValue(c,-a);case 3:return xr.compareValue(-a,c);case 4:return xr.compareValue(-a,-c);case 5:return xr.compareValue(-c,-a);case 6:return xr.compareValue(-c,a);case 7:return xr.compareValue(a,-c)}return L.shouldNeverReachHere("invalid octant value"),0},xr.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Ui=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],o=arguments[2],a=arguments[3];this._segString=t,this.coord=new w(e),this.segmentIndex=o,this._segmentOctant=a,this._isInterior=!e.equals2D(t.getCoordinate(o))};Ui.prototype.getCoordinate=function(){return this.coord},Ui.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Ui.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:xr.compare(this._segmentOctant,this.coord,e.coord)},Ui.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Ui.prototype.isInterior=function(){return this._isInterior},Ui.prototype.interfaces_=function(){return[I]},Ui.prototype.getClass=function(){return Ui};var rr=function(){this._nodeMap=new xt,this._edge=null,this._edge=arguments[0]};rr.prototype.getSplitCoordinates=function(){var t=new Or;this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var a=e.next();this.addEdgeCoordinates(o,a,t),o=a}return t.toCoordinateArray()},rr.prototype.addCollapsedNodes=function(){var t=new kt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var o=e.next().intValue();this.add(this._edge.getCoordinate(o),o)}},rr.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},rr.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var o=this._edge.getCoordinate(e),a=this._edge.getCoordinate(e+2);o.equals2D(a)&&t.add(new at(e+1))}},rr.prototype.addEdgeCoordinates=function(t,e,o){var a=this._edge.getCoordinate(e.segmentIndex),c=e.isInterior()||!e.coord.equals2D(a);o.add(new w(t.coord),!1);for(var y=t.segmentIndex+1;y<=e.segmentIndex;y++)o.add(this._edge.getCoordinate(y));c&&o.add(new w(e.coord))},rr.prototype.iterator=function(){return this._nodeMap.values().iterator()},rr.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),o=e.next();e.hasNext();){var a=e.next(),c=this.createSplitEdge(o,a);t.add(c),o=a}},rr.prototype.findCollapseIndex=function(t,e,o){if(!t.coord.equals2D(e.coord))return!1;var a=e.segmentIndex-t.segmentIndex;return e.isInterior()||a--,1===a&&(o[0]=t.segmentIndex+1,!0)},rr.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),o=this.iterator(),a=o.next();o.hasNext();){var c=o.next();this.findCollapseIndex(a,c,e)&&t.add(new at(e[0])),a=c}},rr.prototype.getEdge=function(){return this._edge},rr.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},rr.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,a=this._edge.getCoordinate(e.segmentIndex),c=e.isInterior()||!e.coord.equals2D(a);c||o--;var y=new Array(o).fill(null),x=0;y[x++]=new w(t.coord);for(var C=t.segmentIndex+1;C<=e.segmentIndex;C++)y[x++]=this._edge.getCoordinate(C);return c&&(y[x]=new w(e.coord)),new Pn(y,this._edge.getData())},rr.prototype.add=function(t,e){var o=new Ui(this._edge,t,e,this._edge.getSegmentOctant(e)),a=this._nodeMap.get(o);return null!==a?(L.isTrue(a.coord.equals2D(t),"Found equal nodes with different coordinates"),a):(this._nodeMap.put(o,o),o)},rr.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),o=t.get(0).getCoordinate(0);if(!o.equals2D(e[0]))throw new D("bad split edge start point at "+o);var a=t.get(t.size()-1).getCoordinates(),c=a[a.length-1];if(!c.equals2D(e[e.length-1]))throw new D("bad split edge end point at "+c)},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr};var po=function(){};po.prototype.interfaces_=function(){return[]},po.prototype.getClass=function(){return po},po.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new S("Cannot compute the octant for point ( "+t+", "+e+" )");var o=Math.abs(t),a=Math.abs(e);return t>=0?e>=0?o>=a?0:1:o>=a?7:6:e>=0?o>=a?3:2:o>=a?4:5}if(arguments[0]instanceof w&&arguments[1]instanceof w){var c=arguments[0],y=arguments[1],x=y.x-c.x,C=y.y-c.y;if(0===x&&0===C)throw new S("Cannot compute the octant for two identical points "+c);return po.octant(x,C)}};var Li=function(){};Li.prototype.getCoordinates=function(){},Li.prototype.size=function(){},Li.prototype.getCoordinate=function(t){},Li.prototype.isClosed=function(){},Li.prototype.setData=function(t){},Li.prototype.getData=function(){},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li};var ys=function(){};ys.prototype.addIntersection=function(t,e){},ys.prototype.interfaces_=function(){return[Li]},ys.prototype.getClass=function(){return ys};var Pn=function(){this._nodeList=new rr(this),this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};Pn.prototype.getCoordinates=function(){return this._pts},Pn.prototype.size=function(){return this._pts.length},Pn.prototype.getCoordinate=function(t){return this._pts[t]},Pn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Pn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Pn.prototype.setData=function(t){this._data=t},Pn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:po.octant(t,e)},Pn.prototype.getData=function(){return this._data},Pn.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var a=arguments[1],y=new w(arguments[0].getIntersection(arguments[3]));this.addIntersection(y,a)}},Pn.prototype.toString=function(){return dt.toLineString(new _n(this._pts))},Pn.prototype.getNodeList=function(){return this._nodeList},Pn.prototype.addIntersectionNode=function(t,e){var o=e,a=o+1;return a<this._pts.length&&t.equals2D(this._pts[a])&&(o=a),this._nodeList.add(t,o)},Pn.prototype.addIntersections=function(t,e,o){for(var a=0;a<t.getIntersectionNum();a++)this.addIntersection(t,e,o,a)},Pn.prototype.interfaces_=function(){return[ys]},Pn.prototype.getClass=function(){return Pn},Pn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new kt;return Pn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var a=arguments[1],c=arguments[0].iterator();c.hasNext();)c.next().getNodeList().addSplitEdges(a)};var Kt=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new w,this.p1=new w;else if(1===arguments.length){var t=arguments[0];this.p0=new w(t.p0),this.p1=new w(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var a=arguments[2],c=arguments[3];this.p0=new w(arguments[0],arguments[1]),this.p1=new w(a,c)}},pu={serialVersionUID:{configurable:!0}};Kt.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Kt.prototype.orientationIndex=function(){if(arguments[0]instanceof Kt){var t=arguments[0],e=Mt.orientationIndex(this.p0,this.p1,t.p0),o=Mt.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&o>=0||e<=0&&o<=0?Math.max(e,o):0}if(arguments[0]instanceof w)return Mt.orientationIndex(this.p0,this.p1,arguments[0])},Kt.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Kt.prototype.isVertical=function(){return this.p0.x===this.p1.x},Kt.prototype.equals=function(t){if(!(t instanceof Kt))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Kt.prototype.intersection=function(t){var e=new wt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Kt.prototype.project=function(){if(arguments[0]instanceof w){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new w(t);var e=this.projectionFactor(t),o=new w;return o.x=this.p0.x+e*(this.p1.x-this.p0.x),o.y=this.p0.y+e*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof Kt){var a=arguments[0],c=this.projectionFactor(a.p0),y=this.projectionFactor(a.p1);if(c>=1&&y>=1||c<=0&&y<=0)return null;var x=this.project(a.p0);c<0&&(x=this.p0),c>1&&(x=this.p1);var C=this.project(a.p1);return y<0&&(C=this.p0),y>1&&(C=this.p1),new Kt(x,C)}},Kt.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Kt.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Kt.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Kt.prototype.distancePerpendicular=function(t){return Mt.distancePointLinePerpendicular(t,this.p0,this.p1)},Kt.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Kt.prototype.midPoint=function(){return Kt.midPoint(this.p0,this.p1)},Kt.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=e*e+o*o;return a<=0?N.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*o)/a},Kt.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var o=new Array(2).fill(null),a=N.MAX_VALUE,c=null,y=this.closestPoint(t.p0);a=y.distance(t.p0),o[0]=y,o[1]=t.p0;var x=this.closestPoint(t.p1);(c=x.distance(t.p1))<a&&(a=c,o[0]=x,o[1]=t.p1);var C=t.closestPoint(this.p0);(c=C.distance(this.p0))<a&&(a=c,o[0]=this.p0,o[1]=C);var B=t.closestPoint(this.p1);return(c=B.distance(this.p1))<a&&(a=c,o[0]=this.p1,o[1]=B),o},Kt.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Kt.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Kt.prototype.getLength=function(){return this.p0.distance(this.p1)},Kt.prototype.compareTo=function(t){var e=t,o=this.p0.compareTo(e.p0);return 0!==o?o:this.p1.compareTo(e.p1)},Kt.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Kt.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Kt.prototype.lineIntersection=function(t){try{return Wt.intersection(this.p0,this.p1,t.p0,t.p1)}catch(e){if(!(e instanceof ue))throw e}return null},Kt.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Kt.prototype.pointAlongOffset=function(t,e){var o=this.p0.x+t*(this.p1.x-this.p0.x),a=this.p0.y+t*(this.p1.y-this.p0.y),c=this.p1.x-this.p0.x,y=this.p1.y-this.p0.y,x=Math.sqrt(c*c+y*y),C=0,B=0;if(0!==e){if(x<=0)throw new Error("Cannot compute offset from zero-length line segment");C=e*c/x,B=e*y/x}return new w(o-B,a+C)},Kt.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=o.x,this.p1.y=o.y}},Kt.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||N.isNaN(e))&&(e=1),e},Kt.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Kt.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Kt.prototype.distance=function(){if(arguments[0]instanceof Kt){var t=arguments[0];return Mt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof w)return Mt.distancePointLine(arguments[0],this.p0,this.p1)},Kt.prototype.pointAlong=function(t){var e=new w;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Kt.prototype.hashCode=function(){var t=N.doubleToLongBits(this.p0.x);t^=31*N.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),o=N.doubleToLongBits(this.p1.x);return o^=31*N.doubleToLongBits(this.p1.y),e^Math.trunc(o)^Math.trunc(o>>32)},Kt.prototype.interfaces_=function(){return[I,q]},Kt.prototype.getClass=function(){return Kt},Kt.midPoint=function(t,e){return new w((t.x+e.x)/2,(t.y+e.y)/2)},pu.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Kt,pu);var Vo=function(){this.tempEnv1=new Gt,this.tempEnv2=new Gt,this._overlapSeg1=new Kt,this._overlapSeg2=new Kt};Vo.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var o=arguments[2],a=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),o.getLineSegment(a,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Vo.prototype.interfaces_=function(){return[]},Vo.prototype.getClass=function(){return Vo};var Er=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[1],o=arguments[2],a=arguments[3];this._pts=arguments[0],this._start=e,this._end=o,this._context=a};Er.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Er.prototype.computeSelect=function(t,e,o,a){if(a.tempEnv1.init(this._pts[e],this._pts[o]),o-e==1)return a.select(this,e),null;if(!t.intersects(a.tempEnv1))return null;var x=Math.trunc((e+o)/2);e<x&&this.computeSelect(t,e,x,a),x<o&&this.computeSelect(t,x,o,a)},Er.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,o=this._start;o<=this._end;o++)t[e++]=this._pts[o];return t},Er.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Er.prototype.setId=function(t){this._id=t},Er.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Er.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Gt(this._pts[this._start],this._pts[this._end])),this._env},Er.prototype.getEndIndex=function(){return this._end},Er.prototype.getStartIndex=function(){return this._start},Er.prototype.getContext=function(){return this._context},Er.prototype.getId=function(){return this._id},Er.prototype.computeOverlapsInternal=function(t,e,o,a,c,y){var x=this._pts[t],C=this._pts[e],B=o._pts[a],rt=o._pts[c];if(e-t==1&&c-a==1)return y.overlap(this,t,o,a),null;if(y.tempEnv1.init(x,C),y.tempEnv2.init(B,rt),!y.tempEnv1.intersects(y.tempEnv2))return null;var Et=Math.trunc((t+e)/2),Pt=Math.trunc((a+c)/2);t<Et&&(a<Pt&&this.computeOverlapsInternal(t,Et,o,a,Pt,y),Pt<c&&this.computeOverlapsInternal(t,Et,o,Pt,c,y)),Et<e&&(a<Pt&&this.computeOverlapsInternal(Et,e,o,a,Pt,y),Pt<c&&this.computeOverlapsInternal(Et,e,o,Pt,c,y))},Er.prototype.interfaces_=function(){return[]},Er.prototype.getClass=function(){return Er};var yi=function(){};yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi},yi.getChainStartIndices=function(t){var e=0,o=new kt;o.add(new at(e));do{var a=yi.findChainEnd(t,e);o.add(new at(a)),e=a}while(e<t.length-1);return yi.toIntArray(o)},yi.findChainEnd=function(t,e){for(var o=e;o<t.length-1&&t[o].equals2D(t[o+1]);)o++;if(o>=t.length-1)return t.length-1;for(var a=rn.quadrant(t[o],t[o+1]),c=e+1;c<t.length&&(t[c-1].equals2D(t[c])||rn.quadrant(t[c-1],t[c])===a);)c++;return c-1},yi.getChains=function(){if(1===arguments.length)return yi.getChains(arguments[0],null);if(2===arguments.length){for(var e=arguments[0],o=arguments[1],a=new kt,c=yi.getChainStartIndices(e),y=0;y<c.length-1;y++){var x=new Er(e,c[y],c[y+1],o);a.add(x)}return a}},yi.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var go=function(){};go.prototype.computeNodes=function(t){},go.prototype.getNodedSubstrings=function(){},go.prototype.interfaces_=function(){return[]},go.prototype.getClass=function(){return go};var Qo=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};Qo.prototype.setSegmentIntersector=function(t){this._segInt=t},Qo.prototype.interfaces_=function(){return[go]},Qo.prototype.getClass=function(){return Qo};var ms=function(t){function e(a){a?t.call(this,a):t.call(this),this._monoChains=new kt,this._index=new hu,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Pn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(a){for(var c=yi.getChains(a.getCoordinates(),a).iterator();c.hasNext();){var y=c.next();y.setId(this._idCounter++),this._index.insert(y.getEnvelope(),y),this._monoChains.add(y)}},e.prototype.computeNodes=function(a){this._nodedSegStrings=a;for(var c=a.iterator();c.hasNext();)this.add(c.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var a=new gu(this._segInt),c=this._monoChains.iterator();c.hasNext();)for(var y=c.next(),x=this._index.query(y.getEnvelope()).iterator();x.hasNext();){var C=x.next();if(C.getId()>y.getId()&&(y.computeOverlaps(C,a),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.SegmentOverlapAction.get=function(){return gu},Object.defineProperties(e,o),e}(Qo),gu=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var a=arguments[1],c=arguments[2],y=arguments[3],x=arguments[0].getContext(),C=c.getContext();this._si.processIntersections(x,a,C,y)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vo),Ve=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var a=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(a)}else if(4===arguments.length){var y=arguments[1],x=arguments[2],C=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(y),this.setJoinStyle(x),this.setMitreLimit(C)}},Ti={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Ve.prototype.getEndCapStyle=function(){return this._endCapStyle},Ve.prototype.isSingleSided=function(){return this._isSingleSided},Ve.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Ve.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Ve.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Ve.JOIN_ROUND&&(this._quadrantSegments=Ve.DEFAULT_QUADRANT_SEGMENTS)},Ve.prototype.getJoinStyle=function(){return this._joinStyle},Ve.prototype.setJoinStyle=function(t){this._joinStyle=t},Ve.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Ve.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Ve.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Ve.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Ve.prototype.getMitreLimit=function(){return this._mitreLimit},Ve.prototype.setMitreLimit=function(t){this._mitreLimit=t},Ve.prototype.setSingleSided=function(t){this._isSingleSided=t},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},Ve.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Ti.CAP_ROUND.get=function(){return 1},Ti.CAP_FLAT.get=function(){return 2},Ti.CAP_SQUARE.get=function(){return 3},Ti.JOIN_ROUND.get=function(){return 1},Ti.JOIN_MITRE.get=function(){return 2},Ti.JOIN_BEVEL.get=function(){return 3},Ti.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Ti.DEFAULT_MITRE_LIMIT.get=function(){return 5},Ti.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Ve,Ti);var wn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Mt.COUNTERCLOCKWISE,this._inputLine=t||null},vs={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};wn.prototype.isDeletable=function(t,e,o,a){var c=this._inputLine[t],y=this._inputLine[e],x=this._inputLine[o];return!!this.isConcave(c,y,x)&&!!this.isShallow(c,y,x,a)&&this.isShallowSampled(c,y,t,o,a)},wn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),o=this.findNextNonDeletedIndex(e),a=!1;o<this._inputLine.length;){var c=!1;this.isDeletable(t,e,o,this._distanceTol)&&(this._isDeleted[e]=wn.DELETE,c=!0,a=!0),e=this.findNextNonDeletedIndex(t=c?o:e),o=this.findNextNonDeletedIndex(e)}return a},wn.prototype.isShallowConcavity=function(t,e,o,a){return Mt.computeOrientation(t,e,o)===this._angleOrientation&&Mt.distancePointLine(e,t,o)<a},wn.prototype.isShallowSampled=function(t,e,o,a,c){var y=Math.trunc((a-o)/wn.NUM_PTS_TO_CHECK);y<=0&&(y=1);for(var x=o;x<a;x+=y)if(!this.isShallow(t,e,this._inputLine[x],c))return!1;return!0},wn.prototype.isConcave=function(t,e,o){return Mt.computeOrientation(t,e,o)===this._angleOrientation},wn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Mt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},wn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===wn.DELETE;)e++;return e},wn.prototype.isShallow=function(t,e,o,a){return Mt.distancePointLine(e,t,o)<a},wn.prototype.collapseLine=function(){for(var t=new Or,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==wn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},wn.simplify=function(t,e){return new wn(t).simplify(e)},vs.INIT.get=function(){return 0},vs.DELETE.get=function(){return 1},vs.KEEP.get=function(){return 1},vs.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(wn,vs);var kr=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new kt},du={COORDINATE_ARRAY_TYPE:{configurable:!0}};kr.prototype.getCoordinates=function(){return this._ptList.toArray(kr.COORDINATE_ARRAY_TYPE)},kr.prototype.setPrecisionModel=function(t){this._precisionModel=t},kr.prototype.addPt=function(t){var e=new w(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},kr.prototype.revere=function(){},kr.prototype.addPts=function(t,e){if(e)for(var o=0;o<t.length;o++)this.addPt(t[o]);else for(var a=t.length-1;a>=0;a--)this.addPt(t[a])},kr.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},kr.prototype.toString=function(){return(new ve).createLineString(this.getCoordinates()).toString()},kr.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new w(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},kr.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr},du.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(kr,du);var Ee=function(){},Lo={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ee.prototype.interfaces_=function(){return[]},Ee.prototype.getClass=function(){return Ee},Ee.toDegrees=function(t){return 180*t/Math.PI},Ee.normalize=function(t){for(;t>Math.PI;)t-=Ee.PI_TIMES_2;for(;t<=-Math.PI;)t+=Ee.PI_TIMES_2;return t},Ee.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return Math.atan2(o.y-e.y,o.x-e.x)}},Ee.isAcute=function(t,e,o){return(t.x-e.x)*(o.x-e.x)+(t.y-e.y)*(o.y-e.y)>0},Ee.isObtuse=function(t,e,o){return(t.x-e.x)*(o.x-e.x)+(t.y-e.y)*(o.y-e.y)<0},Ee.interiorAngle=function(t,e,o){var a=Ee.angle(e,t),c=Ee.angle(e,o);return Math.abs(c-a)},Ee.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Ee.PI_TIMES_2;t>=Ee.PI_TIMES_2&&(t=0)}else{for(;t>=Ee.PI_TIMES_2;)t-=Ee.PI_TIMES_2;t<0&&(t=0)}return t},Ee.angleBetween=function(t,e,o){var a=Ee.angle(e,t),c=Ee.angle(e,o);return Ee.diff(a,c)},Ee.diff=function(t,e){var o=null;return(o=t<e?e-t:t-e)>Math.PI&&(o=2*Math.PI-o),o},Ee.toRadians=function(t){return t*Math.PI/180},Ee.getTurn=function(t,e){var o=Math.sin(e-t);return o>0?Ee.COUNTERCLOCKWISE:o<0?Ee.CLOCKWISE:Ee.NONE},Ee.angleBetweenOriented=function(t,e,o){var a=Ee.angle(e,t),c=Ee.angle(e,o)-a;return c<=-Math.PI?c+Ee.PI_TIMES_2:c>Math.PI?c-Ee.PI_TIMES_2:c},Lo.PI_TIMES_2.get=function(){return 2*Math.PI},Lo.PI_OVER_2.get=function(){return Math.PI/2},Lo.PI_OVER_4.get=function(){return Math.PI/4},Lo.COUNTERCLOCKWISE.get=function(){return Mt.COUNTERCLOCKWISE},Lo.CLOCKWISE.get=function(){return Mt.CLOCKWISE},Lo.NONE.get=function(){return Mt.COLLINEAR},Object.defineProperties(Ee,Lo);var gn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Kt,this._seg1=new Kt,this._offset0=new Kt,this._offset1=new Kt,this._side=0,this._hasNarrowConcaveAngle=!1;var o=arguments[1],a=arguments[2];this._precisionModel=arguments[0],this._bufParams=o,this._li=new wt,this._filletAngleQuantum=Math.PI/2/o.getQuadrantSegments(),o.getQuadrantSegments()>=8&&o.getJoinStyle()===Ve.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(a)},To={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};gn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var o=Mt.computeOrientation(this._s0,this._s1,this._s2),a=o===Mt.CLOCKWISE&&this._side===Bt.LEFT||o===Mt.COUNTERCLOCKWISE&&this._side===Bt.RIGHT;0===o?this.addCollinear(e):a?this.addOutsideTurn(o,e):this.addInsideTurn(o,e)},gn.prototype.addLineEndCap=function(t,e){var o=new Kt(t,e),a=new Kt;this.computeOffsetSegment(o,Bt.LEFT,this._distance,a);var c=new Kt;this.computeOffsetSegment(o,Bt.RIGHT,this._distance,c);var C=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case Ve.CAP_ROUND:this._segList.addPt(a.p1),this.addFilletArc(e,C+Math.PI/2,C-Math.PI/2,Mt.CLOCKWISE,this._distance),this._segList.addPt(c.p1);break;case Ve.CAP_FLAT:this._segList.addPt(a.p1),this._segList.addPt(c.p1);break;case Ve.CAP_SQUARE:var B=new w;B.x=Math.abs(this._distance)*Math.cos(C),B.y=Math.abs(this._distance)*Math.sin(C);var rt=new w(a.p1.x+B.x,a.p1.y+B.y),Et=new w(c.p1.x+B.x,c.p1.y+B.y);this._segList.addPt(rt),this._segList.addPt(Et)}},gn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},gn.prototype.addMitreJoin=function(t,e,o,a){var c=!0,y=null;try{y=Wt.intersection(e.p0,e.p1,o.p0,o.p1),(a<=0?1:y.distance(t)/Math.abs(a))>this._bufParams.getMitreLimit()&&(c=!1)}catch(x){if(!(x instanceof ue))throw x;y=new w(0,0),c=!1}c?this._segList.addPt(y):this.addLimitedMitreJoin(e,o,a,this._bufParams.getMitreLimit())},gn.prototype.addFilletCorner=function(t,e,o,a,c){var C=Math.atan2(e.y-t.y,e.x-t.x),Et=Math.atan2(o.y-t.y,o.x-t.x);a===Mt.CLOCKWISE?C<=Et&&(C+=2*Math.PI):C>=Et&&(C-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,C,Et,a,c),this._segList.addPt(o)},gn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*gn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Ve.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Ve.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},gn.prototype.createSquare=function(t){this._segList.addPt(new w(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new w(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new w(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new w(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},gn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},gn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},gn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},gn.prototype.initSideSegments=function(t,e,o){this._s1=t,this._s2=e,this._side=o,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)},gn.prototype.addLimitedMitreJoin=function(t,e,o,a){var c=this._seg0.p1,y=Ee.angle(c,this._seg0.p0),x=Ee.angleBetweenOriented(this._seg0.p0,c,this._seg1.p1)/2,C=Ee.normalize(y+x),B=Ee.normalize(C+Math.PI),rt=a*o,Et=o-rt*Math.abs(Math.sin(x)),Pt=c.x+rt*Math.cos(B),Ut=c.y+rt*Math.sin(B),Yt=new w(Pt,Ut),$t=new Kt(c,Yt),ne=$t.pointAlongOffset(1,Et),Ke=$t.pointAlongOffset(1,-Et);this._side===Bt.LEFT?(this._segList.addPt(ne),this._segList.addPt(Ke)):(this._segList.addPt(Ke),this._segList.addPt(ne))},gn.prototype.computeOffsetSegment=function(t,e,o,a){var c=e===Bt.LEFT?1:-1,y=t.p1.x-t.p0.x,x=t.p1.y-t.p0.y,C=Math.sqrt(y*y+x*x),B=c*o*y/C,rt=c*o*x/C;a.p0.x=t.p0.x-rt,a.p0.y=t.p0.y+B,a.p1.x=t.p1.x-rt,a.p1.y=t.p1.y+B},gn.prototype.addFilletArc=function(t,e,o,a,c){var y=a===Mt.CLOCKWISE?-1:1,x=Math.abs(e-o),C=Math.trunc(x/this._filletAngleQuantum+.5);if(C<1)return null;for(var B=x/C,rt=0,Et=new w;rt<x;){var Pt=e+y*rt;Et.x=t.x+c*Math.cos(Pt),Et.y=t.y+c*Math.sin(Pt),this._segList.addPt(Et),rt+=B}},gn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*gn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var o=new w((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o);var a=new w((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(a)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},gn.prototype.createCircle=function(t){var e=new w(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},gn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},gn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new kr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*gn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},gn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Ve.JOIN_BEVEL||this._bufParams.getJoinStyle()===Ve.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Mt.CLOCKWISE,this._distance))},gn.prototype.closeRing=function(){this._segList.closeRing()},gn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},To.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},To.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},To.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},To.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(gn,To);var hr=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[1];this._precisionModel=arguments[0],this._bufParams=e};hr.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var o=e<0,a=Math.abs(e),c=this.getSegGen(a);t.length<=1?this.computePointCurve(t[0],c):this.computeOffsetCurve(t,o,c);var y=c.getCoordinates();return o&&fe.reverse(y),y},hr.prototype.computeSingleSidedBufferCurve=function(t,e,o){var a=this.simplifyTolerance(this._distance);if(e){o.addSegments(t,!0);var c=wn.simplify(t,-a),y=c.length-1;o.initSideSegments(c[y],c[y-1],Bt.LEFT),o.addFirstSegment();for(var x=y-2;x>=0;x--)o.addNextSegment(c[x],!0)}else{o.addSegments(t,!1);var C=wn.simplify(t,a),B=C.length-1;o.initSideSegments(C[0],C[1],Bt.LEFT),o.addFirstSegment();for(var rt=2;rt<=B;rt++)o.addNextSegment(C[rt],!0)}o.addLastSegment(),o.closeRing()},hr.prototype.computeRingBufferCurve=function(t,e,o){var a=this.simplifyTolerance(this._distance);e===Bt.RIGHT&&(a=-a);var c=wn.simplify(t,a),y=c.length-1;o.initSideSegments(c[y-1],c[0],e);for(var x=1;x<=y;x++)o.addNextSegment(c[x],1!==x);o.closeRing()},hr.prototype.computeLineBufferCurve=function(t,e){var o=this.simplifyTolerance(this._distance),a=wn.simplify(t,o),c=a.length-1;e.initSideSegments(a[0],a[1],Bt.LEFT);for(var y=2;y<=c;y++)e.addNextSegment(a[y],!0);e.addLastSegment(),e.addLineEndCap(a[c-1],a[c]);var x=wn.simplify(t,-o),C=x.length-1;e.initSideSegments(x[C],x[C-1],Bt.LEFT);for(var B=C-2;B>=0;B--)e.addNextSegment(x[B],!0);e.addLastSegment(),e.addLineEndCap(x[1],x[0]),e.closeRing()},hr.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Ve.CAP_ROUND:e.createCircle(t);break;case Ve.CAP_SQUARE:e.createSquare(t)}},hr.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided()||0===e)return null;var o=Math.abs(e),a=this.getSegGen(o);return t.length<=1?this.computePointCurve(t[0],a):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,a):this.computeLineBufferCurve(t,a),a.getCoordinates()},hr.prototype.getBufferParameters=function(){return this._bufParams},hr.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},hr.prototype.getRingCurve=function(t,e,o){if(this._distance=o,t.length<=2)return this.getLineCurve(t,o);if(0===o)return hr.copyCoordinates(t);var a=this.getSegGen(o);return this.computeRingBufferCurve(t,e,a),a.getCoordinates()},hr.prototype.computeOffsetCurve=function(t,e,o){var a=this.simplifyTolerance(this._distance);if(e){var c=wn.simplify(t,-a),y=c.length-1;o.initSideSegments(c[y],c[y-1],Bt.LEFT),o.addFirstSegment();for(var x=y-2;x>=0;x--)o.addNextSegment(c[x],!0)}else{var C=wn.simplify(t,a),B=C.length-1;o.initSideSegments(C[0],C[1],Bt.LEFT),o.addFirstSegment();for(var rt=2;rt<=B;rt++)o.addNextSegment(C[rt],!0)}o.addLastSegment()},hr.prototype.getSegGen=function(t){return new gn(this._precisionModel,this._bufParams,t)},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr},hr.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),o=0;o<e.length;o++)e[o]=new w(t[o]);return e};var Ao=function(){this._subgraphs=null,this._seg=new Kt,this._cga=new Mt,this._subgraphs=arguments[0]},yu={DepthSegment:{configurable:!0}};Ao.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new kt,o=this._subgraphs.iterator();o.hasNext();){var a=o.next(),c=a.getEnvelope();t.y<c.getMinY()||t.y>c.getMaxY()||this.findStabbedSegments(t,a.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Nt(arguments[2],Bn)&&arguments[0]instanceof w&&arguments[1]instanceof Ho){for(var y=arguments[0],x=arguments[1],C=arguments[2],B=x.getEdge().getCoordinates(),rt=0;rt<B.length-1;rt++)if(this._seg.p0=B[rt],this._seg.p1=B[rt+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<y.x||this._seg.isHorizontal()||y.y<this._seg.p0.y||y.y>this._seg.p1.y||Mt.computeOrientation(this._seg.p0,this._seg.p1,y)===Mt.RIGHT)){var Et=x.getDepth(Bt.LEFT);this._seg.p0.equals(B[rt])||(Et=x.getDepth(Bt.RIGHT));var Pt=new yo(this._seg,Et);C.add(Pt)}}else if(Nt(arguments[2],Bn)&&arguments[0]instanceof w&&Nt(arguments[1],Bn))for(var Ut=arguments[0],$t=arguments[2],ne=arguments[1].iterator();ne.hasNext();){var Ke=ne.next();Ke.isForward()&&this.findStabbedSegments(Ut,Ke,$t)}},Ao.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:jr.min(e)._leftDepth},Ao.prototype.interfaces_=function(){return[]},Ao.prototype.getClass=function(){return Ao},yu.DepthSegment.get=function(){return yo},Object.defineProperties(Ao,yu);var yo=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[1];this._upwardSeg=new Kt(arguments[0]),this._leftDepth=e};yo.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var o=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==o||0!=(o=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?o:this._upwardSeg.compareTo(e._upwardSeg)},yo.prototype.compareX=function(t,e){var o=t.p0.compareTo(e.p0);return 0!==o?o:t.p1.compareTo(e.p1)},yo.prototype.toString=function(){return this._upwardSeg.toString()},yo.prototype.interfaces_=function(){return[I]},yo.prototype.getClass=function(){return yo};var Qe=function(t,e,o){this.p0=t||null,this.p1=e||null,this.p2=o||null};Qe.prototype.area=function(){return Qe.area(this.p0,this.p1,this.p2)},Qe.prototype.signedArea=function(){return Qe.signedArea(this.p0,this.p1,this.p2)},Qe.prototype.interpolateZ=function(t){if(null===t)throw new S("Supplied point is null.");return Qe.interpolateZ(t,this.p0,this.p1,this.p2)},Qe.prototype.longestSideLength=function(){return Qe.longestSideLength(this.p0,this.p1,this.p2)},Qe.prototype.isAcute=function(){return Qe.isAcute(this.p0,this.p1,this.p2)},Qe.prototype.circumcentre=function(){return Qe.circumcentre(this.p0,this.p1,this.p2)},Qe.prototype.area3D=function(){return Qe.area3D(this.p0,this.p1,this.p2)},Qe.prototype.centroid=function(){return Qe.centroid(this.p0,this.p1,this.p2)},Qe.prototype.inCentre=function(){return Qe.inCentre(this.p0,this.p1,this.p2)},Qe.prototype.interfaces_=function(){return[]},Qe.prototype.getClass=function(){return Qe},Qe.area=function(t,e,o){return Math.abs(((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2)},Qe.signedArea=function(t,e,o){return((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2},Qe.det=function(t,e,o,a){return t*a-e*o},Qe.interpolateZ=function(t,e,o,a){var c=e.x,y=e.y,x=o.x-c,C=a.x-c,B=o.y-y,rt=a.y-y,Et=x*rt-C*B,Pt=t.x-c,Ut=t.y-y;return e.z+(rt*Pt-C*Ut)/Et*(o.z-e.z)+(-B*Pt+x*Ut)/Et*(a.z-e.z)},Qe.longestSideLength=function(t,e,o){var a=t.distance(e),c=e.distance(o),y=o.distance(t),x=a;return c>x&&(x=c),y>x&&(x=y),x},Qe.isAcute=function(t,e,o){return!!Ee.isAcute(t,e,o)&&!!Ee.isAcute(e,o,t)&&!!Ee.isAcute(o,t,e)},Qe.circumcentre=function(t,e,o){var a=o.x,c=o.y,y=t.x-a,x=t.y-c,C=e.x-a,B=e.y-c,rt=2*Qe.det(y,x,C,B),Et=Qe.det(x,y*y+x*x,B,C*C+B*B),Pt=Qe.det(y,y*y+x*x,C,C*C+B*B);return new w(a-Et/rt,c+Pt/rt)},Qe.perpendicularBisector=function(t,e){var o=e.x-t.x,a=e.y-t.y,c=new Wt(t.x+o/2,t.y+a/2,1),y=new Wt(t.x-a+o/2,t.y+o+a/2,1);return new Wt(c,y)},Qe.angleBisector=function(t,e,o){var a=e.distance(t),c=a/(a+e.distance(o));return new w(t.x+c*(o.x-t.x),t.y+c*(o.y-t.y))},Qe.area3D=function(t,e,o){var a=e.x-t.x,c=e.y-t.y,y=e.z-t.z,x=o.x-t.x,C=o.y-t.y,B=o.z-t.z,rt=c*B-y*C,Et=y*x-a*B,Pt=a*C-c*x;return Math.sqrt(rt*rt+Et*Et+Pt*Pt)/2},Qe.centroid=function(t,e,o){return new w((t.x+e.x+o.x)/3,(t.y+e.y+o.y)/3)},Qe.inCentre=function(t,e,o){var a=e.distance(o),c=t.distance(o),y=t.distance(e),x=a+c+y;return new w((a*t.x+c*e.x+y*o.x)/x,(a*t.y+c*e.y+y*o.y)/x)};var Br=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new kt;var e=arguments[1],o=arguments[2];this._inputGeom=arguments[0],this._distance=e,this._curveBuilder=o};Br.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,R.EXTERIOR,R.INTERIOR)},Br.prototype.addPolygon=function(t){var e=this._distance,o=Bt.LEFT;this._distance<0&&(e=-this._distance,o=Bt.RIGHT);var a=t.getExteriorRing(),c=fe.removeRepeatedPoints(a.getCoordinates());if(this._distance<0&&this.isErodedCompletely(a,this._distance)||this._distance<=0&&c.length<3)return null;this.addPolygonRing(c,e,o,R.EXTERIOR,R.INTERIOR);for(var y=0;y<t.getNumInteriorRing();y++){var x=t.getInteriorRingN(y),C=fe.removeRepeatedPoints(x.getCoordinates());this._distance>0&&this.isErodedCompletely(x,-this._distance)||this.addPolygonRing(C,e,Bt.opposite(o),R.INTERIOR,R.EXTERIOR)}},Br.prototype.isTriangleErodedCompletely=function(t,e){var o=new Qe(t[0],t[1],t[2]),a=o.inCentre();return Mt.distancePointLine(a,o.p0,o.p1)<Math.abs(e)},Br.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=fe.removeRepeatedPoints(t.getCoordinates()),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,R.EXTERIOR,R.INTERIOR)},Br.prototype.addCurve=function(t,e,o){if(null===t||t.length<2)return null;var a=new Pn(t,new nn(0,R.BOUNDARY,e,o));this._curveList.add(a)},Br.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Br.prototype.addPolygonRing=function(t,e,o,a,c){if(0===e&&t.length<hi.MINIMUM_VALID_SIZE)return null;var y=a,x=c;t.length>=hi.MINIMUM_VALID_SIZE&&Mt.isCCW(t)&&(y=c,x=a,o=Bt.opposite(o));var C=this._curveBuilder.getRingCurve(t,o,e);this.addCurve(C,y,x)},Br.prototype.add=function(t){if(t.isEmpty())return null;t instanceof An?this.addPolygon(t):t instanceof En?this.addLineString(t):t instanceof Mr?this.addPoint(t):(t instanceof So||t instanceof ho||t instanceof Mi||t instanceof lr)&&this.addCollection(t)},Br.prototype.isErodedCompletely=function(t,e){var o=t.getCoordinates();if(o.length<4)return e<0;if(4===o.length)return this.isTriangleErodedCompletely(o,e);var a=t.getEnvelopeInternal(),c=Math.min(a.getHeight(),a.getWidth());return e<0&&2*Math.abs(e)>c},Br.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var o=t.getGeometryN(e);this.add(o)}},Br.prototype.interfaces_=function(){return[]},Br.prototype.getClass=function(){return Br};var Oo=function(){};Oo.prototype.locate=function(t){},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo};var mi=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};mi.prototype.next=function(){if(this._atStart)return this._atStart=!1,mi.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new P;var t=this._parent.getGeometryN(this._index++);return t instanceof lr?(this._subcollectionIterator=new mi(t),this._subcollectionIterator.next()):t},mi.prototype.remove=function(){throw new Error(this.getClass().getName())},mi.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},mi.prototype.interfaces_=function(){return[Xr]},mi.prototype.getClass=function(){return mi},mi.isAtomic=function(t){return!(t instanceof lr)};var Gr=function(){this._geom=null,this._geom=arguments[0]};Gr.prototype.locate=function(t){return Gr.locate(t,this._geom)},Gr.prototype.interfaces_=function(){return[Oo]},Gr.prototype.getClass=function(){return Gr},Gr.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Mt.isPointInRing(t,e.getCoordinates())},Gr.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var o=e.getExteriorRing();if(!Gr.isPointInRing(t,o))return!1;for(var a=0;a<e.getNumInteriorRing();a++){var c=e.getInteriorRingN(a);if(Gr.isPointInRing(t,c))return!1}return!0},Gr.containsPoint=function(t,e){if(e instanceof An)return Gr.containsPointInPolygon(t,e);if(e instanceof lr)for(var o=new mi(e);o.hasNext();){var a=o.next();if(a!==e&&Gr.containsPoint(t,a))return!0}return!1},Gr.locate=function(t,e){return e.isEmpty()?R.EXTERIOR:Gr.containsPoint(t,e)?R.INTERIOR:R.EXTERIOR};var ir=function(){this._edgeMap=new xt,this._edgeList=null,this._ptInAreaLocation=[R.NONE,R.NONE]};ir.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),o=e-1;return 0===e&&(o=this._edgeList.size()-1),this._edgeList.get(o)},ir.prototype.propagateSideLabels=function(t){for(var e=R.NONE,o=this.iterator();o.hasNext();){var a=o.next().getLabel();a.isArea(t)&&a.getLocation(t,Bt.LEFT)!==R.NONE&&(e=a.getLocation(t,Bt.LEFT))}if(e===R.NONE)return null;for(var c=e,y=this.iterator();y.hasNext();){var x=y.next(),C=x.getLabel();if(C.getLocation(t,Bt.ON)===R.NONE&&C.setLocation(t,Bt.ON,c),C.isArea(t)){var B=C.getLocation(t,Bt.LEFT),rt=C.getLocation(t,Bt.RIGHT);if(rt!==R.NONE){if(rt!==c)throw new Gi("side location conflict",x.getCoordinate());B===R.NONE&&L.shouldNeverReachHere("found single null side (at "+x.getCoordinate()+")"),c=B}else L.isTrue(C.getLocation(t,Bt.LEFT)===R.NONE,"found single null side"),C.setLocation(t,Bt.RIGHT,c),C.setLocation(t,Bt.LEFT,c)}}},ir.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},ir.prototype.print=function(t){Jt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},ir.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},ir.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var o=e.size()-1,a=e.get(o).getLabel().getLocation(t,Bt.LEFT);L.isTrue(a!==R.NONE,"Found unlabelled area edge");for(var c=a,y=this.iterator();y.hasNext();){var x=y.next().getLabel();L.isTrue(x.isArea(t),"Found non-area edge");var C=x.getLocation(t,Bt.LEFT),B=x.getLocation(t,Bt.RIGHT);if(C===B||B!==c)return!1;c=C}return!0},ir.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},ir.prototype.iterator=function(){return this.getEdges().iterator()},ir.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new kt(this._edgeMap.values())),this._edgeList},ir.prototype.getLocation=function(t,e,o){return this._ptInAreaLocation[t]===R.NONE&&(this._ptInAreaLocation[t]=Gr.locate(e,o[t].getGeometry())),this._ptInAreaLocation[t]},ir.prototype.toString=function(){var t=new X;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var o=e.next();t.append(o),t.append("\n")}return t.toString()},ir.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},ir.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],o=this.iterator();o.hasNext();)for(var a=o.next().getLabel(),c=0;c<2;c++)a.isLine(c)&&a.getLocation(c)===R.BOUNDARY&&(e[c]=!0);for(var y=this.iterator();y.hasNext();)for(var x=y.next(),C=x.getLabel(),B=0;B<2;B++)if(C.isAnyNull(B)){var rt=R.NONE;if(e[B])rt=R.EXTERIOR;else{var Et=x.getCoordinate();rt=this.getLocation(B,Et,t)}C.setAllLocationsIfNull(B,rt)}},ir.prototype.getDegree=function(){return this._edgeMap.size()},ir.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir};var wl=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var o=null,a=null,c=this._SCANNING_FOR_INCOMING,y=0;y<this._resultAreaEdgeList.size();y++){var x=this._resultAreaEdgeList.get(y),C=x.getSym();if(x.getLabel().isArea())switch(null===o&&x.isInResult()&&(o=x),c){case this._SCANNING_FOR_INCOMING:if(!C.isInResult())continue;a=C,c=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!x.isInResult())continue;a.setNext(x),c=this._SCANNING_FOR_INCOMING}}if(c===this._LINKING_TO_OUTGOING){if(null===o)throw new Gi("no outgoing dirEdge found",this.getCoordinate());L.isTrue(o.isInResult(),"unable to link last incoming dirEdge"),a.setNext(o)}},e.prototype.insert=function(o){this.insertEdgeEnd(o,o)},e.prototype.getRightmostEdge=function(){var o=this.getEdges(),a=o.size();if(a<1)return null;var c=o.get(0);if(1===a)return c;var y=o.get(a-1),x=c.getQuadrant(),C=y.getQuadrant();return rn.isNorthern(x)&&rn.isNorthern(C)?c:rn.isNorthern(x)||rn.isNorthern(C)?0!==c.getDy()?c:0!==y.getDy()?y:(L.shouldNeverReachHere("found two horizontal edges incident on node"),null):y},e.prototype.print=function(o){Jt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var a=this.iterator();a.hasNext();){var c=a.next();o.print("out "),c.print(o),o.println(),o.print("in "),c.getSym().print(o),o.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new kt;for(var o=this.iterator();o.hasNext();){var a=o.next();(a.isInResult()||a.getSym().isInResult())&&this._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(o){for(var a=this.iterator();a.hasNext();){var c=a.next().getLabel();c.setAllLocationsIfNull(0,o.getLocation(0)),c.setAllLocationsIfNull(1,o.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var o=null,a=null,c=this._edgeList.size()-1;c>=0;c--){var y=this._edgeList.get(c),x=y.getSym();null===a&&(a=x),null!==o&&x.setNext(o),o=y}a.setNext(o)},e.prototype.computeDepths=function(){if(1===arguments.length){var o=arguments[0],a=this.findIndex(o),c=o.getDepth(Bt.LEFT),y=o.getDepth(Bt.RIGHT),x=this.computeDepths(a+1,this._edgeList.size(),c);if(this.computeDepths(0,a,x)!==y)throw new Gi("depth mismatch at "+o.getCoordinate())}else if(3===arguments.length){for(var B=arguments[1],rt=arguments[2],Et=arguments[0];Et<B;Et++){var Pt=this._edgeList.get(Et);Pt.setEdgeDepths(Bt.RIGHT,rt),rt=Pt.getDepth(Bt.LEFT)}return rt}},e.prototype.mergeSymLabels=function(){for(var o=this.iterator();o.hasNext();){var a=o.next();a.getLabel().merge(a.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(o){for(var a=null,c=null,y=this._SCANNING_FOR_INCOMING,x=this._resultAreaEdgeList.size()-1;x>=0;x--){var C=this._resultAreaEdgeList.get(x),B=C.getSym();switch(null===a&&C.getEdgeRing()===o&&(a=C),y){case this._SCANNING_FOR_INCOMING:if(B.getEdgeRing()!==o)continue;c=B,y=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(C.getEdgeRing()!==o)continue;c.setNextMin(C),y=this._SCANNING_FOR_INCOMING}}y===this._LINKING_TO_OUTGOING&&(L.isTrue(null!==a,"found null for first outgoing dirEdge"),L.isTrue(a.getEdgeRing()===o,"unable to link last incoming dirEdge"),c.setNextMin(a))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var o=0,a=this.iterator();a.hasNext();)a.next().isInResult()&&o++;return o}if(1===arguments.length){for(var c=arguments[0],y=0,x=this.iterator();x.hasNext();)x.next().getEdgeRing()===c&&y++;return y}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var o=R.NONE,a=this.iterator();a.hasNext();){var c=a.next(),y=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){o=R.INTERIOR;break}if(y.isInResult()){o=R.EXTERIOR;break}}}if(o===R.NONE)return null;for(var x=o,C=this.iterator();C.hasNext();){var B=C.next(),rt=B.getSym();B.isLineEdge()?B.getEdge().setCovered(x===R.INTERIOR):(B.isInResult()&&(x=R.EXTERIOR),rt.isInResult()&&(x=R.INTERIOR))}},e.prototype.computeLabelling=function(o){t.prototype.computeLabelling.call(this,o),this._label=new nn(R.NONE);for(var a=this.iterator();a.hasNext();)for(var c=a.next().getEdge().getLabel(),y=0;y<2;y++){var x=c.getLocation(y);x!==R.INTERIOR&&x!==R.BOUNDARY||this._label.setLocation(y,R.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ir),Zs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(o){return new jo(o,new wl)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Po),Wi=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Wi.prototype.compareTo=function(t){return Wi.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Wi.prototype.interfaces_=function(){return[I]},Wi.prototype.getClass=function(){return Wi},Wi.orientation=function(t){return 1===fe.increasingDirection(t)},Wi.compareOriented=function(t,e,o,a){for(var c=e?1:-1,y=a?1:-1,x=e?t.length:-1,C=a?o.length:-1,B=e?0:t.length-1,rt=a?0:o.length-1;;){var Et=t[B].compareTo(o[rt]);if(0!==Et)return Et;var Pt=(B+=c)===x,Ut=(rt+=y)===C;if(Pt&&!Ut)return-1;if(!Pt&&Ut)return 1;if(Pt&&Ut)return 0}};var ni=function(){this._edges=new kt,this._ocaMap=new xt};ni.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var o=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var a=o.getCoordinates(),c=0;c<a.length;c++)c>0&&t.print(","),t.print(a[c].x+" "+a[c].y);t.println(")")}t.print(")  ")},ni.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},ni.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},ni.prototype.iterator=function(){return this._edges.iterator()},ni.prototype.getEdges=function(){return this._edges},ni.prototype.get=function(t){return this._edges.get(t)},ni.prototype.findEqualEdge=function(t){var e=new Wi(t.getCoordinates());return this._ocaMap.get(e)},ni.prototype.add=function(t){this._edges.add(t);var e=new Wi(t.getCoordinates());this._ocaMap.put(e,t)},ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni};var mo=function(){};mo.prototype.processIntersections=function(t,e,o,a){},mo.prototype.isDone=function(){},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo};var Zr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Zr.prototype.isTrivialIntersection=function(t,e,o,a){if(t===o&&1===this._li.getIntersectionNum()){if(Zr.isAdjacentSegments(e,a))return!0;if(t.isClosed()){var c=t.size()-1;if(0===e&&a===c||0===a&&e===c)return!0}}return!1},Zr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Zr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Zr.prototype.getLineIntersector=function(){return this._li},Zr.prototype.hasProperIntersection=function(){return this._hasProper},Zr.prototype.processIntersections=function(t,e,o,a){if(t===o&&e===a)return null;this.numTests++;var c=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[a],C=o.getCoordinates()[a+1];this._li.computeIntersection(c,y,x,C),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,o,a)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),o.addIntersections(this._li,a,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Zr.prototype.hasIntersection=function(){return this._hasIntersection},Zr.prototype.isDone=function(){return!1},Zr.prototype.hasInteriorIntersection=function(){return this._hasInterior},Zr.prototype.interfaces_=function(){return[mo]},Zr.prototype.getClass=function(){return Zr},Zr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var ri=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[1],o=arguments[2];this.coord=new w(arguments[0]),this.segmentIndex=e,this.dist=o};ri.prototype.getSegmentIndex=function(){return this.segmentIndex},ri.prototype.getCoordinate=function(){return this.coord},ri.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},ri.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},ri.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},ri.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},ri.prototype.getDistance=function(){return this.dist},ri.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},ri.prototype.interfaces_=function(){return[I]},ri.prototype.getClass=function(){return ri};var Ai=function(){this._nodeMap=new xt,this.edge=null,this.edge=arguments[0]};Ai.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Ai.prototype.iterator=function(){return this._nodeMap.values().iterator()},Ai.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var a=e.next(),c=this.createSplitEdge(o,a);t.add(c),o=a}},Ai.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Ai.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,c=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);c||o--;var y=new Array(o).fill(null),x=0;y[x++]=new w(t.coord);for(var C=t.segmentIndex+1;C<=e.segmentIndex;C++)y[x++]=this.edge.pts[C];return c&&(y[x]=e.coord),new Us(y,new nn(this.edge._label))},Ai.prototype.add=function(t,e,o){var a=new ri(t,e,o),c=this._nodeMap.get(a);return null!==c?c:(this._nodeMap.put(a,a),a)},Ai.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai};var vo=function(){};vo.prototype.getChainStartIndices=function(t){var e=0,o=new kt;o.add(new at(e));do{var a=this.findChainEnd(t,e);o.add(new at(a)),e=a}while(e<t.length-1);return vo.toIntArray(o)},vo.prototype.findChainEnd=function(t,e){for(var o=rn.quadrant(t[e],t[e+1]),a=e+1;a<t.length&&rn.quadrant(t[a-1],t[a])===o;)a++;return a-1},vo.prototype.interfaces_=function(){return[]},vo.prototype.getClass=function(){return vo},vo.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var Oi=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Gt,this.env2=new Gt;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new vo;this.startIndex=e.getChainStartIndices(this.pts)};Oi.prototype.getCoordinates=function(){return this.pts},Oi.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e>o?e:o},Oi.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e<o?e:o},Oi.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[o],e.startIndex[o+1],arguments[3])}else if(6===arguments.length){var c=arguments[0],y=arguments[1],x=arguments[2],C=arguments[3],B=arguments[4],rt=arguments[5],Et=this.pts[c],Pt=this.pts[y],Ut=x.pts[C],Yt=x.pts[B];if(y-c==1&&B-C==1)return rt.addIntersections(this.e,c,x.e,C),null;if(this.env1.init(Et,Pt),this.env2.init(Ut,Yt),!this.env1.intersects(this.env2))return null;var $t=Math.trunc((c+y)/2),ne=Math.trunc((C+B)/2);c<$t&&(C<ne&&this.computeIntersectsForChain(c,$t,x,C,ne,rt),ne<B&&this.computeIntersectsForChain(c,$t,x,ne,B,rt)),$t<y&&(C<ne&&this.computeIntersectsForChain($t,y,x,C,ne,rt),ne<B&&this.computeIntersectsForChain($t,y,x,ne,B,rt))}},Oi.prototype.getStartIndexes=function(){return this.startIndex},Oi.prototype.computeIntersects=function(t,e){for(var o=0;o<this.startIndex.length-1;o++)for(var a=0;a<t.startIndex.length-1;a++)this.computeIntersectsForChain(o,t,a,e)},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi};var Gn=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var o=0;o<3;o++)this._depth[e][o]=t.NULL_VALUE},_s={NULL_VALUE:{configurable:!0}};Gn.prototype.getDepth=function(t,e){return this._depth[t][e]},Gn.prototype.setDepth=function(t,e,o){this._depth[t][e]=o},Gn.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Gn.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Gn.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Gn.NULL_VALUE:void 0},Gn.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var o=1;o<3;o++){var a=0;this._depth[t][o]>e&&(a=1),this._depth[t][o]=a}}},Gn.prototype.getDelta=function(t){return this._depth[t][Bt.RIGHT]-this._depth[t][Bt.LEFT]},Gn.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?R.EXTERIOR:R.INTERIOR},Gn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Gn.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var o=1;o<3;o++){var a=t.getLocation(e,o);a!==R.EXTERIOR&&a!==R.INTERIOR||(this.isNull(e,o)?this._depth[e][o]=Gn.depthAtLocation(a):this._depth[e][o]+=Gn.depthAtLocation(a))}else 3===arguments.length&&arguments[2]===R.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},Gn.depthAtLocation=function(t){return t===R.EXTERIOR?0:t===R.INTERIOR?1:Gn.NULL_VALUE},_s.NULL_VALUE.get=function(){return-1},Object.defineProperties(Gn,_s);var Us=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Ai(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Gn,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var c=arguments[1];this.pts=arguments[0],this._label=c}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var o=new Array(2).fill(null);return o[0]=this.pts[0],o[1]=this.pts[1],new e(o,nn.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(o){this._isIsolated=o},e.prototype.setName=function(o){this._name=o},e.prototype.equals=function(o){if(!(o instanceof e))return!1;var a=o;if(this.pts.length!==a.pts.length)return!1;for(var c=!0,y=!0,x=this.pts.length,C=0;C<this.pts.length;C++)if(this.pts[C].equals2D(a.pts[C])||(c=!1),this.pts[C].equals2D(a.pts[--x])||(y=!1),!c&&!y)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(o){o.print("edge "+this._name+": "),o.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&o.print(","),o.print(this.pts[a].x+" "+this.pts[a].y);o.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(o){e.updateIM(this._label,o)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(o){o.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)o.print(this.pts[a]+" ");o.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Oi(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Gt;for(var o=0;o<this.pts.length;o++)this._env.expandToInclude(this.pts[o])}return this._env},e.prototype.addIntersection=function(o,a,c,y){var x=new w(o.getIntersection(y)),C=a,B=o.getEdgeDistance(c,y),rt=C+1;rt<this.pts.length&&x.equals2D(this.pts[rt])&&(C=rt,B=0),this.eiList.add(x,C,B)},e.prototype.toString=function(){var o=new X;o.append("edge "+this._name+": "),o.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&o.append(","),o.append(this.pts[a].x+" "+this.pts[a].y);return o.append(")  "+this._label+" "+this._depthDelta),o.toString()},e.prototype.isPointwiseEqual=function(o){if(this.pts.length!==o.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!this.pts[a].equals2D(o.pts[a]))return!1;return!0},e.prototype.setDepthDelta=function(o){this._depthDelta=o},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(o,a,c){for(var y=0;y<o.getIntersectionNum();y++)this.addIntersection(o,a,c,y)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var o=arguments[0],a=arguments[1];a.setAtLeastIfValid(o.getLocation(0,Bt.ON),o.getLocation(1,Bt.ON),1),o.isArea()&&(a.setAtLeastIfValid(o.getLocation(0,Bt.LEFT),o.getLocation(1,Bt.LEFT),2),a.setAtLeastIfValid(o.getLocation(0,Bt.RIGHT),o.getLocation(1,Bt.RIGHT),2))},e}(_r),pr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new ni,this._bufParams=t||null};pr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},pr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var o=e.getLabel(),a=t.getLabel();e.isPointwiseEqual(t)||(a=new nn(t.getLabel())).flip(),o.merge(a);var c=pr.depthDelta(a),y=e.getDepthDelta()+c;e.setDepthDelta(y)}else this._edgeList.add(t),t.setDepthDelta(pr.depthDelta(t.getLabel()))},pr.prototype.buildSubgraphs=function(t,e){for(var o=new kt,a=t.iterator();a.hasNext();){var c=a.next(),y=c.getRightmostCoordinate(),x=new Ao(o).getDepth(y);c.computeDepth(x),c.findResultEdges(),o.add(c),e.add(c.getDirectedEdges(),c.getNodes())}},pr.prototype.createSubgraphs=function(t){for(var e=new kt,o=t.getNodes().iterator();o.hasNext();){var a=o.next();if(!a.isVisited()){var c=new fr;c.create(a),e.add(c)}}return jr.sort(e,jr.reverseOrder()),e},pr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},pr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new ms,o=new wt;return o.setPrecisionModel(t),e.setSegmentIntersector(new Zr(o)),e},pr.prototype.buffer=function(t,e){var o=this._workingPrecisionModel;null===o&&(o=t.getPrecisionModel()),this._geomFact=t.getFactory();var a=new hr(o,this._bufParams),c=new Br(t,e,a).getCurves();if(c.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(c,o),this._graph=new hn(new Zs),this._graph.addEdges(this._edgeList.getEdges());var y=this.createSubgraphs(this._graph),x=new Lr(this._geomFact);this.buildSubgraphs(y,x);var C=x.getPolygons();return C.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(C)},pr.prototype.computeNodedEdges=function(t,e){var o=this.getNoder(e);o.computeNodes(t);for(var a=o.getNodedSubstrings().iterator();a.hasNext();){var c=a.next(),y=c.getCoordinates();if(2!==y.length||!y[0].equals2D(y[1])){var x=c.getData(),C=new Us(c.getCoordinates(),new nn(x));this.insertUniqueEdge(C)}}},pr.prototype.setNoder=function(t){this._workingNoder=t},pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr},pr.depthDelta=function(t){var e=t.getLocation(0,Bt.LEFT),o=t.getLocation(0,Bt.RIGHT);return e===R.INTERIOR&&o===R.EXTERIOR?1:e===R.EXTERIOR&&o===R.INTERIOR?-1:0},pr.convertSegStrings=function(t){for(var e=new ve,o=new kt;t.hasNext();){var a=t.next(),c=e.createLineString(a.getCoordinates());o.add(c)}return e.buildGeometry(o)};var zi=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[1];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var a=arguments[1],c=arguments[2],y=arguments[3];this._noder=arguments[0],this._scaleFactor=a,this._offsetX=c,this._offsetY=y,this._isScaled=!this.isIntegerPrecision()}};zi.prototype.rescale=function(){if(Nt(arguments[0],fn))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],a=0;a<o.length;a++)o[a].x=o[a].x/this._scaleFactor+this._offsetX,o[a].y=o[a].y/this._scaleFactor+this._offsetY;2===o.length&&o[0].equals2D(o[1])&&Jt.out.println(o)}},zi.prototype.scale=function(){if(Nt(arguments[0],fn)){for(var t=arguments[0],e=new kt,o=t.iterator();o.hasNext();){var a=o.next();e.add(new Pn(this.scale(a.getCoordinates()),a.getData()))}return e}if(arguments[0]instanceof Array){for(var c=arguments[0],y=new Array(c.length).fill(null),x=0;x<c.length;x++)y[x]=new w(Math.round((c[x].x-this._offsetX)*this._scaleFactor),Math.round((c[x].y-this._offsetY)*this._scaleFactor),c[x].z);return fe.removeRepeatedPoints(y)}},zi.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},zi.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},zi.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},zi.prototype.interfaces_=function(){return[go]},zi.prototype.getClass=function(){return zi};var vi=function(){this._li=new wt,this._segStrings=null,this._segStrings=arguments[0]},mu={fact:{configurable:!0}};vi.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var o=arguments[0],a=arguments[1].iterator();a.hasNext();)for(var c=a.next().getCoordinates(),y=1;y<c.length-1;y++)if(c[y].equals(o))throw new D("found endpt/interior pt intersection at index "+y+" :pt "+o)},vi.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),o=this._segStrings.iterator();o.hasNext();){var a=o.next();this.checkInteriorIntersections(e,a)}else if(2===arguments.length)for(var c=arguments[0],y=arguments[1],x=c.getCoordinates(),C=y.getCoordinates(),B=0;B<x.length-1;B++)for(var rt=0;rt<C.length-1;rt++)this.checkInteriorIntersections(c,B,y,rt);else if(4===arguments.length){var Et=arguments[0],Pt=arguments[1],Ut=arguments[2],Yt=arguments[3];if(Et===Ut&&Pt===Yt)return null;var $t=Et.getCoordinates()[Pt],ne=Et.getCoordinates()[Pt+1],Ke=Ut.getCoordinates()[Yt],Ln=Ut.getCoordinates()[Yt+1];if(this._li.computeIntersection($t,ne,Ke,Ln),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,$t,ne)||this.hasInteriorIntersection(this._li,Ke,Ln)))throw new D("found non-noded intersection at "+$t+"-"+ne+" and "+Ke+"-"+Ln)}},vi.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},vi.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var o=arguments[0].getCoordinates(),a=0;a<o.length-2;a++)this.checkCollapse(o[a],o[a+1],o[a+2])},vi.prototype.hasInteriorIntersection=function(t,e,o){for(var a=0;a<t.getIntersectionNum();a++){var c=t.getIntersection(a);if(!c.equals(e)&&!c.equals(o))return!0}return!1},vi.prototype.checkCollapse=function(t,e,o){if(t.equals(o))throw new D("found non-noded collapse at "+vi.fact.createLineString([t,e,o]))},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi},mu.fact.get=function(){return new ve},Object.defineProperties(vi,mu);var wr=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],o=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=o,e<=0)throw new S("Scale factor must be non-zero");1!==e&&(this._pt=new w(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new w,this._p1Scaled=new w),this.initCorners(this._pt)},vu={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};wr.prototype.intersectsScaled=function(t,e){var o=Math.min(t.x,e.x),a=Math.max(t.x,e.x),c=Math.min(t.y,e.y),y=Math.max(t.y,e.y),x=this._maxx<o||this._minx>a||this._maxy<c||this._miny>y;if(x)return!1;var C=this.intersectsToleranceSquare(t,e);return L.isTrue(!(x&&C),"Found bad envelope test"),C},wr.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new w(this._maxx,this._maxy),this._corner[1]=new w(this._minx,this._maxy),this._corner[2]=new w(this._minx,this._miny),this._corner[3]=new w(this._maxx,this._miny)},wr.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},wr.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},wr.prototype.getCoordinate=function(){return this._originalPt},wr.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},wr.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=wr.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Gt(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},wr.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},wr.prototype.intersectsToleranceSquare=function(t,e){var o=!1,a=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(a=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||o&&a||t.equals(this._pt)||e.equals(this._pt)))))},wr.prototype.addSnappedNode=function(t,e){var o=t.getCoordinate(e),a=t.getCoordinate(e+1);return!!this.intersects(o,a)&&(t.addIntersection(this.getCoordinate(),e),!0)},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},vu.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(wr,vu);var Ko=function(){this.tempEnv1=new Gt,this.selectedSegment=new Kt};Ko.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Ko.prototype.interfaces_=function(){return[]},Ko.prototype.getClass=function(){return Ko};var ts=function(){this._index=null,this._index=arguments[0]},xa={HotPixelSnapAction:{configurable:!0}};ts.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var e=arguments[0],o=arguments[1],a=arguments[2],c=e.getSafeEnvelope(),y=new zs(e,o,a);return this._index.query(c,{interfaces_:function(){return[Zi]},visitItem:function(x){x.select(c,y)}}),y.isNodeAdded()}},ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts},xa.HotPixelSnapAction.get=function(){return zs},Object.defineProperties(ts,xa);var zs=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var a=arguments[1],c=arguments[2];this._hotPixel=arguments[0],this._parentEdge=a,this._hotPixelVertexIndex=c}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var a=arguments[1],c=arguments[0].getContext();if(null!==this._parentEdge&&c===this._parentEdge&&a===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(c,a)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ko),Ro=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new kt};Ro.prototype.processIntersections=function(t,e,o,a){if(t===o&&e===a)return null;var c=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[a],C=o.getCoordinates()[a+1];if(this._li.computeIntersection(c,y,x,C),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var B=0;B<this._li.getIntersectionNum();B++)this._interiorIntersections.add(this._li.getIntersection(B));t.addIntersections(this._li,e,0),o.addIntersections(this._li,a,1)}},Ro.prototype.isDone=function(){return!1},Ro.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Ro.prototype.interfaces_=function(){return[mo]},Ro.prototype.getClass=function(){return Ro};var ii=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new wt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};ii.prototype.checkCorrectness=function(t){var e=Pn.getNodedSubstrings(t),o=new vi(e);try{o.checkValid()}catch(a){if(!(a instanceof pe))throw a;a.printStackTrace()}},ii.prototype.getNodedSubstrings=function(){return Pn.getNodedSubstrings(this._nodedSegStrings)},ii.prototype.snapRound=function(t,e){var o=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(o),this.computeVertexSnaps(t)},ii.prototype.findInteriorIntersections=function(t,e){var o=new Ro(e);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(t),o.getInteriorIntersections()},ii.prototype.computeVertexSnaps=function(){if(Nt(arguments[0],fn))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Pn)for(var o=arguments[0],a=o.getCoordinates(),c=0;c<a.length;c++){var y=new wr(a[c],this._scaleFactor,this._li);this._pointSnapper.snap(y,o,c)&&o.addIntersection(a[c],c)}},ii.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new ms,this._pointSnapper=new ts(this._noder.getIndex()),this.snapRound(t,this._li)},ii.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),a=new wr(o,this._scaleFactor,this._li);this._pointSnapper.snap(a)}},ii.prototype.interfaces_=function(){return[go]},ii.prototype.getClass=function(){return ii};var Wn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Ve,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var o=arguments[1];this._argGeom=arguments[0],this._bufParams=o}},Do={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Wn.prototype.bufferFixedPrecision=function(t){var e=new zi(new ii(new We(1)),t.getScale()),o=new pr(this._bufParams);o.setWorkingPrecisionModel(t),o.setNoder(e),this._resultGeometry=o.buffer(this._argGeom,this._distance)},Wn.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Wn.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(y){if(!(y instanceof Gi))throw y;t._saveException=y}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var a=Wn.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),c=new We(a);this.bufferFixedPrecision(c)}},Wn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===We.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Wn.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Wn.prototype.bufferOriginalPrecision=function(){try{var t=new pr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof D))throw e;this._saveException=e}},Wn.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Wn.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn},Wn.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new Wn(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Zt&&"number"==typeof arguments[1]){var a=arguments[1],c=arguments[2],y=new Wn(arguments[0]);return y.setQuadrantSegments(c),y.getResultGeometry(a)}if(arguments[2]instanceof Ve&&arguments[0]instanceof Zt&&"number"==typeof arguments[1]){var C=arguments[1];return new Wn(arguments[0],arguments[2]).getResultGeometry(C)}}else if(4===arguments.length){var Et=arguments[1],Pt=arguments[2],Ut=arguments[3],Yt=new Wn(arguments[0]);return Yt.setQuadrantSegments(Pt),Yt.setEndCapStyle(Ut),Yt.getResultGeometry(Et)}},Wn.precisionScaleFactor=function(t,e,o){var a=t.getEnvelopeInternal(),c=Z.max(Math.abs(a.getMaxX()),Math.abs(a.getMaxY()),Math.abs(a.getMinX()),Math.abs(a.getMinY()))+2*(e>0?e:0),y=o-Math.trunc(Math.log(c)/Math.log(10)+1);return Math.pow(10,y)},Do.CAP_ROUND.get=function(){return Ve.CAP_ROUND},Do.CAP_BUTT.get=function(){return Ve.CAP_FLAT},Do.CAP_FLAT.get=function(){return Ve.CAP_FLAT},Do.CAP_SQUARE.get=function(){return Ve.CAP_SQUARE},Do.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Wn,Do);var Vn=function(){this._pt=[new w,new w],this._distance=N.NaN,this._isNull=!0};Vn.prototype.getCoordinates=function(){return this._pt},Vn.prototype.getCoordinate=function(t){return this._pt[t]},Vn.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var a=e.distance(o);a<this._distance&&this.initialize(e,o,a)}},Vn.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Vn.prototype.getDistance=function(){return this._distance},Vn.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var a=e.distance(o);a>this._distance&&this.initialize(e,o,a)}},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn};var oi=function(){};oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.computeDistance=function(){if(arguments[2]instanceof Vn&&arguments[0]instanceof En&&arguments[1]instanceof w)for(var e=arguments[1],o=arguments[2],a=arguments[0].getCoordinates(),c=new Kt,y=0;y<a.length-1;y++){c.setCoordinates(a[y],a[y+1]);var x=c.closestPoint(e);o.setMinimum(x,e)}else if(arguments[2]instanceof Vn&&arguments[0]instanceof An&&arguments[1]instanceof w){var C=arguments[0],B=arguments[1],rt=arguments[2];oi.computeDistance(C.getExteriorRing(),B,rt);for(var Et=0;Et<C.getNumInteriorRing();Et++)oi.computeDistance(C.getInteriorRingN(Et),B,rt)}else if(arguments[2]instanceof Vn&&arguments[0]instanceof Zt&&arguments[1]instanceof w){var Pt=arguments[0],Ut=arguments[1],Yt=arguments[2];if(Pt instanceof En)oi.computeDistance(Pt,Ut,Yt);else if(Pt instanceof An)oi.computeDistance(Pt,Ut,Yt);else if(Pt instanceof lr)for(var $t=Pt,ne=0;ne<$t.getNumGeometries();ne++){var Ke=$t.getGeometryN(ne);oi.computeDistance(Ke,Ut,Yt)}else Yt.setMinimum(Pt.getCoordinate(),Ut)}else if(arguments[2]instanceof Vn&&arguments[0]instanceof Kt&&arguments[1]instanceof w){var ar=arguments[1],Tr=arguments[2],io=arguments[0].closestPoint(ar);Tr.setMinimum(io,ar)}};var Ri=function(t){this._maxPtDist=new Vn,this._inputGeom=t||null},Ea={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Ri.prototype.computeMaxMidpointDistance=function(t){var e=new Vi(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Ri.prototype.computeMaxVertexDistance=function(t){var e=new Fo(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Ri.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Ri.prototype.getDistancePoints=function(){return this._maxPtDist},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ea.MaxPointDistanceFilter.get=function(){return Fo},Ea.MaxMidpointDistanceFilter.get=function(){return Vi},Object.defineProperties(Ri,Ea);var Fo=function(t){this._maxPtDist=new Vn,this._minPtDist=new Vn,this._geom=t||null};Fo.prototype.filter=function(t){this._minPtDist.initialize(),oi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Fo.prototype.getMaxPointDistance=function(){return this._maxPtDist},Fo.prototype.interfaces_=function(){return[we]},Fo.prototype.getClass=function(){return Fo};var Vi=function(t){this._maxPtDist=new Vn,this._minPtDist=new Vn,this._geom=t||null};Vi.prototype.filter=function(t,e){if(0===e)return null;var o=t.getCoordinate(e-1),a=t.getCoordinate(e),c=new w((o.x+a.x)/2,(o.y+a.y)/2);this._minPtDist.initialize(),oi.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Vi.prototype.isDone=function(){return!1},Vi.prototype.isGeometryChanged=function(){return!1},Vi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vi.prototype.interfaces_=function(){return[Kr]},Vi.prototype.getClass=function(){return Vi};var Yi=function(t){this._comps=t||null};Yi.prototype.filter=function(t){t instanceof An&&this._comps.add(t)},Yi.prototype.interfaces_=function(){return[Qr]},Yi.prototype.getClass=function(){return Yi},Yi.getPolygons=function(){if(1===arguments.length)return Yi.getPolygons(arguments[0],new kt);if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof An?o.add(e):e instanceof lr&&e.apply(new Yi(o)),o}};var Qn=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var o=arguments[1];this._lines=arguments[0],this._isForcedToLineString=o}};Qn.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof hi){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof En&&this._lines.add(t)},Qn.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Qn.prototype.interfaces_=function(){return[de]},Qn.prototype.getClass=function(){return Qn},Qn.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Qn.getLines(t))}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().buildGeometry(Qn.getLines(e,o))}},Qn.getLines=function(){if(1===arguments.length)return Qn.getLines(arguments[0],!1);if(2===arguments.length){if(Nt(arguments[0],fn)&&Nt(arguments[1],fn)){for(var o=arguments[1],a=arguments[0].iterator();a.hasNext();){var c=a.next();Qn.getLines(c,o)}return o}if(arguments[0]instanceof Zt&&"boolean"==typeof arguments[1]){var y=arguments[0],x=arguments[1],C=new kt;return y.apply(new Qn(C,x)),C}if(arguments[0]instanceof Zt&&Nt(arguments[1],fn)){var B=arguments[0],rt=arguments[1];return B instanceof En?rt.add(B):B.apply(new Qn(rt)),rt}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Nt(arguments[0],fn)&&Nt(arguments[1],fn)){for(var Pt=arguments[1],Ut=arguments[2],Yt=arguments[0].iterator();Yt.hasNext();){var $t=Yt.next();Qn.getLines($t,Pt,Ut)}return Pt}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Zt&&Nt(arguments[1],fn)){var Ke=arguments[1];return arguments[0].apply(new Qn(Ke,arguments[2])),Ke}}};var si=function(){if(this._boundaryRule=be.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var t=arguments[0];if(null===t)throw new S("Rule must be non-null");this._boundaryRule=t}};si.prototype.locateInternal=function(){if(arguments[0]instanceof w&&arguments[1]instanceof An){var t=arguments[0],e=arguments[1];if(e.isEmpty())return R.EXTERIOR;var o=e.getExteriorRing(),a=this.locateInPolygonRing(t,o);if(a===R.EXTERIOR)return R.EXTERIOR;if(a===R.BOUNDARY)return R.BOUNDARY;for(var c=0;c<e.getNumInteriorRing();c++){var y=e.getInteriorRingN(c),x=this.locateInPolygonRing(t,y);if(x===R.INTERIOR)return R.EXTERIOR;if(x===R.BOUNDARY)return R.BOUNDARY}return R.INTERIOR}if(arguments[0]instanceof w&&arguments[1]instanceof En){var C=arguments[0],B=arguments[1];if(!B.getEnvelopeInternal().intersects(C))return R.EXTERIOR;var rt=B.getCoordinates();return B.isClosed()||!C.equals(rt[0])&&!C.equals(rt[rt.length-1])?Mt.isOnLine(C,rt)?R.INTERIOR:R.EXTERIOR:R.BOUNDARY}if(arguments[0]instanceof w&&arguments[1]instanceof Mr){var Et=arguments[0];return arguments[1].getCoordinate().equals2D(Et)?R.INTERIOR:R.EXTERIOR}},si.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Mt.locatePointInRing(t,e.getCoordinates()):R.EXTERIOR},si.prototype.intersects=function(t,e){return this.locate(t,e)!==R.EXTERIOR},si.prototype.updateLocationInfo=function(t){t===R.INTERIOR&&(this._isIn=!0),t===R.BOUNDARY&&this._numBoundaries++},si.prototype.computeLocation=function(t,e){if(e instanceof Mr&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof En)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof An)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ho)for(var o=e,a=0;a<o.getNumGeometries();a++){var c=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,c))}else if(e instanceof Mi)for(var y=e,x=0;x<y.getNumGeometries();x++){var C=y.getGeometryN(x);this.updateLocationInfo(this.locateInternal(t,C))}else if(e instanceof lr)for(var B=new mi(e);B.hasNext();){var rt=B.next();rt!==e&&this.computeLocation(t,rt)}},si.prototype.locate=function(t,e){return e.isEmpty()?R.EXTERIOR:e instanceof En||e instanceof An?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?R.BOUNDARY:this._numBoundaries>0||this._isIn?R.INTERIOR:R.EXTERIOR)},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si};var gr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var c=arguments[1],y=arguments[2];this._component=arguments[0],this._segIndex=c,this._pt=y}},wa={INSIDE_AREA:{configurable:!0}};gr.prototype.isInsideArea=function(){return this._segIndex===gr.INSIDE_AREA},gr.prototype.getCoordinate=function(){return this._pt},gr.prototype.getGeometryComponent=function(){return this._component},gr.prototype.getSegmentIndex=function(){return this._segIndex},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},wa.INSIDE_AREA.get=function(){return-1},Object.defineProperties(gr,wa);var Qi=function(t){this._pts=t||null};Qi.prototype.filter=function(t){t instanceof Mr&&this._pts.add(t)},Qi.prototype.interfaces_=function(){return[Qr]},Qi.prototype.getClass=function(){return Qi},Qi.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Mr?jr.singletonList(t):Qi.getPoints(t,new kt)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof Mr?o.add(e):e instanceof lr&&e.apply(new Qi(o)),o}};var qo=function(){this._locations=null,this._locations=arguments[0]};qo.prototype.filter=function(t){(t instanceof Mr||t instanceof En||t instanceof An)&&this._locations.add(new gr(t,0,t.getCoordinate()))},qo.prototype.interfaces_=function(){return[Qr]},qo.prototype.getClass=function(){return qo},qo.getLocations=function(t){var e=new kt;return t.apply(new qo(e)),e};var Xn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new si,this._minDistanceLocation=null,this._minDistance=N.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var o=arguments[0],a=arguments[1],c=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=o,this._geom[1]=a,this._terminateDistance=c}};Xn.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],a=1-e,c=Yi.getPolygons(this._geom[e]);if(c.size()>0){var y=qo.getLocations(this._geom[a]);if(this.computeContainmentDistance(y,c,o),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[a]=o[0],this._minDistanceLocation[e]=o[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Nt(arguments[0],Bn)&&Nt(arguments[1],Bn)){for(var x=arguments[0],C=arguments[1],B=arguments[2],rt=0;rt<x.size();rt++)for(var Et=x.get(rt),Pt=0;Pt<C.size();Pt++)if(this.computeContainmentDistance(Et,C.get(Pt),B),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof gr&&arguments[1]instanceof An){var Ut=arguments[0],Yt=arguments[1],$t=arguments[2],ne=Ut.getCoordinate();if(R.EXTERIOR!==this._ptLocator.locate(ne,Yt))return this._minDistance=0,$t[0]=Ut,$t[1]=new gr(Yt,ne),null}},Xn.prototype.computeMinDistanceLinesPoints=function(t,e,o){for(var a=0;a<t.size();a++)for(var c=t.get(a),y=0;y<e.size();y++){var x=e.get(y);if(this.computeMinDistance(c,x,o),this._minDistance<=this._terminateDistance)return null}},Xn.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Qn.getLines(this._geom[0]),o=Qn.getLines(this._geom[1]),a=Qi.getPoints(this._geom[0]),c=Qi.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,c,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(o,a,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(a,c,t),void this.updateMinDistance(t,!1))))},Xn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Xn.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Xn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Xn.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof En&&arguments[1]instanceof Mr){var t=arguments[0],e=arguments[1],o=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var a=t.getCoordinates(),c=e.getCoordinate(),y=0;y<a.length-1;y++){var x=Mt.distancePointLine(c,a[y],a[y+1]);if(x<this._minDistance){this._minDistance=x;var C=new Kt(a[y],a[y+1]).closestPoint(c);o[0]=new gr(t,y,C),o[1]=new gr(e,0,c)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof En&&arguments[1]instanceof En){var B=arguments[0],rt=arguments[1],Et=arguments[2];if(B.getEnvelopeInternal().distance(rt.getEnvelopeInternal())>this._minDistance)return null;for(var Pt=B.getCoordinates(),Ut=rt.getCoordinates(),Yt=0;Yt<Pt.length-1;Yt++)for(var $t=0;$t<Ut.length-1;$t++){var ne=Mt.distanceLineLine(Pt[Yt],Pt[Yt+1],Ut[$t],Ut[$t+1]);if(ne<this._minDistance){this._minDistance=ne;var Ke=new Kt(Pt[Yt],Pt[Yt+1]),Ln=new Kt(Ut[$t],Ut[$t+1]),ar=Ke.closestPoints(Ln);Et[0]=new gr(B,Yt,ar[0]),Et[1]=new gr(rt,$t,ar[1])}if(this._minDistance<=this._terminateDistance)return null}}},Xn.prototype.computeMinDistancePoints=function(t,e,o){for(var a=0;a<t.size();a++)for(var c=t.get(a),y=0;y<e.size();y++){var x=e.get(y),C=c.getCoordinate().distance(x.getCoordinate());if(C<this._minDistance&&(this._minDistance=C,o[0]=new gr(c,0,c.getCoordinate()),o[1]=new gr(x,0,x.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Xn.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new S("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Xn.prototype.computeMinDistanceLines=function(t,e,o){for(var a=0;a<t.size();a++)for(var c=t.get(a),y=0;y<e.size();y++){var x=e.get(y);if(this.computeMinDistance(c,x,o),this._minDistance<=this._terminateDistance)return null}},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn},Xn.distance=function(t,e){return new Xn(t,e).distance()},Xn.isWithinDistance=function(t,e,o){return new Xn(t,e,o).distance()<=o},Xn.nearestPoints=function(t,e){return new Xn(t,e).nearestPoints()};var Kn=function(){this._pt=[new w,new w],this._distance=N.NaN,this._isNull=!0};Kn.prototype.getCoordinates=function(){return this._pt},Kn.prototype.getCoordinate=function(t){return this._pt[t]},Kn.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var a=e.distance(o);a<this._distance&&this.initialize(e,o,a)}},Kn.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Kn.prototype.toString=function(){return dt.toLineString(this._pt[0],this._pt[1])},Kn.prototype.getDistance=function(){return this._distance},Kn.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var a=e.distance(o);a>this._distance&&this.initialize(e,o,a)}},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn};var ai=function(){};ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.computeDistance=function(){if(arguments[2]instanceof Kn&&arguments[0]instanceof En&&arguments[1]instanceof w)for(var t=arguments[0],e=arguments[1],o=arguments[2],a=new Kt,c=t.getCoordinates(),y=0;y<c.length-1;y++){a.setCoordinates(c[y],c[y+1]);var x=a.closestPoint(e);o.setMinimum(x,e)}else if(arguments[2]instanceof Kn&&arguments[0]instanceof An&&arguments[1]instanceof w){var C=arguments[0],B=arguments[1],rt=arguments[2];ai.computeDistance(C.getExteriorRing(),B,rt);for(var Et=0;Et<C.getNumInteriorRing();Et++)ai.computeDistance(C.getInteriorRingN(Et),B,rt)}else if(arguments[2]instanceof Kn&&arguments[0]instanceof Zt&&arguments[1]instanceof w){var Pt=arguments[0],Ut=arguments[1],Yt=arguments[2];if(Pt instanceof En)ai.computeDistance(Pt,Ut,Yt);else if(Pt instanceof An)ai.computeDistance(Pt,Ut,Yt);else if(Pt instanceof lr)for(var $t=Pt,ne=0;ne<$t.getNumGeometries();ne++){var Ke=$t.getGeometryN(ne);ai.computeDistance(Ke,Ut,Yt)}else Yt.setMinimum(Pt.getCoordinate(),Ut)}else if(arguments[2]instanceof Kn&&arguments[0]instanceof Kt&&arguments[1]instanceof w){var ar=arguments[1],Tr=arguments[2],io=arguments[0].closestPoint(ar);Tr.setMinimum(io,ar)}};var Ur=function(){this._g0=null,this._g1=null,this._ptDist=new Kn,this._densifyFrac=0;var e=arguments[1];this._g0=arguments[0],this._g1=e},Ys={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ur.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Ur.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new S("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Ur.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Ur.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Ur.prototype.computeOrientedDistance=function(t,e,o){var a=new _o(e);if(t.apply(a),o.setMaximum(a.getMaxPointDistance()),this._densifyFrac>0){var c=new Xi(e,this._densifyFrac);t.apply(c),o.setMaximum(c.getMaxPointDistance())}},Ur.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.distance=function(){if(2===arguments.length)return new Ur(arguments[0],arguments[1]).distance();if(3===arguments.length){var c=arguments[2],y=new Ur(arguments[0],arguments[1]);return y.setDensifyFraction(c),y.distance()}},Ys.MaxPointDistanceFilter.get=function(){return _o},Ys.MaxDensifiedByFractionDistanceFilter.get=function(){return Xi},Object.defineProperties(Ur,Ys);var _o=function(){this._maxPtDist=new Kn,this._minPtDist=new Kn,this._euclideanDist=new ai,this._geom=null,this._geom=arguments[0]};_o.prototype.filter=function(t){this._minPtDist.initialize(),ai.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},_o.prototype.getMaxPointDistance=function(){return this._maxPtDist},_o.prototype.interfaces_=function(){return[we]},_o.prototype.getClass=function(){return _o};var Xi=function(){this._maxPtDist=new Kn,this._minPtDist=new Kn,this._geom=null,this._numSubSegs=0;var e=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/e))};Xi.prototype.filter=function(t,e){if(0===e)return null;for(var o=t.getCoordinate(e-1),a=t.getCoordinate(e),c=(a.x-o.x)/this._numSubSegs,y=(a.y-o.y)/this._numSubSegs,x=0;x<this._numSubSegs;x++){var rt=new w(o.x+x*c,o.y+x*y);this._minPtDist.initialize(),ai.computeDistance(this._geom,rt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Xi.prototype.isDone=function(){return!1},Xi.prototype.isGeometryChanged=function(){return!1},Xi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Xi.prototype.interfaces_=function(){return[Kr]},Xi.prototype.getClass=function(){return Xi};var dr=function(t,e,o){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=o||null},xs={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};dr.prototype.checkMaximumDistance=function(t,e,o){var a=new Ur(e,t);if(a.setDensifyFraction(.25),this._maxDistanceFound=a.orientedDistance(),this._maxDistanceFound>o){this._isValid=!1;var c=a.getCoordinates();this._errorLocation=c[1],this._errorIndicator=t.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+dt.toLineString(c[0],c[1])+")"}},dr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=dr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),dr.VERBOSE&&Jt.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},dr.prototype.checkNegativeValid=function(){if(!(this._input instanceof An||this._input instanceof Mi||this._input instanceof lr))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},dr.prototype.getErrorIndicator=function(){return this._errorIndicator},dr.prototype.checkMinimumDistance=function(t,e,o){var a=new Xn(t,e,o);if(this._minDistanceFound=a.distance(),this._minDistanceFound<o){this._isValid=!1;var c=a.nearestPoints();this._errorLocation=a.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+dt.toLineString(c[0],c[1])+" )"}},dr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},dr.prototype.getErrorLocation=function(){return this._errorLocation},dr.prototype.getPolygonLines=function(t){for(var e=new kt,o=new Qn(e),a=Yi.getPolygons(t).iterator();a.hasNext();)a.next().apply(o);return t.getFactory().buildGeometry(e)},dr.prototype.getErrorMessage=function(){return this._errMsg},dr.prototype.interfaces_=function(){return[]},dr.prototype.getClass=function(){return dr},xs.VERBOSE.get=function(){return!1},xs.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(dr,xs);var Jn=function(t,e,o){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=o||null},ba={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Jn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Jn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Jn.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Gt(this._input.getEnvelopeInternal());e.expandBy(this._distance);var o=new Gt(this._result.getEnvelopeInternal());o.expandBy(t),o.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(o)),this.report("Envelope")},Jn.prototype.checkDistance=function(){var t=new dr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Jn.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Jn.prototype.checkPolygonal=function(){this._result instanceof An||this._result instanceof Mi||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Jn.prototype.getErrorIndicator=function(){return this._errorIndicator},Jn.prototype.getErrorLocation=function(){return this._errorLocation},Jn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Jn.prototype.report=function(t){if(!Jn.VERBOSE)return null;Jt.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Jn.prototype.getErrorMessage=function(){return this._errorMsg},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},Jn.isValidMsg=function(t,e,o){var a=new Jn(t,e,o);return a.isValid()?null:a.getErrorMessage()},Jn.isValid=function(t,e,o){return!!new Jn(t,e,o).isValid()},ba.VERBOSE.get=function(){return!1},ba.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Jn,ba);var _i=function(){this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};_i.prototype.getCoordinates=function(){return this._pts},_i.prototype.size=function(){return this._pts.length},_i.prototype.getCoordinate=function(t){return this._pts[t]},_i.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},_i.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:po.octant(this.getCoordinate(t),this.getCoordinate(t+1))},_i.prototype.setData=function(t){this._data=t},_i.prototype.getData=function(){return this._data},_i.prototype.toString=function(){return dt.toLineString(new _n(this._pts))},_i.prototype.interfaces_=function(){return[Li]},_i.prototype.getClass=function(){return _i};var jn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new kt,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};jn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},jn.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},jn.prototype.getIntersectionSegments=function(){return this._intSegments},jn.prototype.count=function(){return this._intersectionCount},jn.prototype.getIntersections=function(){return this._intersections},jn.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},jn.prototype.setKeepIntersections=function(t){this._keepIntersections=t},jn.prototype.processIntersections=function(t,e,o,a){if(!this._findAllIntersections&&this.hasIntersection()||t===o&&e===a||this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(o,a))return null;var c=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[a],C=o.getCoordinates()[a+1];this._li.computeIntersection(c,y,x,C),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=c,this._intSegments[1]=y,this._intSegments[2]=x,this._intSegments[3]=C,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},jn.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},jn.prototype.hasIntersection=function(){return null!==this._interiorIntersection},jn.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},jn.prototype.interfaces_=function(){return[mo]},jn.prototype.getClass=function(){return jn},jn.createAllIntersectionsFinder=function(t){var e=new jn(t);return e.setFindAllIntersections(!0),e},jn.createAnyIntersectionFinder=function(t){return new jn(t)},jn.createIntersectionCounter=function(t){var e=new jn(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var ui=function(){this._li=new wt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};ui.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},ui.prototype.getIntersections=function(){return this._segInt.getIntersections()},ui.prototype.isValid=function(){return this.execute(),this._isValid},ui.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},ui.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new jn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new ms;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},ui.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Gi(this.getErrorMessage(),this._segInt.getInteriorIntersection())},ui.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+dt.toLineString(t[0],t[1])+" and "+dt.toLineString(t[2],t[3])},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui},ui.computeIntersections=function(t){var e=new ui(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Ki=function t(){this._nv=null,this._nv=new ui(t.toSegmentStrings(arguments[0]))};Ki.prototype.checkValid=function(){this._nv.checkValid()},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki},Ki.toSegmentStrings=function(t){for(var e=new kt,o=t.iterator();o.hasNext();){var a=o.next();e.add(new _i(a.getCoordinates(),a))}return e},Ki.checkValid=function(t){new Ki(t).checkValid()};var ko=function(t){this._mapOp=t};ko.prototype.map=function(t){for(var e=new kt,o=0;o<t.getNumGeometries();o++){var a=this._mapOp.map(t.getGeometryN(o));a.isEmpty()||e.add(a)}return t.getFactory().createGeometryCollection(ve.toGeometryArray(e))},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko},ko.map=function(t,e){return new ko(e).map(t)};var xi=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new kt,this._resultLineList=new kt;var e=arguments[1],o=arguments[2];this._op=arguments[0],this._geometryFactory=e,this._ptLocator=o};xi.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next();this.collectLineEdge(o,t,this._lineEdgesList),this.collectBoundaryTouchEdge(o,t,this._lineEdgesList)}},xi.prototype.labelIsolatedLine=function(t,e){var o=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,o)},xi.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},xi.prototype.collectLineEdge=function(t,e,o){var a=t.getLabel(),c=t.getEdge();t.isLineEdge()&&(t.isVisited()||!le.isResultOfOp(a,e)||c.isCovered()||(o.add(c),t.setVisitedEdge(!0)))},xi.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next(),a=o.getEdge();if(o.isLineEdge()&&!a.isCoveredSet()){var c=this._op.isCoveredByA(o.getCoordinate());a.setCovered(c)}}},xi.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),a=o.getLabel();o.isIsolated()&&(a.isNull(0)?this.labelIsolatedLine(o,0):this.labelIsolatedLine(o,1))}},xi.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var o=e.next(),a=this._geometryFactory.createLineString(o.getCoordinates());this._resultLineList.add(a),o.setInResult(!0)}},xi.prototype.collectBoundaryTouchEdge=function(t,e,o){var a=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(L.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(le.isResultOfOp(a,e)&&e===le.INTERSECTION&&(o.add(t.getEdge()),t.setVisitedEdge(!0))))},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi};var Bo=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new kt;var e=arguments[1];this._op=arguments[0],this._geometryFactory=e};Bo.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var o=this._geometryFactory.createPoint(e);this._resultPointList.add(o)}},Bo.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var o=e.next();if(!(o.isInResult()||o.isIncidentEdgeInResult()||0!==o.getEdges().getDegree()&&t!==le.INTERSECTION)){var a=o.getLabel();le.isResultOfOp(a,t)&&this.filterCoveredNodeToPoint(o)}}},Bo.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo};var br=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};br.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},br.prototype.transformPolygon=function(t,e){var o=!0,a=this.transformLinearRing(t.getExteriorRing(),t);null!==a&&a instanceof hi&&!a.isEmpty()||(o=!1);for(var c=new kt,y=0;y<t.getNumInteriorRing();y++){var x=this.transformLinearRing(t.getInteriorRingN(y),t);null===x||x.isEmpty()||(x instanceof hi||(o=!1),c.add(x))}if(o)return this._factory.createPolygon(a,c.toArray([]));var C=new kt;return null!==a&&C.add(a),C.addAll(c),this._factory.buildGeometry(C)},br.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},br.prototype.getInputGeometry=function(){return this._inputGeom},br.prototype.transformMultiLineString=function(t,e){for(var o=new kt,a=0;a<t.getNumGeometries();a++){var c=this.transformLineString(t.getGeometryN(a),t);null!==c&&(c.isEmpty()||o.add(c))}return this._factory.buildGeometry(o)},br.prototype.transformCoordinates=function(t,e){return this.copy(t)},br.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},br.prototype.transformMultiPoint=function(t,e){for(var o=new kt,a=0;a<t.getNumGeometries();a++){var c=this.transformPoint(t.getGeometryN(a),t);null!==c&&(c.isEmpty()||o.add(c))}return this._factory.buildGeometry(o)},br.prototype.transformMultiPolygon=function(t,e){for(var o=new kt,a=0;a<t.getNumGeometries();a++){var c=this.transformPolygon(t.getGeometryN(a),t);null!==c&&(c.isEmpty()||o.add(c))}return this._factory.buildGeometry(o)},br.prototype.copy=function(t){return t.copy()},br.prototype.transformGeometryCollection=function(t,e){for(var o=new kt,a=0;a<t.getNumGeometries();a++){var c=this.transform(t.getGeometryN(a));null!==c&&(this._pruneEmptyGeometry&&c.isEmpty()||o.add(c))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ve.toGeometryArray(o)):this._factory.buildGeometry(o)},br.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Mr)return this.transformPoint(t,null);if(t instanceof So)return this.transformMultiPoint(t,null);if(t instanceof hi)return this.transformLinearRing(t,null);if(t instanceof En)return this.transformLineString(t,null);if(t instanceof ho)return this.transformMultiLineString(t,null);if(t instanceof An)return this.transformPolygon(t,null);if(t instanceof Mi)return this.transformMultiPolygon(t,null);if(t instanceof lr)return this.transformGeometryCollection(t,null);throw new S("Unknown Geometry subtype: "+t.getClass().getName())},br.prototype.transformLinearRing=function(t,e){var o=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===o)return this._factory.createLinearRing(null);var a=o.size();return a>0&&a<4&&!this._preserveType?this._factory.createLineString(o):this._factory.createLinearRing(o)},br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br};var Ei=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Kt,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof En&&"number"==typeof arguments[1]){var o=arguments[1];t.call(this,arguments[0].getCoordinates(),o)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var a=arguments[0],c=arguments[1];this._srcPts=a,this._isClosed=t.isClosed(a),this._snapTolerance=c}};Ei.prototype.snapVertices=function(t,e){for(var o=this._isClosed?t.size()-1:t.size(),a=0;a<o;a++){var c=t.get(a),y=this.findSnapForVertex(c,e);null!==y&&(t.set(a,new w(y)),0===a&&this._isClosed&&t.set(t.size()-1,new w(y)))}},Ei.prototype.findSnapForVertex=function(t,e){for(var o=0;o<e.length;o++){if(t.equals2D(e[o]))return null;if(t.distance(e[o])<this._snapTolerance)return e[o]}return null},Ei.prototype.snapTo=function(t){var e=new Or(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Ei.prototype.snapSegments=function(t,e){if(0===e.length)return null;var o=e.length;e[0].equals2D(e[e.length-1])&&(o=e.length-1);for(var a=0;a<o;a++){var c=e[a],y=this.findSegmentIndexToSnap(c,t);y>=0&&t.add(y+1,new w(c),!1)}},Ei.prototype.findSegmentIndexToSnap=function(t,e){for(var o=N.MAX_VALUE,a=-1,c=0;c<e.size()-1;c++){if(this._seg.p0=e.get(c),this._seg.p1=e.get(c+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var y=this._seg.distance(t);y<this._snapTolerance&&y<o&&(o=y,a=c)}return a},Ei.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Nn=function(t){this._srcGeom=t||null},_u={SNAP_PRECISION_FACTOR:{configurable:!0}};Nn.prototype.snapTo=function(t,e){var o=this.extractTargetCoordinates(t);return new Ca(e,o).transform(this._srcGeom)},Nn.prototype.snapToSelf=function(t,e){var o=this.extractTargetCoordinates(this._srcGeom),a=new Ca(t,o,!0).transform(this._srcGeom),c=a;return e&&Nt(c,Ni)&&(c=a.buffer(0)),c},Nn.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Nn.prototype.extractTargetCoordinates=function(t){for(var e=new bt,o=t.getCoordinates(),a=0;a<o.length;a++)e.add(o[a]);return e.toArray(new Array(0).fill(null))},Nn.prototype.computeMinimumSegmentLength=function(t){for(var e=N.MAX_VALUE,o=0;o<t.length-1;o++){var a=t[o].distance(t[o+1]);a<e&&(e=a)}return e},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.snap=function(t,e,o){var a=new Array(2).fill(null),c=new Nn(t);a[0]=c.snapTo(e,o);var y=new Nn(e);return a[1]=y.snapTo(a[0],o),a},Nn.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Nn.computeSizeBasedSnapTolerance(t),o=t.getPrecisionModel();if(o.getType()===We.FIXED){var a=1/o.getScale()*2/1.415;a>e&&(e=a)}return e}if(2===arguments.length){var y=arguments[1];return Math.min(Nn.computeOverlaySnapTolerance(arguments[0]),Nn.computeOverlaySnapTolerance(y))}},Nn.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Nn.SNAP_PRECISION_FACTOR},Nn.snapToSelf=function(t,e,o){return new Nn(t).snapToSelf(e,o)},_u.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Nn,_u);var Ca=function(t){function e(o,a,c){t.call(this),this._snapTolerance=o||null,this._snapPts=a||null,this._isSelfSnap=void 0!==c&&c}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(o,a){var c=new Ei(o,this._snapTolerance);return c.setAllowSnappingToSourceVertices(this._isSelfSnap),c.snapTo(a)},e.prototype.transformCoordinates=function(o,a){var c=o.toCoordinateArray(),y=this.snapLine(c,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(y)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(br),or=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};or.prototype.getCommon=function(){return N.longBitsToDouble(this._commonBits)},or.prototype.add=function(t){var e=N.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=or.signExpBits(this._commonBits),this._isFirst=!1,null):or.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=or.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=or.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},or.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=N.longBitsToDouble(t),o="0000000000000000000000000000000000000000000000000000000000000000"+N.toBinaryString(t),a=o.substring(o.length-64);return a.substring(0,1)+"  "+a.substring(1,12)+"(exp) "+a.substring(12)+" [ "+e+" ]"}},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.getBit=function(t,e){return 0!=(t&1<<e)?1:0},or.signExpBits=function(t){return t>>52},or.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},or.numCommonMostSigMantissaBits=function(t,e){for(var o=0,a=52;a>=0;a--){if(or.getBit(t,a)!==or.getBit(e,a))return o;o++}return 52};var $r=function(){this._commonCoord=null,this._ccFilter=new to},Xs={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};$r.prototype.addCommonBits=function(t){var e=new Di(this._commonCoord);t.apply(e),t.geometryChanged()},$r.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new w(this._commonCoord);e.x=-e.x,e.y=-e.y;var o=new Di(e);return t.apply(o),t.geometryChanged(),t},$r.prototype.getCommonCoordinate=function(){return this._commonCoord},$r.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},Xs.CommonCoordinateFilter.get=function(){return to},Xs.Translater.get=function(){return Di},Object.defineProperties($r,Xs);var to=function(){this._commonBitsX=new or,this._commonBitsY=new or};to.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},to.prototype.getCommonCoordinate=function(){return new w(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},to.prototype.interfaces_=function(){return[we]},to.prototype.getClass=function(){return to};var Di=function(){this.trans=null,this.trans=arguments[0]};Di.prototype.filter=function(t,e){var o=t.getOrdinate(e,0)+this.trans.x,a=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,o),t.setOrdinate(e,1,a)},Di.prototype.isDone=function(){return!1},Di.prototype.isGeometryChanged=function(){return!0},Di.prototype.interfaces_=function(){return[Kr]},Di.prototype.getClass=function(){return Di};var Mn=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Mn.prototype.selfSnap=function(t){return new Nn(t).snapTo(t,this._snapTolerance)},Mn.prototype.removeCommonBits=function(t){this._cbr=new $r,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Mn.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Mn.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),o=le.overlayOp(e[0],e[1],t);return this.prepareResult(o)},Mn.prototype.checkValid=function(t){t.isValid()||Jt.out.println("Snapped geometry is invalid")},Mn.prototype.computeSnapTolerance=function(){this._snapTolerance=Nn.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Mn.prototype.snap=function(t){var e=this.removeCommonBits(t);return Nn.snap(e[0],e[1],this._snapTolerance)},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.overlayOp=function(t,e,o){return new Mn(t,e).getResultGeometry(o)},Mn.union=function(t,e){return Mn.overlayOp(t,e,le.UNION)},Mn.intersection=function(t,e){return Mn.overlayOp(t,e,le.INTERSECTION)},Mn.symDifference=function(t,e){return Mn.overlayOp(t,e,le.SYMDIFFERENCE)},Mn.difference=function(t,e){return Mn.overlayOp(t,e,le.DIFFERENCE)};var sr=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};sr.prototype.getResultGeometry=function(t){var e=null,o=!1,a=null;try{e=le.overlayOp(this._geom[0],this._geom[1],t),o=!0}catch(c){if(!(c instanceof D))throw c;a=c}if(!o)try{e=Mn.overlayOp(this._geom[0],this._geom[1],t)}catch(c){throw c instanceof D?a:c}return e},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr},sr.overlayOp=function(t,e,o){return new sr(t,e).getResultGeometry(o)},sr.union=function(t,e){return sr.overlayOp(t,e,le.UNION)},sr.intersection=function(t,e){return sr.overlayOp(t,e,le.INTERSECTION)},sr.symDifference=function(t,e){return sr.overlayOp(t,e,le.SYMDIFFERENCE)},sr.difference=function(t,e){return sr.overlayOp(t,e,le.DIFFERENCE)};var Ji=function(){this.mce=null,this.chainIndex=null;var e=arguments[1];this.mce=arguments[0],this.chainIndex=e};Ji.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji};var Zn=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],o=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=o}else if(3===arguments.length){var a=arguments[0],c=arguments[1],y=arguments[2];this._eventType=t.INSERT,this._label=a,this._xValue=c,this._obj=y}},Js={INSERT:{configurable:!0},DELETE:{configurable:!0}};Zn.prototype.isDelete=function(){return this._eventType===Zn.DELETE},Zn.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Zn.prototype.getObject=function(){return this._obj},Zn.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},Zn.prototype.getInsertEvent=function(){return this._insertEvent},Zn.prototype.isInsert=function(){return this._eventType===Zn.INSERT},Zn.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Zn.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Zn.prototype.interfaces_=function(){return[I]},Zn.prototype.getClass=function(){return Zn},Js.INSERT.get=function(){return 1},Js.DELETE.get=function(){return 2},Object.defineProperties(Zn,Js);var js=function(){};js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js};var tr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[1],o=arguments[2];this._li=arguments[0],this._includeProper=e,this._recordIsolated=o};tr.prototype.isTrivialIntersection=function(t,e,o,a){if(t===o&&1===this._li.getIntersectionNum()){if(tr.isAdjacentSegments(e,a))return!0;if(t.isClosed()){var c=t.getNumPoints()-1;if(0===e&&a===c||0===a&&e===c)return!0}}return!1},tr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},tr.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},tr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},tr.prototype.isBoundaryPointInternal=function(t,e){for(var o=e.iterator();o.hasNext();){var a=o.next().getCoordinate();if(t.isIntersection(a))return!0}return!1},tr.prototype.hasProperIntersection=function(){return this._hasProper},tr.prototype.hasIntersection=function(){return this._hasIntersection},tr.prototype.isDone=function(){return this._isDone},tr.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},tr.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},tr.prototype.addIntersections=function(t,e,o,a){if(t===o&&e===a)return null;this.numTests++;var c=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[a],C=o.getCoordinates()[a+1];this._li.computeIntersection(c,y,x,C),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),o.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,o,a)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),o.addIntersections(this._li,a,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},tr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Ia=function(t){function e(){t.call(this),this.events=new kt,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){jr.sort(this.events);for(var o=0;o<this.events.size();o++){var a=this.events.get(o);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(o)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var o=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var a=0;a<this.events.size();a++){var c=this.events.get(a);if(c.isInsert()&&this.processOverlaps(a,c.getDeleteEventIndex(),c,o),o.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof tr&&Nt(arguments[0],Bn)&&Nt(arguments[1],Bn)){var y=arguments[0],x=arguments[1],C=arguments[2];this.addEdges(y,y),this.addEdges(x,x),this.computeIntersections(C)}else if("boolean"==typeof arguments[2]&&Nt(arguments[0],Bn)&&arguments[1]instanceof tr){var B=arguments[0],rt=arguments[1];arguments[2]?this.addEdges(B,null):this.addEdges(B),this.computeIntersections(rt)}},e.prototype.addEdge=function(o,a){for(var c=o.getMonotoneChainEdge(),y=c.getStartIndexes(),x=0;x<y.length-1;x++){var C=new Ji(c,x),B=new Zn(a,c.getMinX(x),C);this.events.add(B),this.events.add(new Zn(c.getMaxX(x),B))}},e.prototype.processOverlaps=function(o,a,c,y){for(var x=c.getObject(),C=o;C<a;C++){var B=this.events.get(C);if(B.isInsert()){var rt=B.getObject();c.isSameLabel(B)||(x.computeIntersections(rt,y),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var o=arguments[0].iterator();o.hasNext();){var a=o.next();this.addEdge(a,a)}else if(2===arguments.length)for(var y=arguments[1],x=arguments[0].iterator();x.hasNext();){var C=x.next();this.addEdge(C,y)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(js),li=function(){this._min=N.POSITIVE_INFINITY,this._max=N.NEGATIVE_INFINITY},Go={NodeComparator:{configurable:!0}};li.prototype.getMin=function(){return this._min},li.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},li.prototype.getMax=function(){return this._max},li.prototype.toString=function(){return dt.toLineString(new w(this._min,0),new w(this._max,0))},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},Go.NodeComparator.get=function(){return Zo},Object.defineProperties(li,Go);var Zo=function(){};Zo.prototype.compare=function(t,e){var c=(t._min+t._max)/2,y=(e._min+e._max)/2;return c<y?-1:c>y?1:0},Zo.prototype.interfaces_=function(){return[O]},Zo.prototype.getClass=function(){return Zo};var $s=function(t){function e(){t.call(this),this._item=null;var a=arguments[1],c=arguments[2];this._min=arguments[0],this._max=a,this._item=c}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(o,a,c){if(!this.intersects(o,a))return null;c.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(li),Hs=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var a=arguments[1];this._node1=arguments[0],this._node2=a,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(o,a){this._min=Math.min(o._min,a._min),this._max=Math.max(o._max,a._max)},e.prototype.query=function(o,a,c){if(!this.intersects(o,a))return null;null!==this._node1&&this._node1.query(o,a,c),null!==this._node2&&this._node2.query(o,a,c)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(li),Fi=function(){this._leaves=new kt,this._root=null,this._level=0};Fi.prototype.buildTree=function(){jr.sort(this._leaves,new li.NodeComparator);for(var t=this._leaves,e=null,o=new kt;;){if(this.buildLevel(t,o),1===o.size())return o.get(0);e=t,t=o,o=e}},Fi.prototype.insert=function(t,e,o){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new $s(t,e,o))},Fi.prototype.query=function(t,e,o){this.init(),this._root.query(t,e,o)},Fi.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Fi.prototype.printNode=function(t){Jt.out.println(dt.toLineString(new w(t._min,this._level),new w(t._max,this._level)))},Fi.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Fi.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var o=0;o<t.size();o+=2){var a=t.get(o);if(null===(o+1<t.size()?t.get(o):null))e.add(a);else{var c=new Hs(t.get(o),t.get(o+1));e.add(c)}}},Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi};var es=function(){this._items=new kt};es.prototype.visitItem=function(t){this._items.add(t)},es.prototype.getItems=function(){return this._items},es.prototype.interfaces_=function(){return[Zi]},es.prototype.getClass=function(){return es};var ns=function(){this._index=null;var t=arguments[0];if(!Nt(t,Ni))throw new S("Argument must be Polygonal");this._index=new ji(t)},Es={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};ns.prototype.locate=function(t){var e=new Ft(t),o=new eo(e);return this._index.query(t.y,t.y,o),e.getLocation()},ns.prototype.interfaces_=function(){return[Oo]},ns.prototype.getClass=function(){return ns},Es.SegmentVisitor.get=function(){return eo},Es.IntervalIndexedGeometry.get=function(){return ji},Object.defineProperties(ns,Es);var eo=function(){this._counter=null,this._counter=arguments[0]};eo.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},eo.prototype.interfaces_=function(){return[Zi]},eo.prototype.getClass=function(){return eo};var ji=function(){this._index=new Fi,this.init(arguments[0])};ji.prototype.init=function(t){for(var e=Qn.getLines(t).iterator();e.hasNext();){var o=e.next().getCoordinates();this.addLine(o)}},ji.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var o=new Kt(t[e-1],t[e]),a=Math.min(o.p0.y,o.p1.y),c=Math.max(o.p0.y,o.p1.y);this._index.insert(a,c,o)}},ji.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new es;return this._index.query(t,e,o),o.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji};var xo=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new lu,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new si,2===arguments.length){var a=arguments[1],c=be.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=a,this._boundaryNodeRule=c,null!==a&&this.add(a)}else if(3===arguments.length){var x=arguments[1],C=arguments[2];this._argIndex=arguments[0],this._parentGeom=x,this._boundaryNodeRule=C,null!==x&&this.add(x)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(o,a){var c=this._nodes.addNode(a).getLabel(),y=1;c.getLocation(o,Bt.ON)===R.BOUNDARY&&y++;var x=e.determineBoundary(this._boundaryNodeRule,y);c.setLocation(o,x)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var y=arguments[1],x=arguments[2],C=new tr(arguments[0],!0,!1);return C.setIsDoneIfProperInt(x),this.createEdgeSetIntersector().computeIntersections(this._edges,C,y||!(this._parentGeom instanceof hi||this._parentGeom instanceof An||this._parentGeom instanceof Mi)),this.addSelfIntersectionNodes(this._argIndex),C}},e.prototype.computeSplitEdges=function(o){for(var a=this._edges.iterator();a.hasNext();)a.next().eiList.addSplitEdges(o)},e.prototype.computeEdgeIntersections=function(o,a,c){var y=new tr(a,c,!0);return y.setBoundaryNodes(this.getBoundaryNodes(),o.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,o._edges,y),y},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Mr){var o=arguments[0].getCoordinate();this.insertPoint(this._argIndex,o,R.INTERIOR)}else arguments[0]instanceof w&&this.insertPoint(this._argIndex,arguments[0],R.INTERIOR)},e.prototype.addPolygon=function(o){this.addPolygonRing(o.getExteriorRing(),R.EXTERIOR,R.INTERIOR);for(var a=0;a<o.getNumInteriorRing();a++){var c=o.getInteriorRingN(a);this.addPolygonRing(c,R.INTERIOR,R.EXTERIOR)}},e.prototype.addEdge=function(o){this.insertEdge(o);var a=o.getCoordinates();this.insertPoint(this._argIndex,a[0],R.BOUNDARY),this.insertPoint(this._argIndex,a[a.length-1],R.BOUNDARY)},e.prototype.addLineString=function(o){var a=fe.removeRepeatedPoints(o.getCoordinates());if(a.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=a[0],null;var c=new Us(a,new nn(this._argIndex,R.INTERIOR));this._lineEdgeMap.put(o,c),this.insertEdge(c),L.isTrue(a.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,a[0]),this.insertBoundaryPoint(this._argIndex,a[a.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var o=this.getBoundaryNodes(),a=new Array(o.size()).fill(null),c=0,y=o.iterator();y.hasNext();){var x=y.next();a[c++]=x.getCoordinate().copy()}return a},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(o,a,c){if(this.isBoundaryNode(o,a))return null;c===R.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(o,a):this.insertPoint(o,a,c)},e.prototype.addPolygonRing=function(o,a,c){if(o.isEmpty())return null;var y=fe.removeRepeatedPoints(o.getCoordinates());if(y.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=y[0],null;var x=a,C=c;Mt.isCCW(y)&&(x=c,C=a);var B=new Us(y,new nn(this._argIndex,R.BOUNDARY,x,C));this._lineEdgeMap.put(o,B),this.insertEdge(B),this.insertPoint(this._argIndex,y[0],R.BOUNDARY)},e.prototype.insertPoint=function(o,a,c){var y=this._nodes.addNode(a),x=y.getLabel();null===x?y._label=new nn(o,c):x.setLocation(o,c)},e.prototype.createEdgeSetIntersector=function(){return new Ia},e.prototype.addSelfIntersectionNodes=function(o){for(var a=this._edges.iterator();a.hasNext();)for(var c=a.next(),y=c.getLabel().getLocation(o),x=c.eiList.iterator();x.hasNext();){var C=x.next();this.addSelfIntersectionNode(o,C.coord,y)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var o=arguments[0];if(o.isEmpty())return null;if(o instanceof Mi&&(this._useBoundaryDeterminationRule=!1),o instanceof An)this.addPolygon(o);else if(o instanceof En)this.addLineString(o);else if(o instanceof Mr)this.addPoint(o);else if(o instanceof So)this.addCollection(o);else if(o instanceof ho)this.addCollection(o);else if(o instanceof Mi)this.addCollection(o);else{if(!(o instanceof lr))throw new Error(o.getClass().getName());this.addCollection(o)}},e.prototype.addCollection=function(o){for(var a=0;a<o.getNumGeometries();a++){var c=o.getGeometryN(a);this.add(c)}},e.prototype.locate=function(o){return Nt(this._parentGeom,Ni)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new ns(this._parentGeom)),this._areaPtLocator.locate(o)):this._ptLocator.locate(o,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(o,a){return o.isInBoundary(a)?R.BOUNDARY:R.INTERIOR},e}(hn),rs=function(){if(this._li=new wt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new xo(0,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],a=be.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new xo(0,e,a),this._arg[1]=new xo(1,o,a)}else if(3===arguments.length){var c=arguments[0],y=arguments[1],x=arguments[2];c.getPrecisionModel().compareTo(y.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(y.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new xo(0,c,x),this._arg[1]=new xo(1,y,x)}};rs.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},rs.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},rs.prototype.interfaces_=function(){return[]},rs.prototype.getClass=function(){return rs};var Eo=function(){};Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo},Eo.map=function(){if(arguments[0]instanceof Zt&&Nt(arguments[1],Eo.MapOp)){for(var t=arguments[0],e=arguments[1],o=new kt,a=0;a<t.getNumGeometries();a++){var c=e.map(t.getGeometryN(a));null!==c&&o.add(c)}return t.getFactory().buildGeometry(o)}if(Nt(arguments[0],fn)&&Nt(arguments[1],Eo.MapOp)){for(var y=arguments[0],x=arguments[1],C=new kt,B=y.iterator();B.hasNext();){var rt=B.next(),Et=x.map(rt);null!==Et&&C.add(Et)}return C}},Eo.MapOp=function(){};var le=function(t){function e(){var o=arguments[0];t.call(this,o,arguments[1]),this._ptLocator=new si,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new ni,this._resultPolyList=new kt,this._resultLineList=new kt,this._resultPointList=new kt,this._graph=new hn(new Zs),this._geomFact=o.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(o){var a=this._edgeList.findEqualEdge(o);if(null!==a){var c=a.getLabel(),y=o.getLabel();a.isPointwiseEqual(o)||(y=new nn(o.getLabel())).flip();var x=a.getDepth();x.isNull()&&x.add(c),x.add(y),c.merge(y)}else this._edgeList.add(o)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var o=this._graph.getEdgeEnds().iterator();o.hasNext();){var a=o.next(),c=a.getSym();a.isInResult()&&c.isInResult()&&(a.setInResult(!1),c.setInResult(!1))}},e.prototype.isCoveredByLA=function(o){return!!this.isCovered(o,this._resultLineList)||!!this.isCovered(o,this._resultPolyList)},e.prototype.computeGeometry=function(o,a,c,y){var x=new kt;return x.addAll(o),x.addAll(a),x.addAll(c),x.isEmpty()?e.createEmptyResult(y,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(x)},e.prototype.mergeSymLabels=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();)o.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(o,a){for(var c=a.iterator();c.hasNext();){var y=c.next();if(this._ptLocator.locate(o,y)!==R.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var o=new kt,a=this._edgeList.iterator();a.hasNext();){var c=a.next();c.isCollapsed()&&(a.remove(),o.add(c.getCollapsedEdge()))}this._edgeList.addAll(o)},e.prototype.updateNodeLabelling=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var a=o.next(),c=a.getEdges().getLabel();a.getLabel().merge(c)}},e.prototype.getResultGeometry=function(o){return this.computeOverlay(o),this._resultGeom},e.prototype.insertUniqueEdges=function(o){for(var a=o.iterator();a.hasNext();){var c=a.next();this.insertUniqueEdge(c)}},e.prototype.computeOverlay=function(o){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var a=new kt;this._arg[0].computeSplitEdges(a),this._arg[1].computeSplitEdges(a),this.insertUniqueEdges(a),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ki.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(o),this.cancelDuplicateResultEdges();var c=new Lr(this._geomFact);c.add(this._graph),this._resultPolyList=c.getPolygons();var y=new xi(this,this._geomFact,this._ptLocator);this._resultLineList=y.build(o);var x=new Bo(this,this._geomFact,this._ptLocator);this._resultPointList=x.build(o),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,o)},e.prototype.labelIncompleteNode=function(o,a){var c=this._ptLocator.locate(o.getCoordinate(),this._arg[a].getGeometry());o.getLabel().setLocation(a,c)},e.prototype.copyPoints=function(o){for(var a=this._arg[o].getNodeIterator();a.hasNext();){var c=a.next();this._graph.addNode(c.getCoordinate()).setLabel(o,c.getLabel().getLocation(o))}},e.prototype.findResultAreaEdges=function(o){for(var a=this._graph.getEdgeEnds().iterator();a.hasNext();){var c=a.next(),y=c.getLabel();y.isArea()&&!c.isInteriorAreaEdge()&&e.isResultOfOp(y.getLocation(0,Bt.RIGHT),y.getLocation(1,Bt.RIGHT),o)&&c.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var o=this._edgeList.iterator();o.hasNext();){var a=o.next(),c=a.getLabel(),y=a.getDepth();if(!y.isNull()){y.normalize();for(var x=0;x<2;x++)c.isNull(x)||!c.isArea()||y.isNull(x)||(0===y.getDelta(x)?c.toLine(x):(L.isTrue(!y.isNull(x,Bt.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(x,Bt.LEFT,y.getLocation(x,Bt.LEFT)),L.isTrue(!y.isNull(x,Bt.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(x,Bt.RIGHT,y.getLocation(x,Bt.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();)o.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var a=o.next(),c=a.getLabel();a.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(a,0):this.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(c)}},e.prototype.isCoveredByA=function(o){return!!this.isCovered(o,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(rs);le.overlayOp=function(t,e,o){return new le(t,e).getResultGeometry(o)},le.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return le.createEmptyResult(le.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var o=e;return ko.map(t,{interfaces_:function(){return[Eo.MapOp]},map:function(a){return a.intersection(o)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),sr.overlayOp(t,e,le.INTERSECTION)},le.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return le.createEmptyResult(le.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),sr.overlayOp(t,e,le.SYMDIFFERENCE)},le.resultDimension=function(t,e,o){var a=e.getDimension(),c=o.getDimension(),y=-1;switch(t){case le.INTERSECTION:y=Math.min(a,c);break;case le.UNION:y=Math.max(a,c);break;case le.DIFFERENCE:y=a;break;case le.SYMDIFFERENCE:y=Math.max(a,c)}return y},le.createEmptyResult=function(t,e,o,a){var c=null;switch(le.resultDimension(t,e,o)){case-1:c=a.createGeometryCollection(new Array(0).fill(null));break;case 0:c=a.createPoint();break;case 1:c=a.createLineString();break;case 2:c=a.createPolygon()}return c},le.difference=function(t,e){return t.isEmpty()?le.createEmptyResult(le.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),sr.overlayOp(t,e,le.DIFFERENCE))},le.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=t.getLocation(0),a=t.getLocation(1);return le.isResultOfOp(o,a,e)}if(3===arguments.length){var c=arguments[0],y=arguments[1];switch(c===R.BOUNDARY&&(c=R.INTERIOR),y===R.BOUNDARY&&(y=R.INTERIOR),arguments[2]){case le.INTERSECTION:return c===R.INTERIOR&&y===R.INTERIOR;case le.UNION:return c===R.INTERIOR||y===R.INTERIOR;case le.DIFFERENCE:return c===R.INTERIOR&&y!==R.INTERIOR;case le.SYMDIFFERENCE:return c===R.INTERIOR&&y!==R.INTERIOR||c!==R.INTERIOR&&y===R.INTERIOR}return!1}},le.INTERSECTION=1,le.UNION=2,le.DIFFERENCE=3,le.SYMDIFFERENCE=4;var no=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new si,this._seg=new Kt;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};no.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var o=this._linework.getGeometryN(e).getCoordinateSequence(),a=0;a<o.size()-1;a++)if(o.getCoordinate(a,this._seg.p0),o.getCoordinate(a+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},no.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?R.BOUNDARY:this._ptLocator.locate(t,this._g)},no.prototype.extractLinework=function(t){var e=new Uo;t.apply(e);var o=e.getLinework(),a=ve.toLineStringArray(o);return t.getFactory().createMultiLineString(a)},no.prototype.interfaces_=function(){return[]},no.prototype.getClass=function(){return no};var Uo=function(){this._linework=null,this._linework=new kt};Uo.prototype.getLinework=function(){return this._linework},Uo.prototype.filter=function(t){if(t instanceof An){var e=t;this._linework.add(e.getExteriorRing());for(var o=0;o<e.getNumInteriorRing();o++)this._linework.add(e.getInteriorRingN(o))}},Uo.prototype.interfaces_=function(){return[Qr]},Uo.prototype.getClass=function(){return Uo};var ro=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};ro.prototype.extractPoints=function(t,e,o){for(var a=t.getCoordinates(),c=0;c<a.length-1;c++)this.computeOffsetPoints(a[c],a[c+1],e,o)},ro.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},ro.prototype.getPoints=function(t){for(var e=new kt,o=Qn.getLines(this._g).iterator();o.hasNext();){var a=o.next();this.extractPoints(a,t,e)}return e},ro.prototype.computeOffsetPoints=function(t,e,o,a){var c=e.x-t.x,y=e.y-t.y,x=Math.sqrt(c*c+y*y),C=o*c/x,B=o*y/x,rt=(e.x+t.x)/2,Et=(e.y+t.y)/2;if(this._doLeft){var Pt=new w(rt-B,Et+C);a.add(Pt)}if(this._doRight){var Ut=new w(rt+B,Et-C);a.add(Ut)}},ro.prototype.interfaces_=function(){return[]},ro.prototype.getClass=function(){return ro};var Cr=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new kt;var e=arguments[0],o=arguments[1],a=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,o),this._geom=[e,o,a],this._locFinder=[new no(this._geom[0],this._boundaryDistanceTolerance),new no(this._geom[1],this._boundaryDistanceTolerance),new no(this._geom[2],this._boundaryDistanceTolerance)]},xu={TOLERANCE:{configurable:!0}};Cr.prototype.reportResult=function(t,e,o){Jt.out.println("Overlay result invalid - A:"+R.toLocationSymbol(e[0])+" B:"+R.toLocationSymbol(e[1])+" expected:"+(o?"i":"e")+" actual:"+R.toLocationSymbol(e[2]))},Cr.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Cr.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var o=this._testCoords.get(e);if(!this.checkValid(t,o))return this._invalidLocation=o,!1}return!0}if(2===arguments.length){var a=arguments[0],c=arguments[1];return this._location[0]=this._locFinder[0].getLocation(c),this._location[1]=this._locFinder[1].getLocation(c),this._location[2]=this._locFinder[2].getLocation(c),!!Cr.hasLocation(this._location,R.BOUNDARY)||this.isValidResult(a,this._location)}},Cr.prototype.addTestPts=function(t){var e=new ro(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Cr.prototype.isValidResult=function(t,e){var o=le.isResultOfOp(e[0],e[1],t),a=!(o^e[2]===R.INTERIOR);return a||this.reportResult(t,e,o),a},Cr.prototype.getInvalidLocation=function(){return this._invalidLocation},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr},Cr.hasLocation=function(t,e){for(var o=0;o<3;o++)if(t[o]===e)return!0;return!1},Cr.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Nn.computeSizeBasedSnapTolerance(t),Nn.computeSizeBasedSnapTolerance(e))},Cr.isValid=function(t,e,o,a){return new Cr(t,e,a).isValid(o)},xu.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Cr,xu);var Ir=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Ir.prototype.extractElements=function(t,e){if(null===t)return null;for(var o=0;o<t.getNumGeometries();o++){var a=t.getGeometryN(o);this._skipEmpty&&a.isEmpty()||e.add(a)}},Ir.prototype.combine=function(){for(var t=new kt,e=this._inputGeoms.iterator();e.hasNext();){var o=e.next();this.extractElements(o,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir},Ir.combine=function(){return 1===arguments.length?new Ir(arguments[0]).combine():2===arguments.length?new Ir(Ir.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Ir(Ir.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Ir.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Ir.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new kt;return o.add(t),o.add(e),o}if(3===arguments.length){var a=arguments[0],c=arguments[1],y=arguments[2],x=new kt;return x.add(a),x.add(c),x.add(y),x}};var bn=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new kt)},Sa={STRTREE_NODE_CAPACITY:{configurable:!0}};bn.prototype.reduceToGeometries=function(t){for(var e=new kt,o=t.iterator();o.hasNext();){var a=o.next(),c=null;Nt(a,Bn)?c=this.unionTree(a):a instanceof Zt&&(c=a),e.add(c)}return e},bn.prototype.extractByEnvelope=function(t,e,o){for(var a=new kt,c=0;c<e.getNumGeometries();c++){var y=e.getGeometryN(c);y.getEnvelopeInternal().intersects(t)?a.add(y):o.add(y)}return this._geomFactory.buildGeometry(a)},bn.prototype.unionOptimized=function(t,e){var o=t.getEnvelopeInternal(),a=e.getEnvelopeInternal();if(!o.intersects(a))return Ir.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var c=o.intersection(a);return this.unionUsingEnvelopeIntersection(t,e,c)},bn.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new hu(bn.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var o=e.next();t.insert(o.getEnvelopeInternal(),o)}this._inputPolys=null;var a=t.itemsTree();return this.unionTree(a)},bn.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],o=arguments[1],a=arguments[2];if(a-o<=1){var c=bn.getGeometry(e,o);return this.unionSafe(c,null)}if(a-o==2)return this.unionSafe(bn.getGeometry(e,o),bn.getGeometry(e,o+1));var y=Math.trunc((a+o)/2),x=this.binaryUnion(e,o,y),C=this.binaryUnion(e,y,a);return this.unionSafe(x,C)}},bn.prototype.repeatedUnion=function(t){for(var e=null,o=t.iterator();o.hasNext();){var a=o.next();e=null===e?a.copy():e.union(a)}return e},bn.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},bn.prototype.unionActual=function(t,e){return bn.restrictToPolygons(t.union(e))},bn.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},bn.prototype.unionUsingEnvelopeIntersection=function(t,e,o){var a=new kt,c=this.extractByEnvelope(o,t,a),y=this.extractByEnvelope(o,e,a),x=this.unionActual(c,y);return a.add(x),Ir.combine(a)},bn.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().createGeometryCollection([e,o]).buffer(0)}},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.restrictToPolygons=function(t){if(Nt(t,Ni))return t;var e=Yi.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ve.toPolygonArray(e))},bn.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},bn.union=function(t){return new bn(t).union()},Sa.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(bn,Sa);var ws=function(){};ws.prototype.interfaces_=function(){return[]},ws.prototype.getClass=function(){return ws},ws.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return le.createEmptyResult(le.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),sr.overlayOp(t,e,le.UNION)},K.GeoJSONReader=ma,K.GeoJSONWriter=va,K.OverlayOp=le,K.UnionOp=ws,K.BufferOp=Wn,Object.defineProperty(K,"__esModule",{value:!0})}(yt)},3006:Rt=>{Rt.exports=q,Rt.exports.parse=q,Rt.exports.stringify=function Q(P){function h(It){return It.join(" ")}function nt(It){return It.map(h).join(", ")}function H(It){return It.map(nt).map(ct).join(", ")}function ct(It){return"("+It+")"}switch("Feature"===P.type&&(P=P.geometry),P.type){case"Point":return"POINT ("+h(P.coordinates)+")";case"LineString":return"LINESTRING ("+nt(P.coordinates)+")";case"Polygon":return"POLYGON ("+H(P.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+nt(P.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+P.coordinates.map(H).map(ct).join(", ")+")";case"MultiLineString":return"MULTILINESTRING ("+H(P.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+P.geometries.map(Q).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}};var yt=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,K=new RegExp("^"+yt.source+"(\\s"+yt.source+"){1,}");function q(P){var I,h=P.split(";"),nt=h.pop(),H=(h.shift()||"").split("=").pop(),st=0;function ct(I){var M=nt.substring(st).match(I);return M?(st+=M[0].length,M[0]):null}function At(){ct(/^\s*/)}function xt(){At();for(var it,I=0,M=[],O=[M],w=M;it=ct(/^(\()/)||ct(/^(\))/)||ct(/^(,)/)||ct(K);){if("("===it)O.push(w),O[O.length-1].push(w=[]),I++;else if(")"===it){if(0===w.length||!(w=O.pop()))return null;if(0==--I)break}else if(","===it)O[O.length-1].push(w=[]);else{if(it.split(/\s/g).some(isNaN))return null;Array.prototype.push.apply(w,it.split(/\s/g).map(parseFloat))}At()}return 0!==I?null:M}function mt(){for(var M,O,I=[];O=ct(K)||ct(/^(,)/);)","===O?(I.push(M),M=[]):O.split(/\s/g).some(isNaN)||(M||(M=[]),Array.prototype.push.apply(M,O.split(/\s/g).map(parseFloat))),At();return M?(I.push(M),I.length?I:null):null}return(I=function U(){return function(){if(!ct(/^(point(\sz)?)/i)||(At(),!ct(/^(\()/)))return null;var I=mt();return I&&(At(),ct(/^(\))/))?{type:"Point",coordinates:I[0]}:null}()||function(){if(!ct(/^(linestring(\sz)?)/i)||(At(),!ct(/^(\()/)))return null;var I=mt();return I&&ct(/^(\))/)?{type:"LineString",coordinates:I}:null}()||function(){if(!ct(/^(polygon(\sz)?)/i))return null;At();var I=xt();return I?{type:"Polygon",coordinates:I}:null}()||function(){if(!ct(/^(multipoint)/i))return null;At();var I=nt.substring(nt.indexOf("(")+1,nt.length-1).replace(/\(/g,"").replace(/\)/g,"");nt="MULTIPOINT ("+I+")";var M=xt();return M?(At(),{type:"MultiPoint",coordinates:M}):null}()||function(){if(!ct(/^(multilinestring)/i))return null;At();var I=xt();return I?(At(),{type:"MultiLineString",coordinates:I}):null}()||function(){if(!ct(/^(multipolygon)/i))return null;At();var I=xt();return I?{type:"MultiPolygon",coordinates:I}:null}()||function(){var M,I=[];if(!ct(/^(geometrycollection)/i)||(At(),!ct(/^(\()/)))return null;for(;M=U();)I.push(M),At(),ct(/^(,)/),At();return ct(/^(\))/)?{type:"GeometryCollection",geometries:I}:null}()}())&&H.match(/\d+/)&&(I.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+H}}),I}},2789:(Rt,yt,K)=>{"use strict";K.r(yt),K.d(yt,{DashboardModule:()=>nd});var q=K(8583),Q=K(6901),P=K(2936),h=K(639);function nt(n,r){if(1&n&&(h.TgZ(0,"div",55),h.TgZ(1,"span",56),h._UZ(2,"span",57),h.qZA(),h.TgZ(3,"span",42),h._uU(4),h.qZA(),h._UZ(5,"span",58),h.TgZ(6,"span",59),h._uU(7),h.qZA(),h.qZA()),2&n){const i=r.$implicit;h.xp6(4),h.Oqu(i.title),h.xp6(1),h.Q6J("innerHTML",i.content,h.oJD),h.xp6(2),h.Oqu(i.created_at)}}function H(n,r){1&n&&(h.TgZ(0,"div",40),h.TgZ(1,"span",42),h._uU(2,"No messages"),h.qZA(),h.qZA())}const st=function(n,r,i){return{"fg-blue":n,"fg-amber":r,"fg-red":i}},ct=function(n,r,i){return{"mif-info":n,"mif-warning":r,"mif-notification":i}};function It(n,r){if(1&n&&(h.TgZ(0,"div",55),h.TgZ(1,"span",56),h._UZ(2,"span",57),h.qZA(),h.TgZ(3,"span",42),h._uU(4),h.qZA(),h.TgZ(5,"span",43),h._uU(6),h.qZA(),h.TgZ(7,"span",59),h._uU(8),h.qZA(),h.qZA()),2&n){const i=r.$implicit;h.Tol(h.kEZ(7,st,0==i.notification_type_id,1==i.notification_type_id,2==i.notification_type_id)),h.xp6(2),h.Tol(h.kEZ(11,ct,0==i.notification_type_id,1==i.notification_type_id,2==i.notification_type_id)),h.xp6(2),h.Oqu(i.title),h.xp6(2),h.Oqu(i.description),h.xp6(2),h.Oqu(i.created_at)}}function At(n,r){1&n&&(h.TgZ(0,"div",40),h.TgZ(1,"span",42),h._uU(2,"No notifications"),h.qZA(),h.qZA())}function xt(n,r){1&n&&(h.TgZ(0,"li",60),h.TgZ(1,"a",61),h._uU(2,"Upload"),h.qZA(),h.qZA())}function mt(n,r){1&n&&(h.TgZ(0,"li",62),h.TgZ(1,"a",63),h._uU(2,"Standardize"),h.qZA(),h.qZA())}function bt(n,r){1&n&&(h.TgZ(0,"li",64),h.TgZ(1,"a",65),h._uU(2,"User-Management"),h.qZA(),h.qZA())}function qt(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"div",20),h.TgZ(1,"a",66),h.TgZ(2,"span",22),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"div",67),h.TgZ(5,"div",68),h._UZ(6,"div",69),h._UZ(7,"div",70),h._UZ(8,"div",71),h.qZA(),h.TgZ(9,"div",72),h.TgZ(10,"button",73),h.NdJ("click",function(){return h.CHM(i),h.oxw().logout()}),h._UZ(11,"span",74),h.TgZ(12,"span",37),h._uU(13,"Logout"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&n){const i=h.oxw();h.xp6(3),h.AsE("",i.profile.first_name," ",i.profile.last_name,"")}}function et(n,r){1&n&&h._UZ(0,"span",75)}function pt(n,r){1&n&&h._UZ(0,"span",76)}function b(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"button",77),h.NdJ("click",function(){return h.CHM(i),h.oxw().checkPendingStatus()}),h._uU(1,"Refresh Status"),h.qZA()}}function S(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"button",78),h.NdJ("click",function(){return h.CHM(i),h.oxw().cancelPendingTransactions()}),h._uU(1,"Cancel Transaction"),h.qZA()}}let N=(()=>{class n{constructor(i){this.data=i,this.alerts=[],this.inbox=[],this.coins=[],this.btcUsdPrice=0,this.currentSelectedCoin={},this.currentCoinPrice=0,this.currentRoute="",this.$=$,this.profile={id:-1,user_id:1,first_name:"",last_name:"",description:"",mobile:"",banner_path:null,ref_code:"",created_at:"",updated_at:"",picture:"",email:"",no_of_properties:-1,inward:-1,outward:-1,net_worth:-1,reserve:-1,pending:null},this.pendingTransaction={pay_address:"",amount:"",qrcode:"assets/coin.png",status:"pending",coin_status:"",name:"",icon:"assets/coin.png",coin_id:"",coin_amount:""},this.currentRoute=this.data.getRole(),setTimeout(()=>{const s=location.hash.split("/").pop();$(`li[routerLink="${s}"]`).click()},250)}ngOnInit(){this.getProfile(),this.data.currentMessage.subscribe(i=>{"get-settings"===i&&this.getSettings(),"cancel-pending"===i&&this.cancelPendingTransactions()})}getProfile(i=!1){i||P.F.loading("profile"),this.data.apiGetService("profile").subscribe(s=>{i||P.F.loading("profile",!0),P.F.profile=this.profile=s,this.startPendingCheck(),this.data.changeMessage("fetch-profile"),null!=this.profile.picture&&$("#dp").css("backgroundImage",`url('${P.F.server+this.profile.picture}')`)},s=>{i||P.F.loading("profile",!0)})}getSettings(){P.F.loading("settings"),this.data.apiGetService("user/settings").subscribe(i=>{P.F.loading("settings",!0),P.F.settings=i,this.data.changeMessage("fetch-settings")},i=>{P.F.loading("settings",!0)})}login(){this.data.redirect("login")}logout(){this.data.logOut()}getRates(){P.F.loading("rates"),this.data.apiGetService("rates").subscribe(i=>{P.F.loading("rates",!0),$("#coins").off("change").empty(),this.coins=[];var s=Object.keys(i.result);let u=0;s.forEach(f=>{const g=i.result[f];g.coin_id=f,"USD"!=f?"online"===g.status&&-1!==g.capabilities.indexOf("payments")&&(this.coins.push(g),$("#coins").append(`<option value="${u}" data-template="<img style='height:20px;margin-left:5px;' src='${g.image}'> $1">${g.name}</option>`),u++):this.btcUsdPrice=1/g.rate_btc}),Metro.getPlugin("#coins","select").reset(),$("#lima-to-buy").on("keyup",()=>{$("#coins").trigger("change")}),$("#coins").on("change",()=>{const f=Metro.getPlugin("#coins","select");this.currentSelectedCoin=this.coins[f.val()];const d=1/(this.currentSelectedCoin.rate_btc*this.btcUsdPrice),p=$("#lima-to-buy").val();this.currentCoinPrice=p*d,$("#coin-value").html(this.currentCoinPrice)}),$("#coins").trigger("change")},i=>{P.F.loading("rates",!0)})}buyCoins(){const i=$("#lima-to-buy").val();if(""==i.trim()||!this.currentSelectedCoin.hasOwnProperty("name"))return P.F.invalidForm("#wallet-dialog"),void P.F.fire("Please enter coin quantity",!0);const u={coin:btoa(JSON.stringify({name:this.currentSelectedCoin.name,icon:this.currentSelectedCoin.image,coin_id:this.currentSelectedCoin.coin_id})),amount:i};P.F.loading("transaction"),Metro.dialog.close("#wallet-dialog"),this.data.apiService("transaction",u).subscribe(l=>{if(P.F.loading("transaction",!0),l.status||"pending"!==l.message)l.status?(this.storePendingDetails(l.results),this.startPendingCheck(),Metro.dialog.open("#pending-dialog")):P.F.fire(l.message,!0);else{this.storePendingDetails(l.results);const f=this;Metro.dialog.create({title:"Pending Transaction",content:"You already have a ongoing transaction",clsDialog:"alert",actions:[{caption:"Cancel Pending Transaction",cls:"js-dialog-close warning",onclick:function(){f.cancelPendingTransactions()}},{caption:"View Details",cls:"js-dialog-close success",onclick:function(){Metro.dialog.open("#pending-dialog")}},{caption:"Close",cls:"js-dialog-close alert",onclick:function(){}}]})}},l=>{P.F.loading("transaction",!0),P.F.fire("Internal Error",!0)})}startPendingCheck(){clearInterval(P.F.checkPendingIntervalId),null!=this.profile.pending&&setTimeout(()=>{P.F.checkPendingIntervalId=setInterval(()=>{null!=this.profile.pending?this.data.apiGetService(`check-auto-transactions/${this.profile.pending}`).subscribe(i=>{"credited"===i.status&&(clearInterval(P.F.checkPendingIntervalId),this.storePendingDetails(i.results),this.data.changeMessage("get-profile"))},i=>{clearInterval(P.F.checkPendingIntervalId)}):clearInterval(P.F.checkPendingIntervalId)},2e4)},12e4)}storePendingDetails(i){const s=JSON.parse(atob(i.coin_name));this.pendingTransaction.status=i.status,this.pendingTransaction.coin_status=i.coin_status,this.pendingTransaction.qrcode=i.qrcode,this.pendingTransaction.amount=i.amount,this.pendingTransaction.coin_amount=i.coin_amount,this.pendingTransaction.pay_address=i.pay_address,this.pendingTransaction.name=s.name,this.pendingTransaction.icon=s.icon,this.pendingTransaction.coin_id=s.coin_id,this.profile.pending=i.order_id,"credited"===this.pendingTransaction.status&&(this.profile.pending=null)}cancelPendingTransactions(){P.F.loading("cancel-pending"),this.data.apiGetService("cancel-pending-transactions").subscribe(i=>{P.F.loading("cancel-pending",!0),P.F.fire(i.message,!i.status),i.status&&(this.data.changeMessage("get-profile"),this.data.changeMessage("cancel-pending-done"))},i=>{P.F.loading("cancel-pending",!0),P.F.fire("Internal Error",!0)})}checkPendingStatus(){P.F.loading("check-pending"),this.data.apiGetService("check-pending-transactions").subscribe(i=>{P.F.loading("check-pending",!0),i.status&&("credited"===i.results.status&&this.data.changeMessage("get-profile"),this.storePendingDetails(i.results)),P.F.fire(i.message,!i.status)},i=>{P.F.loading("check-pending",!0),P.F.fire("Internal Error",!0)})}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(P.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard"]],decls:105,vars:20,consts:[["id","inbox","data-role","panel","data-width","280","data-title-caption","Inbox","data-title-icon","<span class='mif-envelop'></span>","data-collapsible","true","data-cls-panel","shadow-3","data-cls-title","bg-darkTeal fg-white","data-cls-title-icon","fg-white","data-cls-collapse-toggle","bg-gray fg-white marker-dark",1,"w-75","z-inbox","d-none","pos-absolute",3,"collapse"],[1,"items-list",2,"max-height","480px","overflow","auto"],["class","item h-auto","style","min-height: 90px;",4,"ngFor","ngForOf"],["class","item",4,"ngIf"],["routerLink","inbox",1,"button","small","light",2,"text-decoration","none","position","sticky","bottom","5px"],["id","alerts","data-role","panel","data-width","280","data-title-caption","Notifications","data-title-icon","<span class='mif-bell'></span>","data-collapsible","true","data-cls-panel","shadow-3","data-cls-title","bg-darkTeal fg-white","data-cls-title-icon","fg-white","data-cls-collapse-toggle","bg-gray fg-white marker-dark",1,"w-75","z-inbox","d-none","pos-absolute",3,"collapse"],[1,"items-list",2,"max-height","370px","overflow","auto"],["class","item h-auto","style","min-height: 90px;",3,"class",4,"ngFor","ngForOf"],["routerLink","alerts",1,"button","small","light",2,"text-decoration","none","position","sticky","bottom","5px"],["data-role","appbar","data-expand-point","md",1,"d-flex",2,"background","#babfc1"],["href","#",1,"brand","no-hover"],["src","assets/logo.jpg",1,"img-fluid",2,"height","50px"],[1,"fg-light",2,"font-weight","200"],["id","main-menu","data-app-bar","false","data-role","materialtabs",1,"bg-transparent","fg-light"],["routerLink","map"],["href","#map"],["routerLink","upload",4,"ngIf"],["routerLink","standard",4,"ngIf"],["routerLink","management",4,"ngIf"],[1,"app-bar-container","ml-auto"],[1,"app-bar-container","bg-grayBlue","fg-light",2,"z-index","100000","position","fixed","top","0","right","0"],[1,"app-bar-item","c-pointer",3,"click"],[1,"ml-2","app-bar-name"],["class","app-bar-container bg-grayBlue fg-light","style","z-index: 100000;position: fixed;top: 0; right: 0",4,"ngIf"],["id","wallet-dialog","data-role","dialog",1,"dialog","fg-amber","border-none",2,"background","rgba(0,0,0,0.8)"],[1,"dialog-title"],[1,"dialog-content"],[1,"skills","p-3"],["data-role","input","type","number","id","lima-to-buy","value","1"],["for","coins"],["id","coins","data-role","select"],[1,"d-block"],["id","coin-value"],[1,"dialog-actions"],[1,"button","js-dialog-close","alert"],[1,"image-button","dark",3,"click"],["src","assets/coin.png",1,"icon"],[1,"caption"],["id","pending-dialog","data-role","dialog",1,"dialog","fg-amber","border-none",2,"background","rgba(0,0,0,0.8)","min-width","550px"],[1,"items-list"],[1,"item"],[1,"avatar",3,"src"],[1,"label"],[1,"second-label"],["src","assets/coin.png",1,"avatar"],[1,"avatar","mif-dollars"],[1,"avatar","mif-dollar"],["class","avatar mif-hour-glass",4,"ngIf"],["class","avatar mif-done_all",4,"ngIf"],[1,"label","text-cap"],[1,"item",2,"height","290px"],[3,"src"],["class","button warning",3,"click",4,"ngIf"],["class","button alert js-dialog-close",3,"click",4,"ngIf"],["target","_blank",1,"image-button","dark",3,"href"],[1,"item","h-auto",2,"min-height","90px"],[1,"avatar"],[1,"icon","mif-envelop"],[1,"second-label",3,"innerHTML"],[1,"second-action",2,"width","60px","font-size","10px","height","50px","background","white"],["routerLink","upload"],["href","#upload"],["routerLink","standard"],["href","#standard"],["routerLink","management"],["href","#management"],["href","#",1,"app-bar-item"],["data-role","collapse","data-collapsed","true",1,"social-box","shadow-1",2,"position","absolute","top","52px","right","0","width","320px"],[1,"header","bg-darkTeal","fg-white"],["id","dp",1,"avatar",2,"background-repeat","no-repeat","background-position","center","height","90px","background-image","url('assets/logo.jpg')"],[1,"title"],[1,"subtitle"],[1,"d-flex","flex-column","flex-align-center","flex-justify-center"],["data-role","button",1,"image-button","light","w-100","mt-8",3,"click"],[1,"icon","mif-exit"],[1,"avatar","mif-hour-glass"],[1,"avatar","mif-done_all"],[1,"button","warning",3,"click"],[1,"button","alert","js-dialog-close",3,"click"]],template:function(i,s){1&i&&(h.TgZ(0,"div",0),h.NdJ("collapse",function(){return s.$("#inbox").parent().addClass("d-none"),s.$("#inbox").parent().find(".dropdown-toggle").click()}),h.TgZ(1,"div",1),h.YNc(2,nt,8,3,"div",2),h.YNc(3,H,3,0,"div",3),h.TgZ(4,"a",4),h._uU(5,"View All"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",5),h.NdJ("collapse",function(){return s.$("#alerts").parent().addClass("d-none"),s.$("#alerts").parent().find(".dropdown-toggle").click()}),h.TgZ(7,"div",6),h.YNc(8,It,9,15,"div",7),h.YNc(9,At,3,0,"div",3),h.TgZ(10,"a",8),h._uU(11,"View All"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(12,"div",9),h.TgZ(13,"a",10),h._UZ(14,"img",11),h.TgZ(15,"h3",12),h._uU(16,"EARTHIFY"),h.qZA(),h.qZA(),h.TgZ(17,"ul",13),h.TgZ(18,"li",14),h.TgZ(19,"a",15),h._uU(20,"Map"),h.qZA(),h.qZA(),h.YNc(21,xt,3,0,"li",16),h.YNc(22,mt,3,0,"li",17),h.YNc(23,bt,3,0,"li",18),h.qZA(),h.TgZ(24,"div",19),h.TgZ(25,"div",20),h.TgZ(26,"a",21),h.NdJ("click",function(){return s.login()}),h.TgZ(27,"span",22),h._uU(28,"Log Out"),h.qZA(),h.qZA(),h.qZA(),h.YNc(29,qt,14,2,"div",23),h.qZA(),h.qZA(),h.TgZ(30,"div",24),h.TgZ(31,"div",25),h._uU(32,"Buy Earthify Coin"),h.qZA(),h.TgZ(33,"div",26),h.TgZ(34,"div",27),h.TgZ(35,"label"),h._uU(36,"Quantity"),h.qZA(),h._UZ(37,"input",28),h.TgZ(38,"label",29),h._uU(39,"Coins"),h.qZA(),h._UZ(40,"select",30),h.TgZ(41,"span",31),h._uU(42,"Coin converted value"),h.qZA(),h._UZ(43,"span",32),h.qZA(),h.qZA(),h.TgZ(44,"div",33),h.TgZ(45,"button",34),h._uU(46,"Close"),h.qZA(),h.TgZ(47,"button",35),h.NdJ("click",function(){return s.buyCoins()}),h._UZ(48,"img",36),h.TgZ(49,"span",37),h._uU(50,"Pay via "),h.TgZ(51,"b"),h._uU(52,"Coinpayments"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(53,"div",38),h.TgZ(54,"div",25),h._uU(55,"Pending Transaction"),h.qZA(),h.TgZ(56,"div",26),h.TgZ(57,"div",39),h.TgZ(58,"div",40),h._UZ(59,"img",41),h.TgZ(60,"span",42),h._uU(61),h.qZA(),h.TgZ(62,"span",43),h._uU(63,"Coin"),h.qZA(),h.qZA(),h.TgZ(64,"div",40),h._UZ(65,"img",44),h.TgZ(66,"span",42),h._uU(67),h.qZA(),h.TgZ(68,"span",43),h._uU(69,"Address to pay"),h.qZA(),h.qZA(),h.TgZ(70,"div",40),h._UZ(71,"span",45),h.TgZ(72,"span",42),h._uU(73),h.qZA(),h.TgZ(74,"span",43),h._uU(75,"Amount to pay"),h.qZA(),h.qZA(),h.TgZ(76,"div",40),h._UZ(77,"span",46),h.TgZ(78,"span",42),h._uU(79),h.qZA(),h.TgZ(80,"span",43),h._uU(81,"Lima Coins"),h.qZA(),h.qZA(),h.TgZ(82,"div",40),h.YNc(83,et,1,0,"span",47),h.YNc(84,pt,1,0,"span",48),h.TgZ(85,"span",49),h._uU(86),h.qZA(),h.TgZ(87,"span",43),h._uU(88,"Status"),h.qZA(),h.qZA(),h.TgZ(89,"div",50),h._UZ(90,"img",44),h.TgZ(91,"span",42),h._UZ(92,"img",51),h.qZA(),h.TgZ(93,"span",43),h._uU(94,"QR"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(95,"div",33),h.TgZ(96,"button",34),h._uU(97,"Close"),h.qZA(),h.YNc(98,b,2,0,"button",52),h.YNc(99,S,2,0,"button",53),h.TgZ(100,"a",54),h._UZ(101,"img",36),h.TgZ(102,"span",37),h._uU(103,"View Live Details"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h._UZ(104,"router-outlet")),2&i&&(h.xp6(2),h.Q6J("ngForOf",s.inbox),h.xp6(1),h.Q6J("ngIf",0==s.inbox.length),h.xp6(5),h.Q6J("ngForOf",s.alerts),h.xp6(1),h.Q6J("ngIf",0==s.alerts.length),h.xp6(12),h.Q6J("ngIf","upload"==s.currentRoute||"management"==s.currentRoute),h.xp6(1),h.Q6J("ngIf","standard"==s.currentRoute||"management"==s.currentRoute),h.xp6(1),h.Q6J("ngIf","management"==s.currentRoute||"management"==s.currentRoute),h.xp6(6),h.Q6J("ngIf",-1!=s.profile.id),h.xp6(30),h.Q6J("src",s.pendingTransaction.icon,h.LSH),h.xp6(2),h.Oqu(s.pendingTransaction.name),h.xp6(6),h.Oqu(s.pendingTransaction.pay_address),h.xp6(6),h.Oqu(s.pendingTransaction.coin_amount),h.xp6(6),h.Oqu(s.pendingTransaction.amount),h.xp6(4),h.Q6J("ngIf","pending"==s.pendingTransaction.status),h.xp6(1),h.Q6J("ngIf","credited"==s.pendingTransaction.status),h.xp6(2),h.Oqu(s.pendingTransaction.status),h.xp6(6),h.Q6J("src",s.pendingTransaction.qrcode,h.LSH),h.xp6(6),h.Q6J("ngIf",null!=s.profile.pending),h.xp6(1),h.Q6J("ngIf",null!=s.profile.pending),h.xp6(1),h.Q6J("href",s.pendingTransaction.coin_status,h.LSH))},directives:[q.sg,q.O5,Q.yS,Q.rH,Q.lC],styles:[""]}),n})();var U=K(1841);function it(n,r,i){void 0===i&&(i={});var s={type:"Feature"};return(0===i.id||i.id)&&(s.id=i.id),i.bbox&&(s.bbox=i.bbox),s.properties=r||{},s.geometry=n,s}function W(n,r,i){if(void 0===i&&(i={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!mn(n[0])||!mn(n[1]))throw new Error("coordinates must contain numbers");return it({type:"Point",coordinates:n},r,i)}function Ot(n,r,i){void 0===i&&(i={});for(var s=0,u=n;s<u.length;s++){var l=u[s];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<l[l.length-1].length;f++)if(l[l.length-1][f]!==l[0][f])throw new Error("First and last Position are not equivalent.")}return it({type:"Polygon",coordinates:n},r,i)}function X(n,r){void 0===r&&(r={});var i={type:"FeatureCollection"};return r.id&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.features=n,i}function mn(n){return!isNaN(n)&&null!==n&&!Array.isArray(n)}function dn(n,r,i){if(null!==n)for(var s,u,l,f,g,d,p,_,m=0,v=0,E=n.type,Y="FeatureCollection"===E,k="Feature"===E,ot=Y?n.features.length:1,j=0;j<ot;j++){g=(_=!!(p=Y?n.features[j].geometry:k?n.geometry:n)&&"GeometryCollection"===p.type)?p.geometries.length:1;for(var F=0;F<g;F++){var z=0,gt=0;if(null!==(f=_?p.geometries[F]:p)){d=f.coordinates;var ht=f.type;switch(m=!i||"Polygon"!==ht&&"MultiPolygon"!==ht?0:1,ht){case null:break;case"Point":if(!1===r(d,v,j,z,gt))return!1;v++,z++;break;case"LineString":case"MultiPoint":for(s=0;s<d.length;s++){if(!1===r(d[s],v,j,z,gt))return!1;v++,"MultiPoint"===ht&&z++}"LineString"===ht&&z++;break;case"Polygon":case"MultiLineString":for(s=0;s<d.length;s++){for(u=0;u<d[s].length-m;u++){if(!1===r(d[s][u],v,j,z,gt))return!1;v++}"MultiLineString"===ht&&z++,"Polygon"===ht&&gt++}"Polygon"===ht&&z++;break;case"MultiPolygon":for(s=0;s<d.length;s++){for(gt=0,u=0;u<d[s].length;u++){for(l=0;l<d[s][u].length-m;l++){if(!1===r(d[s][u][l],v,j,z,gt))return!1;v++}gt++}z++}break;case"GeometryCollection":for(s=0;s<f.geometries.length;s++)if(!1===dn(f.geometries[s],r,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ft(n,r){!function(n,r){var i,s,u,l,f,g,d,p,m,v,_=0,E="FeatureCollection"===n.type,Y="Feature"===n.type,k=E?n.features.length:1;for(i=0;i<k;i++){for(p=E?n.features[i].properties:Y?n.properties:{},m=E?n.features[i].bbox:Y?n.bbox:void 0,v=E?n.features[i].id:Y?n.id:void 0,f=(d=!!(g=E?n.features[i].geometry:Y?n.geometry:n)&&"GeometryCollection"===g.type)?g.geometries.length:1,u=0;u<f;u++)if(null!==(l=d?g.geometries[u]:g))switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(l,_,p,m,v))return!1;break;case"GeometryCollection":for(s=0;s<l.geometries.length;s++)if(!1===r(l.geometries[s],_,p,m,v))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,_,p,m,v))return!1;_++}}(n,function(i,s,u,l,f){var d,g=null===i?null:i.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return!1!==r(it(i,u,{bbox:l,id:f}),s,0)&&void 0}switch(g){case"MultiPoint":d="Point";break;case"MultiLineString":d="LineString";break;case"MultiPolygon":d="Polygon"}for(var p=0;p<i.coordinates.length;p++)if(!1===r(it({type:d,coordinates:i.coordinates[p]},u),s,p))return!1})}function be(n){var r=[1/0,1/0,-1/0,-1/0];return dn(n,function(i){r[0]>i[0]&&(r[0]=i[0]),r[1]>i[1]&&(r[1]=i[1]),r[2]<i[0]&&(r[2]=i[0]),r[3]<i[1]&&(r[3]=i[1])}),r}be.default=be;const yn=be;function Nr(n,r,i){if(void 0===i&&(i={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var s=function(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if("Feature"===n.type&&null!==n.geometry&&"Point"===n.geometry.type)return n.geometry.coordinates;if("Point"===n.type)return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(n),u=function(n){return"Feature"===n.type?n.geometry:n}(r),l=u.type,f=r.bbox,g=u.coordinates;if(f&&!1===function(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}(s,f))return!1;"Polygon"===l&&(g=[g]);for(var d=!1,p=0;p<g.length&&!d;p++)if(Jo(s,g[p][0],i.ignoreBoundary)){for(var m=!1,v=1;v<g[p].length&&!m;)Jo(s,g[p][v],!i.ignoreBoundary)&&(m=!0),v++;m||(d=!0)}return d}function Jo(n,r,i){var s=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var u=0,l=r.length-1;u<r.length;l=u++){var f=r[u][0],g=r[u][1],d=r[l][0],p=r[l][1];if(n[1]*(f-d)+g*(d-n[0])+p*(n[0]-f)==0&&(f-n[0])*(d-n[0])<=0&&(g-n[1])*(p-n[1])<=0)return!i;g>n[1]!=p>n[1]&&n[0]<(d-f)*(n[1]-g)/(p-g)+f&&(s=!s)}return s}K(8228),K(6896);var _n=new ArrayBuffer(16);new Float64Array(_n),new Uint32Array(_n),K(5454),function(){function n(r){this.points=r.points||[],this.duration=r.duration||1e4,this.sharpness=r.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=r.stepLength||60,this.length=this.points.length,this.delay=0;for(var i=0;i<this.length;i++)this.points[i].z=this.points[i].z||0;for(i=0;i<this.length-1;i++){var s=this.points[i],u=this.points[i+1];this.centers.push({x:(s.x+u.x)/2,y:(s.y+u.y)/2,z:(s.z+u.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),i=0;i<this.centers.length-1;i++){var l=this.points[i+1].x-(this.centers[i].x+this.centers[i+1].x)/2,f=this.points[i+1].y-(this.centers[i].y+this.centers[i+1].y)/2,g=this.points[i+1].z-(this.centers[i].y+this.centers[i+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[i+1].x+this.sharpness*(this.centers[i].x+l),y:(1-this.sharpness)*this.points[i+1].y+this.sharpness*(this.centers[i].y+f),z:(1-this.sharpness)*this.points[i+1].z+this.sharpness*(this.centers[i].z+g)},{x:(1-this.sharpness)*this.points[i+1].x+this.sharpness*(this.centers[i+1].x+l),y:(1-this.sharpness)*this.points[i+1].y+this.sharpness*(this.centers[i+1].y+f),z:(1-this.sharpness)*this.points[i+1].z+this.sharpness*(this.centers[i+1].z+g)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}n.prototype.cacheSteps=function(r){var i=[],s=this.pos(0);i.push(0);for(var u=0;u<this.duration;u+=10){var l=this.pos(u);Math.sqrt((l.x-s.x)*(l.x-s.x)+(l.y-s.y)*(l.y-s.y)+(l.z-s.z)*(l.z-s.z))>r&&(i.push(u),s=l)}return i},n.prototype.vector=function(r){var i=this.pos(r+10),s=this.pos(r-10);return{angle:180*Math.atan2(i.y-s.y,i.x-s.x)/3.14,speed:Math.sqrt((s.x-i.x)*(s.x-i.x)+(s.y-i.y)*(s.y-i.y)+(s.z-i.z)*(s.z-i.z))}},n.prototype.pos=function(r){var i=r-this.delay;i<0&&(i=0),i>this.duration&&(i=this.duration-1);var s=i/this.duration;if(s>=1)return this.points[this.length-1];var u=Math.floor((this.points.length-1)*s);return function(n,r,i,s,u){var l=function(n){var r=n*n;return[r*n,3*r*(1-n),3*n*(1-n)*(1-n),(1-n)*(1-n)*(1-n)]}(n);return{x:u.x*l[0]+s.x*l[1]+i.x*l[2]+r.x*l[3],y:u.y*l[0]+s.y*l[1]+i.y*l[2]+r.y*l[3],z:u.z*l[0]+s.z*l[1]+i.z*l[2]+r.z*l[3]}}((this.length-1)*s-u,this.points[u],this.controls[u][1],this.controls[u+1][0],this.points[u+1])}}();const ms=function(n,r){void 0===r&&(r={});var i=yn(n);return W([(i[0]+i[2])/2,(i[1]+i[3])/2],r.properties,r)};K(1604),K(2689),K(8309);var Ia=Math.PI/180,li=180/Math.PI,Go=function(n,r){this.lon=n,this.lat=r,this.x=Ia*n,this.y=Ia*r};Go.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Go.prototype.antipode=function(){return new Go(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var Zo=function(){this.coords=[],this.length=0};Zo.prototype.move_to=function(n){this.length++,this.coords.push(n)};var $s=function(n){this.properties=n||{},this.geometries=[]};$s.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var n=[],r=0;r<this.geometries.length;r++)n.push(this.geometries[r].coords);return{geometry:{type:"MultiLineString",coordinates:n},type:"Feature",properties:this.properties}},$s.prototype.wkt=function(){for(var n="",r="LINESTRING(",i=function(l){r+=l[0]+" "+l[1]+","},s=0;s<this.geometries.length;s++){if(0===this.geometries[s].coords.length)return"LINESTRING(empty)";this.geometries[s].coords.forEach(i),n+=r.substring(0,r.length-1)+")"}return n};var Hs=function(n,r,i){if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!r||void 0===r.x||void 0===r.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Go(n.x,n.y),this.end=new Go(r.x,r.y),this.properties=i||{};var s=this.start.x-this.end.x,l=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(s/2),2);if(this.g=2*Math.asin(Math.sqrt(l)),this.g===Math.PI)throw new Error("it appears "+n.view()+" and "+r.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+r)};Hs.prototype.interpolate=function(n){var r=Math.sin((1-n)*this.g)/Math.sin(this.g),i=Math.sin(n*this.g)/Math.sin(this.g),s=r*Math.cos(this.start.y)*Math.cos(this.start.x)+i*Math.cos(this.end.y)*Math.cos(this.end.x),u=r*Math.cos(this.start.y)*Math.sin(this.start.x)+i*Math.cos(this.end.y)*Math.sin(this.end.x),l=r*Math.sin(this.start.y)+i*Math.sin(this.end.y),f=li*Math.atan2(l,Math.sqrt(Math.pow(s,2)+Math.pow(u,2)));return[li*Math.atan2(u,s),f]},Hs.prototype.Arc=function(n,r){var i=[];if(!n||n<=2)i.push([this.start.lon,this.start.lat]),i.push([this.end.lon,this.end.lat]);else for(var s=1/(n-1),u=0;u<n;++u){var f=this.interpolate(s*u);i.push(f)}for(var g=!1,d=0,p=r&&r.offset?r.offset:10,m=180-p,v=-180+p,_=360-p,E=1;E<i.length;++E){var Y=i[E-1][0],k=i[E][0],ot=Math.abs(k-Y);ot>_&&(k>m&&Y<v||Y>m&&k<v)?g=!0:ot>d&&(d=ot)}var j=[];if(g&&d<p){var F=[];j.push(F);for(var z=0;z<i.length;++z){var gt=parseFloat(i[z][0]);if(z>0&&Math.abs(gt-i[z-1][0])>_){var ht=parseFloat(i[z-1][0]),_t=parseFloat(i[z-1][1]),vt=parseFloat(i[z][0]),St=parseFloat(i[z][1]);if(ht>-180&&ht<v&&180===vt&&z+1<i.length&&i[z-1][0]>-180&&i[z-1][0]<v){F.push([-180,i[z][1]]),z++,F.push([i[z][0],i[z][1]]);continue}if(ht>m&&ht<180&&-180===vt&&z+1<i.length&&i[z-1][0]>m&&i[z-1][0]<180){F.push([180,i[z][1]]),z++,F.push([i[z][0],i[z][1]]);continue}if(ht<v&&vt>m){var tt=ht;ht=vt,vt=tt;var oe=_t;_t=St,St=oe}if(ht>m&&vt<v&&(vt+=360),ht<=180&&vt>=180&&ht<vt){var Ht=(180-ht)/(vt-ht),ge=Ht*St+(1-Ht)*_t;F.push([i[z-1][0]>m?180:-180,ge]),(F=[]).push([i[z-1][0]>m?-180:180,ge]),j.push(F)}else j.push(F=[]);F.push([gt,i[z][1]])}else F.push([i[z][0],i[z][1]])}}else{var me=[];j.push(me);for(var zt=0;zt<i.length;++zt)me.push([i[zt][0],i[zt][1]])}for(var ie=new $s(this.properties),te=0;te<j.length;++te){var sn=new Zo;ie.geometries.push(sn);for(var on=j[te],xe=0;xe<on.length;++xe)sn.move_to(on[xe])}return ie},K(2978);var Ce=[],Ie=[],Se=[],Pe=[],Ne=[],Me=[],Le=[],Te=[],Ae=[],Oe=[],Re=[],De=[],Fe=[],qe=[],ke=[],Be=[],Ge=[],Ze=[],Ue=[],ze=[],Ye=[],Xe=[],Je=[],je=[];Le[85]=Oe[85]=-1,Te[85]=Re[85]=0,Ae[85]=De[85]=1,Ue[85]=Xe[85]=1,ze[85]=Je[85]=0,Ye[85]=je[85]=1,Ce[85]=Pe[85]=0,Ie[85]=Ne[85]=-1,Se[85]=ke[85]=0,Be[85]=Fe[85]=0,Ge[85]=qe[85]=1,Me[85]=Ze[85]=1,Xe[1]=Xe[169]=0,Je[1]=Je[169]=-1,je[1]=je[169]=0,Fe[1]=Fe[169]=-1,qe[1]=qe[169]=0,ke[1]=ke[169]=0,Oe[4]=Oe[166]=0,Re[4]=Re[166]=-1,De[4]=De[166]=1,Be[4]=Be[166]=1,Ge[4]=Ge[166]=0,Ze[4]=Ze[166]=0,Le[16]=Le[154]=0,Te[16]=Te[154]=1,Ae[16]=Ae[154]=1,Pe[16]=Pe[154]=1,Ne[16]=Ne[154]=0,Me[16]=Me[154]=1,Ue[64]=Ue[106]=0,ze[64]=ze[106]=1,Ye[64]=Ye[106]=0,Ce[64]=Ce[106]=-1,Ie[64]=Ie[106]=0,Se[64]=Se[106]=1,Ue[2]=Ue[168]=0,ze[2]=ze[168]=-1,Ye[2]=Ye[168]=1,Xe[2]=Xe[168]=0,Je[2]=Je[168]=-1,je[2]=je[168]=0,Fe[2]=Fe[168]=-1,qe[2]=qe[168]=0,ke[2]=ke[168]=0,Be[2]=Be[168]=-1,Ge[2]=Ge[168]=0,Ze[2]=Ze[168]=1,Le[8]=Le[162]=0,Te[8]=Te[162]=-1,Ae[8]=Ae[162]=0,Oe[8]=Oe[162]=0,Re[8]=Re[162]=-1,De[8]=De[162]=1,Fe[8]=Fe[162]=1,qe[8]=qe[162]=0,ke[8]=ke[162]=1,Be[8]=Be[162]=1,Ge[8]=Ge[162]=0,Ze[8]=Ze[162]=0,Le[32]=Le[138]=0,Te[32]=Te[138]=1,Ae[32]=Ae[138]=1,Oe[32]=Oe[138]=0,Re[32]=Re[138]=1,De[32]=De[138]=0,Ce[32]=Ce[138]=1,Ie[32]=Ie[138]=0,Se[32]=Se[138]=0,Pe[32]=Pe[138]=1,Ne[32]=Ne[138]=0,Me[32]=Me[138]=1,Xe[128]=Xe[42]=0,Je[128]=Je[42]=1,je[128]=je[42]=1,Ue[128]=Ue[42]=0,ze[128]=ze[42]=1,Ye[128]=Ye[42]=0,Ce[128]=Ce[42]=-1,Ie[128]=Ie[42]=0,Se[128]=Se[42]=1,Pe[128]=Pe[42]=-1,Ne[128]=Ne[42]=0,Me[128]=Me[42]=0,Oe[5]=Oe[165]=-1,Re[5]=Re[165]=0,De[5]=De[165]=0,Xe[5]=Xe[165]=1,Je[5]=Je[165]=0,je[5]=je[165]=0,Be[20]=Be[150]=0,Ge[20]=Ge[150]=1,Ze[20]=Ze[150]=1,Pe[20]=Pe[150]=0,Ne[20]=Ne[150]=-1,Me[20]=Me[150]=1,Le[80]=Le[90]=-1,Te[80]=Te[90]=0,Ae[80]=Ae[90]=1,Ue[80]=Ue[90]=1,ze[80]=ze[90]=0,Ye[80]=Ye[90]=1,Fe[65]=Fe[105]=0,qe[65]=qe[105]=1,ke[65]=ke[105]=0,Ce[65]=Ce[105]=0,Ie[65]=Ie[105]=-1,Se[65]=Se[105]=0,Le[160]=Le[10]=-1,Te[160]=Te[10]=0,Ae[160]=Ae[10]=1,Oe[160]=Oe[10]=-1,Re[160]=Re[10]=0,De[160]=De[10]=0,Xe[160]=Xe[10]=1,Je[160]=Je[10]=0,je[160]=je[10]=0,Ue[160]=Ue[10]=1,ze[160]=ze[10]=0,Ye[160]=Ye[10]=1,Be[130]=Be[40]=0,Ge[130]=Ge[40]=1,Ze[130]=Ze[40]=1,Fe[130]=Fe[40]=0,qe[130]=qe[40]=1,ke[130]=ke[40]=0,Ce[130]=Ce[40]=0,Ie[130]=Ie[40]=-1,Se[130]=Se[40]=0,Pe[130]=Pe[40]=0,Ne[130]=Ne[40]=-1,Me[130]=Me[40]=1,Oe[37]=Oe[133]=0,Re[37]=Re[133]=1,De[37]=De[133]=1,Xe[37]=Xe[133]=0,Je[37]=Je[133]=1,je[37]=je[133]=0,Ce[37]=Ce[133]=-1,Ie[37]=Ie[133]=0,Se[37]=Se[133]=0,Pe[37]=Pe[133]=1,Ne[37]=Ne[133]=0,Me[37]=Me[133]=0,Be[148]=Be[22]=-1,Ge[148]=Ge[22]=0,Ze[148]=Ze[22]=0,Xe[148]=Xe[22]=0,Je[148]=Je[22]=-1,je[148]=je[22]=1,Ue[148]=Ue[22]=0,ze[148]=ze[22]=1,Ye[148]=Ye[22]=1,Pe[148]=Pe[22]=-1,Ne[148]=Ne[22]=0,Me[148]=Me[22]=1,Le[82]=Le[88]=0,Te[82]=Te[88]=-1,Ae[82]=Ae[88]=1,Be[82]=Be[88]=1,Ge[82]=Ge[88]=0,Ze[82]=Ze[88]=1,Fe[82]=Fe[88]=-1,qe[82]=qe[88]=0,ke[82]=ke[88]=1,Ue[82]=Ue[88]=0,ze[82]=ze[88]=-1,Ye[82]=Ye[88]=0,Le[73]=Le[97]=0,Te[73]=Te[97]=1,Ae[73]=Ae[97]=0,Oe[73]=Oe[97]=0,Re[73]=Re[97]=-1,De[73]=De[97]=0,Fe[73]=Fe[97]=1,qe[73]=qe[97]=0,ke[73]=ke[97]=0,Ce[73]=Ce[97]=1,Ie[73]=Ie[97]=0,Se[73]=Se[97]=1,Le[145]=Le[25]=0,Te[145]=Te[25]=-1,Ae[145]=Ae[25]=0,Fe[145]=Fe[25]=1,qe[145]=qe[25]=0,ke[145]=ke[25]=1,Xe[145]=Xe[25]=0,Je[145]=Je[25]=1,je[145]=je[25]=1,Pe[145]=Pe[25]=-1,Ne[145]=Ne[25]=0,Me[145]=Me[25]=0,Oe[70]=Oe[100]=0,Re[70]=Re[100]=1,De[70]=De[100]=0,Be[70]=Be[100]=-1,Ge[70]=Ge[100]=0,Ze[70]=Ze[100]=1,Ue[70]=Ue[100]=0,ze[70]=ze[100]=-1,Ye[70]=Ye[100]=1,Ce[70]=Ce[100]=1,Ie[70]=Ie[100]=0,Se[70]=Se[100]=0,Oe[101]=Oe[69]=0,Re[101]=Re[69]=1,De[101]=De[69]=0,Ce[101]=Ce[69]=1,Ie[101]=Ie[69]=0,Se[101]=Se[69]=0,Xe[149]=Xe[21]=0,Je[149]=Je[21]=1,je[149]=je[21]=1,Pe[149]=Pe[21]=-1,Ne[149]=Ne[21]=0,Me[149]=Me[21]=0,Be[86]=Be[84]=-1,Ge[86]=Ge[84]=0,Ze[86]=Ze[84]=1,Ue[86]=Ue[84]=0,ze[86]=ze[84]=-1,Ye[86]=Ye[84]=1,Le[89]=Le[81]=0,Te[89]=Te[81]=-1,Ae[89]=Ae[81]=0,Fe[89]=Fe[81]=1,qe[89]=qe[81]=0,ke[89]=ke[81]=1,Le[96]=Le[74]=0,Te[96]=Te[74]=1,Ae[96]=Ae[74]=0,Oe[96]=Oe[74]=-1,Re[96]=Re[74]=0,De[96]=De[74]=1,Ue[96]=Ue[74]=1,ze[96]=ze[74]=0,Ye[96]=Ye[74]=0,Ce[96]=Ce[74]=1,Ie[96]=Ie[74]=0,Se[96]=Se[74]=1,Le[24]=Le[146]=0,Te[24]=Te[146]=-1,Ae[24]=Ae[146]=1,Be[24]=Be[146]=1,Ge[24]=Ge[146]=0,Ze[24]=Ze[146]=1,Fe[24]=Fe[146]=0,qe[24]=qe[146]=1,ke[24]=ke[146]=1,Pe[24]=Pe[146]=0,Ne[24]=Ne[146]=-1,Me[24]=Me[146]=0,Oe[6]=Oe[164]=-1,Re[6]=Re[164]=0,De[6]=De[164]=1,Be[6]=Be[164]=-1,Ge[6]=Ge[164]=0,Ze[6]=Ze[164]=0,Xe[6]=Xe[164]=0,Je[6]=Je[164]=-1,je[6]=je[164]=1,Ue[6]=Ue[164]=1,ze[6]=ze[164]=0,Ye[6]=Ye[164]=0,Fe[129]=Fe[41]=0,qe[129]=qe[41]=1,ke[129]=ke[41]=1,Xe[129]=Xe[41]=0,Je[129]=Je[41]=1,je[129]=je[41]=0,Ce[129]=Ce[41]=-1,Ie[129]=Ie[41]=0,Se[129]=Se[41]=0,Pe[129]=Pe[41]=0,Ne[129]=Ne[41]=-1,Me[129]=Me[41]=0,Be[66]=Be[104]=0,Ge[66]=Ge[104]=1,Ze[66]=Ze[104]=0,Fe[66]=Fe[104]=-1,qe[66]=qe[104]=0,ke[66]=ke[104]=1,Ue[66]=Ue[104]=0,ze[66]=ze[104]=-1,Ye[66]=Ye[104]=0,Ce[66]=Ce[104]=0,Ie[66]=Ie[104]=-1,Se[66]=Se[104]=1,Le[144]=Le[26]=-1,Te[144]=Te[26]=0,Ae[144]=Ae[26]=0,Xe[144]=Xe[26]=1,Je[144]=Je[26]=0,je[144]=je[26]=1,Ue[144]=Ue[26]=0,ze[144]=ze[26]=1,Ye[144]=Ye[26]=1,Pe[144]=Pe[26]=-1,Ne[144]=Ne[26]=0,Me[144]=Me[26]=1,Oe[36]=Oe[134]=0,Re[36]=Re[134]=1,De[36]=De[134]=1,Be[36]=Be[134]=0,Ge[36]=Ge[134]=1,Ze[36]=Ze[134]=0,Ce[36]=Ce[134]=0,Ie[36]=Ie[134]=-1,Se[36]=Se[134]=1,Pe[36]=Pe[134]=1,Ne[36]=Ne[134]=0,Me[36]=Me[134]=0,Le[9]=Le[161]=-1,Te[9]=Te[161]=0,Ae[9]=Ae[161]=0,Oe[9]=Oe[161]=0,Re[9]=Re[161]=-1,De[9]=De[161]=0,Fe[9]=Fe[161]=1,qe[9]=qe[161]=0,ke[9]=ke[161]=0,Xe[9]=Xe[161]=1,Je[9]=Je[161]=0,je[9]=je[161]=1,Le[136]=0,Te[136]=1,Ae[136]=1,Oe[136]=0,Re[136]=1,De[136]=0,Be[136]=-1,Ge[136]=0,Ze[136]=1,Fe[136]=-1,qe[136]=0,ke[136]=0,Xe[136]=0,Je[136]=-1,je[136]=0,Ue[136]=0,ze[136]=-1,Ye[136]=1,Ce[136]=1,Ie[136]=0,Se[136]=0,Pe[136]=1,Ne[136]=0,Me[136]=1,Le[34]=0,Te[34]=-1,Ae[34]=0,Oe[34]=0,Re[34]=-1,De[34]=1,Be[34]=1,Ge[34]=0,Ze[34]=0,Fe[34]=1,qe[34]=0,ke[34]=1,Xe[34]=0,Je[34]=1,je[34]=1,Ue[34]=0,ze[34]=1,Ye[34]=0,Ce[34]=-1,Ie[34]=0,Se[34]=1,Pe[34]=-1,Ne[34]=0,Me[34]=0,Le[35]=0,Te[35]=1,Ae[35]=1,Oe[35]=0,Re[35]=-1,De[35]=1,Be[35]=1,Ge[35]=0,Ze[35]=0,Fe[35]=-1,qe[35]=0,ke[35]=0,Xe[35]=0,Je[35]=-1,je[35]=0,Ue[35]=0,ze[35]=1,Ye[35]=0,Ce[35]=-1,Ie[35]=0,Se[35]=1,Pe[35]=1,Ne[35]=0,Me[35]=1,Le[153]=0,Te[153]=1,Ae[153]=1,Fe[153]=-1,qe[153]=0,ke[153]=0,Xe[153]=0,Je[153]=-1,je[153]=0,Pe[153]=1,Ne[153]=0,Me[153]=1,Oe[102]=0,Re[102]=-1,De[102]=1,Be[102]=1,Ge[102]=0,Ze[102]=0,Ue[102]=0,ze[102]=1,Ye[102]=0,Ce[102]=-1,Ie[102]=0,Se[102]=1,Le[155]=0,Te[155]=-1,Ae[155]=0,Fe[155]=1,qe[155]=0,ke[155]=1,Xe[155]=0,Je[155]=1,je[155]=1,Pe[155]=-1,Ne[155]=0,Me[155]=0,Oe[103]=0,Re[103]=1,De[103]=0,Be[103]=-1,Ge[103]=0,Ze[103]=1,Ue[103]=0,ze[103]=-1,Ye[103]=1,Ce[103]=1,Ie[103]=0,Se[103]=0,Le[152]=0,Te[152]=1,Ae[152]=1,Be[152]=-1,Ge[152]=0,Ze[152]=1,Fe[152]=-1,qe[152]=0,ke[152]=0,Xe[152]=0,Je[152]=-1,je[152]=0,Ue[152]=0,ze[152]=-1,Ye[152]=1,Pe[152]=1,Ne[152]=0,Me[152]=1,Le[156]=0,Te[156]=-1,Ae[156]=1,Be[156]=1,Ge[156]=0,Ze[156]=1,Fe[156]=-1,qe[156]=0,ke[156]=0,Xe[156]=0,Je[156]=-1,je[156]=0,Ue[156]=0,ze[156]=1,Ye[156]=1,Pe[156]=-1,Ne[156]=0,Me[156]=1,Le[137]=0,Te[137]=1,Ae[137]=1,Oe[137]=0,Re[137]=1,De[137]=0,Fe[137]=-1,qe[137]=0,ke[137]=0,Xe[137]=0,Je[137]=-1,je[137]=0,Ce[137]=1,Ie[137]=0,Se[137]=0,Pe[137]=1,Ne[137]=0,Me[137]=1,Le[139]=0,Te[139]=1,Ae[139]=1,Oe[139]=0,Re[139]=-1,De[139]=0,Fe[139]=1,qe[139]=0,ke[139]=0,Xe[139]=0,Je[139]=1,je[139]=0,Ce[139]=-1,Ie[139]=0,Se[139]=0,Pe[139]=1,Ne[139]=0,Me[139]=1,Le[98]=0,Te[98]=-1,Ae[98]=0,Oe[98]=0,Re[98]=-1,De[98]=1,Be[98]=1,Ge[98]=0,Ze[98]=0,Fe[98]=1,qe[98]=0,ke[98]=1,Ue[98]=0,ze[98]=1,Ye[98]=0,Ce[98]=-1,Ie[98]=0,Se[98]=1,Le[99]=0,Te[99]=1,Ae[99]=0,Oe[99]=0,Re[99]=-1,De[99]=1,Be[99]=1,Ge[99]=0,Ze[99]=0,Fe[99]=-1,qe[99]=0,ke[99]=1,Ue[99]=0,ze[99]=-1,Ye[99]=0,Ce[99]=1,Ie[99]=0,Se[99]=1,Oe[38]=0,Re[38]=-1,De[38]=1,Be[38]=1,Ge[38]=0,Ze[38]=0,Xe[38]=0,Je[38]=1,je[38]=1,Ue[38]=0,ze[38]=1,Ye[38]=0,Ce[38]=-1,Ie[38]=0,Se[38]=1,Pe[38]=-1,Ne[38]=0,Me[38]=0,Oe[39]=0,Re[39]=1,De[39]=1,Be[39]=-1,Ge[39]=0,Ze[39]=0,Xe[39]=0,Je[39]=-1,je[39]=1,Ue[39]=0,ze[39]=1,Ye[39]=0,Ce[39]=-1,Ie[39]=0,Se[39]=1,Pe[39]=1,Ne[39]=0,Me[39]=0;var Eu=function(n){return[[n.bottomleft,0],[0,0],[0,n.leftbottom]]},wu=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0]]},bu=function(n){return[[n.topright,1],[1,1],[1,n.righttop]]},Cu=function(n){return[[0,n.lefttop],[0,1],[n.topleft,1]]},Iu=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop]]},Su=function(n){return[[n.bottomright,0],[n.bottomleft,0],[1,n.righttop],[1,n.rightbottom]]},Pu=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.topleft,1],[n.topright,1]]},Nu=function(n){return[[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Qt=[],Vt=[],re=[],ee=[],he=[],ce=[],$e=[],tn=[];ee[1]=he[1]=18,ee[169]=he[169]=18,re[4]=Vt[4]=12,re[166]=Vt[166]=12,Qt[16]=tn[16]=4,Qt[154]=tn[154]=4,ce[64]=$e[64]=22,ce[106]=$e[106]=22,re[2]=ce[2]=17,ee[2]=he[2]=18,re[168]=ce[168]=17,ee[168]=he[168]=18,Qt[8]=ee[8]=9,Vt[8]=re[8]=12,Qt[162]=ee[162]=9,Vt[162]=re[162]=12,Qt[32]=tn[32]=4,Vt[32]=$e[32]=1,Qt[138]=tn[138]=4,Vt[138]=$e[138]=1,he[128]=tn[128]=21,ce[128]=$e[128]=22,he[42]=tn[42]=21,ce[42]=$e[42]=22,Vt[5]=he[5]=14,Vt[165]=he[165]=14,re[20]=tn[20]=6,re[150]=tn[150]=6,Qt[80]=ce[80]=11,Qt[90]=ce[90]=11,ee[65]=$e[65]=3,ee[105]=$e[105]=3,Qt[160]=ce[160]=11,Vt[160]=he[160]=14,Qt[10]=ce[10]=11,Vt[10]=he[10]=14,re[130]=tn[130]=6,ee[130]=$e[130]=3,re[40]=tn[40]=6,ee[40]=$e[40]=3,Vt[101]=$e[101]=1,Vt[69]=$e[69]=1,he[149]=tn[149]=21,he[21]=tn[21]=21,re[86]=ce[86]=17,re[84]=ce[84]=17,Qt[89]=ee[89]=9,Qt[81]=ee[81]=9,Qt[96]=$e[96]=0,Vt[96]=ce[96]=15,Qt[74]=$e[74]=0,Vt[74]=ce[74]=15,Qt[24]=re[24]=8,ee[24]=tn[24]=7,Qt[146]=re[146]=8,ee[146]=tn[146]=7,Vt[6]=ce[6]=15,re[6]=he[6]=16,Vt[164]=ce[164]=15,re[164]=he[164]=16,ee[129]=tn[129]=7,he[129]=$e[129]=20,ee[41]=tn[41]=7,he[41]=$e[41]=20,re[66]=$e[66]=2,ee[66]=ce[66]=19,re[104]=$e[104]=2,ee[104]=ce[104]=19,Qt[144]=he[144]=10,ce[144]=tn[144]=23,Qt[26]=he[26]=10,ce[26]=tn[26]=23,Vt[36]=tn[36]=5,re[36]=$e[36]=2,Vt[134]=tn[134]=5,re[134]=$e[134]=2,Qt[9]=he[9]=10,Vt[9]=ee[9]=13,Qt[161]=he[161]=10,Vt[161]=ee[161]=13,Vt[37]=tn[37]=5,he[37]=$e[37]=20,Vt[133]=tn[133]=5,he[133]=$e[133]=20,re[148]=he[148]=16,ce[148]=tn[148]=23,re[22]=he[22]=16,ce[22]=tn[22]=23,Qt[82]=re[82]=8,ee[82]=ce[82]=19,Qt[88]=re[88]=8,ee[88]=ce[88]=19,Qt[73]=$e[73]=0,Vt[73]=ee[73]=13,Qt[97]=$e[97]=0,Vt[97]=ee[97]=13,Qt[145]=ee[145]=9,he[145]=tn[145]=21,Qt[25]=ee[25]=9,he[25]=tn[25]=21,Vt[70]=$e[70]=1,re[70]=ce[70]=17,Vt[100]=$e[100]=1,re[100]=ce[100]=17,Qt[34]=ee[34]=9,Vt[34]=re[34]=12,he[34]=tn[34]=21,ce[34]=$e[34]=22,Qt[136]=tn[136]=4,Vt[136]=$e[136]=1,re[136]=ce[136]=17,ee[136]=he[136]=18,Qt[35]=tn[35]=4,Vt[35]=re[35]=12,ee[35]=he[35]=18,ce[35]=$e[35]=22,Qt[153]=tn[153]=4,ee[153]=he[153]=18,Vt[102]=re[102]=12,ce[102]=$e[102]=22,Qt[155]=ee[155]=9,he[155]=tn[155]=23,Vt[103]=$e[103]=1,re[103]=ce[103]=17,Qt[152]=tn[152]=4,re[152]=ce[152]=17,ee[152]=he[152]=18,Qt[156]=re[156]=8,ee[156]=he[156]=18,ce[156]=tn[156]=23,Qt[137]=tn[137]=4,Vt[137]=$e[137]=1,ee[137]=he[137]=18,Qt[139]=tn[139]=4,Vt[139]=ee[139]=13,he[139]=$e[139]=20,Qt[98]=ee[98]=9,Vt[98]=re[98]=12,ce[98]=$e[98]=22,Qt[99]=$e[99]=0,Vt[99]=re[99]=12,ee[99]=ce[99]=19,Vt[38]=re[38]=12,he[38]=tn[38]=21,ce[38]=$e[38]=22,Vt[39]=tn[39]=5,re[39]=he[39]=16,ce[39]=$e[39]=22;var jt=[];function Tu(n,r,i){return function(n){return(n>0)-(n<0)||+n}((r[0]-n[0])*(i[1]-r[1])-(i[0]-r[0])*(r[1]-n[1]))}function Nl(n,r){return r.geometry.coordinates[0].every(function(i){return Nr(W(i),n)})}jt[1]=jt[169]=Eu,jt[4]=jt[166]=wu,jt[16]=jt[154]=bu,jt[64]=jt[106]=Cu,jt[168]=jt[2]=Iu,jt[162]=jt[8]=Su,jt[138]=jt[32]=Pu,jt[42]=jt[128]=Nu,jt[5]=jt[165]=function(n){return[[0,0],[0,n.leftbottom],[1,n.rightbottom],[1,0]]},jt[20]=jt[150]=function(n){return[[1,0],[n.bottomright,0],[n.topright,1],[1,1]]},jt[80]=jt[90]=function(n){return[[1,1],[1,n.righttop],[0,n.lefttop],[0,1]]},jt[65]=jt[105]=function(n){return[[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},jt[160]=jt[10]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.leftbottom],[0,n.lefttop]]},jt[130]=jt[40]=function(n){return[[n.topleft,1],[n.topright,1],[n.bottomright,0],[n.bottomleft,0]]},jt[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},jt[101]=jt[69]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,1],[n.topleft,1]]},jt[149]=jt[21]=function(n){return[[n.topright,1],[1,1],[1,0],[0,0],[0,n.leftbottom]]},jt[86]=jt[84]=function(n){return[[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[1,1]]},jt[89]=jt[81]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,1]]},jt[96]=jt[74]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.lefttop],[0,1],[n.topleft,1]]},jt[24]=jt[146]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[n.topright,1]]},jt[6]=jt[164]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop]]},jt[129]=jt[41]=function(n){return[[n.topright,1],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1]]},jt[66]=jt[104]=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},jt[144]=jt[26]=function(n){return[[1,1],[1,n.righttop],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},jt[36]=jt[134]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[n.topleft,1],[n.topright,1]]},jt[9]=jt[161]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom]]},jt[37]=jt[133]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},jt[148]=jt[22]=function(n){return[[1,1],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},jt[82]=jt[88]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1]]},jt[73]=jt[97]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},jt[145]=jt[25]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},jt[70]=jt[100]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},jt[34]=function(n){return[Nu(n),Su(n)]},jt[35]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},jt[136]=function(n){return[Pu(n),Iu(n)]},jt[153]=function(n){return[bu(n),Eu(n)]},jt[102]=function(n){return[wu(n),Cu(n)]},jt[155]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},jt[103]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},jt[152]=function(n){return[bu(n),Iu(n)]},jt[156]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},jt[137]=function(n){return[Pu(n),Eu(n)]},jt[139]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},jt[98]=function(n){return[Su(n),Cu(n)]},jt[99]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},jt[38]=function(n){return[wu(n),Nu(n)]},jt[39]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]};const Ml=function(){function n(r){this.id=n.buildId(r),this.coordinates=r,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return n.buildId=function(r){return r.join(",")},n.prototype.removeInnerEdge=function(r){this.innerEdges=this.innerEdges.filter(function(i){return i.from.id!==r.from.id})},n.prototype.removeOuterEdge=function(r){this.outerEdges=this.outerEdges.filter(function(i){return i.to.id!==r.to.id})},n.prototype.addOuterEdge=function(r){this.outerEdges.push(r),this.outerEdgesSorted=!1},n.prototype.sortOuterEdges=function(){var r=this;this.outerEdgesSorted||(this.outerEdges.sort(function(i,s){var u=i.to,l=s.to;if(u.coordinates[0]-r.coordinates[0]>=0&&l.coordinates[0]-r.coordinates[0]<0)return 1;if(u.coordinates[0]-r.coordinates[0]<0&&l.coordinates[0]-r.coordinates[0]>=0)return-1;if(u.coordinates[0]-r.coordinates[0]==0&&l.coordinates[0]-r.coordinates[0]==0)return u.coordinates[1]-r.coordinates[1]>=0||l.coordinates[1]-r.coordinates[1]>=0?u.coordinates[1]-l.coordinates[1]:l.coordinates[1]-u.coordinates[1];var f=Tu(r.coordinates,u.coordinates,l.coordinates);return f<0?1:f>0?-1:Math.pow(u.coordinates[0]-r.coordinates[0],2)+Math.pow(u.coordinates[1]-r.coordinates[1],2)-(Math.pow(l.coordinates[0]-r.coordinates[0],2)+Math.pow(l.coordinates[1]-r.coordinates[1],2))}),this.outerEdgesSorted=!0)},n.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},n.prototype.getOuterEdge=function(r){return this.sortOuterEdges(),this.outerEdges[r]},n.prototype.addInnerEdge=function(r){this.innerEdges.push(r)},n}(),Ih=function(){function n(r,i){this.from=r,this.to=i,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return n.prototype.getSymetric=function(){return this.symetric||(this.symetric=new n(this.to,this.from),this.symetric.symetric=this),this.symetric},n.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},n.prototype.isEqual=function(r){return this.from.id===r.from.id&&this.to.id===r.to.id},n.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},n.prototype.toLineString=function(){return function(n,r,i){if(void 0===i&&(i={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return it({type:"LineString",coordinates:n},r,i)}([this.from.coordinates,this.to.coordinates])},n.prototype.compareTo=function(r){return Tu(r.from.coordinates,r.to.coordinates,this.to.coordinates)},n}(),Ph=function(){function n(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return n.prototype.push=function(r){this.edges.push(r),this.polygon=this.envelope=void 0},n.prototype.get=function(r){return this.edges[r]},Object.defineProperty(n.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),n.prototype.forEach=function(r){this.edges.forEach(r)},n.prototype.map=function(r){return this.edges.map(r)},n.prototype.some=function(r){return this.edges.some(r)},n.prototype.isValid=function(){return!0},n.prototype.isHole=function(){var r=this,i=this.edges.reduce(function(f,g,d){return g.from.coordinates[1]>r.edges[f].from.coordinates[1]&&(f=d),f},0),s=(0===i?this.length:i)-1,u=(i+1)%this.length,l=Tu(this.edges[s].from.coordinates,this.edges[i].from.coordinates,this.edges[u].from.coordinates);return 0===l?this.edges[s].from.coordinates[0]>this.edges[u].from.coordinates[0]:l>0},n.prototype.toMultiPoint=function(){return function(n,r,i){return void 0===i&&(i={}),it({type:"MultiPoint",coordinates:n},r,i)}(this.edges.map(function(r){return r.from.coordinates}))},n.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var r=this.edges.map(function(i){return i.from.coordinates});return r.push(this.edges[0].from.coordinates),this.polygon=Ot([r])},n.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function(n){return function(n,r){void 0===r&&(r={});var i=Number(n[0]),s=Number(n[1]),u=Number(n[2]),l=Number(n[3]);if(6===n.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var f=[i,s];return Ot([[f,[u,s],[u,l],[i,l],f]],r.properties,{bbox:n,id:r.id})}(yn(n))}(this.toPolygon())},n.findEdgeRingContaining=function(r,i){var u,l,s=r.getEnvelope();return i.forEach(function(f){var g=f.getEnvelope();if(l&&(u=l.getEnvelope()),!function(n,r){var i=n.geometry.coordinates[0].map(function(f){return f[0]}),s=n.geometry.coordinates[0].map(function(f){return f[1]}),u=r.geometry.coordinates[0].map(function(f){return f[0]}),l=r.geometry.coordinates[0].map(function(f){return f[1]});return Math.max.apply(null,i)===Math.max.apply(null,u)&&Math.max.apply(null,s)===Math.max.apply(null,l)&&Math.min.apply(null,i)===Math.min.apply(null,u)&&Math.min.apply(null,s)===Math.min.apply(null,l)}(g,s)&&Nl(g,s)){for(var d=r.map(function(Y){return Y.from.coordinates}),p=void 0,m=function(Y){f.some(function(k){return function(n,r){return n[0]===r[0]&&n[1]===r[1]}(Y,k.from.coordinates)})||(p=Y)},v=0,_=d;v<_.length;v++)m(_[v]);p&&f.inside(W(p))&&(!l||Nl(u,g))&&(l=f)}}),l},n.prototype.inside=function(r){return Nr(r,this.toPolygon())},n}();function kl(n){for(var r=n,i=[];r.parent;)i.unshift(r),r=r.parent;return i}!function(){function n(){this.edges=[],this.nodes={}}n.fromGeoJson=function(r){!function(n){if(!n)throw new Error("No geojson passed");if("FeatureCollection"!==n.type&&"GeometryCollection"!==n.type&&"MultiLineString"!==n.type&&"LineString"!==n.type&&"Feature"!==n.type)throw new Error("Invalid input type '"+n.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(r);var i=new n;return Ft(r,function(s){(function(n,r,i){if(!n)throw new Error("No feature passed");if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!n.geometry||n.geometry.type!==r)throw new Error("Invalid input to "+i+": must be a "+r+", given "+n.geometry.type)})(s,"LineString","Graph::fromGeoJson"),function(n,r,i,s){var u=i;dn(n,function(l,f,g,d,p){u=0===f?l:r(u,l)},void 0)}(s,function(u,l){if(u){var f=i.getNode(u),g=i.getNode(l);i.addEdge(f,g)}return l})}),i},n.prototype.getNode=function(r){var i=Ml.buildId(r),s=this.nodes[i];return s||(s=this.nodes[i]=new Ml(r)),s},n.prototype.addEdge=function(r,i){var s=new Ih(r,i),u=s.getSymetric();this.edges.push(s),this.edges.push(u)},n.prototype.deleteDangles=function(){var r=this;Object.keys(this.nodes).map(function(i){return r.nodes[i]}).forEach(function(i){return r._removeIfDangle(i)})},n.prototype._removeIfDangle=function(r){var i=this;if(r.innerEdges.length<=1){var s=r.getOuterEdges().map(function(u){return u.to});this.removeNode(r),s.forEach(function(u){return i._removeIfDangle(u)})}},n.prototype.deleteCutEdges=function(){var r=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(i){i.label===i.symetric.label&&(r.removeEdge(i.symetric),r.removeEdge(i))})},n.prototype._computeNextCWEdges=function(r){var i=this;void 0===r?Object.keys(this.nodes).forEach(function(s){return i._computeNextCWEdges(i.nodes[s])}):r.getOuterEdges().forEach(function(s,u){r.getOuterEdge((0===u?r.getOuterEdges().length:u)-1).symetric.next=s})},n.prototype._computeNextCCWEdges=function(r,i){for(var u,l,s=r.getOuterEdges(),f=s.length-1;f>=0;--f){var g=s[f],d=g.symetric,p=void 0,m=void 0;g.label===i&&(p=g),d.label===i&&(m=d),p&&m&&(m&&(l=m),p&&(l&&(l.next=p,l=void 0),u||(u=p)))}l&&(l.next=u)},n.prototype._findLabeledEdgeRings=function(){var r=[],i=0;return this.edges.forEach(function(s){if(!(s.label>=0)){r.push(s);var u=s;do{u.label=i,u=u.next}while(!s.isEqual(u));i++}}),r},n.prototype.getEdgeRings=function(){var r=this;this._computeNextCWEdges(),this.edges.forEach(function(s){s.label=void 0}),this._findLabeledEdgeRings().forEach(function(s){r._findIntersectionNodes(s).forEach(function(u){r._computeNextCCWEdges(u,s.label)})});var i=[];return this.edges.forEach(function(s){s.ring||i.push(r._findEdgeRing(s))}),i},n.prototype._findIntersectionNodes=function(r){var i=[],s=r,u=function(){var l=0;s.from.getOuterEdges().forEach(function(f){f.label===r.label&&++l}),l>1&&i.push(s.from),s=s.next};do{u()}while(!r.isEqual(s));return i},n.prototype._findEdgeRing=function(r){var i=r,s=new Ph;do{s.push(i),i.ring=s,i=i.next}while(!r.isEqual(i));return s},n.prototype.removeNode=function(r){var i=this;r.getOuterEdges().forEach(function(s){return i.removeEdge(s)}),r.innerEdges.forEach(function(s){return i.removeEdge(s)}),delete this.nodes[r.id]},n.prototype.removeEdge=function(r){this.edges=this.edges.filter(function(i){return!i.isEqual(r)}),r.deleteEdge()}}(),K(9331),K(6882),K(3212);var La={search:function(n,r,i,s){n.cleanDirty();var u=(s=s||{}).heuristic||La.heuristics.manhattan,l=s.closest||!1,f=new Bl(function(n){return n.f}),g=r;for(r.h=u(r,i),f.push(r);f.size()>0;){var d=f.pop();if(d===i)return kl(d);d.closed=!0;for(var p=n.neighbors(d),m=0,v=p.length;m<v;++m){var _=p[m];if(!_.closed&&!_.isWall()){var E=d.g+_.getCost(d),Y=_.visited;(!Y||E<_.g)&&(_.visited=!0,_.parent=d,_.h=_.h||u(_,i),_.g=E,_.f=_.g+_.h,n.markDirty(_),l&&(_.h<g.h||_.h===g.h&&_.g<g.g)&&(g=_),Y?f.rescoreElement(_):f.push(_))}}}return l?kl(g):[]},heuristics:{manhattan:function(n,r){return Math.abs(r.x-n.x)+Math.abs(r.y-n.y)},diagonal:function(n,r){var s=Math.sqrt(2),u=Math.abs(r.x-n.x),l=Math.abs(r.y-n.y);return 1*(u+l)+(s-2)*Math.min(u,l)}},cleanNode:function(n){n.f=0,n.g=0,n.h=0,n.visited=!1,n.closed=!1,n.parent=null}};function bs(n,r){r=r||{},this.nodes=[],this.diagonal=!!r.diagonal,this.grid=[];for(var i=0;i<n.length;i++){this.grid[i]=[];for(var s=0,u=n[i];s<u.length;s++){var l=new Ta(i,s,u[s]);this.grid[i][s]=l,this.nodes.push(l)}}this.init()}function Ta(n,r,i){this.x=n,this.y=r,this.weight=i}function Bl(n){this.content=[],this.scoreFunction=n}function Ou(){this._=null}function Aa(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function Ws(n,r){var i=r,s=r.R,u=i.U;u?u.L===i?u.L=s:u.R=s:n._=s,s.U=u,i.U=s,i.R=s.L,i.R&&(i.R.U=i),s.L=i}function Vs(n,r){var i=r,s=r.L,u=i.U;u?u.L===i?u.L=s:u.R=s:n._=s,s.U=u,i.U=s,i.L=s.R,i.L&&(i.L.U=i),s.R=i}function Gl(n){for(;n.L;)n=n.L;return n}bs.prototype.init=function(){this.dirtyNodes=[];for(var n=0;n<this.nodes.length;n++)La.cleanNode(this.nodes[n])},bs.prototype.cleanDirty=function(){for(var n=0;n<this.dirtyNodes.length;n++)La.cleanNode(this.dirtyNodes[n]);this.dirtyNodes=[]},bs.prototype.markDirty=function(n){this.dirtyNodes.push(n)},bs.prototype.neighbors=function(n){var r=[],i=n.x,s=n.y,u=this.grid;return u[i-1]&&u[i-1][s]&&r.push(u[i-1][s]),u[i+1]&&u[i+1][s]&&r.push(u[i+1][s]),u[i]&&u[i][s-1]&&r.push(u[i][s-1]),u[i]&&u[i][s+1]&&r.push(u[i][s+1]),this.diagonal&&(u[i-1]&&u[i-1][s-1]&&r.push(u[i-1][s-1]),u[i+1]&&u[i+1][s-1]&&r.push(u[i+1][s-1]),u[i-1]&&u[i-1][s+1]&&r.push(u[i-1][s+1]),u[i+1]&&u[i+1][s+1]&&r.push(u[i+1][s+1])),r},bs.prototype.toString=function(){for(var i,s,u,l,n=[],r=this.grid,f=0,g=r.length;f<g;f++){for(i=[],u=0,l=(s=r[f]).length;u<l;u++)i.push(s[u].weight);n.push(i.join(" "))}return n.join("\n")},Ta.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Ta.prototype.getCost=function(n){return n&&n.x!==this.x&&n.y!==this.y?1.41421*this.weight:this.weight},Ta.prototype.isWall=function(){return 0===this.weight},Bl.prototype={push:function(n){this.content.push(n),this.sinkDown(this.content.length-1)},pop:function(){var n=this.content[0],r=this.content.pop();return this.content.length>0&&(this.content[0]=r,this.bubbleUp(0)),n},remove:function(n){var r=this.content.indexOf(n),i=this.content.pop();r!==this.content.length-1&&(this.content[r]=i,this.scoreFunction(i)<this.scoreFunction(n)?this.sinkDown(r):this.bubbleUp(r))},size:function(){return this.content.length},rescoreElement:function(n){this.sinkDown(this.content.indexOf(n))},sinkDown:function(n){for(var r=this.content[n];n>0;){var i=(n+1>>1)-1,s=this.content[i];if(!(this.scoreFunction(r)<this.scoreFunction(s)))break;this.content[i]=r,this.content[n]=s,n=i}},bubbleUp:function(n){for(var r=this.content.length,i=this.content[n],s=this.scoreFunction(i);;){var g,u=n+1<<1,l=u-1,f=null;if(l<r&&(g=this.scoreFunction(this.content[l]))<s&&(f=l),u<r&&this.scoreFunction(this.content[u])<(null===f?s:g)&&(f=u),null===f)break;this.content[n]=this.content[f],this.content[f]=i,n=f}}},Ou.prototype={constructor:Ou,insert:function(n,r){var i,s,u;if(n){if(r.P=n,r.N=n.N,n.N&&(n.N.P=r),n.N=r,n.R){for(n=n.R;n.L;)n=n.L;n.L=r}else n.R=r;i=n}else this._?(n=Gl(this._),r.P=null,r.N=n,n.P=n.L=r,i=n):(r.P=r.N=null,this._=r,i=null);for(r.L=r.R=null,r.U=i,r.C=!0,n=r;i&&i.C;)i===(s=i.U).L?(u=s.R)&&u.C?(i.C=u.C=!1,s.C=!0,n=s):(n===i.R&&(Ws(this,i),i=(n=i).U),i.C=!1,s.C=!0,Vs(this,s)):(u=s.L)&&u.C?(i.C=u.C=!1,s.C=!0,n=s):(n===i.L&&(Vs(this,i),i=(n=i).U),i.C=!1,s.C=!0,Ws(this,s)),i=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var i,l,f,r=n.U,s=n.L,u=n.R;if(l=s?u?Gl(u):s:u,r?r.L===n?r.L=l:r.R=l:this._=l,s&&u?(f=l.C,l.C=n.C,l.L=s,s.U=l,l!==u?(r=l.U,l.U=n.U,r.L=n=l.R,l.R=u,u.U=l):(l.U=r,r=l,n=l.R)):(f=n.C,n=l),n&&(n.U=r),!f){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===r.L){if((i=r.R).C&&(i.C=!1,r.C=!0,Ws(this,r),i=r.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,Vs(this,i),i=r.R),i.C=r.C,r.C=i.R.C=!1,Ws(this,r),n=this._;break}}else if((i=r.L).C&&(i.C=!1,r.C=!0,Vs(this,r),i=r.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,Ws(this,i),i=r.L),i.C=r.C,r.C=i.L.C=!1,Vs(this,r),n=this._;break}i.C=!0,n=r,r=r.U}while(!n.C);n&&(n.C=!1)}}};const Zl=Ou;function Qs(n,r,i,s){var u=[null,null],l=zr.push(u)-1;return u.left=n,u.right=r,i&&Oa(u,n,r,i),s&&Oa(u,r,n,s),wi[n.index].halfedges.push(l),wi[r.index].halfedges.push(l),u}function Ks(n,r,i){var s=[r,i];return s.left=n,s}function Oa(n,r,i,s){n[0]||n[1]?n.left===i?n[1]=s:n[0]=s:(n[0]=s,n.left=r,n.right=i)}function Jh(n,r,i,s,u){var k,l=n[0],f=n[1],g=l[0],d=l[1],v=0,_=1,E=f[0]-g,Y=f[1]-d;if(k=r-g,E||!(k>0)){if(k/=E,E<0){if(k<v)return;k<_&&(_=k)}else if(E>0){if(k>_)return;k>v&&(v=k)}if(k=s-g,E||!(k<0)){if(k/=E,E<0){if(k>_)return;k>v&&(v=k)}else if(E>0){if(k<v)return;k<_&&(_=k)}if(k=i-d,Y||!(k>0)){if(k/=Y,Y<0){if(k<v)return;k<_&&(_=k)}else if(Y>0){if(k>_)return;k>v&&(v=k)}if(k=u-d,Y||!(k<0)){if(k/=Y,Y<0){if(k>_)return;k>v&&(v=k)}else if(Y>0){if(k<v)return;k<_&&(_=k)}return!(v>0)&&!(_<1)||(v>0&&(n[0]=[g+v*E,d+v*Y]),_<1&&(n[1]=[g+_*E,d+_*Y])),!0}}}}}function jh(n,r,i,s,u){var l=n[1];if(l)return!0;var k,ot,f=n[0],g=n.left,d=n.right,p=g[0],m=g[1],v=d[0],_=d[1],E=(p+v)/2;if(_===m){if(E<r||E>=s)return;if(p>v){if(f){if(f[1]>=u)return}else f=[E,i];l=[E,u]}else{if(f){if(f[1]<i)return}else f=[E,u];l=[E,i]}}else if(ot=(m+_)/2-(k=(p-v)/(_-m))*E,k<-1||k>1)if(p>v){if(f){if(f[1]>=u)return}else f=[(i-ot)/k,i];l=[(u-ot)/k,u]}else{if(f){if(f[1]<i)return}else f=[(u-ot)/k,u];l=[(i-ot)/k,i]}else if(m<_){if(f){if(f[0]>=s)return}else f=[r,k*r+ot];l=[s,k*s+ot]}else{if(f){if(f[0]<r)return}else f=[s,k*s+ot];l=[r,k*r+ot]}return n[0]=f,n[1]=l,!0}function Wh(n,r){var i=n.site,s=r.left,u=r.right;return i===u&&(u=s,s=i),u?Math.atan2(u[1]-s[1],u[0]-s[0]):(i===s?(s=r[1],u=r[0]):(s=r[0],u=r[1]),Math.atan2(s[0]-u[0],u[1]-s[1]))}function Ul(n,r){return r[+(r.left!==n.site)]}function Vh(n,r){return r[+(r.left===n.site)]}var Ru,zl=[];function tp(){Aa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Cs(n){var r=n.P,i=n.N;if(r&&i){var s=r.site,u=n.site,l=i.site;if(s!==l){var f=u[0],g=u[1],d=s[0]-f,p=s[1]-g,m=l[0]-f,v=l[1]-g,_=2*(d*v-p*m);if(!(_>=-op)){var E=d*d+p*p,Y=m*m+v*v,k=(v*E-p*Y)/_,ot=(d*Y-m*E)/_,j=zl.pop()||new tp;j.arc=n,j.site=u,j.x=k+f,j.y=(j.cy=ot+g)+Math.sqrt(k*k+ot*ot),n.circle=j;for(var F=null,z=ta._;z;)if(j.y<z.y||j.y===z.y&&j.x<=z.x){if(!z.L){F=z.P;break}z=z.L}else{if(!z.R){F=z;break}z=z.R}ta.insert(F,j),F||(Ru=j)}}}}function Is(n){var r=n.circle;r&&(r.P||(Ru=r.N),ta.remove(r),zl.push(r),Aa(r),n.circle=null)}var Yl=[];function ep(){Aa(this),this.edge=this.site=this.circle=null}function Xl(n){var r=Yl.pop()||new ep;return r.site=n,r}function Du(n){Is(n),Ss.remove(n),Yl.push(n),Aa(n)}function np(n){var r=n.circle,i=r.x,s=r.cy,u=[i,s],l=n.P,f=n.N,g=[n];Du(n);for(var d=l;d.circle&&Math.abs(i-d.circle.x)<qn&&Math.abs(s-d.circle.cy)<qn;)l=d.P,g.unshift(d),Du(d),d=l;g.unshift(d),Is(d);for(var p=f;p.circle&&Math.abs(i-p.circle.x)<qn&&Math.abs(s-p.circle.cy)<qn;)f=p.N,g.push(p),Du(p),p=f;g.push(p),Is(p);var v,m=g.length;for(v=1;v<m;++v)Oa((p=g[v]).edge,(d=g[v-1]).site,p.site,u);(p=g[m-1]).edge=Qs((d=g[0]).site,p.site,null,u),Cs(d),Cs(p)}function rp(n){for(var s,u,l,f,r=n[0],i=n[1],g=Ss._;g;)if((l=Jl(g,i)-r)>qn)g=g.L;else{if(!((f=r-ip(g,i))>qn)){l>-qn?(s=g.P,u=g):f>-qn?(s=g,u=g.N):s=u=g;break}if(!g.R){s=g;break}g=g.R}!function(n){wi[n.index]={site:n,halfedges:[]}}(n);var d=Xl(n);if(Ss.insert(s,d),s||u){if(s===u)return Is(s),u=Xl(s.site),Ss.insert(d,u),d.edge=u.edge=Qs(s.site,d.site),Cs(s),void Cs(u);if(!u)return void(d.edge=Qs(s.site,d.site));Is(s),Is(u);var p=s.site,m=p[0],v=p[1],_=n[0]-m,E=n[1]-v,Y=u.site,k=Y[0]-m,ot=Y[1]-v,j=2*(_*ot-E*k),F=_*_+E*E,z=k*k+ot*ot,gt=[(ot*F-E*z)/j+m,(_*z-k*F)/j+v];Oa(u.edge,p,Y,gt),d.edge=Qs(p,n,null,gt),u.edge=Qs(n,Y,null,gt),Cs(s),Cs(u)}}function Jl(n,r){var i=n.site,s=i[0],u=i[1],l=u-r;if(!l)return s;var f=n.P;if(!f)return-1/0;var g=(i=f.site)[0],d=i[1],p=d-r;if(!p)return g;var m=g-s,v=1/l-1/p,_=m/p;return v?(-_+Math.sqrt(_*_-2*v*(m*m/(-2*p)-d+p/2+u-l/2)))/v+s:(s+g)/2}function ip(n,r){var i=n.N;if(i)return Jl(i,r);var s=n.site;return s[1]===r?s[0]:1/0}var Ss,wi,ta,zr,qn=1e-6,op=1e-12;function sp(n,r,i){return(n[0]-i[0])*(r[1]-n[1])-(n[0]-r[0])*(i[1]-n[1])}function ap(n,r){return r[1]-n[1]||r[0]-n[0]}function jl(n,r){var s,u,l,i=n.sort(ap).pop();for(zr=[],wi=new Array(n.length),Ss=new Zl,ta=new Zl;;)if(l=Ru,i&&(!l||i[1]<l.y||i[1]===l.y&&i[0]<l.x))(i[0]!==s||i[1]!==u)&&(rp(i),s=i[0],u=i[1]),i=n.pop();else{if(!l)break;np(l.arc)}if(function(){for(var i,s,u,l,n=0,r=wi.length;n<r;++n)if((i=wi[n])&&(l=(s=i.halfedges).length)){var f=new Array(l),g=new Array(l);for(u=0;u<l;++u)f[u]=u,g[u]=Wh(i,zr[s[u]]);for(f.sort(function(d,p){return g[p]-g[d]}),u=0;u<l;++u)g[u]=s[f[u]];for(u=0;u<l;++u)s[u]=g[u]}}(),r){var f=+r[0][0],g=+r[0][1],d=+r[1][0],p=+r[1][1];(function(n,r,i,s){for(var l,u=zr.length;u--;)jh(l=zr[u],n,r,i,s)&&Jh(l,n,r,i,s)&&(Math.abs(l[0][0]-l[1][0])>qn||Math.abs(l[0][1]-l[1][1])>qn)||delete zr[u]})(f,g,d,p),function(n,r,i,s){var l,f,g,d,p,m,v,_,E,Y,k,ot,u=wi.length,j=!0;for(l=0;l<u;++l)if(f=wi[l]){for(g=f.site,d=(p=f.halfedges).length;d--;)zr[p[d]]||p.splice(d,1);for(d=0,m=p.length;d<m;)k=(Y=Vh(f,zr[p[d]]))[0],ot=Y[1],_=(v=Ul(f,zr[p[++d%m]]))[0],E=v[1],(Math.abs(k-_)>qn||Math.abs(ot-E)>qn)&&(p.splice(d,0,zr.push(Ks(g,Y,Math.abs(k-n)<qn&&s-ot>qn?[n,Math.abs(_-n)<qn?E:s]:Math.abs(ot-s)<qn&&i-k>qn?[Math.abs(E-s)<qn?_:i,s]:Math.abs(k-i)<qn&&ot-r>qn?[i,Math.abs(_-i)<qn?E:r]:Math.abs(ot-r)<qn&&k-n>qn?[Math.abs(E-r)<qn?_:n,r]:null))-1),++m);m&&(j=!1)}if(j){var F,z,gt,ht=1/0;for(l=0,j=null;l<u;++l)(f=wi[l])&&(gt=(F=(g=f.site)[0]-n)*F+(z=g[1]-r)*z)<ht&&(ht=gt,j=f);if(j){var _t=[n,r],vt=[n,s],St=[i,s],tt=[i,r];j.halfedges.push(zr.push(Ks(g=j.site,_t,vt))-1,zr.push(Ks(g,vt,St))-1,zr.push(Ks(g,St,tt))-1,zr.push(Ks(g,tt,_t))-1)}}for(l=0;l<u;++l)(f=wi[l])&&(f.halfedges.length||delete wi[l])}(f,g,d,p)}this.edges=zr,this.cells=wi,Ss=ta=zr=wi=null}function zo(){return new Ra}function Ra(){this.reset()}jl.prototype={constructor:jl,polygons:function(){var n=this.edges;return this.cells.map(function(r){var i=r.halfedges.map(function(s){return Ul(r,n[s])});return i.data=r.site.data,i})},triangles:function(){var n=[],r=this.edges;return this.cells.forEach(function(i,s){if(g=(l=i.halfedges).length)for(var l,g,d,u=i.site,f=-1,p=r[l[g-1]],m=p.left===u?p.right:p.left;++f<g;)d=m,m=(p=r[l[f]]).left===u?p.right:p.left,d&&m&&s<d.index&&s<m.index&&sp(u,d,m)<0&&n.push([u.data,d.data,m.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,r,i){for(var u,g,s=this,l=s._found||0,f=s.cells.length;!(g=s.cells[l]);)if(++l>=f)return null;var d=n-g.site[0],p=r-g.site[1],m=d*d+p*p;do{g=s.cells[u=l],l=null,g.halfedges.forEach(function(v){var _=s.edges[v],E=_.left;if(E!==g.site&&E||(E=_.right)){var Y=n-E[0],k=r-E[1],ot=Y*Y+k*k;ot<m&&(m=ot,l=E.index)}})}while(null!==l);return s._found=u,null==i||m<=i*i?g.site:null}},K(171),K(7299),Ra.prototype={constructor:Ra,reset:function(){this.s=this.t=0},add:function(n){ic(Da,n,this.t),ic(this,Da.s,this.s),this.s?this.t+=Da.t:this.s=Da.t},valueOf:function(){return this.s}};var Da=new Ra;function ic(n,r,i){var s=n.s=r+i,u=s-r;n.t=r-(s-u)+(i-u)}var n,Un=Math.PI,ci=Un/2,Ps=2*Un,Rn=Un/180,ea=(Math,Math.atan),Ns=Math.atan2,an=Math.cos,en=(Math,Math,Math,Math,Math,Math.sin),wo=(Math,Math.sqrt);Math;function Ms(n){return n>1?ci:n<-1?-ci:Math.asin(n)}function Hu(n,r){return[n>Un?n-Ps:n<-Un?n+Ps:n,r]}function Tc(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}zo(),zo(),zo(),Hu.invert=Hu,1===(n=Tc).length&&(n=function(n){return function(r,i){return Tc(n(r),i)}}(n)),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);zo();function gl(){}function rf(n){return function(r,i){var s=an(r),u=an(i),l=n(s*u);return[l*u*en(r),l*en(i)]}}function fa(n){return function(r,i){var s=wo(r*r+i*i),u=n(s),l=en(u),f=an(u);return[Ns(r*l,s*f),Ms(s&&i*l/s)]}}function yl(n,r){return[n,r]}zo(),zo(),zo(),zo(),gl.prototype={constructor:gl,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},an(30*Rn),rf(function(n){return wo(2/(1+n))}).invert=fa(function(n){return 2*Ms(n/2)}),rf(function(n){return(n=function(n){return n>1?0:n<-1?Un:Math.acos(n)}(n))&&n/en(n)}).invert=fa(function(n){return n}),yl.invert=yl,fa(ea),fa(Ms),fa(function(n){return 2*ea(n)});var Og=K(3006);const Rg=function(n){return{"bg-darkGrayBlue":n}};function Dg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"li",38),h.NdJ("click",function(){const l=h.CHM(i).$implicit;return h.oxw().changeBaseMap(l.url)}),h.TgZ(1,"a",39),h._UZ(2,"img",40),h.TgZ(3,"span",41),h._uU(4),h.qZA(),h.qZA(),h.qZA()}if(2&n){const i=r.$implicit,s=h.oxw();h.Tol(h.VKq(4,Rg,i.url==s.currentView)),h.xp6(2),h.MGl("src","assets/",i.icon,".png",h.LSH),h.xp6(2),h.Oqu(i.view)}}function Fg(n,r){if(1&n&&(h.TgZ(0,"div",15),h.TgZ(1,"div",16),h._UZ(2,"span",42),h.qZA(),h.TgZ(3,"span",18),h._uU(4),h.qZA(),h.TgZ(5,"span",19),h._uU(6,"Deed name"),h.qZA(),h.qZA()),2&n){const i=h.oxw();h.xp6(4),h.Oqu(i.bidDetails.sale_text)}}function qg(n,r){if(1&n&&(h.TgZ(0,"li"),h._UZ(1,"span",43),h._uU(2,"Sale For "),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.qZA()),2&n){const i=h.oxw();h.xp6(4),h.hij("L$",i.bidDetails.sale_price,"")}}function kg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"li",26),h.NdJ("click",function(){return h.CHM(i),h.oxw().doBid()}),h._UZ(1,"span",44),h._uU(2,"Bid"),h.qZA()}}function Bg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"li",45),h.NdJ("click",function(){return h.CHM(i),h.oxw().cancelBid()}),h._UZ(1,"span",46),h._uU(2),h.qZA()}if(2&n){const i=h.oxw();h.xp6(2),h.hij("Cancel your Bid of $L",i.currentBidDetails.data.price,"")}}const ml=function(n,r){return{info:n,light:r}};let Gg=(()=>{class n{constructor(i){this.data=i,this.isGridVisible=!0,this.is3D=!1,this.isTerrain=!1,this.deedId="",this.deedAvailableForBid=!1,this.currentGroupCenter={lat:0,lng:0},this.ownProperty=!1,this.allBidIds=[],this.bidDetails={banner_path:"assets/logo.jpg",picture:"assets/logo.jpg",code:"no-flag",country_name:"",first_name:"",last_name:"",price:"0",sale_price:"0",sale_text:"",for_sale:!1,location_name:null},this.currentBidDetails={status:!1,data:null},this.userSaveIds=[],this.tempUserIds=[],this.newGridClick=!1,this.userPointCenters={},this.sideInfoExpand=!1,this.settings={settings:{country_flag_id:null,id:-1,is_allowed_bid_low_price:!1,is_send_email:!1,is_shown_profile_for_activity:!1,map_view:-1,user_id:-1,google2fa_enable:!1,google2fa:!1},mapViews:[{id:1,url:"mapbox://styles/mapbox/streets-v11",view:"Mapbox Streets",icon:"street"},{id:2,url:"mapbox://styles/mapbox/outdoors-v11",view:"Mapbox Outdoors",icon:"outdoors"},{id:3,url:"mapbox://styles/mapbox/light-v10",view:"Mapbox Light",icon:"light"},{id:4,url:"mapbox://styles/mapbox/dark-v10",view:"Mapbox Dark",icon:"dark"},{id:5,url:"mapbox://styles/mapbox/satellite-streets-v11",view:"Mapbox Satellite Streets",icon:"satellite"},{id:6,url:"mapbox://styles/mapbox/navigation-day-v1",view:"Mapbox Navigation Day",icon:"day"},{id:7,url:"mapbox://styles/mapbox/navigation-night-v1",view:"Mapbox Navigation Night",icon:"night"}]},this.currentView="mapbox://styles/mapbox/satellite-streets-v11",this.tileUrl=""}ngOnInit(){setTimeout(()=>{this.initMap()},2e3),this.data.checkLogin()&&-1===P.F.settings.settings.id?this.data.currentMessage.subscribe(i=>{"fetch-settings"===i&&$("#map").length>0&&setTimeout(()=>{this.initMap()},2e3)}):setTimeout(()=>{this.initMap()},2e3)}changeBaseMap(i){this.currentView=i,this.map.setStyle(this.currentView)}setGridVisibility(){"none"==this.map.getLayoutProperty("theme-layer","visibility")?(this.map.setLayoutProperty("theme-layer","visibility","visible"),this.map.setLayoutProperty("theme-count-layer","visibility","visible"),this.isGridVisible=!0):(this.map.setLayoutProperty("theme-layer","visibility","none"),this.map.setLayoutProperty("theme-count-layer","visibility","none"),this.isGridVisible=!1)}set3D(){"none"==this.map.getLayoutProperty("add-3d-buildings","visibility")?(this.map.setLayoutProperty("add-3d-buildings","visibility","visible"),this.is3D=!0):(this.map.setLayoutProperty("add-3d-buildings","visibility","none"),this.is3D=!1)}setTerrain(){null==this.map.getTerrain()?(this.map.setTerrain({source:"mapbox-dem",exaggeration:1.5}),this.isTerrain=!0):(this.map.setTerrain(null),this.isTerrain=!1)}initMap(){this.settings=P.F.settings;let i=this.settings.mapViews.filter(l=>l.id==this.settings.settings.map_view);if(i.length>0&&(this.currentView=i[0].url),this.map=new mapboxgl.Map({container:"map",center:[-93.5653521,37.7931689],zoom:3,accessToken:P.F.accessToken,style:this.currentView,transformRequest:(l,f)=>"Tile"===f&&-1!==l.indexOf("data")||-1!==l.indexOf("counties")?{url:l,headers:{Authorization:"Bearer "+P.F.getCookie("access_token")}}:{url:l}}),this.map.addControl(new MapboxGeocoder({accessToken:P.F.accessToken,mapboxgl}),"top-left"),""===P.F.getCookie("userTiles")||""===P.F.getCookie("userTilesLatLngs"))P.F.setCookie("userTiles",JSON.stringify({data:[]}),1),P.F.setCookie("userTilesLatLngs",JSON.stringify({data:{}}),1);else{var s=JSON.parse(P.F.getCookie("userTiles")),u=JSON.parse(P.F.getCookie("userTilesLatLngs"));s.data.length>0&&Object.keys(u.data).length>0?(this.userSaveIds=s.data,this.userPointCenters=u.data):(P.F.setCookie("userTiles",JSON.stringify({data:[]}),1),P.F.setCookie("userTilesLatLngs",JSON.stringify({data:{}}),1))}this.map.on("style.load",l=>{const g=this.map.getStyle().layers.find(p=>"symbol"===p.type&&p.layout["text-field"]);this.map.addSource("data-source",{type:"vector",tiles:[P.F.server+"data/{z}/{x}/{y}"]}),this.map.addLayer({id:"data-layer",type:"fill",source:"data-source","source-layer":"default",paint:{"fill-color":"red","fill-opacity":.6,"fill-outline-color":"red"}}),this.map.addLayer({id:"data-labels",type:"symbol",source:"data-source","source-layer":"default",layout:{"text-field":["get","col1"],"text-variable-anchor":["top","bottom","left","right"],"text-radial-offset":.5,"text-justify":"auto","text-size":10},paint:{"text-halo-color":"white","text-color":"red","text-halo-width":1},minzoom:10}),this.map.addSource("county-data-source",{type:"vector",tiles:[P.F.server+"counties/{z}/{x}/{y}"]}),this.map.addLayer({id:"theme-layer",type:"fill",source:"county-data-source","source-layer":"default",paint:{"fill-color":["step",["get","count"],"rgba(21, 114, 161, 0.1)",0,"rgba(21, 114, 161, 0.5)",5,"rgba(21, 114, 161, 0.8)",10,"rgba(21, 114, 161, 0.9)"],"fill-opacity":1,"fill-outline-color":"black"},filter:[">=","count",0]}),this.map.addLayer({id:"theme-count-layer",type:"symbol",source:"county-data-source","source-layer":"default",layout:{"text-field":["get","count"],"text-size":11,"text-transform":"uppercase","text-padding":10},paint:{"text-color":"#fff","text-halo-color":"rgba(0,0,0,0.5)","text-halo-width":10},filter:[">=","count",0]});const d=this.is3D?"visible":"none";void 0!==g?this.map.addLayer({id:"add-3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.9},layout:{visibility:d}},g.id):this.map.addLayer({id:"add-3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.9},layout:{visibility:d}}),this.map.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),this.isTerrain&&this.map.setTerrain({source:"mapbox-dem",exaggeration:1.5})})}saveSelections(){P.F.setCookie("userTiles",JSON.stringify({data:this.userSaveIds}),1),P.F.setCookie("userTilesLatLngs",JSON.stringify({data:this.userPointCenters}),1),this.map.setFilter("sub-sub-grid-highlighted",this.buildFilter())}buildFilter(){const i=["in","id"];for(let s=0;s<this.userSaveIds.length;s+=1)i.push(this.userSaveIds[s]);for(let s=0;s<this.tempUserIds.length;s+=1)i.push(this.tempUserIds[s]);return i}buildFilterForBid(){const i=["in","id"];if(0===this.allBidIds.length)return i;for(let s=0;s<this.allBidIds.length;s+=1)i.push(this.allBidIds[s].grid_id);return i}buyLand(){if(!this.data.checkLogin())return void this.data.redirect("login");const i=this;Metro.dialog.create({title:"Please enter this property name",content:'<div id="property-error-div"></div><div class="form-group">\n<input type="text" id="property-name" data-role="materialinput"\n       placeholder="Enter property name"\n       data-icon="<span class=\'mif-info\'>"\n       data-label="Property name"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n></div>',clsDialog:"buy-land-dialog",actions:[{caption:"Buy",cls:"success",onclick:function(){const u=$("#property-name").val();if(u.length<2)return $("#property-error-div").empty().append("Property name must be at least 2 characters"),void P.F.invalidForm("#property-error-div");Metro.dialog.close(".buy-land-dialog"),i.buyLandRequest(u)}},{caption:"No",cls:"js-dialog-close light",onclick:function(){}}]})}buyLandRequest(i){const s=[],u=[];this.userSaveIds.forEach(g=>{const d=it((0,Og.parse)(this.userPointCenters[g]));u.push(d),s.push({id:g,latlng:this.userPointCenters[g]})});const l=ms(X(u)),f_lat=l.geometry.coordinates[1],f_lng=l.geometry.coordinates[0];P.F.loading("location"),this.data.apiGetService(`https://api.mapbox.com/geocoding/v5/mapbox.places/${f_lng},${f_lat}.json?access_token=${P.F.accessToken}&limit=1&types=address`,!0,new U.LE).subscribe(g=>{P.F.loading("location",!0);try{const d={fts:s,center:l.geometry.coordinates.join(","),name:i,location:g.features[0].place_name};P.F.loading("land"),this.data.apiService("buy/land",d).subscribe(p=>{P.F.loading("land",!0),p.hasOwnProperty("status")&&(P.F.fire(p.message,!p.status),p.status&&(this.clearSelection(),this.data.changeMessage("get-profile"),this.tileUrl=`${P.F.server}grids/{z}/{x}/{y}?dt=${Date.now()}&token=`+P.F.getCookie("access_token"),this.map.getSource("grid-source").setTiles([this.tileUrl])))},p=>{P.F.fire("Unable to process. Internal Error",!0),P.F.loading("land",!0)})}catch(d){P.F.loading("land",!0)}},g=>{P.F.loading("location",!0)})}clearSelection(){P.F.setCookie("userTiles",JSON.stringify({data:[]}),1),P.F.setCookie("userTilesLatLngs",JSON.stringify({data:[]}),1),this.userSaveIds=[],this.tempUserIds=[],this.userPointCenters={},this.map.setFilter("sub-sub-grid-highlighted",this.buildFilter())}clearBidSelection(){this.currentGroupCenter={lat:0,lng:0},this.allBidIds=[],this.bidDetails={banner_path:"assets/logo.jpg",picture:"assets/logo.jpg",code:"no-flag",country_name:"",first_name:"",last_name:"",price:"0",sale_price:"0",sale_text:""},this.map.setFilter("grids-for-bid",this.buildFilterForBid()),Metro.bottomsheet.close("#group-view","list")}getPropertInfo(i){this.clearBidSelection(),P.F.loading("bid"),this.deedId=i,this.deedAvailableForBid=!1,this.data.apiGetService(P.F.server+`get/property/${i}`,!0).subscribe(s=>{if(P.F.loading("bid",!0),s.grids.length>0){const u=[];s.grids=s.grids.map(d=>(d.point=JSON.parse(d.point),u.push(it(d.point)),d));const l=X(u),f=ms(l);this.currentGroupCenter={lat:f.geometry.coordinates[1],lng:f.geometry.coordinates[0]},this.allBidIds=s.grids,this.map.setFilter("grids-for-bid",this.buildFilterForBid())}null!=s.detail.picture&&(s.detail.picture=P.F.server+s.detail.picture),null!=s.detail.banner_path&&(s.detail.banner_path=P.F.server+s.detail.banner_path),this.bidDetails=s.detail,this.currentBidDetails=s.bid_details,null==this.bidDetails.location_name?this.data.updateLocationName(this.currentGroupCenter,this.deedId).then(u=>{this.bidDetails.location_name=u,Metro.bottomsheet.open("#group-view","list")}):Metro.bottomsheet.open("#group-view","list")},s=>{P.F.fire("Unable to fetch. Internal Error",!0),P.F.loading("bid",!0)})}viewProperty(){this.data.redirect("dashboard/app/property",this.deedId)}openBidDialog(){const i=this;Metro.dialog.create({title:"Enter Bid Details",content:'<div id="bid-error-div" class="fg-red text-small"></div><div class="form-group">\n<input type="number" id="bid-price" value="0.0" data-role="materialinput"\n                       placeholder="Enter your bid price"\n                       data-icon="<span class=\'mif-dollars\'>"\n                       data-label="Bid Price"\n                       data-cls-line="bg-cyan"\n                       data-cls-label="fg-cyan"\n                       data-cls-informer="fg-lightCyan"\n                       data-cls-icon="fg-darkCyan"\n                ></div>',clsDialog:"bid-dialog fg-amber",actions:[{caption:"Submit",cls:"warning",onclick:function(){let u=$("#bid-price").val();if(!isNaN(u)&&(u=Number(u),u>0))return i.submitBid(u),void Metro.dialog.close(".bid-dialog");$("#bid-error-div").empty().append("Invalid bid details. It should be valid digit or number"),setTimeout(()=>{$("#bid-error-div").empty()},3e3),P.F.invalidForm("#bid-error-div")}},{caption:"Cancel",cls:"js-dialog-close alert",onclick:function(){}}]})}submitBid(i){const s=new FormData;s.append("gid",this.deedId),s.append("price",i),P.F.loading("biddo"),this.data.apiService("bid/do",s).subscribe(u=>{P.F.loading("biddo",!0),u.hasOwnProperty("status")?(P.F.fire(u.message,!u.status),u.status&&this.data.changeMessage("get-profile")):P.F.fire("Invalid request. Please try again later",!0)},u=>{P.F.loading("biddo",!0),P.F.fire("Invalid request. Please try again later",!0)})}doBid(){this.data.checkLogin()?this.openBidDialog():this.data.redirect("login")}cancelBid(){const i=this;Metro.dialog.create({title:"Bid",content:"Do you want to cancel your bid?",actions:[{caption:"Yes cancel",cls:"js-dialog-close alert",onclick:function(){i.cancelBidRequest()}},{caption:"No",cls:"js-dialog-close success",onclick:function(){}}]})}cancelBidRequest(){P.F.loading("bidcancel"),this.data.apiGetService("bid/cancel/"+this.currentBidDetails.data.id).subscribe(i=>{P.F.loading("bidcancel",!0),i.hasOwnProperty("status")?(P.F.fire(i.message,!i.status),i.status&&this.data.changeMessage("get-profile")):P.F.fire("Invalid request. Please try again later",!0)},i=>{P.F.loading("bidcancel",!0),P.F.fire("Invalid request. Please try again later",!0)})}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(P.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-map"]],decls:56,vars:28,consts:[["id","map",1,"w-100","h-100",2,"z-index","0","top","50px"],[1,"pos-fixed","z-1",2,"bottom","30px","left","10px"],["id","basemaps_toggle",1,"button","cycle","light"],[1,"mif-map"],["data-role","dropdown","data-toggle-element","#basemaps_toggle",1,"d-menu","drop-up","shadowed","fg-black",2,"width","230px","background","rgba(255,255,255,0.7)","margin-left","0","border-radius","7px"],["class","c-pointer bg-transparent p-2",3,"class","click",4,"ngFor","ngForOf"],["data-role","bottomsheet","id","group-view",2,"min-width","650px"],[1,"p-0",2,"height","200px"],[1,"d-flex","flex-align-center"],[1,"d-flex","flex-column"],["onError","this.src='assets/logo.jpg'",2,"width","200px","height","130px",3,"src"],[1,"invalid_feedback","d-block",2,"height","20px"],[1,"invalid_feedback","d-block"],[1,"items-list"],["class","item",4,"ngIf"],[1,"item"],[1,"avatar"],[1,"icon","mif-pin"],[1,"label"],[1,"second-label"],["onError","this.src='assets/logo.jpg'",2,"width","40px","height","40px","border-radius","50%",3,"src"],[1,"icon","mif-apps"],[1,"text-bold"],[4,"ngIf"],["class","button d-flex dark flex-justify-between",3,"click",4,"ngIf"],["class","button d-flex alert flex-justify-between",3,"click",4,"ngIf"],[1,"button","d-flex","dark","flex-justify-between",3,"click"],[1,"icon","mif-paragraph-center"],["onclick","Metro.bottomsheet.close('#group-view', 'list')",1,"button","d-flex","alert","flex-justify-between",3,"click"],[1,"icon","mif-cross-light"],[1,"pos-absolute","d-flex","flex-column","z-1",2,"right","10px","bottom","70px"],[1,"button","light","cycle","shadowed","m-1",3,"click"],[1,"mif-plus"],[1,"button","cycle","shadowed","m-1",3,"click"],[1,"mif-chart-line"],[1,"mif-location-city"],[1,"mif-traffic-cone"],[1,"mif-minus"],[1,"c-pointer","bg-transparent","p-2",3,"click"],[1,"d-flex",2,"font-size","15px","color","black"],[1,"circle","shadowed",2,"width","35px","height","35px","border-radius","17px","margin","-17px -3px",3,"src"],[1,"pos-absolute",2,"left","45px","white-space","nowrap"],[1,"icon","mif-info"],[1,"icon","mif-dollars"],[1,"icon","mif-cart"],[1,"button","d-flex","alert","flex-justify-between",3,"click"],[1,"icon","mif-backspace1"]],template:function(i,s){1&i&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"button",2),h._UZ(3,"span",3),h.qZA(),h.TgZ(4,"ul",4),h.YNc(5,Dg,5,6,"li",5),h.qZA(),h.qZA(),h.TgZ(6,"ul",6),h.TgZ(7,"li",7),h.TgZ(8,"div",8),h.TgZ(9,"div",9),h._UZ(10,"img",10),h.TgZ(11,"span",11),h._uU(12),h.qZA(),h.TgZ(13,"span",12),h._uU(14),h.qZA(),h.qZA(),h.TgZ(15,"div",13),h.YNc(16,Fg,7,1,"div",14),h.TgZ(17,"div",15),h.TgZ(18,"div",16),h._UZ(19,"span",17),h.qZA(),h.TgZ(20,"span",18),h._uU(21),h.qZA(),h.TgZ(22,"span",19),h._uU(23,"Located at"),h.qZA(),h.qZA(),h.TgZ(24,"div",15),h.TgZ(25,"div",16),h._UZ(26,"img",20),h.qZA(),h.TgZ(27,"span",18),h._uU(28),h.qZA(),h.TgZ(29,"span",19),h._uU(30,"Owner"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(31,"li"),h._UZ(32,"span",21),h._uU(33,"Tiles "),h.TgZ(34,"span",22),h._uU(35),h.qZA(),h.qZA(),h.YNc(36,qg,5,1,"li",23),h.YNc(37,kg,3,0,"li",24),h.YNc(38,Bg,3,1,"li",25),h.TgZ(39,"li",26),h.NdJ("click",function(){return s.viewProperty()}),h._UZ(40,"span",27),h._uU(41,"Details"),h.qZA(),h.TgZ(42,"li",28),h.NdJ("click",function(){return s.clearBidSelection()}),h._UZ(43,"span",29),h._uU(44,"Close"),h.qZA(),h.qZA(),h.TgZ(45,"div",30),h.TgZ(46,"button",31),h.NdJ("click",function(){return s.map.zoomIn()}),h._UZ(47,"span",32),h.qZA(),h.TgZ(48,"button",33),h.NdJ("click",function(){return s.setGridVisibility()}),h._UZ(49,"span",34),h.qZA(),h.TgZ(50,"button",33),h.NdJ("click",function(){return s.set3D()}),h._UZ(51,"span",35),h.qZA(),h.TgZ(52,"button",33),h.NdJ("click",function(){return s.setTerrain()}),h._UZ(53,"span",36),h.qZA(),h.TgZ(54,"button",31),h.NdJ("click",function(){return s.map.zoomOut()}),h._UZ(55,"span",37),h.qZA(),h.qZA(),h.qZA()),2&i&&(h.xp6(5),h.Q6J("ngForOf",s.settings.mapViews),h.xp6(5),h.s9C("src",s.bidDetails.banner_path,h.LSH),h.xp6(2),h.hij("Lat ",s.currentGroupCenter.lat,""),h.xp6(2),h.hij("Lng ",s.currentGroupCenter.lng,""),h.xp6(2),h.Q6J("ngIf",s.bidDetails.for_sale),h.xp6(5),h.hij("",s.bidDetails.location_name," "),h.xp6(5),h.s9C("src",s.bidDetails.picture,h.LSH),h.xp6(2),h.AsE("",s.bidDetails.first_name," ",s.bidDetails.last_name,""),h.xp6(7),h.Oqu(s.allBidIds.length),h.xp6(1),h.Q6J("ngIf",s.bidDetails.for_sale),h.xp6(1),h.Q6J("ngIf",s.bidDetails.for_sale&&!s.currentBidDetails.status&&0==s.ownProperty),h.xp6(1),h.Q6J("ngIf",s.bidDetails.for_sale&&s.currentBidDetails.status&&0==s.ownProperty),h.xp6(10),h.Tol(h.WLB(19,ml,s.isGridVisible,!s.isGridVisible)),h.xp6(2),h.Tol(h.WLB(22,ml,s.is3D,!s.is3D)),h.xp6(2),h.Tol(h.WLB(25,ml,s.isTerrain,!s.isTerrain)))},directives:[q.sg,q.O5],styles:[""]}),n})(),Zg=(()=>{class n{constructor(i){this.data=i}canActivate(i,s){const u=this.data.checkLogin();return u||-1===location.hash.indexOf("login")&&window.location.assign(window.location.origin+"/#/login"),u}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(P.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ug(n,r){if(1&n&&(h.TgZ(0,"div",27),h._UZ(1,"span",28),h.TgZ(2,"span",29),h._uU(3),h.qZA(),h.TgZ(4,"span",30),h.TgZ(5,"label"),h._uU(6),h.qZA(),h.TgZ(7,"label"),h._uU(8),h.qZA(),h.qZA(),h.TgZ(9,"span",31),h._uU(10),h.qZA(),h.qZA()),2&n){const i=r.$implicit,s=h.oxw();h.xp6(3),h.Oqu(i.file_name),h.xp6(3),h.hij("Time: ",i.start_time,""),h.xp6(2),h.hij("ID: ",i.job_id,""),h.xp6(2),h.hij(" ",s.getStatus(i.status)," ")}}const yf=function(n){return{"d-none":n}};let zg=(()=>{class n{constructor(i){this.data=i,this.file=null,this.jobs=[],this.processReady=!1}ngOnInit(){this.getJobs()}getJobs(){P.F.loading("getJob",!1),this.data.apiGetService("jobs/user").subscribe(i=>{P.F.loading("getJob",!0),this.jobs=i},i=>{P.F.loading("getJob",!0)})}getFile(i){this.file=i.target.files[0],console.log(this.file)}checkForInvalid(i){const s=this;setTimeout(()=>{console.log("checking"),$(".invalid").length>0?P.F.invalidForm("#data-form"):s.processFile(i)},200)}processFile(i){i.stopPropagation();const s=new FormData;s.append("file",this.file),P.F.loading("create_job",!1),this.data.apiService("create_job",s).subscribe(u=>{this.file=null,P.F.loading("create_job",!0),P.F.fire(u.message,!u.status),u.status&&this.processJobDetails(u.job_id)},u=>{this.file=null,P.F.loading("create_job",!0)})}processJobDetails(i){const s=$("#data-form").serializeArray(),u={job_id:i};s.forEach(l=>{u[l.name]=l.value}),P.F.loading("create_job",!1),this.data.apiService("create_job_details",u).subscribe(l=>{P.F.loading("create_job",!0),P.F.fire("Job created successfully",!1),this.getJobs()},l=>{P.F.loading("create_job",!0)})}getStatus(i){let s="Unknown";switch(i){case 0:s="Submitted";break;case 1:s="Processed"}return s}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(P.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-upload"]],decls:59,vars:8,consts:[[1,"container","h-100","p-0",2,"background","rgba(255,255,255,0.75)","overflow","auto"],[1,"mt-8","pb-5","pl-3","pr-3","pt-20","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"header","fg-white",2,"background","rgba(138, 162, 174,0.7)"],[1,"avatar"],[1,"icon","mif-2x","mif-chart-line"],[1,"title"],[3,"ngClass"],["type","file","data-role","file","data-mode","drop","accept",".geojson,.kml,.shp,.gpkg",3,"change"],[1,"form-group",3,"ngClass"],["id","data-form","data-clear-invalid","3000","data-role","validator","action","javascript:",3,"submit"],[1,"form-group","d-flex","flex-column"],["type","text","name","description","data-role","input","placeholder","Enter description","data-prepend","<span class='mif-info'>","data-label","Description","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required minlength=6"],[1,"invalid_feedback"],["type","text","name","country","data-role","input","placeholder","Enter country name","data-prepend","<span class='mif-info'>","data-label","Country","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","state","data-role","input","placeholder","Enter state name","data-prepend","<span class='mif-info'>","data-label","State","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","county","data-role","input","placeholder","Enter county name","data-prepend","<span class='mif-info'>","data-label","County","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","open_data_url","data-role","input","placeholder","Enter open data url","data-prepend","<span class='mif-info'>","data-label","Open Data URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","download_url","data-role","input","placeholder","Enter download url","data-prepend","<span class='mif-info'>","data-label","Download URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","mapping_service_url","data-role","input","placeholder","Enter mapping service url","data-prepend","<span class='mif-info'>","data-label","Mapping Service URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","property_search_url","data-role","input","placeholder","Enter property search url","data-prepend","<span class='mif-info'>","data-label","Property Search URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],[1,"form-group","d-flex","flex-column","mb-3"],["type","text","name","tax_collect_url","data-role","input","placeholder","tax collect url","data-prepend","<span class='mif-info'>","data-label","Tax Collect URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","submit",1,"button","small","success"],[1,"button","small","alert",3,"click"],[1,"mt-2","pb-5","pl-3","pr-3","pt-2","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"items-list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"avatar","mif-chart-line","fg-amber"],[1,"label"],[1,"second-label","d-flex","flex-column","pt-1"],[1,"second-action",2,"font-size","11px","width","70px"]],template:function(i,s){1&i&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h._UZ(4,"span",4),h.qZA(),h.TgZ(5,"div",5),h._uU(6,"Upload data"),h.qZA(),h.qZA(),h.TgZ(7,"div",6),h.TgZ(8,"input",7),h.NdJ("change",function(l){return s.getFile(l)}),h.qZA(),h.qZA(),h.TgZ(9,"div",8),h.TgZ(10,"form",9),h.NdJ("submit",function(l){return s.checkForInvalid(l)}),h.TgZ(11,"div",10),h._UZ(12,"input",11),h.TgZ(13,"span",12),h._uU(14," Description is required and must be at least of 6 characters "),h.qZA(),h.qZA(),h.TgZ(15,"div",10),h._UZ(16,"input",13),h.TgZ(17,"span",12),h._uU(18," Country is required "),h.qZA(),h.qZA(),h.TgZ(19,"div",10),h._UZ(20,"input",14),h.TgZ(21,"span",12),h._uU(22," State is required "),h.qZA(),h.qZA(),h.TgZ(23,"div",10),h._UZ(24,"input",15),h.TgZ(25,"span",12),h._uU(26," County is required "),h.qZA(),h.qZA(),h.TgZ(27,"div",10),h._UZ(28,"input",16),h.TgZ(29,"span",12),h._uU(30," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(31,"div",10),h._UZ(32,"input",17),h.TgZ(33,"span",12),h._uU(34," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(35,"div",10),h._UZ(36,"input",18),h.TgZ(37,"span",12),h._uU(38," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(39,"div",10),h._UZ(40,"input",19),h.TgZ(41,"span",12),h._uU(42," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(43,"div",20),h._UZ(44,"input",21),h.TgZ(45,"span",12),h._uU(46," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(47,"button",22),h._uU(48),h.qZA(),h.TgZ(49,"button",23),h.NdJ("click",function(){return s.file=null}),h._uU(50,"Cancel"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(51,"div",24),h.TgZ(52,"div",2),h.TgZ(53,"div",3),h._UZ(54,"span",4),h.qZA(),h.TgZ(55,"div",5),h._uU(56,"Jobs"),h.qZA(),h.qZA(),h.TgZ(57,"div",25),h.YNc(58,Ug,11,4,"div",26),h.qZA(),h.qZA(),h.qZA()),2&i&&(h.xp6(7),h.Q6J("ngClass",h.VKq(4,yf,null!=s.file)),h.xp6(2),h.Q6J("ngClass",h.VKq(6,yf,null==s.file)),h.xp6(39),h.hij("Submit (",null!=s.file?s.file.name:"",")"),h.xp6(10),h.Q6J("ngForOf",s.jobs))},directives:[q.mk,q.sg],styles:[""]}),n})();function Yg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"button",55),h.NdJ("click",function(){h.CHM(i);const u=h.oxw().$implicit;return h.oxw().deleteJob(u)}),h._UZ(1,"span",56),h.TgZ(2,"span",41),h._uU(3,"Delete Job"),h.qZA(),h.qZA()}}function Xg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"div",47),h._UZ(1,"span",48),h.TgZ(2,"span",49),h._uU(3),h.qZA(),h.TgZ(4,"span",50),h._uU(5),h.qZA(),h.TgZ(6,"span",51),h.TgZ(7,"button",52),h.NdJ("click",function(){const l=h.CHM(i).$implicit;return h.oxw().getJobColumn(l)}),h._UZ(8,"span",53),h.TgZ(9,"span",41),h._uU(10,"View Details"),h.qZA(),h.qZA(),h.YNc(11,Yg,4,0,"button",54),h.qZA(),h.qZA()}if(2&n){const i=r.$implicit;h.xp6(3),h.Oqu(i.file_name),h.xp6(2),h.Oqu(i.job_id),h.xp6(6),h.Q6J("ngIf",0==i.status)}}function Jg(n,r){if(1&n&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&n){const i=r.$implicit;h.xp6(1),h.Oqu(i)}}function jg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"div",38),h.TgZ(1,"button",57),h.NdJ("click",function(){return h.CHM(i),h.oxw().processJob()}),h._UZ(2,"span",58),h.TgZ(3,"span",41),h._uU(4,"Process Job"),h.qZA(),h.qZA(),h.qZA()}}let mf=(()=>{class n{constructor(i){this.data=i,this.jobs=[],this.job={name:"",columns:[],details:{}},this.currentJob={job_id:"",status:1}}ngOnInit(){this.getJobs()}getJobs(){P.F.loading("getJob",!1),this.data.apiGetService("jobs").subscribe(i=>{P.F.loading("getJob",!0),this.jobs=i},i=>{P.F.loading("getJob",!0)})}getJobColumn(i){this.currentJob=i,P.F.loading("getJobCol",!1),this.data.apiGetService("jobs/"+i.job_id).subscribe(s=>{P.F.loading("getJobCol",!0),this.job.columns=s.columns,this.job.details=s.details,this.job.name=s.name,$("#grid-table tbody").empty();const u=$("#grid-table").data("table");let l=[];s.attributes=[{BORDER_COL:"RGB(0,0,0)",BORDER_STY:"Solid",BORDER_WID:1,CLOSED:"YES",DATE_EDIT:"3/27/2008",FILL_STYLE:"No Fill",GIS_LOC_ID:null,GIS_NOTES:"Lands - http://landsnet.nps.gov/tractsnet/documents/BRCA/Metadata/brca_metadata.xml",GROUP_CODE:null,LANDS_CODE:null,LAYER:"Unknown Area Type",MAP_NAME:"nps_boundary.shp",META_MIDF:null,UNIT_CODE:"BRCA",UNIT_NAME:"Bryce Canyon",UNIT_TYPE:"National Park"}];const f=Object.keys(s.attributes[0]);if(f.forEach((g,d)=>{l.push({name:g,title:g,sortable:!1})}),null!=s.attributes){const g=$("#grid-table").data("table"),d=[];Object.values(s.attributes),s.attributes.forEach((m,v)=>{let _=[];f.forEach(E=>{_.push(m[E])}),d.push(_)}),g.setData({header:l,data:d}),g.draw()}else u.setData({header:l,data:[]}),u.draw();Metro.dialog.open("#job-detail-dialog")},s=>{P.F.loading("getJobCol",!0)})}deleteJob(i){this.currentJob=i;const s=this;Metro.dialog.create({title:"Bid",content:`Do you want to delete this job (${i.job_id})?`,actions:[{caption:"Yes Delete!",cls:"js-dialog-close alert",onclick:function(){s.postDelJob()}},{caption:"No",cls:"js-dialog-close success",onclick:function(){}}]})}postDelJob(){P.F.loading("deleteJob",!1),this.data.apiGetService("jobs/delete/"+this.currentJob.job_id).subscribe(i=>{P.F.loading("deleteJob",!0),P.F.fire("Job deleted successfully",!1),this.getJobs()},i=>{P.F.loading("deleteJob",!0)})}processJob(){const i={job_id:this.currentJob.job_id,col1:"",col2:"",col3:""};Metro.getPlugin("#standard-columns","drag-items").component.childNodes.forEach((u,l)=>{l<3&&(i["col"+(l+1)]=u.innerText)}),P.F.loading("process_job",!1),this.data.apiService("job/process",i).subscribe(u=>{P.F.loading("process_job",!0),P.F.fire(u.message,!u.status),u.status&&(Metro.dialog.close("#job-detail-dialog"),this.getJobs())},u=>{P.F.loading("process_job",!0)})}checkForInvalid(i){setTimeout(()=>{console.log("checking"),$(".invalid").length>0&&P.F.invalidForm("#data-form")},200)}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(P.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-quality-check"]],decls:90,vars:13,consts:[[1,"container","h-100","p-0",2,"background","rgba(255,255,255,0.75)","overflow","auto"],[1,"mt-8","pb-5","pl-3","pr-3","pt-20","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"header","fg-white",2,"background","rgba(138, 162, 174,0.7)"],[1,"avatar"],[1,"icon","mif-2x","mif-chart-line"],[1,"title"],[1,"items-list","p-0"],["class","item c-pointer",4,"ngFor","ngForOf"],["id","job-detail-dialog","data-role","dialog","data-close-button","true","data-width","720",1,"dialog","top-dialog"],[1,"dialog-title"],[1,"dialog-content","pt-0","pb-0",2,"overflow","auto"],["data-app-bar","false","data-role","materialtabs",1,"flex-justify-center","bg-lightGray"],[1,"active"],["href","#job-column"],["href","#job-details"],["href","#job-attributes"],[1,"bg-light","mt-2"],["id","job-column"],[1,"bg-lightAmber",2,"font-size","10px"],[1,"d-flex"],[1,"items-list"],["data-role","drag-items","id","standard-columns",1,"items-list"],[4,"ngFor","ngForOf"],["class","d-flex flex-justify-end w-100 bg-light p-1","style","position: sticky;bottom: 0;z-index: 1;",4,"ngIf"],["id","job-details"],["id","data-form","data-clear-invalid","3000","data-role","validator","action","javascript:",3,"submit"],[1,"form-group","d-flex","flex-column"],["type","text","name","description","data-role","input","placeholder","Enter description","data-prepend","<span class='mif-info'>","data-label","Description","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required minlength=6",3,"value"],[1,"invalid_feedback"],["type","text","name","country","data-role","input","placeholder","Enter country name","data-prepend","<span class='mif-info'>","data-label","Country","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required",3,"value"],["type","text","name","state","data-role","input","placeholder","Enter state name","data-prepend","<span class='mif-info'>","data-label","State","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required",3,"value"],["type","text","name","county","data-role","input","placeholder","Enter county name","data-prepend","<span class='mif-info'>","data-label","County","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required",3,"value"],["type","text","name","open_data_url","data-role","input","placeholder","Enter open data url","data-prepend","<span class='mif-info'>","data-label","Open Data URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required",3,"value"],["type","text","name","download_url","data-role","input","placeholder","Enter download url","data-prepend","<span class='mif-info'>","data-label","Download URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required",3,"value"],["type","text","name","mapping_service_url","data-role","input","placeholder","Enter mapping service url","data-prepend","<span class='mif-info'>","data-label","Mapping Service URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required",3,"value"],["type","text","name","property_search_url","data-role","input","placeholder","Enter property search url","data-prepend","<span class='mif-info'>","data-label","Property Search URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required",3,"value"],[1,"form-group","d-flex","flex-column","mb-3"],["type","text","name","tax_collect_url","data-role","input","placeholder","tax collect url","data-prepend","<span class='mif-info'>","data-label","Tax Collect URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required",3,"value"],[1,"d-flex","flex-justify-end","w-100","bg-light","p-1",2,"position","sticky","bottom","0","z-index","1"],["type","submit",1,"image-button","warning"],[1,"icon","mif-cloud-upload"],[1,"caption"],["id","job-attributes"],["id","grid-table","data-role","table","data-show-search","false","data-show-rows-steps","false","data-show-table-info","false","data-show-pagination","false",1,"table"],[1,"dialog-actions","d-none"],[1,"button","js-dialog-close"],[1,"button","primary","js-dialog-close"],[1,"item","c-pointer"],[1,"avatar","mif-chart-line","fg-amber"],[1,"label"],[1,"second-label"],[1,"second-action","d-flex","flex-justify-between",2,"width","260px"],[1,"image-button","light",3,"click"],[1,"icon","mif-list"],["class","image-button alert",3,"click",4,"ngIf"],[1,"image-button","alert",3,"click"],[1,"icon","mif-bin"],[1,"image-button","warning",3,"click"],[1,"icon","mif-chart-line"]],template:function(i,s){1&i&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h._UZ(4,"span",4),h.qZA(),h.TgZ(5,"div",5),h._uU(6,"Standardize"),h.qZA(),h.qZA(),h.TgZ(7,"div",6),h.YNc(8,Xg,12,3,"div",7),h.qZA(),h.qZA(),h.qZA(),h.TgZ(9,"div",8),h.TgZ(10,"div",9),h._uU(11),h.qZA(),h.TgZ(12,"div",10),h.TgZ(13,"ul",11),h.TgZ(14,"li",12),h.TgZ(15,"a",13),h._uU(16,"Standardize"),h.qZA(),h.qZA(),h.TgZ(17,"li"),h.TgZ(18,"a",14),h._uU(19,"Details"),h.qZA(),h.qZA(),h.TgZ(20,"li"),h.TgZ(21,"a",15),h._uU(22,"Attributes"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(23,"div",16),h.TgZ(24,"div",17),h.TgZ(25,"div",18),h._uU(26,"Note: Adjust the right columns to the left. All other columns will be neglected during processing"),h.qZA(),h.TgZ(27,"div",19),h.TgZ(28,"ul",20),h.TgZ(29,"li"),h._uU(30,"Col 1"),h.qZA(),h.TgZ(31,"li"),h._uU(32,"Col 2"),h.qZA(),h.TgZ(33,"li"),h._uU(34,"Col 3"),h.qZA(),h.qZA(),h.TgZ(35,"ul",21),h.YNc(36,Jg,2,1,"li",22),h.qZA(),h.qZA(),h.YNc(37,jg,5,0,"div",23),h.qZA(),h.TgZ(38,"div",24),h.TgZ(39,"form",25),h.NdJ("submit",function(l){return s.checkForInvalid(l)}),h.TgZ(40,"div",26),h._UZ(41,"input",27),h.TgZ(42,"span",28),h._uU(43," Description is required and must be at least of 6 characters "),h.qZA(),h.qZA(),h.TgZ(44,"div",26),h._UZ(45,"input",29),h.TgZ(46,"span",28),h._uU(47," Country is required "),h.qZA(),h.qZA(),h.TgZ(48,"div",26),h._UZ(49,"input",30),h.TgZ(50,"span",28),h._uU(51," State is required "),h.qZA(),h.qZA(),h.TgZ(52,"div",26),h._UZ(53,"input",31),h.TgZ(54,"span",28),h._uU(55," County is required "),h.qZA(),h.qZA(),h.TgZ(56,"div",26),h._UZ(57,"input",32),h.TgZ(58,"span",28),h._uU(59," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(60,"div",26),h._UZ(61,"input",33),h.TgZ(62,"span",28),h._uU(63," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(64,"div",26),h._UZ(65,"input",34),h.TgZ(66,"span",28),h._uU(67," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(68,"div",26),h._UZ(69,"input",35),h.TgZ(70,"span",28),h._uU(71," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(72,"div",36),h._UZ(73,"input",37),h.TgZ(74,"span",28),h._uU(75," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(76,"div",38),h.TgZ(77,"button",39),h._UZ(78,"span",40),h.TgZ(79,"span",41),h._uU(80,"Update Details"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(81,"div",42),h.TgZ(82,"div",18),h._uU(83,"Note: Limited Attributes"),h.qZA(),h._UZ(84,"table",43),h.qZA(),h.qZA(),h.qZA(),h.TgZ(85,"div",44),h.TgZ(86,"button",45),h._uU(87,"Disagree"),h.qZA(),h.TgZ(88,"button",46),h._uU(89,"Agree"),h.qZA(),h.qZA(),h.qZA()),2&i&&(h.xp6(8),h.Q6J("ngForOf",s.jobs),h.xp6(3),h.hij("Job: ",s.job.name,""),h.xp6(25),h.Q6J("ngForOf",s.job.columns),h.xp6(1),h.Q6J("ngIf",0==s.currentJob.status),h.xp6(4),h.s9C("value",s.job.details.description),h.xp6(4),h.s9C("value",s.job.details.country),h.xp6(4),h.s9C("value",s.job.details.state),h.xp6(4),h.s9C("value",s.job.details.county),h.xp6(4),h.s9C("value",s.job.details.open_data_url),h.xp6(4),h.s9C("value",s.job.details.download_url),h.xp6(4),h.s9C("value",s.job.details.mapping_service_url),h.xp6(4),h.s9C("value",s.job.details.property_search_url),h.xp6(4),h.s9C("value",s.job.details.tax_collect_url))},directives:[q.sg,q.O5],styles:[""]}),n})(),$g=(()=>{class n{constructor(i,s){this.http=i,this.data=s}canActivate(i,s){return P.F.loading("upload",!1),new Promise((u,l)=>this.http.get(P.F.server+"check/user/upload").subscribe(f=>{P.F.loading("upload",!0),u(!0)},f=>{P.F.loading("upload",!0),403==f.status&&this.data.logOut(),u(!1)}))}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(U.eN),h.LFG(P.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hg=(()=>{class n{constructor(i,s){this.http=i,this.data=s}canActivate(i,s){return P.F.loading("standard",!1),new Promise((u,l)=>this.http.get(P.F.server+"check/user/standard").subscribe(f=>{P.F.loading("standard",!0),u(!0)},f=>{P.F.loading("standard",!0),403==f.status&&this.data.logOut(),u(!1)}))}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(U.eN),h.LFG(P.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wg=(()=>{class n{constructor(i,s){this.http=i,this.data=s}canActivate(i,s){return P.F.loading("normalize",!1),new Promise((u,l)=>this.http.get(P.F.server+"check/user/normalize").subscribe(f=>{P.F.loading("normalize",!0),u(!0)},f=>{P.F.loading("normalize",!0),403==f.status&&this.data.logOut(),u(!1)}))}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(U.eN),h.LFG(P.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vg=(()=>{class n{constructor(i,s){this.http=i,this.data=s}canActivate(i,s){return new Promise((u,l)=>this.http.get(P.F.server+"check/user/admin").subscribe(f=>{u(!0)},f=>{403==f.status&&this.data.logOut(),u(!1)}))}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(U.eN),h.LFG(P.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qg=function(n,r){return{active:n,"no-link":r}};function Kg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"li",23),h.NdJ("click",function(){const l=h.CHM(i).$implicit;return h.oxw().getUsersData(l.url)}),h._UZ(1,"a",24),h.qZA()}if(2&n){const i=r.$implicit;h.Tol(h.WLB(3,Qg,i.active,null==i.url)),h.xp6(1),h.Q6J("innerHTML",i.label,h.oJD)}}const td=[{path:"",redirectTo:"/dashboard/app/map",pathMatch:"full"},{path:"app",component:N,children:[{path:"map",component:Gg,canActivate:[Zg]},{path:"upload",component:zg,canActivate:[$g]},{path:"standard",component:mf,canActivate:[Hg]},{path:"normalise",component:mf,canActivate:[Wg]},{path:"management",component:(()=>{class n{constructor(i){this.data=i,this.searchDelayId=-1,this.users={items:[],links:[]},this.currentPage=1}ngOnInit(){this.getUsersData();const i=this;$(document).on("click",".edit-user",s=>{const u=s.target.getAttribute("value");i.editUser(this.users.items[u])}),$(document).on("click",".del-user",s=>{const u=s.target.getAttribute("value");i.delUser(this.users.items[u])}),$(document).on("click",".password-user",s=>{const u=s.target.getAttribute("value");i.changeUserPass(this.users.items[u])})}getUsersData(i="?page=1"){let s=i.split("="),u=Number($("#per-page").val());s=s[s.length-1];let l=$("#search").val();l=0===l.trim().length?"%":`%${l}%`,P.F.loading("users"),this.data.apiGetService(`users?page=${s}&size=${u}`).subscribe(f=>{P.F.loading("users",!0),this.users=f,$("#per-page").off("change"),Metro.getPlugin("#per-page","select").val(f.per_page),$("#per-page").on("change",()=>{$("#per-page").off("change"),this.getUsersData()}),$("#user-table tbody").empty();const g=$("#user-table").data("table");let d=[];const p=["email","first_name","last_name","time_created","role_id"],m=["Email","First Name","Last Name","Created On","Role"];if(p.forEach((v,_)=>{d.push({name:v,title:m[_],sortable:!1})}),d.push({name:"Actions",title:"Actions",sortable:!1}),f.items.length>0){const v=$("#user-table").data("table"),_=[];f.items.forEach((E,Y)=>{let k=[];p.forEach(ot=>{if("role_id"==ot)switch(E[ot]){case 0:k.push("Admin");break;case 1:k.push("Data");break;case 2:k.push("Standardize");break;case 3:k.push("Normalize");break;case 4:k.push("Viewer")}else k.push(`${E[ot]}`)}),0!==E.role_id&&k.push(`\n<button value="${Y}" class="edit-user button small light">Edit</button>\n<button value="${Y}" class="password-user button small info">Change Password</button>\n<button value="${Y}" class="del-user button small alert">Delete</button>\n`),_.push(k)}),v.setData({header:d,data:_}),v.draw()}else g.setData({header:d,data:[]}),g.draw()},f=>{P.F.loading("users",!0)})}onSearch(i){const s=$("#search").val();13!=i.keyCode&&null!=i.keyCode?(clearTimeout(this.searchDelayId),this.searchDelayId=setTimeout(()=>{const u=$("#search").val();(s==u&&u.length>0||0==this.users.items.length)&&this.getUsersData()},1e3)):this.getUsersData()}openProperty(i){}buyGrid(i){}logout(){this.data.logOut()}editUser(i){const s=this;Metro.dialog.create({title:"Edit User",content:`<ul id="property-error-div"></ul><div class="form-group">\n<input type="text" id="first-name" data-role="materialinput" value="${i.first_name}"\n       placeholder="Enter first name"\n       data-icon="<span class='mif-info'>"\n       data-label="First name"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n       data-validate="required minlength=2"\n><input type="text" id="last-name" data-role="materialinput" value="${i.last_name}"\n       placeholder="Enter last name"\n       data-icon="<span class='mif-info'>"\n       data-label="First name"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n       data-validate="required minlength=2"\n><select type="text" id="role" data-role="select" value="${i.role_id}"\n       data-icon="<span class='mif-info'>"\n       data-label="Role"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n>\n<option value="1">Data</option>\n<option value="2">Standardize</option>\n\x3c!--<option value="3">Normalize</option>--\x3e\n<option value="4">Viewer</option>\n</select></div>`,clsDialog:"edit-user-dialog top-dialog",actions:[{caption:"Update",cls:"success",onclick:function(){$("#property-error-div").empty();const l=Metro.validator,f=$("#first-name"),g=$("#last-name"),d=$("#role"),p=[];if(l.validate(f)||p.push("First name must be at least 2 characters"),l.validate(g)||p.push("Last name must be at least 2 characters"),p.length>0)return p.forEach(m=>{$("#property-error-div").append(`<li>${m}</li>`)}),setTimeout(()=>{$("#property-error-div").empty()},5e3),void P.F.invalidForm("#property-error-div");Metro.dialog.close(".edit-user-dialog"),s.postEditUser({email:i.email,first_name:f.val(),last_name:g.val(),role_id:d.val()})}},{caption:"Cancel",cls:"js-dialog-close light",onclick:function(){}}]})}postEditUser(i){P.F.loading("update_user",!1),this.data.apiService("user/update",i).subscribe(s=>{P.F.loading("update_user",!0),P.F.fire("User updated successfully",!1),this.getUsersData()},s=>{P.F.loading("update_user",!0)})}changeUserPass(i){const s=this;Metro.dialog.create({title:"Change User Password",content:'<ul id="property-error-div"></ul><div class="form-group">\n<input type="text" id="password" name="password" data-role="materialinput"\n       placeholder="Enter Password"\n       data-icon="<span class=\'mif-lock\'>"\n       data-label="New Password"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n       data-validate="required minlength=8"\n><input type="text" id="repassword" name="repassword" data-role="materialinput"\n       placeholder="Renter Password"\n       data-icon="<span class=\'mif-lock\'>"\n       data-label="Renter Password"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n       data-validate="required compare=password"\n>\n</div>',clsDialog:"edit-password-dialog top-dialog",actions:[{caption:"Change",cls:"success",onclick:function(){$("#property-error-div").empty();const l=Metro.validator,f=$("#password"),g=$("#repassword"),d=[];if(l.validate(g)||d.push("Password must be matched and 8 character long"),d.length>0)return d.forEach(p=>{$("#property-error-div").append(`<li>${p}</li>`)}),setTimeout(()=>{$("#property-error-div").empty()},5e3),void P.F.invalidForm("#property-error-div");Metro.dialog.close(".edit-password-dialog"),s.postChangePassword({email:i.email,password:f.val()})}},{caption:"Cancel",cls:"js-dialog-close light",onclick:function(){}}]})}postChangePassword(i){P.F.loading("password_user",!1),this.data.apiService("user/change/password",i).subscribe(s=>{P.F.loading("password_user",!0),P.F.fire("User password changed successfully",!1),this.getUsersData()},s=>{P.F.loading("password_user",!0)})}delUser(i){const s=this;Metro.dialog.create({title:"Delete User",content:"Do you want to delete user "+i.email+"?",clsDialog:"buy-land-dialog",actions:[{caption:"Yes, Delete!",cls:"alert",onclick:function(){Metro.dialog.close(".buy-land-dialog"),s.postDeleteUser(i.email)}},{caption:"No",cls:"js-dialog-close success",onclick:function(){}}]})}postDeleteUser(i){P.F.loading("delete_user",!1),this.data.apiGetService("user/delete/"+i).subscribe(s=>{P.F.loading("delete_user",!0),P.F.fire("User deleted successfully",!1),this.getUsersData()},s=>{P.F.loading("delete_user",!0)})}addUser(){const i=this;Metro.dialog.create({title:"New User",content:'\n<div class="form-group">\n<input autocomplete="off" type="text" id="first_name" data-role="materialinput"\n placeholder="Enter first name"\n data-icon="<span class=\'mif-info\'>"\n data-label="First Name"\n data-cls-line="bg-cyan"\n data-cls-label="fg-cyan"\n data-cls-informer="fg-lightCyan"\n data-cls-icon="fg-darkCyan"\n data-validate="required minlength=3"\n>\n<input autocomplete="off" type="text" id="last_name" data-role="materialinput"\n placeholder="Enter last name"\n data-icon="<span class=\'mif-info\'>"\n data-label="Last Name"\n data-cls-line="bg-cyan"\n data-cls-label="fg-cyan"\n data-cls-informer="fg-lightCyan"\n data-cls-icon="fg-darkCyan"\n data-validate="required minlength=3"\n>\n<input autocomplete="off" type="email" id="email" data-role="materialinput"\n placeholder="Enter email"\n data-icon="<span class=\'mif-envelop\'>"\n data-label="Email"\n data-cls-line="bg-cyan"\n data-cls-label="fg-cyan"\n data-cls-informer="fg-lightCyan"\n data-cls-icon="fg-darkCyan"\n data-validate="required email"\n>\n<input autocomplete="off" type="password" name="password" id="password" data-role="materialinput"\n placeholder="Enter new password"\n data-icon="<span class=\'mif-lock\'>"\n data-label="New Password"\n data-cls-line="bg-cyan"\n data-cls-label="fg-cyan"\n data-cls-informer="fg-lightCyan"\n data-cls-icon="fg-darkCyan"\n data-validate="required"\n>\n<input autocomplete="off" type="password" id="re-password" data-role="materialinput"\n placeholder="Retype new password"\n data-icon="<span class=\'mif-lock\'>"\n data-label="Retype New Password"\n data-cls-line="bg-cyan"\n data-cls-label="fg-cyan"\n data-cls-informer="fg-lightCyan"\n data-cls-icon="fg-darkCyan"\n data-validate="required compare=password minlength=8"\n>\n<select autocomplete="off" type="text" id="user-role" data-role="select"\n placeholder="Select user role"\n data-icon="<span class=\'mif-users\'>"\n data-label="User Role"\n data-cls-line="bg-cyan"\n data-cls-label="fg-cyan"\n data-cls-informer="fg-lightCyan"\n data-cls-icon="fg-darkCyan"\n>\n<option value="1">Data</option>\n<option value="2">Standardize</option>\n\x3c!--<option value="3">Normalize</option>--\x3e\n<option value="4" selected>Viewer</option>\n</select>\n<ul id="property-error-div" class="fg-red"></ul>\n</div>',clsDialog:"add-user-dialog top-dialog",actions:[{caption:"Add User",cls:"dark",onclick:function(){$("#property-error-div").empty();const u=Metro.validator,l=[],f=$("#first_name"),g=$("#last_name"),d=$("#email"),p=$("#re-password");if(u.validate(f)||l.push("First name should be at least of 3 characters"),u.validate(g)||l.push("Last name should be at least of 3 characters"),u.validate(d)||l.push("Email is not valid"),u.validate(p)||l.push("Passwords must me matched. With minimum 8 characters"),l.length>0)return l.forEach(m=>{$("#property-error-div").append(`<li>${m}</li>`)}),setTimeout(()=>{$("#property-error-div").empty()},5e3),void P.F.invalidForm("#property-error-div");Metro.dialog.close(".add-user-dialog"),i.postAddUser({first_name:f.val(),last_name:g.val(),email:d.val(),password:p.val(),role_id:$("#user-role").val()})}},{caption:"Cancel",cls:"js-dialog-close light",onclick:function(){}}]}),setTimeout(()=>{$("#email, #password").val("")},1e3)}postAddUser(i){P.F.loading("add-user",!1),this.data.apiService("user/add",i).subscribe(s=>{P.F.loading("add-user",!0),P.F.fire(s.message,!s.status),s.status&&this.getUsersData()},s=>{P.F.loading("add-user",!0)})}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(P.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-admin"]],decls:30,vars:1,consts:[[1,"container","h-100","p-0",2,"background","rgba(255,255,255,0.75)","overflow","auto"],[1,"mt-8","pb-5","pl-3","pr-3","pt-20","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"header","fg-white",2,"background","rgba(138, 162, 174,0.7)"],[1,"avatar"],[1,"icon","mif-2x","mif-users"],[1,"title"],[1,"w-100",2,"height","50px"],[1,"image-button","secondary","float-right",3,"click"],[1,"icon","mif-user-plus"],[1,"caption"],[1,"row","flex-align-center","flex-justify-between"],[1,"ml-1",2,"width","130px"],["type","text","data-role","materialinput","placeholder","Search","data-icon","<span class='mif-search'>","data-label","Search","data-informer","","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","id","search",3,"keyup"],[1,"mr-1",2,"width","200px"],["id","per-page","data-role","select"],["value","5","data-template","<span class='mif-list-numbered icon'></span> $1"],["value","10","selected","","data-template","<span class='mif-list-numbered icon'></span> $1"],["value","15","data-template","<span class='mif-list-numbered icon'></span> $1"],["value","20","data-template","<span class='mif-list-numbered icon'></span> $1"],["value","25","data-template","<span class='mif-list-numbered icon'></span> $1"],["id","user-table","data-role","table","data-show-search","false","data-show-rows-steps","false","data-show-table-info","false","data-show-pagination","false",1,"table"],[1,"pagination"],["class","page-item",3,"class","click",4,"ngFor","ngForOf"],[1,"page-item",3,"click"],[1,"page-link","c-pointer",3,"innerHTML"]],template:function(i,s){1&i&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h._UZ(4,"span",4),h.qZA(),h.TgZ(5,"div",5),h._uU(6,"Users"),h.qZA(),h.qZA(),h.TgZ(7,"div",6),h.TgZ(8,"button",7),h.NdJ("click",function(){return s.addUser()}),h._UZ(9,"span",8),h.TgZ(10,"span",9),h._uU(11,"Add User"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(12,"div",10),h.TgZ(13,"div",11),h.TgZ(14,"input",12),h.NdJ("keyup",function(l){return s.onSearch(l)}),h.qZA(),h.qZA(),h.TgZ(15,"div",13),h.TgZ(16,"select",14),h.TgZ(17,"option",15),h._uU(18,"5"),h.qZA(),h.TgZ(19,"option",16),h._uU(20,"10"),h.qZA(),h.TgZ(21,"option",17),h._uU(22,"15"),h.qZA(),h.TgZ(23,"option",18),h._uU(24,"20"),h.qZA(),h.TgZ(25,"option",19),h._uU(26,"25"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h._UZ(27,"table",20),h.TgZ(28,"ul",21),h.YNc(29,Kg,2,6,"li",22),h.qZA(),h.qZA(),h.qZA()),2&i&&(h.xp6(29),h.Q6J("ngForOf",s.users.links))},directives:[q.sg],styles:[""]}),n})(),canActivate:[Vg]}]}];let ed=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Q.Bz.forChild(td)],Q.Bz]}),n})(),nd=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[q.ez,ed]]}),n})()}}]);