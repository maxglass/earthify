(self.webpackChunkEarthify_UI=self.webpackChunkEarthify_UI||[]).push([[789],{185:(Dt,yt,Q)=>{"use strict";var j=Q(3033);function O(h){var nt=[1/0,1/0,-1/0,-1/0];return j.coordEach(h,function(W){nt[0]>W[0]&&(nt[0]=W[0]),nt[1]>W[1]&&(nt[1]=W[1]),nt[2]<W[0]&&(nt[2]=W[0]),nt[3]<W[1]&&(nt[3]=W[1])}),nt}O.default=O,yt.Z=O},483:function(Dt){Dt.exports=function(){"use strict";function Q(O,h,nt,W,ot){for(;W>nt;){if(W-nt>600){var ft=W-nt+1,Ct=h-nt+1,Tt=Math.log(ft),xt=.5*Math.exp(2*Tt/3),mt=.5*Math.sqrt(Tt*xt*(ft-xt)/ft)*(Ct-ft/2<0?-1:1);Q(O,h,Math.max(nt,Math.floor(h-Ct*xt/ft+mt)),Math.min(W,Math.floor(h+(ft-Ct)*xt/ft+mt)),ot)}var et=O[h],pt=nt,b=W;for(F(O,nt,h),ot(O[W],et)>0&&F(O,nt,W);pt<b;){for(F(O,pt,b),pt++,b--;ot(O[pt],et)<0;)pt++;for(;ot(O[b],et)>0;)b--}0===ot(O[nt],et)?F(O,nt,b):F(O,++b,W),b<=h&&(nt=b+1),h<=b&&(W=b-1)}}function F(O,h,nt){var W=O[h];O[h]=O[nt],O[nt]=W}function j(O,h){return O<h?-1:O>h?1:0}return function(O,h,nt,W,ot){Q(O,h,nt||0,W||O.length-1,ot||j)}}()},5454:(Dt,yt,Q)=>{"use strict";Dt.exports=j,Dt.exports.default=j;var F=Q(483);function j(b,C){if(!(this instanceof j))return new j(b,C);this._maxEntries=Math.max(4,b||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),C&&this._initFormat(C),this.clear()}function O(b,C,N){if(!N)return C.indexOf(b);for(var Z=0;Z<C.length;Z++)if(N(b,C[Z]))return Z;return-1}function h(b,C){nt(b,0,b.children.length,C,b)}function nt(b,C,N,Z,S){S||(S=et(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var A,P=C;P<N;P++)A=b.children[P],W(S,b.leaf?Z(A):A);return S}function W(b,C){return b.minX=Math.min(b.minX,C.minX),b.minY=Math.min(b.minY,C.minY),b.maxX=Math.max(b.maxX,C.maxX),b.maxY=Math.max(b.maxY,C.maxY),b}function ot(b,C){return b.minX-C.minX}function ft(b,C){return b.minY-C.minY}function Ct(b){return(b.maxX-b.minX)*(b.maxY-b.minY)}function Tt(b){return b.maxX-b.minX+(b.maxY-b.minY)}function xt(b,C){return(Math.max(C.maxX,b.maxX)-Math.min(C.minX,b.minX))*(Math.max(C.maxY,b.maxY)-Math.min(C.minY,b.minY))}function mt(b,C){var N=Math.max(b.minX,C.minX),Z=Math.max(b.minY,C.minY),S=Math.min(b.maxX,C.maxX),P=Math.min(b.maxY,C.maxY);return Math.max(0,S-N)*Math.max(0,P-Z)}function wt(b,C){return b.minX<=C.minX&&b.minY<=C.minY&&C.maxX<=b.maxX&&C.maxY<=b.maxY}function kt(b,C){return C.minX<=b.maxX&&C.minY<=b.maxY&&C.maxX>=b.minX&&C.maxY>=b.minY}function et(b){return{children:b,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function pt(b,C,N,Z,S){for(var A,P=[C,N];P.length;)!((N=P.pop())-(C=P.pop())<=Z)&&(A=C+Math.ceil((N-C)/Z/2)*Z,F(b,A,C,N,S),P.push(C,A,A,N))}j.prototype={all:function(){return this._all(this.data,[])},search:function(b){var C=this.data,N=[],Z=this.toBBox;if(!kt(b,C))return N;for(var P,A,w,st,S=[];C;){for(P=0,A=C.children.length;P<A;P++)w=C.children[P],kt(b,st=C.leaf?Z(w):w)&&(C.leaf?N.push(w):wt(b,st)?this._all(w,N):S.push(w));C=S.pop()}return N},collides:function(b){var C=this.data,N=this.toBBox;if(!kt(b,C))return!1;for(var S,P,A,w,Z=[];C;){for(S=0,P=C.children.length;S<P;S++)if(A=C.children[S],kt(b,w=C.leaf?N(A):A)){if(C.leaf||wt(b,w))return!0;Z.push(A)}C=Z.pop()}return!1},load:function(b){if(!b||!b.length)return this;if(b.length<this._minEntries){for(var C=0,N=b.length;C<N;C++)this.insert(b[C]);return this}var Z=this._build(b.slice(),0,b.length-1,0);if(this.data.children.length)if(this.data.height===Z.height)this._splitRoot(this.data,Z);else{if(this.data.height<Z.height){var S=this.data;this.data=Z,Z=S}this._insert(Z,this.data.height-Z.height-1,!0)}else this.data=Z;return this},insert:function(b){return b&&this._insert(b,this.data.height-1),this},clear:function(){return this.data=et([]),this},remove:function(b,C){if(!b)return this;for(var A,w,st,z,N=this.data,Z=this.toBBox(b),S=[],P=[];N||S.length;){if(N||(N=S.pop(),w=S[S.length-1],A=P.pop(),z=!0),N.leaf&&-1!==(st=O(b,N.children,C)))return N.children.splice(st,1),S.push(N),this._condense(S),this;z||N.leaf||!wt(N,Z)?w?(A++,N=w.children[A],z=!1):N=null:(S.push(N),P.push(A),A=0,w=N,N=N.children[0])}return this},toBBox:function(b){return b},compareMinX:ot,compareMinY:ft,toJSON:function(){return this.data},fromJSON:function(b){return this.data=b,this},_all:function(b,C){for(var N=[];b;)b.leaf?C.push.apply(C,b.children):N.push.apply(N,b.children),b=N.pop();return C},_build:function(b,C,N,Z){var A,S=N-C+1,P=this._maxEntries;if(S<=P)return h(A=et(b.slice(C,N+1)),this.toBBox),A;Z||(Z=Math.ceil(Math.log(S)/Math.log(P)),P=Math.ceil(S/Math.pow(P,Z-1))),(A=et([])).leaf=!1,A.height=Z;var z,K,R,At,w=Math.ceil(S/P),st=w*Math.ceil(Math.sqrt(P));for(pt(b,C,N,st,this.compareMinX),z=C;z<=N;z+=st)for(pt(b,z,R=Math.min(z+st-1,N),w,this.compareMinY),K=z;K<=R;K+=w)At=Math.min(K+w-1,R),A.children.push(this._build(b,K,At,Z-1));return h(A,this.toBBox),A},_chooseSubtree:function(b,C,N,Z){for(var S,P,A,w,st,z,K,R;Z.push(C),!C.leaf&&Z.length-1!==N;){for(K=R=1/0,S=0,P=C.children.length;S<P;S++)st=Ct(A=C.children[S]),(z=xt(b,A)-st)<R?(R=z,K=st<K?st:K,w=A):z===R&&st<K&&(K=st,w=A);C=w||C.children[0]}return C},_insert:function(b,C,N){var S=N?b:(0,this.toBBox)(b),P=[],A=this._chooseSubtree(S,this.data,C,P);for(A.children.push(b),W(A,S);C>=0&&P[C].children.length>this._maxEntries;)this._split(P,C),C--;this._adjustParentBBoxes(S,P,C)},_split:function(b,C){var N=b[C],Z=N.children.length,S=this._minEntries;this._chooseSplitAxis(N,S,Z);var P=this._chooseSplitIndex(N,S,Z),A=et(N.children.splice(P,N.children.length-P));A.height=N.height,A.leaf=N.leaf,h(N,this.toBBox),h(A,this.toBBox),C?b[C-1].children.push(A):this._splitRoot(N,A)},_splitRoot:function(b,C){this.data=et([b,C]),this.data.height=b.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(b,C,N){var Z,S,P,A,w,st,z,K;for(st=z=1/0,Z=C;Z<=N-C;Z++)A=mt(S=nt(b,0,Z,this.toBBox),P=nt(b,Z,N,this.toBBox)),w=Ct(S)+Ct(P),A<st?(st=A,K=Z,z=w<z?w:z):A===st&&w<z&&(z=w,K=Z);return K},_chooseSplitAxis:function(b,C,N){var Z=b.leaf?this.compareMinX:ot,S=b.leaf?this.compareMinY:ft;this._allDistMargin(b,C,N,Z)<this._allDistMargin(b,C,N,S)&&b.children.sort(Z)},_allDistMargin:function(b,C,N,Z){b.children.sort(Z);var st,z,S=this.toBBox,P=nt(b,0,C,S),A=nt(b,N-C,N,S),w=Tt(P)+Tt(A);for(st=C;st<N-C;st++)z=b.children[st],W(P,b.leaf?S(z):z),w+=Tt(P);for(st=N-C-1;st>=C;st--)z=b.children[st],W(A,b.leaf?S(z):z),w+=Tt(A);return w},_adjustParentBBoxes:function(b,C,N){for(var Z=N;Z>=0;Z--)W(C[Z],b)},_condense:function(b){for(var N,C=b.length-1;C>=0;C--)0===b[C].children.length?C>0?(N=b[C-1].children).splice(N.indexOf(b[C]),1):this.clear():h(b[C],this.toBBox)},_initFormat:function(b){var C=["return a"," - b",";"];this.compareMinX=new Function("a","b",C.join(b[0])),this.compareMinY=new Function("a","b",C.join(b[1])),this.toBBox=new Function("a","return {minX: a"+b[0]+", minY: a"+b[1]+", maxX: a"+b[2]+", maxY: a"+b[3]+"};")}}},8410:(Dt,yt)=>{"use strict";function Q(z,K,R){void 0===R&&(R={});var At={type:"Feature"};return(0===R.id||R.id)&&(At.id=R.id),R.bbox&&(At.bbox=R.bbox),At.properties=K||{},At.geometry=z,At}function j(z,K,R){if(void 0===R&&(R={}),!z)throw new Error("coordinates is required");if(!Array.isArray(z))throw new Error("coordinates must be an Array");if(z.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!P(z[0])||!P(z[1]))throw new Error("coordinates must contain numbers");return Q({type:"Point",coordinates:z},K,R)}function h(z,K,R){void 0===R&&(R={});for(var At=0,Nt=z;At<Nt.length;At++){var U=Nt[At];if(U.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var lt=0;lt<U[U.length-1].length;lt++)if(U[U.length-1][lt]!==U[0][lt])throw new Error("First and last Position are not equivalent.")}return Q({type:"Polygon",coordinates:z},K,R)}function W(z,K,R){if(void 0===R&&(R={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");return Q({type:"LineString",coordinates:z},K,R)}function ft(z,K){void 0===K&&(K={});var R={type:"FeatureCollection"};return K.id&&(R.id=K.id),K.bbox&&(R.bbox=K.bbox),R.features=z,R}function Ct(z,K,R){return void 0===R&&(R={}),Q({type:"MultiLineString",coordinates:z},K,R)}function Tt(z,K,R){return void 0===R&&(R={}),Q({type:"MultiPoint",coordinates:z},K,R)}function xt(z,K,R){return void 0===R&&(R={}),Q({type:"MultiPolygon",coordinates:z},K,R)}function kt(z,K){void 0===K&&(K="kilometers");var R=yt.factors[K];if(!R)throw new Error(K+" units is invalid");return z*R}function et(z,K){void 0===K&&(K="kilometers");var R=yt.factors[K];if(!R)throw new Error(K+" units is invalid");return z/R}function C(z){return z%(2*Math.PI)*180/Math.PI}function P(z){return!isNaN(z)&&null!==z&&!Array.isArray(z)}Object.defineProperty(yt,"__esModule",{value:!0}),yt.earthRadius=6371008.8,yt.factors={centimeters:100*yt.earthRadius,centimetres:100*yt.earthRadius,degrees:yt.earthRadius/111325,feet:3.28084*yt.earthRadius,inches:39.37*yt.earthRadius,kilometers:yt.earthRadius/1e3,kilometres:yt.earthRadius/1e3,meters:yt.earthRadius,metres:yt.earthRadius,miles:yt.earthRadius/1609.344,millimeters:1e3*yt.earthRadius,millimetres:1e3*yt.earthRadius,nauticalmiles:yt.earthRadius/1852,radians:1,yards:1.0936*yt.earthRadius},yt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/yt.earthRadius,yards:1.0936133},yt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},yt.feature=Q,yt.geometry=function(z,K,R){switch(void 0===R&&(R={}),z){case"Point":return j(K).geometry;case"LineString":return W(K).geometry;case"Polygon":return h(K).geometry;case"MultiPoint":return Tt(K).geometry;case"MultiLineString":return Ct(K).geometry;case"MultiPolygon":return xt(K).geometry;default:throw new Error(z+" is invalid")}},yt.point=j,yt.points=function(z,K,R){return void 0===R&&(R={}),ft(z.map(function(At){return j(At,K)}),R)},yt.polygon=h,yt.polygons=function(z,K,R){return void 0===R&&(R={}),ft(z.map(function(At){return h(At,K)}),R)},yt.lineString=W,yt.lineStrings=function(z,K,R){return void 0===R&&(R={}),ft(z.map(function(At){return W(At,K)}),R)},yt.featureCollection=ft,yt.multiLineString=Ct,yt.multiPoint=Tt,yt.multiPolygon=xt,yt.geometryCollection=function(z,K,R){return void 0===R&&(R={}),Q({type:"GeometryCollection",geometries:z},K,R)},yt.round=function(z,K){if(void 0===K&&(K=0),K&&!(K>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,K||0);return Math.round(z*R)/R},yt.radiansToLength=kt,yt.lengthToRadians=et,yt.lengthToDegrees=function(z,K){return C(et(z,K))},yt.bearingToAzimuth=function(z){var K=z%360;return K<0&&(K+=360),K},yt.radiansToDegrees=C,yt.degreesToRadians=function(z){return z%360*Math.PI/180},yt.convertLength=function(z,K,R){if(void 0===K&&(K="kilometers"),void 0===R&&(R="kilometers"),!(z>=0))throw new Error("length must be a positive number");return kt(et(z,K),R)},yt.convertArea=function(z,K,R){if(void 0===K&&(K="meters"),void 0===R&&(R="kilometers"),!(z>=0))throw new Error("area must be a positive number");var At=yt.areaFactors[K];if(!At)throw new Error("invalid original units");var Nt=yt.areaFactors[R];if(!Nt)throw new Error("invalid final units");return z/At*Nt},yt.isNumber=P,yt.isObject=function(z){return!!z&&z.constructor===Object},yt.validateBBox=function(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(4!==z.length&&6!==z.length)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(K){if(!P(K))throw new Error("bbox must only contain numbers")})},yt.validateId=function(z){if(!z)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof z))throw new Error("id must be a number or a string")}},3033:(Dt,yt,Q)=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});var F=Q(8410);function j(N,Z,S){if(null!==N)for(var P,A,w,st,z,K,R,U,At=0,Nt=0,lt=N.type,J="FeatureCollection"===lt,at="Feature"===lt,ct=J?N.features.length:1,G=0;G<ct;G++){z=(U=!!(R=J?N.features[G].geometry:at?N.geometry:N)&&"GeometryCollection"===R.type)?R.geometries.length:1;for(var bt=0;bt<z;bt++){var Lt=0,Xt=0;if(null!==(st=U?R.geometries[bt]:R)){K=st.coordinates;var Ot=st.type;switch(At=!S||"Polygon"!==Ot&&"MultiPolygon"!==Ot?0:1,Ot){case null:break;case"Point":if(!1===Z(K,Nt,G,Lt,Xt))return!1;Nt++,Lt++;break;case"LineString":case"MultiPoint":for(P=0;P<K.length;P++){if(!1===Z(K[P],Nt,G,Lt,Xt))return!1;Nt++,"MultiPoint"===Ot&&Lt++}"LineString"===Ot&&Lt++;break;case"Polygon":case"MultiLineString":for(P=0;P<K.length;P++){for(A=0;A<K[P].length-At;A++){if(!1===Z(K[P][A],Nt,G,Lt,Xt))return!1;Nt++}"MultiLineString"===Ot&&Lt++,"Polygon"===Ot&&Xt++}"Polygon"===Ot&&Lt++;break;case"MultiPolygon":for(P=0;P<K.length;P++){for(Xt=0,A=0;A<K[P].length;A++){for(w=0;w<K[P][A].length-At;w++){if(!1===Z(K[P][A][w],Nt,G,Lt,Xt))return!1;Nt++}Xt++}Lt++}break;case"GeometryCollection":for(P=0;P<st.geometries.length;P++)if(!1===j(st.geometries[P],Z,S))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function h(N,Z){var S;switch(N.type){case"FeatureCollection":for(S=0;S<N.features.length&&!1!==Z(N.features[S].properties,S);S++);break;case"Feature":Z(N.properties,0)}}function W(N,Z){if("Feature"===N.type)Z(N,0);else if("FeatureCollection"===N.type)for(var S=0;S<N.features.length&&!1!==Z(N.features[S],S);S++);}function Ct(N,Z){var S,P,A,w,st,z,K,R,At,Nt,U=0,lt="FeatureCollection"===N.type,J="Feature"===N.type,at=lt?N.features.length:1;for(S=0;S<at;S++){for(R=lt?N.features[S].properties:J?N.properties:{},At=lt?N.features[S].bbox:J?N.bbox:void 0,Nt=lt?N.features[S].id:J?N.id:void 0,st=(K=!!(z=lt?N.features[S].geometry:J?N.geometry:N)&&"GeometryCollection"===z.type)?z.geometries.length:1,A=0;A<st;A++)if(null!==(w=K?z.geometries[A]:z))switch(w.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===Z(w,U,R,At,Nt))return!1;break;case"GeometryCollection":for(P=0;P<w.geometries.length;P++)if(!1===Z(w.geometries[P],U,R,At,Nt))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===Z(null,U,R,At,Nt))return!1;U++}}function xt(N,Z){Ct(N,function(S,P,A,w,st){var K,z=null===S?null:S.type;switch(z){case null:case"Point":case"LineString":case"Polygon":return!1!==Z(F.feature(S,A,{bbox:w,id:st}),P,0)&&void 0}switch(z){case"MultiPoint":K="Point";break;case"MultiLineString":K="LineString";break;case"MultiPolygon":K="Polygon"}for(var R=0;R<S.coordinates.length;R++)if(!1===Z(F.feature({type:K,coordinates:S.coordinates[R]},A),P,R))return!1})}function wt(N,Z){xt(N,function(S,P,A){var w=0;if(S.geometry){var st=S.geometry.type;if("Point"!==st&&"MultiPoint"!==st){var z,K=0,R=0,At=0;if(!1===j(S,function(Nt,U,lt,J,at){if(void 0===z||P>K||J>R||at>At)return z=Nt,K=P,R=J,At=at,void(w=0);var ct=F.lineString([z,Nt],S.properties);if(!1===Z(ct,P,A,at,w))return!1;w++,z=Nt}))return!1}}})}function et(N,Z){if(!N)throw new Error("geojson is required");xt(N,function(S,P,A){if(null!==S.geometry){var st=S.geometry.coordinates;switch(S.geometry.type){case"LineString":if(!1===Z(S,P,A,0,0))return!1;break;case"Polygon":for(var z=0;z<st.length;z++)if(!1===Z(F.lineString(st[z],S.properties),P,A,z))return!1}}})}yt.coordAll=function(N){var Z=[];return j(N,function(S){Z.push(S)}),Z},yt.coordEach=j,yt.coordReduce=function(N,Z,S,P){var A=S;return j(N,function(w,st,z,K,R){A=0===st&&void 0===S?w:Z(A,w,st,z,K,R)},P),A},yt.featureEach=W,yt.featureReduce=function(N,Z,S){var P=S;return W(N,function(A,w){P=0===w&&void 0===S?A:Z(P,A,w)}),P},yt.findPoint=function(N,Z){if(!F.isObject(Z=Z||{}))throw new Error("options is invalid");var z,S=Z.featureIndex||0,P=Z.multiFeatureIndex||0,A=Z.geometryIndex||0,w=Z.coordIndex||0,st=Z.properties;switch(N.type){case"FeatureCollection":S<0&&(S=N.features.length+S),st=st||N.features[S].properties,z=N.features[S].geometry;break;case"Feature":st=st||N.properties,z=N.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":z=N;break;default:throw new Error("geojson is invalid")}if(null===z)return null;var K=z.coordinates;switch(z.type){case"Point":return F.point(K,st,Z);case"MultiPoint":return P<0&&(P=K.length+P),F.point(K[P],st,Z);case"LineString":return w<0&&(w=K.length+w),F.point(K[w],st,Z);case"Polygon":return A<0&&(A=K.length+A),w<0&&(w=K[A].length+w),F.point(K[A][w],st,Z);case"MultiLineString":return P<0&&(P=K.length+P),w<0&&(w=K[P].length+w),F.point(K[P][w],st,Z);case"MultiPolygon":return P<0&&(P=K.length+P),A<0&&(A=K[P].length+A),w<0&&(w=K[P][A].length-w),F.point(K[P][A][w],st,Z)}throw new Error("geojson is invalid")},yt.findSegment=function(N,Z){if(!F.isObject(Z=Z||{}))throw new Error("options is invalid");var z,S=Z.featureIndex||0,P=Z.multiFeatureIndex||0,A=Z.geometryIndex||0,w=Z.segmentIndex||0,st=Z.properties;switch(N.type){case"FeatureCollection":S<0&&(S=N.features.length+S),st=st||N.features[S].properties,z=N.features[S].geometry;break;case"Feature":st=st||N.properties,z=N.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":z=N;break;default:throw new Error("geojson is invalid")}if(null===z)return null;var K=z.coordinates;switch(z.type){case"Point":case"MultiPoint":return null;case"LineString":return w<0&&(w=K.length+w-1),F.lineString([K[w],K[w+1]],st,Z);case"Polygon":return A<0&&(A=K.length+A),w<0&&(w=K[A].length+w-1),F.lineString([K[A][w],K[A][w+1]],st,Z);case"MultiLineString":return P<0&&(P=K.length+P),w<0&&(w=K[P].length+w-1),F.lineString([K[P][w],K[P][w+1]],st,Z);case"MultiPolygon":return P<0&&(P=K.length+P),A<0&&(A=K[P].length+A),w<0&&(w=K[P][A].length-w-1),F.lineString([K[P][A][w],K[P][A][w+1]],st,Z)}throw new Error("geojson is invalid")},yt.flattenEach=xt,yt.flattenReduce=function(N,Z,S){var P=S;return xt(N,function(A,w,st){P=0===w&&0===st&&void 0===S?A:Z(P,A,w,st)}),P},yt.geomEach=Ct,yt.geomReduce=function(N,Z,S){var P=S;return Ct(N,function(A,w,st,z,K){P=0===w&&void 0===S?A:Z(P,A,w,st,z,K)}),P},yt.lineEach=et,yt.lineReduce=function(N,Z,S){var P=S;return et(N,function(A,w,st,z){P=0===w&&void 0===S?A:Z(P,A,w,st,z)}),P},yt.propEach=h,yt.propReduce=function(N,Z,S){var P=S;return h(N,function(A,w){P=0===w&&void 0===S?A:Z(P,A,w)}),P},yt.segmentEach=wt,yt.segmentReduce=function(N,Z,S){var P=S,A=!1;return wt(N,function(w,st,z,K,R){P=!1===A&&void 0===S?w:Z(P,w,st,z,K,R),A=!0}),P}},9336:function(Dt){Dt.exports=function(){"use strict";function Q(O,h,nt,W,ot){for(;W>nt;){if(W-nt>600){var ft=W-nt+1,Ct=h-nt+1,Tt=Math.log(ft),xt=.5*Math.exp(2*Tt/3),mt=.5*Math.sqrt(Tt*xt*(ft-xt)/ft)*(Ct-ft/2<0?-1:1);Q(O,h,Math.max(nt,Math.floor(h-Ct*xt/ft+mt)),Math.min(W,Math.floor(h+(ft-Ct)*xt/ft+mt)),ot)}var et=O[h],pt=nt,b=W;for(F(O,nt,h),ot(O[W],et)>0&&F(O,nt,W);pt<b;){for(F(O,pt,b),pt++,b--;ot(O[pt],et)<0;)pt++;for(;ot(O[b],et)>0;)b--}0===ot(O[nt],et)?F(O,nt,b):F(O,++b,W),b<=h&&(nt=b+1),h<=b&&(W=b-1)}}function F(O,h,nt){var W=O[h];O[h]=O[nt],O[nt]=W}function j(O,h){return O<h?-1:O>h?1:0}return function(O,h,nt,W,ot){Q(O,h,nt||0,W||O.length-1,ot||j)}}()},8309:(Dt,yt,Q)=>{"use strict";Dt.exports=j,Dt.exports.default=j;var F=Q(9336);function j(b,C){if(!(this instanceof j))return new j(b,C);this._maxEntries=Math.max(4,b||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),C&&this._initFormat(C),this.clear()}function O(b,C,N){if(!N)return C.indexOf(b);for(var Z=0;Z<C.length;Z++)if(N(b,C[Z]))return Z;return-1}function h(b,C){nt(b,0,b.children.length,C,b)}function nt(b,C,N,Z,S){S||(S=et(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var A,P=C;P<N;P++)A=b.children[P],W(S,b.leaf?Z(A):A);return S}function W(b,C){return b.minX=Math.min(b.minX,C.minX),b.minY=Math.min(b.minY,C.minY),b.maxX=Math.max(b.maxX,C.maxX),b.maxY=Math.max(b.maxY,C.maxY),b}function ot(b,C){return b.minX-C.minX}function ft(b,C){return b.minY-C.minY}function Ct(b){return(b.maxX-b.minX)*(b.maxY-b.minY)}function Tt(b){return b.maxX-b.minX+(b.maxY-b.minY)}function xt(b,C){return(Math.max(C.maxX,b.maxX)-Math.min(C.minX,b.minX))*(Math.max(C.maxY,b.maxY)-Math.min(C.minY,b.minY))}function mt(b,C){var N=Math.max(b.minX,C.minX),Z=Math.max(b.minY,C.minY),S=Math.min(b.maxX,C.maxX),P=Math.min(b.maxY,C.maxY);return Math.max(0,S-N)*Math.max(0,P-Z)}function wt(b,C){return b.minX<=C.minX&&b.minY<=C.minY&&C.maxX<=b.maxX&&C.maxY<=b.maxY}function kt(b,C){return C.minX<=b.maxX&&C.minY<=b.maxY&&C.maxX>=b.minX&&C.maxY>=b.minY}function et(b){return{children:b,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function pt(b,C,N,Z,S){for(var A,P=[C,N];P.length;)!((N=P.pop())-(C=P.pop())<=Z)&&(A=C+Math.ceil((N-C)/Z/2)*Z,F(b,A,C,N,S),P.push(C,A,A,N))}j.prototype={all:function(){return this._all(this.data,[])},search:function(b){var C=this.data,N=[],Z=this.toBBox;if(!kt(b,C))return N;for(var P,A,w,st,S=[];C;){for(P=0,A=C.children.length;P<A;P++)w=C.children[P],kt(b,st=C.leaf?Z(w):w)&&(C.leaf?N.push(w):wt(b,st)?this._all(w,N):S.push(w));C=S.pop()}return N},collides:function(b){var C=this.data,N=this.toBBox;if(!kt(b,C))return!1;for(var S,P,A,w,Z=[];C;){for(S=0,P=C.children.length;S<P;S++)if(A=C.children[S],kt(b,w=C.leaf?N(A):A)){if(C.leaf||wt(b,w))return!0;Z.push(A)}C=Z.pop()}return!1},load:function(b){if(!b||!b.length)return this;if(b.length<this._minEntries){for(var C=0,N=b.length;C<N;C++)this.insert(b[C]);return this}var Z=this._build(b.slice(),0,b.length-1,0);if(this.data.children.length)if(this.data.height===Z.height)this._splitRoot(this.data,Z);else{if(this.data.height<Z.height){var S=this.data;this.data=Z,Z=S}this._insert(Z,this.data.height-Z.height-1,!0)}else this.data=Z;return this},insert:function(b){return b&&this._insert(b,this.data.height-1),this},clear:function(){return this.data=et([]),this},remove:function(b,C){if(!b)return this;for(var A,w,st,z,N=this.data,Z=this.toBBox(b),S=[],P=[];N||S.length;){if(N||(N=S.pop(),w=S[S.length-1],A=P.pop(),z=!0),N.leaf&&-1!==(st=O(b,N.children,C)))return N.children.splice(st,1),S.push(N),this._condense(S),this;z||N.leaf||!wt(N,Z)?w?(A++,N=w.children[A],z=!1):N=null:(S.push(N),P.push(A),A=0,w=N,N=N.children[0])}return this},toBBox:function(b){return b},compareMinX:ot,compareMinY:ft,toJSON:function(){return this.data},fromJSON:function(b){return this.data=b,this},_all:function(b,C){for(var N=[];b;)b.leaf?C.push.apply(C,b.children):N.push.apply(N,b.children),b=N.pop();return C},_build:function(b,C,N,Z){var A,S=N-C+1,P=this._maxEntries;if(S<=P)return h(A=et(b.slice(C,N+1)),this.toBBox),A;Z||(Z=Math.ceil(Math.log(S)/Math.log(P)),P=Math.ceil(S/Math.pow(P,Z-1))),(A=et([])).leaf=!1,A.height=Z;var z,K,R,At,w=Math.ceil(S/P),st=w*Math.ceil(Math.sqrt(P));for(pt(b,C,N,st,this.compareMinX),z=C;z<=N;z+=st)for(pt(b,z,R=Math.min(z+st-1,N),w,this.compareMinY),K=z;K<=R;K+=w)At=Math.min(K+w-1,R),A.children.push(this._build(b,K,At,Z-1));return h(A,this.toBBox),A},_chooseSubtree:function(b,C,N,Z){for(var S,P,A,w,st,z,K,R;Z.push(C),!C.leaf&&Z.length-1!==N;){for(K=R=1/0,S=0,P=C.children.length;S<P;S++)st=Ct(A=C.children[S]),(z=xt(b,A)-st)<R?(R=z,K=st<K?st:K,w=A):z===R&&st<K&&(K=st,w=A);C=w||C.children[0]}return C},_insert:function(b,C,N){var S=N?b:(0,this.toBBox)(b),P=[],A=this._chooseSubtree(S,this.data,C,P);for(A.children.push(b),W(A,S);C>=0&&P[C].children.length>this._maxEntries;)this._split(P,C),C--;this._adjustParentBBoxes(S,P,C)},_split:function(b,C){var N=b[C],Z=N.children.length,S=this._minEntries;this._chooseSplitAxis(N,S,Z);var P=this._chooseSplitIndex(N,S,Z),A=et(N.children.splice(P,N.children.length-P));A.height=N.height,A.leaf=N.leaf,h(N,this.toBBox),h(A,this.toBBox),C?b[C-1].children.push(A):this._splitRoot(N,A)},_splitRoot:function(b,C){this.data=et([b,C]),this.data.height=b.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(b,C,N){var Z,S,P,A,w,st,z,K;for(st=z=1/0,Z=C;Z<=N-C;Z++)A=mt(S=nt(b,0,Z,this.toBBox),P=nt(b,Z,N,this.toBBox)),w=Ct(S)+Ct(P),A<st?(st=A,K=Z,z=w<z?w:z):A===st&&w<z&&(z=w,K=Z);return K},_chooseSplitAxis:function(b,C,N){var Z=b.leaf?this.compareMinX:ot,S=b.leaf?this.compareMinY:ft;this._allDistMargin(b,C,N,Z)<this._allDistMargin(b,C,N,S)&&b.children.sort(Z)},_allDistMargin:function(b,C,N,Z){b.children.sort(Z);var st,z,S=this.toBBox,P=nt(b,0,C,S),A=nt(b,N-C,N,S),w=Tt(P)+Tt(A);for(st=C;st<N-C;st++)z=b.children[st],W(P,b.leaf?S(z):z),w+=Tt(P);for(st=N-C-1;st>=C;st--)z=b.children[st],W(A,b.leaf?S(z):z),w+=Tt(A);return w},_adjustParentBBoxes:function(b,C,N){for(var Z=N;Z>=0;Z--)W(C[Z],b)},_condense:function(b){for(var N,C=b.length-1;C>=0;C--)0===b[C].children.length?C>0?(N=b[C-1].children).splice(N.indexOf(b[C]),1):this.clear():h(b[C],this.toBBox)},_initFormat:function(b){var C=["return a"," - b",";"];this.compareMinX=new Function("a","b",C.join(b[0])),this.compareMinY=new Function("a","b",C.join(b[1])),this.toBBox=new Function("a","return {minX: a"+b[0]+", minY: a"+b[1]+", maxX: a"+b[2]+", maxY: a"+b[3]+"};")}}},9568:(Dt,yt,Q)=>{"use strict";var F=Q(8540),j=Q(44),O=j(F("String.prototype.indexOf"));Dt.exports=function(nt,W){var ot=F(nt,!!W);return"function"==typeof ot&&O(nt,".prototype.")>-1?j(ot):ot}},44:(Dt,yt,Q)=>{"use strict";var F=Q(5396),j=Q(8540),O=j("%Function.prototype.apply%"),h=j("%Function.prototype.call%"),nt=j("%Reflect.apply%",!0)||F.call(h,O),W=j("%Object.getOwnPropertyDescriptor%",!0),ot=j("%Object.defineProperty%",!0),ft=j("%Math.max%");if(ot)try{ot({},"a",{value:1})}catch(Tt){ot=null}Dt.exports=function(xt){var mt=nt(F,h,arguments);if(W&&ot){var wt=W(mt,"length");wt.configurable&&ot(mt,"length",{value:1+ft(0,xt.length-(arguments.length-1))})}return mt};var Ct=function(){return nt(F,O,arguments)};ot?ot(Dt.exports,"apply",{value:Ct}):Dt.exports.apply=Ct},6896:(Dt,yt,Q)=>{"use strict";var F=Q(3036),j=Q(54),O=Q(5503),h=Q(5322).orient2d;function nt(S,P,A){P=Math.max(0,void 0===P?2:P),A=A||0;var w=function(S){for(var P=S[0],A=S[0],w=S[0],st=S[0],z=0;z<S.length;z++){var K=S[z];K[0]<P[0]&&(P=K),K[0]>w[0]&&(w=K),K[1]<A[1]&&(A=K),K[1]>st[1]&&(st=K)}var R=[P,A,w,st],At=R.slice();for(z=0;z<S.length;z++)O(S[z],R)||At.push(S[z]);return function(S){S.sort(N);for(var P=[],A=0;A<S.length;A++){for(;P.length>=2&&xt(P[P.length-2],P[P.length-1],S[A])<=0;)P.pop();P.push(S[A])}for(var w=[],st=S.length-1;st>=0;st--){for(;w.length>=2&&xt(w[w.length-2],w[w.length-1],S[st])<=0;)w.pop();w.push(S[st])}return w.pop(),P.pop(),P.concat(w)}(At)}(S),st=new F(16);st.toBBox=function(Xt){return{minX:Xt[0],minY:Xt[1],maxX:Xt[0],maxY:Xt[1]}},st.compareMinX=function(Xt,Ot){return Xt[0]-Ot[0]},st.compareMinY=function(Xt,Ot){return Xt[1]-Ot[1]},st.load(S);for(var R,z=[],K=0;K<w.length;K++){var At=w[K];st.remove(At),R=et(At,R),z.push(R)}var Nt=new F(16);for(K=0;K<z.length;K++)Nt.insert(wt(z[K]));for(var U=P*P,lt=A*A;z.length;){var J=z.shift(),at=J.p,ct=J.next.p,G=pt(at,ct);if(!(G<lt)){var bt=G/U;(At=W(st,J.prev.p,at,ct,J.next.next.p,bt,Nt))&&Math.min(pt(At,at),pt(At,ct))<=bt&&(z.push(J),z.push(et(At,J)),st.remove(At),Nt.remove(J),Nt.insert(wt(J)),Nt.insert(wt(J.next)))}}J=R;var Lt=[];do{Lt.push(J.p),J=J.next}while(J!==R);return Lt.push(J.p),Lt}function W(S,P,A,w,st,z,K){for(var R=new j([],ot),At=S.data;At;){for(var Nt=0;Nt<At.children.length;Nt++){var U=At.children[Nt],lt=At.leaf?b(U,A,w):ft(A,w,U);lt>z||R.push({node:U,dist:lt})}for(;R.length&&!R.peek().node.children;){var J=R.pop(),at=J.node,ct=b(at,P,A),G=b(at,w,st);if(J.dist<ct&&J.dist<G&&Tt(A,at,K)&&Tt(w,at,K))return at}(At=R.pop())&&(At=At.node)}return null}function ot(S,P){return S.dist-P.dist}function ft(S,P,A){if(Ct(S,A)||Ct(P,A))return 0;var w=C(S[0],S[1],P[0],P[1],A.minX,A.minY,A.maxX,A.minY);if(0===w)return 0;var st=C(S[0],S[1],P[0],P[1],A.minX,A.minY,A.minX,A.maxY);if(0===st)return 0;var z=C(S[0],S[1],P[0],P[1],A.maxX,A.minY,A.maxX,A.maxY);if(0===z)return 0;var K=C(S[0],S[1],P[0],P[1],A.minX,A.maxY,A.maxX,A.maxY);return 0===K?0:Math.min(w,st,z,K)}function Ct(S,P){return S[0]>=P.minX&&S[0]<=P.maxX&&S[1]>=P.minY&&S[1]<=P.maxY}function Tt(S,P,A){for(var w=Math.min(S[0],P[0]),st=Math.min(S[1],P[1]),z=Math.max(S[0],P[0]),K=Math.max(S[1],P[1]),R=A.search({minX:w,minY:st,maxX:z,maxY:K}),At=0;At<R.length;At++)if(mt(R[At].p,R[At].next.p,S,P))return!1;return!0}function xt(S,P,A){return h(S[0],S[1],P[0],P[1],A[0],A[1])}function mt(S,P,A,w){return S!==w&&P!==A&&xt(S,P,A)>0!=xt(S,P,w)>0&&xt(A,w,S)>0!=xt(A,w,P)>0}function wt(S){var P=S.p,A=S.next.p;return S.minX=Math.min(P[0],A[0]),S.minY=Math.min(P[1],A[1]),S.maxX=Math.max(P[0],A[0]),S.maxY=Math.max(P[1],A[1]),S}function et(S,P){var A={p:S,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return P?(A.next=P.next,A.prev=P,P.next.prev=A,P.next=A):(A.prev=A,A.next=A),A}function pt(S,P){var A=S[0]-P[0],w=S[1]-P[1];return A*A+w*w}function b(S,P,A){var w=P[0],st=P[1],z=A[0]-w,K=A[1]-st;if(0!==z||0!==K){var R=((S[0]-w)*z+(S[1]-st)*K)/(z*z+K*K);R>1?(w=A[0],st=A[1]):R>0&&(w+=z*R,st+=K*R)}return(z=S[0]-w)*z+(K=S[1]-st)*K}function C(S,P,A,w,st,z,K,R){var ie,fe,ue,Jt,At=A-S,Nt=w-P,U=K-st,lt=R-z,J=S-st,at=P-z,ct=At*At+Nt*Nt,G=At*U+Nt*lt,bt=U*U+lt*lt,Lt=At*J+Nt*at,Xt=U*J+lt*at,Ot=ct*bt-G*G,Vt=Ot,Gt=Ot;0===Ot?(fe=0,Vt=1,Jt=Xt,Gt=bt):(Jt=ct*Xt-G*Lt,(fe=G*Xt-bt*Lt)<0?(fe=0,Jt=Xt,Gt=bt):fe>Vt&&(fe=Vt,Jt=Xt+G,Gt=bt)),Jt<0?(Jt=0,-Lt<0?fe=0:-Lt>ct?fe=Vt:(fe=-Lt,Vt=ct)):Jt>Gt&&(Jt=Gt,-Lt+G<0?fe=0:-Lt+G>ct?fe=Vt:(fe=-Lt+G,Vt=ct));var An=(1-(ue=0===Jt?0:Jt/Gt))*st+ue*K-((1-(ie=0===fe?0:fe/Vt))*S+ie*A),dt=(1-ue)*z+ue*R-((1-ie)*P+ie*w);return An*An+dt*dt}function N(S,P){return S[0]===P[0]?S[1]-P[1]:S[0]-P[0]}j.default&&(j=j.default),Dt.exports=nt,Dt.exports.default=nt},2978:(Dt,yt,Q)=>{var F=Q(8507),j=Q(7316),O=Q(4269),h=Q(5544),nt=Q(437),W=Q(3105),ot=Date.prototype.getTime;function Ct(mt){return null==mt}function Tt(mt){return!(!mt||"object"!=typeof mt||"number"!=typeof mt.length||"function"!=typeof mt.copy||"function"!=typeof mt.slice||mt.length>0&&"number"!=typeof mt[0])}Dt.exports=function ft(mt,wt,kt){var et=kt||{};return!!(et.strict?O(mt,wt):mt===wt)||(!mt||!wt||"object"!=typeof mt&&"object"!=typeof wt?et.strict?O(mt,wt):mt==wt:function(mt,wt,kt){var et,pt;if(typeof mt!=typeof wt||Ct(mt)||Ct(wt)||mt.prototype!==wt.prototype||j(mt)!==j(wt))return!1;var b=h(mt),C=h(wt);if(b!==C)return!1;if(b||C)return mt.source===wt.source&&nt(mt)===nt(wt);if(W(mt)&&W(wt))return ot.call(mt)===ot.call(wt);var N=Tt(mt),Z=Tt(wt);if(N!==Z)return!1;if(N||Z){if(mt.length!==wt.length)return!1;for(et=0;et<mt.length;et++)if(mt[et]!==wt[et])return!1;return!0}if(typeof mt!=typeof wt)return!1;try{var S=F(mt),P=F(wt)}catch(A){return!1}if(S.length!==P.length)return!1;for(S.sort(),P.sort(),et=S.length-1;et>=0;et--)if(S[et]!=P[et])return!1;for(et=S.length-1;et>=0;et--)if(!ft(mt[pt=S[et]],wt[pt],kt))return!1;return!0}(mt,wt,et))}},6886:(Dt,yt,Q)=>{"use strict";var F=Q(8507),j="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),O=Object.prototype.toString,h=Array.prototype.concat,nt=Object.defineProperty,ft=nt&&function(){var xt={};try{for(var mt in nt(xt,"x",{enumerable:!1,value:xt}),xt)return!1;return xt.x===xt}catch(wt){return!1}}(),Ct=function(xt,mt,wt,kt){mt in xt&&(!function(xt){return"function"==typeof xt&&"[object Function]"===O.call(xt)}(kt)||!kt())||(ft?nt(xt,mt,{configurable:!0,enumerable:!1,value:wt,writable:!0}):xt[mt]=wt)},Tt=function(xt,mt){var wt=arguments.length>2?arguments[2]:{},kt=F(mt);j&&(kt=h.call(kt,Object.getOwnPropertySymbols(mt)));for(var et=0;et<kt.length;et+=1)Ct(xt,kt[et],mt[kt[et]],wt[kt[et]])};Tt.supportsDescriptors=!!ft,Dt.exports=Tt},5810:Dt=>{function yt(Q,F,j,O){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(Q,F,j,O)}yt.prototype.run=function(Q,F,j,O){this._init(Q,F,j,O);for(var h=0;h<this._datasetLength;h++)if(1!==this._visited[h]){this._visited[h]=1;var nt=this._regionQuery(h);if(nt.length<this.minPts)this.noise.push(h);else{var W=this.clusters.length;this.clusters.push([]),this._addToCluster(h,W),this._expandCluster(W,nt)}}return this.clusters},yt.prototype._init=function(Q,F,j,O){if(Q){if(!(Q instanceof Array))throw Error("Dataset must be of type array, "+typeof Q+" given");this.dataset=Q,this.clusters=[],this.noise=[],this._datasetLength=Q.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}F&&(this.epsilon=F),j&&(this.minPts=j),O&&(this.distance=O)},yt.prototype._expandCluster=function(Q,F){for(var j=0;j<F.length;j++){var O=F[j];if(1!==this._visited[O]){this._visited[O]=1;var h=this._regionQuery(O);h.length>=this.minPts&&(F=this._mergeArrays(F,h))}1!==this._assigned[O]&&this._addToCluster(O,Q)}},yt.prototype._addToCluster=function(Q,F){this.clusters[F].push(Q),this._assigned[Q]=1},yt.prototype._regionQuery=function(Q){for(var F=[],j=0;j<this._datasetLength;j++)this.distance(this.dataset[Q],this.dataset[j])<this.epsilon&&F.push(j);return F},yt.prototype._mergeArrays=function(Q,F){for(var j=F.length,O=0;O<j;O++){var h=F[O];Q.indexOf(h)<0&&Q.push(h)}return Q},yt.prototype._euclideanDistance=function(Q,F){for(var j=0,O=Math.min(Q.length,F.length);O--;)j+=(Q[O]-F[O])*(Q[O]-F[O]);return Math.sqrt(j)},Dt.exports&&(Dt.exports=yt)},1955:Dt=>{function yt(Q,F,j){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(Q,F,j)}yt.prototype.init=function(Q,F,j){this.assignments=[],this.centroids=[],void 0!==Q&&(this.dataset=Q),void 0!==F&&(this.k=F),void 0!==j&&(this.distance=j)},yt.prototype.run=function(Q,F){this.init(Q,F);for(var j=this.dataset.length,O=0;O<this.k;O++)this.centroids[O]=this.randomCentroid();for(var h=!0;h;){h=this.assign();for(var nt=0;nt<this.k;nt++){for(var W=new Array(Tt),ot=0,ft=0;ft<Tt;ft++)W[ft]=0;for(var Ct=0;Ct<j;Ct++){var Tt=this.dataset[Ct].length;if(nt===this.assignments[Ct]){for(ft=0;ft<Tt;ft++)W[ft]+=this.dataset[Ct][ft];ot++}}if(ot>0){for(ft=0;ft<Tt;ft++)W[ft]/=ot;this.centroids[nt]=W}else this.centroids[nt]=this.randomCentroid(),h=!0}}return this.getClusters()},yt.prototype.randomCentroid=function(){var F,j,Q=this.dataset.length-1;do{j=Math.round(Math.random()*Q),F=this.dataset[j]}while(this.centroids.indexOf(F)>=0);return F},yt.prototype.assign=function(){for(var j,Q=!1,F=this.dataset.length,O=0;O<F;O++)(j=this.argmin(this.dataset[O],this.centroids,this.distance))!=this.assignments[O]&&(this.assignments[O]=j,Q=!0);return Q},yt.prototype.getClusters=function(){for(var F,Q=new Array(this.k),j=0;j<this.assignments.length;j++)void 0===Q[F=this.assignments[j]]&&(Q[F]=[]),Q[F].push(j);return Q},yt.prototype.argmin=function(Q,F,j){for(var W,O=Number.MAX_VALUE,h=0,nt=F.length,ot=0;ot<nt;ot++)(W=j(Q,F[ot]))<O&&(O=W,h=ot);return h},yt.prototype.distance=function(Q,F){for(var j=0,O=Math.min(Q.length,F.length);O--;){var h=Q[O]-F[O];j+=h*h}return Math.sqrt(j)},Dt.exports&&(Dt.exports=yt)},5e3:(Dt,yt,Q)=>{if(Dt.exports)var F=Q(571);function j(O,h,nt,W){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(O,h,nt,W)}j.prototype.run=function(O,h,nt,W){this._init(O,h,nt,W);for(var ot=0,ft=this.dataset.length;ot<ft;ot++)if(1!==this._processed[ot]){this._processed[ot]=1,this.clusters.push([ot]);var Ct=this.clusters.length-1;this._orderedList.push(ot);var Tt=new F(null,null,"asc"),xt=this._regionQuery(ot);void 0!==this._distanceToCore(ot)&&(this._updateQueue(ot,xt,Tt),this._expandCluster(Ct,Tt))}return this.clusters},j.prototype.getReachabilityPlot=function(){for(var O=[],h=0,nt=this._orderedList.length;h<nt;h++){var W=this._orderedList[h];O.push([W,this._reachability[W]])}return O},j.prototype._init=function(O,h,nt,W){if(O){if(!(O instanceof Array))throw Error("Dataset must be of type array, "+typeof O+" given");this.dataset=O,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}h&&(this.epsilon=h),nt&&(this.minPts=nt),W&&(this.distance=W)},j.prototype._updateQueue=function(O,h,nt){var W=this;this._coreDistance=this._distanceToCore(O),h.forEach(function(ot){if(void 0===W._processed[ot]){var ft=W.distance(W.dataset[O],W.dataset[ot]),Ct=Math.max(W._coreDistance,ft);void 0===W._reachability[ot]?(W._reachability[ot]=Ct,nt.insert(ot,Ct)):Ct<W._reachability[ot]&&(W._reachability[ot]=Ct,nt.remove(ot),nt.insert(ot,Ct))}})},j.prototype._expandCluster=function(O,h){for(var nt=h.getElements(),W=0,ot=nt.length;W<ot;W++){var ft=nt[W];if(void 0===this._processed[ft]){var Ct=this._regionQuery(ft);this._processed[ft]=1,this.clusters[O].push(ft),this._orderedList.push(ft),void 0!==this._distanceToCore(ft)&&(this._updateQueue(ft,Ct,h),this._expandCluster(O,h))}}},j.prototype._distanceToCore=function(O){for(var h=this.epsilon,nt=0;nt<h;nt++)if(this._regionQuery(O,nt).length>=this.minPts)return nt},j.prototype._regionQuery=function(O,h){h=h||this.epsilon;for(var nt=[],W=0,ot=this.dataset.length;W<ot;W++)this.distance(this.dataset[O],this.dataset[W])<h&&nt.push(W);return nt},j.prototype._euclideanDistance=function(O,h){for(var nt=0,W=Math.min(O.length,h.length);W--;)nt+=(O[W]-h[W])*(O[W]-h[W]);return Math.sqrt(nt)},Dt.exports&&(Dt.exports=j)},571:Dt=>{function yt(Q,F,j){this._queue=[],this._priorities=[],this._sorting="desc",this._init(Q,F,j)}yt.prototype.insert=function(Q,F){for(var j=this._queue.length,O=j;O--;){var h=this._priorities[O];"desc"===this._sorting?F>h&&(j=O):F<h&&(j=O)}this._insertAt(Q,F,j)},yt.prototype.remove=function(Q){for(var F=this._queue.length;F--;)if(Q===this._queue[F]){this._queue.splice(F,1),this._priorities.splice(F,1);break}},yt.prototype.forEach=function(Q){this._queue.forEach(Q)},yt.prototype.getElements=function(){return this._queue},yt.prototype.getElementPriority=function(Q){return this._priorities[Q]},yt.prototype.getPriorities=function(){return this._priorities},yt.prototype.getElementsWithPriorities=function(){for(var Q=[],F=0,j=this._queue.length;F<j;F++)Q.push([this._queue[F],this._priorities[F]]);return Q},yt.prototype._init=function(Q,F,j){if(Q&&F){if(this._queue=[],this._priorities=[],Q.length!==F.length)throw new Error("Arrays must have the same length");for(var O=0;O<Q.length;O++)this.insert(Q[O],F[O])}j&&(this._sorting=j)},yt.prototype._insertAt=function(Q,F,j){this._queue.length===j?(this._queue.push(Q),this._priorities.push(F)):(this._queue.splice(j,0,Q),this._priorities.splice(j,0,F))},Dt.exports&&(Dt.exports=yt)},6882:(Dt,yt,Q)=>{Dt.exports&&(Dt.exports={DBSCAN:Q(5810),KMEANS:Q(1955),OPTICS:Q(5e3),PriorityQueue:Q(571)})},1604:Dt=>{"use strict";function yt(U,lt,J){J=J||2;var Lt,Xt,Ot,ie,fe,ue,Jt,at=lt&&lt.length,ct=at?lt[0]*J:U.length,G=Q(U,0,ct,J,!0),bt=[];if(!G||G.next===G.prev)return bt;if(at&&(G=function(U,lt,J,at){var G,bt,Ot,ct=[];for(G=0,bt=lt.length;G<bt;G++)(Ot=Q(U,lt[G]*at,G<bt-1?lt[G+1]*at:U.length,at,!1))===Ot.next&&(Ot.steiner=!0),ct.push(et(Ot));for(ct.sort(ft),G=0;G<ct.length;G++)J=F(J=Ct(ct[G],J),J.next);return J}(U,lt,G,J)),U.length>80*J){Lt=Ot=U[0],Xt=ie=U[1];for(var Vt=J;Vt<ct;Vt+=J)(fe=U[Vt])<Lt&&(Lt=fe),(ue=U[Vt+1])<Xt&&(Xt=ue),fe>Ot&&(Ot=fe),ue>ie&&(ie=ue);Jt=0!==(Jt=Math.max(Ot-Lt,ie-Xt))?1/Jt:0}return j(G,bt,J,Lt,Xt,Jt),bt}function Q(U,lt,J,at,ct){var G,bt;if(ct===Nt(U,lt,J,at)>0)for(G=lt;G<J;G+=at)bt=K(G,U[G],U[G+1],bt);else for(G=J-at;G>=lt;G-=at)bt=K(G,U[G],U[G+1],bt);return bt&&N(bt,bt.next)&&(R(bt),bt=bt.next),bt}function F(U,lt){if(!U)return U;lt||(lt=U);var at,J=U;do{if(at=!1,J.steiner||!N(J,J.next)&&0!==C(J.prev,J,J.next))J=J.next;else{if(R(J),(J=lt=J.prev)===J.next)break;at=!0}}while(at||J!==lt);return lt}function j(U,lt,J,at,ct,G,bt){if(U){!bt&&G&&function(U,lt,J,at){var ct=U;do{null===ct.z&&(ct.z=kt(ct.x,ct.y,lt,J,at)),ct.prevZ=ct.prev,ct.nextZ=ct.next,ct=ct.next}while(ct!==U);ct.prevZ.nextZ=null,ct.prevZ=null,function(U){var lt,J,at,ct,G,bt,Lt,Xt,Ot=1;do{for(J=U,U=null,G=null,bt=0;J;){for(bt++,at=J,Lt=0,lt=0;lt<Ot&&(Lt++,at=at.nextZ);lt++);for(Xt=Ot;Lt>0||Xt>0&&at;)0!==Lt&&(0===Xt||!at||J.z<=at.z)?(ct=J,J=J.nextZ,Lt--):(ct=at,at=at.nextZ,Xt--),G?G.nextZ=ct:U=ct,ct.prevZ=G,G=ct;J=at}G.nextZ=null,Ot*=2}while(bt>1)}(ct)}(U,at,ct,G);for(var Xt,Ot,Lt=U;U.prev!==U.next;)if(Xt=U.prev,Ot=U.next,G?h(U,at,ct,G):O(U))lt.push(Xt.i/J),lt.push(U.i/J),lt.push(Ot.i/J),R(U),U=Ot.next,Lt=Ot.next;else if((U=Ot)===Lt){bt?1===bt?j(U=nt(F(U),lt,J),lt,J,at,ct,G,2):2===bt&&W(U,lt,J,at,ct,G):j(F(U),lt,J,at,ct,G,1);break}}}function O(U){var lt=U.prev,J=U,at=U.next;if(C(lt,J,at)>=0)return!1;for(var ct=U.next.next;ct!==U.prev;){if(pt(lt.x,lt.y,J.x,J.y,at.x,at.y,ct.x,ct.y)&&C(ct.prev,ct,ct.next)>=0)return!1;ct=ct.next}return!0}function h(U,lt,J,at){var ct=U.prev,G=U,bt=U.next;if(C(ct,G,bt)>=0)return!1;for(var Ot=ct.x>G.x?ct.x>bt.x?ct.x:bt.x:G.x>bt.x?G.x:bt.x,ie=ct.y>G.y?ct.y>bt.y?ct.y:bt.y:G.y>bt.y?G.y:bt.y,fe=kt(ct.x<G.x?ct.x<bt.x?ct.x:bt.x:G.x<bt.x?G.x:bt.x,ct.y<G.y?ct.y<bt.y?ct.y:bt.y:G.y<bt.y?G.y:bt.y,lt,J,at),ue=kt(Ot,ie,lt,J,at),Jt=U.prevZ,Vt=U.nextZ;Jt&&Jt.z>=fe&&Vt&&Vt.z<=ue;){if(Jt!==U.prev&&Jt!==U.next&&pt(ct.x,ct.y,G.x,G.y,bt.x,bt.y,Jt.x,Jt.y)&&C(Jt.prev,Jt,Jt.next)>=0||(Jt=Jt.prevZ,Vt!==U.prev&&Vt!==U.next&&pt(ct.x,ct.y,G.x,G.y,bt.x,bt.y,Vt.x,Vt.y)&&C(Vt.prev,Vt,Vt.next)>=0))return!1;Vt=Vt.nextZ}for(;Jt&&Jt.z>=fe;){if(Jt!==U.prev&&Jt!==U.next&&pt(ct.x,ct.y,G.x,G.y,bt.x,bt.y,Jt.x,Jt.y)&&C(Jt.prev,Jt,Jt.next)>=0)return!1;Jt=Jt.prevZ}for(;Vt&&Vt.z<=ue;){if(Vt!==U.prev&&Vt!==U.next&&pt(ct.x,ct.y,G.x,G.y,bt.x,bt.y,Vt.x,Vt.y)&&C(Vt.prev,Vt,Vt.next)>=0)return!1;Vt=Vt.nextZ}return!0}function nt(U,lt,J){var at=U;do{var ct=at.prev,G=at.next.next;!N(ct,G)&&Z(ct,at,at.next,G)&&w(ct,G)&&w(G,ct)&&(lt.push(ct.i/J),lt.push(at.i/J),lt.push(G.i/J),R(at),R(at.next),at=U=G),at=at.next}while(at!==U);return F(at)}function W(U,lt,J,at,ct,G){var bt=U;do{for(var Lt=bt.next.next;Lt!==bt.prev;){if(bt.i!==Lt.i&&b(bt,Lt)){var Xt=z(bt,Lt);return bt=F(bt,bt.next),Xt=F(Xt,Xt.next),j(bt,lt,J,at,ct,G),void j(Xt,lt,J,at,ct,G)}Lt=Lt.next}bt=bt.next}while(bt!==U)}function ft(U,lt){return U.x-lt.x}function Ct(U,lt){var J=function(U,lt){var bt,J=lt,at=U.x,ct=U.y,G=-1/0;do{if(ct<=J.y&&ct>=J.next.y&&J.next.y!==J.y){var Lt=J.x+(ct-J.y)*(J.next.x-J.x)/(J.next.y-J.y);if(Lt<=at&&Lt>G){if(G=Lt,Lt===at){if(ct===J.y)return J;if(ct===J.next.y)return J.next}bt=J.x<J.next.x?J:J.next}}J=J.next}while(J!==lt);if(!bt)return null;if(at===G)return bt;var ue,Xt=bt,Ot=bt.x,ie=bt.y,fe=1/0;J=bt;do{at>=J.x&&J.x>=Ot&&at!==J.x&&pt(ct<ie?at:G,ct,Ot,ie,ct<ie?G:at,ct,J.x,J.y)&&(ue=Math.abs(ct-J.y)/(at-J.x),w(J,U)&&(ue<fe||ue===fe&&(J.x>bt.x||J.x===bt.x&&xt(bt,J)))&&(bt=J,fe=ue)),J=J.next}while(J!==Xt);return bt}(U,lt);if(!J)return lt;var at=z(J,U),ct=F(J,J.next);return F(at,at.next),lt===J?ct:lt}function xt(U,lt){return C(U.prev,U,lt.prev)<0&&C(lt.next,U,U.next)<0}function kt(U,lt,J,at,ct){return(U=1431655765&((U=858993459&((U=252645135&((U=16711935&((U=32767*(U-J)*ct)|U<<8))|U<<4))|U<<2))|U<<1))|(lt=1431655765&((lt=858993459&((lt=252645135&((lt=16711935&((lt=32767*(lt-at)*ct)|lt<<8))|lt<<4))|lt<<2))|lt<<1))<<1}function et(U){var lt=U,J=U;do{(lt.x<J.x||lt.x===J.x&&lt.y<J.y)&&(J=lt),lt=lt.next}while(lt!==U);return J}function pt(U,lt,J,at,ct,G,bt,Lt){return(ct-bt)*(lt-Lt)-(U-bt)*(G-Lt)>=0&&(U-bt)*(at-Lt)-(J-bt)*(lt-Lt)>=0&&(J-bt)*(G-Lt)-(ct-bt)*(at-Lt)>=0}function b(U,lt){return U.next.i!==lt.i&&U.prev.i!==lt.i&&!function(U,lt){var J=U;do{if(J.i!==U.i&&J.next.i!==U.i&&J.i!==lt.i&&J.next.i!==lt.i&&Z(J,J.next,U,lt))return!0;J=J.next}while(J!==U);return!1}(U,lt)&&(w(U,lt)&&w(lt,U)&&function(U,lt){var J=U,at=!1,ct=(U.x+lt.x)/2,G=(U.y+lt.y)/2;do{J.y>G!=J.next.y>G&&J.next.y!==J.y&&ct<(J.next.x-J.x)*(G-J.y)/(J.next.y-J.y)+J.x&&(at=!at),J=J.next}while(J!==U);return at}(U,lt)&&(C(U.prev,U,lt.prev)||C(U,lt.prev,lt))||N(U,lt)&&C(U.prev,U,U.next)>0&&C(lt.prev,lt,lt.next)>0)}function C(U,lt,J){return(lt.y-U.y)*(J.x-lt.x)-(lt.x-U.x)*(J.y-lt.y)}function N(U,lt){return U.x===lt.x&&U.y===lt.y}function Z(U,lt,J,at){var ct=P(C(U,lt,J)),G=P(C(U,lt,at)),bt=P(C(J,at,U)),Lt=P(C(J,at,lt));return!!(ct!==G&&bt!==Lt||0===ct&&S(U,J,lt)||0===G&&S(U,at,lt)||0===bt&&S(J,U,at)||0===Lt&&S(J,lt,at))}function S(U,lt,J){return lt.x<=Math.max(U.x,J.x)&&lt.x>=Math.min(U.x,J.x)&&lt.y<=Math.max(U.y,J.y)&&lt.y>=Math.min(U.y,J.y)}function P(U){return U>0?1:U<0?-1:0}function w(U,lt){return C(U.prev,U,U.next)<0?C(U,lt,U.next)>=0&&C(U,U.prev,lt)>=0:C(U,lt,U.prev)<0||C(U,U.next,lt)<0}function z(U,lt){var J=new At(U.i,U.x,U.y),at=new At(lt.i,lt.x,lt.y),ct=U.next,G=lt.prev;return U.next=lt,lt.prev=U,J.next=ct,ct.prev=J,at.next=J,J.prev=at,G.next=at,at.prev=G,at}function K(U,lt,J,at){var ct=new At(U,lt,J);return at?(ct.next=at.next,ct.prev=at,at.next.prev=ct,at.next=ct):(ct.prev=ct,ct.next=ct),ct}function R(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function At(U,lt,J){this.i=U,this.x=lt,this.y=J,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nt(U,lt,J,at){for(var ct=0,G=lt,bt=J-at;G<J;G+=at)ct+=(U[bt]-U[G])*(U[G+1]+U[bt+1]),bt=G;return ct}Dt.exports=yt,Dt.exports.default=yt,yt.deviation=function(U,lt,J,at){var ct=lt&&lt.length,bt=Math.abs(Nt(U,0,ct?lt[0]*J:U.length,J));if(ct)for(var Lt=0,Xt=lt.length;Lt<Xt;Lt++)bt-=Math.abs(Nt(U,lt[Lt]*J,Lt<Xt-1?lt[Lt+1]*J:U.length,J));var fe=0;for(Lt=0;Lt<at.length;Lt+=3){var ue=at[Lt]*J,Jt=at[Lt+1]*J,Vt=at[Lt+2]*J;fe+=Math.abs((U[ue]-U[Vt])*(U[Jt+1]-U[ue+1])-(U[ue]-U[Jt])*(U[Vt+1]-U[ue+1]))}return 0===bt&&0===fe?0:Math.abs((fe-bt)/bt)},yt.flatten=function(U){for(var lt=U[0][0].length,J={vertices:[],holes:[],dimensions:lt},at=0,ct=0;ct<U.length;ct++){for(var G=0;G<U[ct].length;G++)for(var bt=0;bt<lt;bt++)J.vertices.push(U[ct][G][bt]);ct>0&&J.holes.push(at+=U[ct-1].length)}return J}},1609:Dt=>{"use strict";var yt="Function.prototype.bind called on incompatible ",Q=Array.prototype.slice,F=Object.prototype.toString,j="[object Function]";Dt.exports=function(h){var nt=this;if("function"!=typeof nt||F.call(nt)!==j)throw new TypeError(yt+nt);for(var ot,W=Q.call(arguments,1),ft=function(){if(this instanceof ot){var wt=nt.apply(this,W.concat(Q.call(arguments)));return Object(wt)===wt?wt:this}return nt.apply(h,W.concat(Q.call(arguments)))},Ct=Math.max(0,nt.length-W.length),Tt=[],xt=0;xt<Ct;xt++)Tt.push("$"+xt);if(ot=Function("binder","return function ("+Tt.join(",")+"){ return binder.apply(this,arguments); }")(ft),nt.prototype){var mt=function(){};mt.prototype=nt.prototype,ot.prototype=new mt,mt.prototype=null}return ot}},5396:(Dt,yt,Q)=>{"use strict";var F=Q(1609);Dt.exports=Function.prototype.bind||F},9331:(Dt,yt,Q)=>{var F=Q(2978),j=function(W){this.precision=W&&W.precision?W.precision:17,this.direction=!(!W||!W.direction)&&W.direction,this.pseudoNode=!(!W||!W.pseudoNode)&&W.pseudoNode,this.objectComparator=W&&W.objectComparator?W.objectComparator:nt};function O(W){return W.coordinates.map(function(ot){return{type:W.type.replace("Multi",""),coordinates:ot}})}function h(W,ot){return W.hasOwnProperty("coordinates")?W.coordinates.length===ot.coordinates.length:W.length===ot.length}function nt(W,ot){return F(W,ot,{strict:!0})}j.prototype.compare=function(W,ot){if(W.type!==ot.type||!h(W,ot))return!1;switch(W.type){case"Point":return this.compareCoord(W.coordinates,ot.coordinates);case"LineString":return this.compareLine(W.coordinates,ot.coordinates,0,!1);case"Polygon":return this.comparePolygon(W,ot);case"Feature":return this.compareFeature(W,ot);default:if(0===W.type.indexOf("Multi")){var ft=this,Ct=O(W),Tt=O(ot);return Ct.every(function(xt){return this.some(function(mt){return ft.compare(xt,mt)})},Tt)}}return!1},j.prototype.compareCoord=function(W,ot){if(W.length!==ot.length)return!1;for(var ft=0;ft<W.length;ft++)if(W[ft].toFixed(this.precision)!==ot[ft].toFixed(this.precision))return!1;return!0},j.prototype.compareLine=function(W,ot,ft,Ct){if(!h(W,ot))return!1;var Tt=this.pseudoNode?W:this.removePseudo(W),xt=this.pseudoNode?ot:this.removePseudo(ot);if(!Ct||this.compareCoord(Tt[0],xt[0])||(xt=this.fixStartIndex(xt,Tt))){var mt=this.compareCoord(Tt[ft],xt[ft]);return this.direction||mt?this.comparePath(Tt,xt):!!this.compareCoord(Tt[ft],xt[xt.length-(1+ft)])&&this.comparePath(Tt.slice().reverse(),xt)}},j.prototype.fixStartIndex=function(W,ot){for(var ft,Ct=-1,Tt=0;Tt<W.length;Tt++)if(this.compareCoord(W[Tt],ot[0])){Ct=Tt;break}return Ct>=0&&(ft=[].concat(W.slice(Ct,W.length),W.slice(1,Ct+1))),ft},j.prototype.comparePath=function(W,ot){var ft=this;return W.every(function(Ct,Tt){return ft.compareCoord(Ct,this[Tt])},ot)},j.prototype.comparePolygon=function(W,ot){if(this.compareLine(W.coordinates[0],ot.coordinates[0],1,!0)){var ft=W.coordinates.slice(1,W.coordinates.length),Ct=ot.coordinates.slice(1,ot.coordinates.length),Tt=this;return ft.every(function(xt){return this.some(function(mt){return Tt.compareLine(xt,mt,1,!0)})},Ct)}return!1},j.prototype.compareFeature=function(W,ot){return!(W.id!==ot.id||!this.objectComparator(W.properties,ot.properties)||!this.compareBBox(W,ot))&&this.compare(W.geometry,ot.geometry)},j.prototype.compareBBox=function(W,ot){return!!(!W.bbox&&!ot.bbox||W.bbox&&ot.bbox&&this.compareCoord(W.bbox,ot.bbox))},j.prototype.removePseudo=function(W){return W},Dt.exports=j},2689:(Dt,yt,Q)=>{var F=Q(3036),j=Q(8410),O=Q(3033),h=Q(185).Z,nt=O.featureEach,ft=j.featureCollection;function Ct(Tt){var xt=new F(Tt);return xt.insert=function(mt){if("Feature"!==mt.type)throw new Error("invalid feature");return mt.bbox=mt.bbox?mt.bbox:h(mt),F.prototype.insert.call(this,mt)},xt.load=function(mt){var wt=[];return Array.isArray(mt)?mt.forEach(function(kt){if("Feature"!==kt.type)throw new Error("invalid features");kt.bbox=kt.bbox?kt.bbox:h(kt),wt.push(kt)}):nt(mt,function(kt){if("Feature"!==kt.type)throw new Error("invalid features");kt.bbox=kt.bbox?kt.bbox:h(kt),wt.push(kt)}),F.prototype.load.call(this,wt)},xt.remove=function(mt,wt){if("Feature"!==mt.type)throw new Error("invalid feature");return mt.bbox=mt.bbox?mt.bbox:h(mt),F.prototype.remove.call(this,mt,wt)},xt.clear=function(){return F.prototype.clear.call(this)},xt.search=function(mt){var wt=F.prototype.search.call(this,this.toBBox(mt));return ft(wt)},xt.collides=function(mt){return F.prototype.collides.call(this,this.toBBox(mt))},xt.all=function(){var mt=F.prototype.all.call(this);return ft(mt)},xt.toJSON=function(){return F.prototype.toJSON.call(this)},xt.fromJSON=function(mt){return F.prototype.fromJSON.call(this,mt)},xt.toBBox=function(mt){var wt;if(mt.bbox)wt=mt.bbox;else if(Array.isArray(mt)&&4===mt.length)wt=mt;else if(Array.isArray(mt)&&6===mt.length)wt=[mt[0],mt[1],mt[3],mt[4]];else if("Feature"===mt.type)wt=h(mt);else{if("FeatureCollection"!==mt.type)throw new Error("invalid geojson");wt=h(mt)}return{minX:wt[0],minY:wt[1],maxX:wt[2],maxY:wt[3]}},xt}Dt.exports=Ct,Dt.exports.default=Ct},8540:(Dt,yt,Q)=>{"use strict";var F,j=SyntaxError,O=Function,h=TypeError,nt=function(z){try{return O('"use strict"; return ('+z+").constructor;")()}catch(K){}},W=Object.getOwnPropertyDescriptor;if(W)try{W({},"")}catch(z){W=null}var ot=function(){throw new h},ft=W?function(){try{return ot}catch(z){try{return W(arguments,"callee").get}catch(K){return ot}}}():ot,Ct=Q(9326)(),Tt=Object.getPrototypeOf||function(z){return z.__proto__},xt={},mt="undefined"==typeof Uint8Array?F:Tt(Uint8Array),wt={"%AggregateError%":"undefined"==typeof AggregateError?F:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?F:ArrayBuffer,"%ArrayIteratorPrototype%":Ct?Tt([][Symbol.iterator]()):F,"%AsyncFromSyncIteratorPrototype%":F,"%AsyncFunction%":xt,"%AsyncGenerator%":xt,"%AsyncGeneratorFunction%":xt,"%AsyncIteratorPrototype%":xt,"%Atomics%":"undefined"==typeof Atomics?F:Atomics,"%BigInt%":"undefined"==typeof BigInt?F:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?F:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?F:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?F:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?F:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":xt,"%Int8Array%":"undefined"==typeof Int8Array?F:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?F:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?F:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ct?Tt(Tt([][Symbol.iterator]())):F,"%JSON%":"object"==typeof JSON?JSON:F,"%Map%":"undefined"==typeof Map?F:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Ct?Tt((new Map)[Symbol.iterator]()):F,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?F:Promise,"%Proxy%":"undefined"==typeof Proxy?F:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?F:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?F:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Ct?Tt((new Set)[Symbol.iterator]()):F,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?F:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ct?Tt(""[Symbol.iterator]()):F,"%Symbol%":Ct?Symbol:F,"%SyntaxError%":j,"%ThrowTypeError%":ft,"%TypedArray%":mt,"%TypeError%":h,"%Uint8Array%":"undefined"==typeof Uint8Array?F:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?F:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?F:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?F:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?F:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?F:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?F:WeakSet},kt=function z(K){var R;if("%AsyncFunction%"===K)R=nt("async function () {}");else if("%GeneratorFunction%"===K)R=nt("function* () {}");else if("%AsyncGeneratorFunction%"===K)R=nt("async function* () {}");else if("%AsyncGenerator%"===K){var At=z("%AsyncGeneratorFunction%");At&&(R=At.prototype)}else if("%AsyncIteratorPrototype%"===K){var Nt=z("%AsyncGenerator%");Nt&&(R=Tt(Nt.prototype))}return wt[K]=R,R},et={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pt=Q(5396),b=Q(6558),C=pt.call(Function.call,Array.prototype.concat),N=pt.call(Function.apply,Array.prototype.splice),Z=pt.call(Function.call,String.prototype.replace),S=pt.call(Function.call,String.prototype.slice),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,w=function(K){var R=S(K,0,1),At=S(K,-1);if("%"===R&&"%"!==At)throw new j("invalid intrinsic syntax, expected closing `%`");if("%"===At&&"%"!==R)throw new j("invalid intrinsic syntax, expected opening `%`");var Nt=[];return Z(K,P,function(U,lt,J,at){Nt[Nt.length]=J?Z(at,A,"$1"):lt||U}),Nt},st=function(K,R){var Nt,At=K;if(b(et,At)&&(At="%"+(Nt=et[At])[0]+"%"),b(wt,At)){var U=wt[At];if(U===xt&&(U=kt(At)),void 0===U&&!R)throw new h("intrinsic "+K+" exists, but is not available. Please file an issue!");return{alias:Nt,name:At,value:U}}throw new j("intrinsic "+K+" does not exist!")};Dt.exports=function(K,R){if("string"!=typeof K||0===K.length)throw new h("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof R)throw new h('"allowMissing" argument must be a boolean');var At=w(K),Nt=At.length>0?At[0]:"",U=st("%"+Nt+"%",R),lt=U.name,J=U.value,at=!1,ct=U.alias;ct&&(Nt=ct[0],N(At,C([0,1],ct)));for(var G=1,bt=!0;G<At.length;G+=1){var Lt=At[G],Xt=S(Lt,0,1),Ot=S(Lt,-1);if(('"'===Xt||"'"===Xt||"`"===Xt||'"'===Ot||"'"===Ot||"`"===Ot)&&Xt!==Ot)throw new j("property names with quotes must have matching quotes");if(("constructor"===Lt||!bt)&&(at=!0),b(wt,lt="%"+(Nt+="."+Lt)+"%"))J=wt[lt];else if(null!=J){if(!(Lt in J)){if(!R)throw new h("base intrinsic for "+K+" exists, but the property is not available.");return}if(W&&G+1>=At.length){var ie=W(J,Lt);J=(bt=!!ie)&&"get"in ie&&!("originalValue"in ie.get)?ie.get:J[Lt]}else bt=b(J,Lt),J=J[Lt];bt&&!at&&(wt[lt]=J)}}return J}},9326:(Dt,yt,Q)=>{"use strict";var F="undefined"!=typeof Symbol&&Symbol,j=Q(9045);Dt.exports=function(){return"function"==typeof F&&"function"==typeof Symbol&&"symbol"==typeof F("foo")&&"symbol"==typeof Symbol("bar")&&j()}},9045:Dt=>{"use strict";Dt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var Q={},F=Symbol("test"),j=Object(F);if("string"==typeof F||"[object Symbol]"!==Object.prototype.toString.call(F)||"[object Symbol]"!==Object.prototype.toString.call(j))return!1;for(F in Q[F]=42,Q)return!1;if("function"==typeof Object.keys&&0!==Object.keys(Q).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(Q).length)return!1;var h=Object.getOwnPropertySymbols(Q);if(1!==h.length||h[0]!==F||!Object.prototype.propertyIsEnumerable.call(Q,F))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var nt=Object.getOwnPropertyDescriptor(Q,F);if(42!==nt.value||!0!==nt.enumerable)return!1}return!0}},1407:(Dt,yt,Q)=>{"use strict";var F=Q(9045);Dt.exports=function(){return F()&&!!Symbol.toStringTag}},6558:(Dt,yt,Q)=>{"use strict";var F=Q(5396);Dt.exports=F.call(Function.call,Object.prototype.hasOwnProperty)},7316:(Dt,yt,Q)=>{"use strict";var F=Q(1407)(),O=Q(9568)("Object.prototype.toString"),h=function(ft){return!(F&&ft&&"object"==typeof ft&&Symbol.toStringTag in ft)&&"[object Arguments]"===O(ft)},nt=function(ft){return!!h(ft)||null!==ft&&"object"==typeof ft&&"number"==typeof ft.length&&ft.length>=0&&"[object Array]"!==O(ft)&&"[object Function]"===O(ft.callee)},W=function(){return h(arguments)}();h.isLegacyArguments=nt,Dt.exports=W?h:nt},3105:(Dt,yt,Q)=>{"use strict";var F=Date.prototype.getDay,O=Object.prototype.toString,nt=Q(1407)();Dt.exports=function(ot){return"object"==typeof ot&&null!==ot&&(nt?function(ot){try{return F.call(ot),!0}catch(ft){return!1}}(ot):"[object Date]"===O.call(ot))}},5544:(Dt,yt,Q)=>{"use strict";var O,h,nt,W,F=Q(9568),j=Q(1407)();if(j){O=F("Object.prototype.hasOwnProperty"),h=F("RegExp.prototype.exec"),nt={};var ot=function(){throw nt};W={toString:ot,valueOf:ot},"symbol"==typeof Symbol.toPrimitive&&(W[Symbol.toPrimitive]=ot)}var ft=F("Object.prototype.toString"),Ct=Object.getOwnPropertyDescriptor;Dt.exports=j?function(mt){if(!mt||"object"!=typeof mt)return!1;var wt=Ct(mt,"lastIndex");if(!wt||!O(wt,"value"))return!1;try{h(mt,W)}catch(et){return et===nt}}:function(mt){return!(!mt||"object"!=typeof mt&&"function"!=typeof mt)&&"[object RegExp]"===ft(mt)}},8228:Dt=>{"use strict";var yt=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;function j(h){if(null==h)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}Dt.exports=function(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de","5"===Object.getOwnPropertyNames(h)[0])return!1;for(var nt={},W=0;W<10;W++)nt["_"+String.fromCharCode(W)]=W;if("0123456789"!==Object.getOwnPropertyNames(nt).map(function(Ct){return nt[Ct]}).join(""))return!1;var ft={};return"abcdefghijklmnopqrst".split("").forEach(function(Ct){ft[Ct]=Ct}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},ft)).join("")}catch(Ct){return!1}}()?Object.assign:function(h,nt){for(var W,ft,ot=j(h),Ct=1;Ct<arguments.length;Ct++){for(var Tt in W=Object(arguments[Ct]))Q.call(W,Tt)&&(ot[Tt]=W[Tt]);if(yt){ft=yt(W);for(var xt=0;xt<ft.length;xt++)F.call(W,ft[xt])&&(ot[ft[xt]]=W[ft[xt]])}}return ot}},7859:Dt=>{"use strict";var yt=function(Q){return Q!=Q};Dt.exports=function(F,j){return 0===F&&0===j?1/F==1/j:!!(F===j||yt(F)&&yt(j))}},4269:(Dt,yt,Q)=>{"use strict";var F=Q(6886),j=Q(44),O=Q(7859),h=Q(8593),nt=Q(6343),W=j(h(),Object);F(W,{getPolyfill:h,implementation:O,shim:nt}),Dt.exports=W},8593:(Dt,yt,Q)=>{"use strict";var F=Q(7859);Dt.exports=function(){return"function"==typeof Object.is?Object.is:F}},6343:(Dt,yt,Q)=>{"use strict";var F=Q(8593),j=Q(6886);Dt.exports=function(){var h=F();return j(Object,{is:h},{is:function(){return Object.is!==h}}),h}},6068:(Dt,yt,Q)=>{"use strict";var F;if(!Object.keys){var j=Object.prototype.hasOwnProperty,O=Object.prototype.toString,h=Q(2666),nt=Object.prototype.propertyIsEnumerable,W=!nt.call({toString:null},"toString"),ot=nt.call(function(){},"prototype"),ft=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ct=function(wt){var kt=wt.constructor;return kt&&kt.prototype===wt},Tt={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},xt=function(){if("undefined"==typeof window)return!1;for(var wt in window)try{if(!Tt["$"+wt]&&j.call(window,wt)&&null!==window[wt]&&"object"==typeof window[wt])try{Ct(window[wt])}catch(kt){return!0}}catch(kt){return!0}return!1}();F=function(kt){var et=null!==kt&&"object"==typeof kt,pt="[object Function]"===O.call(kt),b=h(kt),C=et&&"[object String]"===O.call(kt),N=[];if(!et&&!pt&&!b)throw new TypeError("Object.keys called on a non-object");var Z=ot&&pt;if(C&&kt.length>0&&!j.call(kt,0))for(var S=0;S<kt.length;++S)N.push(String(S));if(b&&kt.length>0)for(var P=0;P<kt.length;++P)N.push(String(P));else for(var A in kt)(!Z||"prototype"!==A)&&j.call(kt,A)&&N.push(String(A));if(W)for(var w=function(wt){if("undefined"==typeof window||!xt)return Ct(wt);try{return Ct(wt)}catch(kt){return!1}}(kt),st=0;st<ft.length;++st)(!w||"constructor"!==ft[st])&&j.call(kt,ft[st])&&N.push(ft[st]);return N}}Dt.exports=F},8507:(Dt,yt,Q)=>{"use strict";var F=Array.prototype.slice,j=Q(2666),O=Object.keys,h=O?function(ot){return O(ot)}:Q(6068),nt=Object.keys;h.shim=function(){return Object.keys?function(){var ft=Object.keys(arguments);return ft&&ft.length===arguments.length}(1,2)||(Object.keys=function(Ct){return j(Ct)?nt(F.call(Ct)):nt(Ct)}):Object.keys=h,Object.keys||h},Dt.exports=h},2666:Dt=>{"use strict";var yt=Object.prototype.toString;Dt.exports=function(F){var j=yt.call(F),O="[object Arguments]"===j;return O||(O="[object Array]"!==j&&null!==F&&"object"==typeof F&&"number"==typeof F.length&&F.length>=0&&"[object Function]"===yt.call(F.callee)),O}},5751:Dt=>{Dt.exports=function(Q,F,j,O){var h=Q[0],nt=Q[1],W=!1;void 0===j&&(j=0),void 0===O&&(O=F.length);for(var ot=(O-j)/2,ft=0,Ct=ot-1;ft<ot;Ct=ft++){var Tt=F[j+2*ft+0],xt=F[j+2*ft+1],wt=F[j+2*Ct+1];xt>nt!=wt>nt&&h<(F[j+2*Ct+0]-Tt)*(nt-xt)/(wt-xt)+Tt&&(W=!W)}return W}},5503:(Dt,yt,Q)=>{var F=Q(5751),j=Q(5891);Dt.exports=function(h,nt,W,ot){return nt.length>0&&Array.isArray(nt[0])?j(h,nt,W,ot):F(h,nt,W,ot)},Dt.exports.nested=j,Dt.exports.flat=F},5891:Dt=>{Dt.exports=function(Q,F,j,O){var h=Q[0],nt=Q[1],W=!1;void 0===j&&(j=0),void 0===O&&(O=F.length);for(var ot=O-j,ft=0,Ct=ot-1;ft<ot;Ct=ft++){var Tt=F[ft+j][0],xt=F[ft+j][1],wt=F[Ct+j][1];xt>nt!=wt>nt&&h<(F[Ct+j][0]-Tt)*(nt-xt)/(wt-xt)+Tt&&(W=!W)}return W}},171:function(Dt){Dt.exports=function(){"use strict";function yt(dt,D){if(!(dt instanceof D))throw new TypeError("Cannot call a class as a function")}function Q(dt,D){for(var T=0;T<D.length;T++){var M=D[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(dt,M.key,M)}}function F(dt,D,T){return D&&Q(dt.prototype,D),T&&Q(dt,T),dt}var j=function(D,T){this.next=null,this.key=D,this.data=T,this.left=null,this.right=null};function O(dt,D){return dt>D?1:dt<D?-1:0}function h(dt,D,T){for(var M=new j(null,null),V=M,ut=M;;){var It=T(dt,D.key);if(It<0){if(null===D.left)break;if(T(dt,D.left.key)<0&&(D.left=(Rt=D.left).right,Rt.right=D,null===(D=Rt).left))break;ut.left=D,ut=D,D=D.left}else{if(!(It>0))break;if(null===D.right)break;var Rt;if(T(dt,D.right.key)>0&&(D.right=(Rt=D.right).left,Rt.left=D,null===(D=Rt).right))break;V.right=D,V=D,D=D.right}}return V.right=D.left,ut.left=D.right,D.left=M.right,D.right=M.left,D}function nt(dt,D,T,M){var V=new j(dt,D);if(null===T)return V.left=V.right=null,V;var ut=M(dt,(T=h(dt,T,M)).key);return ut<0?(V.left=T.left,V.right=T,T.left=null):ut>=0&&(V.right=T.right,V.left=T,T.right=null),V}function W(dt,D,T){var M=null,V=null;if(D){var ut=T((D=h(dt,D,T)).key,dt);0===ut?(M=D.left,V=D.right):ut<0?(V=D.right,D.right=null,M=D):(M=D.left,D.left=null,V=D)}return{left:M,right:V}}function ft(dt,D,T,M,V){if(dt){M(D+(T?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+V(dt)+"\n");var ut=D+(T?"    ":"\u2502   ");dt.left&&ft(dt.left,ut,!1,M,V),dt.right&&ft(dt.right,ut,!0,M,V)}}var Ct=function(){function dt(D){void 0===D&&(D=O),this._root=null,this._size=0,this._comparator=D}return dt.prototype.insert=function(D,T){return this._size++,this._root=nt(D,T,this._root,this._comparator)},dt.prototype.add=function(D,T){var M=new j(D,T);null===this._root&&(M.left=M.right=null,this._size++,this._root=M);var V=this._comparator,ut=h(D,this._root,V),It=V(D,ut.key);return 0===It?this._root=ut:(It<0?(M.left=ut.left,M.right=ut,ut.left=null):It>0&&(M.right=ut.right,M.left=ut,ut.right=null),this._size++,this._root=M),this._root},dt.prototype.remove=function(D){this._root=this._remove(D,this._root,this._comparator)},dt.prototype._remove=function(D,T,M){var V;return null===T?null:0===M(D,(T=h(D,T,M)).key)?(null===T.left?V=T.right:(V=h(D,T.left,M)).right=T.right,this._size--,V):T},dt.prototype.pop=function(){var D=this._root;if(D){for(;D.left;)D=D.left;return this._root=h(D.key,this._root,this._comparator),this._root=this._remove(D.key,this._root,this._comparator),{key:D.key,data:D.data}}return null},dt.prototype.findStatic=function(D){for(var T=this._root,M=this._comparator;T;){var V=M(D,T.key);if(0===V)return T;T=V<0?T.left:T.right}return null},dt.prototype.find=function(D){return this._root&&(this._root=h(D,this._root,this._comparator),0!==this._comparator(D,this._root.key))?null:this._root},dt.prototype.contains=function(D){for(var T=this._root,M=this._comparator;T;){var V=M(D,T.key);if(0===V)return!0;T=V<0?T.left:T.right}return!1},dt.prototype.forEach=function(D,T){for(var M=this._root,V=[],ut=!1;!ut;)null!==M?(V.push(M),M=M.left):0!==V.length?(M=V.pop(),D.call(T,M),M=M.right):ut=!0;return this},dt.prototype.range=function(D,T,M,V){for(var ut=[],It=this._comparator,Rt=this._root;0!==ut.length||Rt;)if(Rt)ut.push(Rt),Rt=Rt.left;else{if(It((Rt=ut.pop()).key,T)>0)break;if(It(Rt.key,D)>=0&&M.call(V,Rt))return this;Rt=Rt.right}return this},dt.prototype.keys=function(){var D=[];return this.forEach(function(T){return D.push(T.key)}),D},dt.prototype.values=function(){var D=[];return this.forEach(function(T){return D.push(T.data)}),D},dt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},dt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},dt.prototype.minNode=function(D){if(void 0===D&&(D=this._root),D)for(;D.left;)D=D.left;return D},dt.prototype.maxNode=function(D){if(void 0===D&&(D=this._root),D)for(;D.right;)D=D.right;return D},dt.prototype.at=function(D){for(var T=this._root,M=!1,V=0,ut=[];!M;)if(T)ut.push(T),T=T.left;else if(ut.length>0){if(T=ut.pop(),V===D)return T;V++,T=T.right}else M=!0;return null},dt.prototype.next=function(D){var T=this._root,M=null;if(D.right){for(M=D.right;M.left;)M=M.left;return M}for(var V=this._comparator;T;){var ut=V(D.key,T.key);if(0===ut)break;ut<0?(M=T,T=T.left):T=T.right}return M},dt.prototype.prev=function(D){var T=this._root,M=null;if(null!==D.left){for(M=D.left;M.right;)M=M.right;return M}for(var V=this._comparator;T;){var ut=V(D.key,T.key);if(0===ut)break;ut<0?T=T.left:(M=T,T=T.right)}return M},dt.prototype.clear=function(){return this._root=null,this._size=0,this},dt.prototype.toList=function(){return function(dt){for(var D=dt,T=[],M=!1,V=new j(null,null),ut=V;!M;)D?(T.push(D),D=D.left):T.length>0?D=(D=ut=ut.next=T.pop()).right:M=!0;return ut.next=null,V.next}(this._root)},dt.prototype.load=function(D,T,M){void 0===T&&(T=[]),void 0===M&&(M=!1);var V=D.length,ut=this._comparator;if(M&&et(D,T,0,V-1,ut),null===this._root)this._root=Tt(D,T,0,V),this._size=V;else{var It=function(dt,D,T){for(var M=new j(null,null),V=M,ut=dt,It=D;null!==ut&&null!==It;)T(ut.key,It.key)<0?(V.next=ut,ut=ut.next):(V.next=It,It=It.next),V=V.next;return null!==ut?V.next=ut:null!==It&&(V.next=It),M.next}(this.toList(),function(dt,D){for(var T=new j(null,null),M=T,V=0;V<dt.length;V++)M=M.next=new j(dt[V],D[V]);return M.next=null,T.next}(D,T),ut);this._root=wt({head:It},0,V=this._size+V)}return this},dt.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(dt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(dt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),dt.prototype.toString=function(D){void 0===D&&(D=function(V){return String(V.key)});var T=[];return ft(this._root,"",!0,function(M){return T.push(M)},D),T.join("")},dt.prototype.update=function(D,T,M){var V=this._comparator,ut=W(D,this._root,V),It=ut.left,Rt=ut.right;V(D,T)<0?Rt=nt(T,M,Rt,V):It=nt(T,M,It,V),this._root=function(dt,D,T){return null===D?dt:(null===dt||((D=h(dt.key,D,T)).left=dt),D)}(It,Rt,V)},dt.prototype.split=function(D){return W(D,this._root,this._comparator)},dt}();function Tt(dt,D,T,M){var V=M-T;if(V>0){var ut=T+Math.floor(V/2),Ft=new j(dt[ut],D[ut]);return Ft.left=Tt(dt,D,T,ut),Ft.right=Tt(dt,D,ut+1,M),Ft}return null}function wt(dt,D,T){var M=T-D;if(M>0){var V=D+Math.floor(M/2),ut=wt(dt,D,V),It=dt.head;return It.left=ut,dt.head=dt.head.next,It.right=wt(dt,V+1,T),It}return null}function et(dt,D,T,M,V){if(!(T>=M)){for(var ut=dt[T+M>>1],It=T-1,Rt=M+1;;){do{It++}while(V(dt[It],ut)<0);do{Rt--}while(V(dt[Rt],ut)>0);if(It>=Rt)break;var Ft=dt[It];dt[It]=dt[Rt],dt[Rt]=Ft,Ft=D[It],D[It]=D[Rt],D[Rt]=Ft}et(dt,D,T,Rt,V),et(dt,D,Rt+1,M,V)}}var pt=function(D,T){return D.ll.x<=T.x&&T.x<=D.ur.x&&D.ll.y<=T.y&&T.y<=D.ur.y},b=function(D,T){return T.ur.x<D.ll.x||D.ur.x<T.ll.x||T.ur.y<D.ll.y||D.ur.y<T.ll.y?null:{ll:{x:D.ll.x<T.ll.x?T.ll.x:D.ll.x,y:D.ll.y<T.ll.y?T.ll.y:D.ll.y},ur:{x:D.ur.x<T.ur.x?D.ur.x:T.ur.x,y:D.ur.y<T.ur.y?D.ur.y:T.ur.y}}},C=Number.EPSILON;void 0===C&&(C=Math.pow(2,-52));var N=C*C,Z=function(D,T){if(-C<D&&D<C&&-C<T&&T<C)return 0;var M=D-T;return M*M<N*D*T?0:D<T?-1:1},S=function(){function dt(){yt(this,dt),this.reset()}return F(dt,[{key:"reset",value:function(){this.xRounder=new P,this.yRounder=new P}},{key:"round",value:function(T,M){return{x:this.xRounder.round(T),y:this.yRounder.round(M)}}}]),dt}(),P=function(){function dt(){yt(this,dt),this.tree=new Ct,this.round(0)}return F(dt,[{key:"round",value:function(T){var M=this.tree.add(T),V=this.tree.prev(M);if(null!==V&&0===Z(M.key,V.key))return this.tree.remove(T),V.key;var ut=this.tree.next(M);return null!==ut&&0===Z(M.key,ut.key)?(this.tree.remove(T),ut.key):T}}]),dt}(),A=new S,w=function(D,T){return D.x*T.y-D.y*T.x},st=function(D,T){return D.x*T.x+D.y*T.y},z=function(D,T,M){var It=w({x:T.x-D.x,y:T.y-D.y},{x:M.x-D.x,y:M.y-D.y});return Z(It,0)},K=function(D){return Math.sqrt(st(D,D))},R=function(D,T,M){var V={x:T.x-D.x,y:T.y-D.y},ut={x:M.x-D.x,y:M.y-D.y};return w(ut,V)/K(ut)/K(V)},At=function(D,T,M){var V={x:T.x-D.x,y:T.y-D.y},ut={x:M.x-D.x,y:M.y-D.y};return st(ut,V)/K(ut)/K(V)},Nt=function(D,T,M){return 0===T.y?null:{x:D.x+T.x/T.y*(M-D.y),y:M}},U=function(D,T,M){return 0===T.x?null:{x:M,y:D.y+T.y/T.x*(M-D.x)}},J=function(){function dt(D,T){yt(this,dt),void 0===D.events?D.events=[this]:D.events.push(this),this.point=D,this.isLeft=T}return F(dt,null,[{key:"compare",value:function(T,M){var V=dt.comparePoints(T.point,M.point);return 0!==V?V:(T.point!==M.point&&T.link(M),T.isLeft!==M.isLeft?T.isLeft?1:-1:ct.compare(T.segment,M.segment))}},{key:"comparePoints",value:function(T,M){return T.x<M.x?-1:T.x>M.x?1:T.y<M.y?-1:T.y>M.y?1:0}}]),F(dt,[{key:"link",value:function(T){if(T.point===this.point)throw new Error("Tried to link already linked events");for(var M=T.point.events,V=0,ut=M.length;V<ut;V++){var It=M[V];this.point.events.push(It),It.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var T=this.point.events.length,M=0;M<T;M++){var V=this.point.events[M];if(void 0===V.segment.consumedBy)for(var ut=M+1;ut<T;ut++){var It=this.point.events[ut];void 0===It.consumedBy&&V.otherSE.point.events===It.otherSE.point.events&&V.segment.consume(It.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var T=[],M=0,V=this.point.events.length;M<V;M++){var ut=this.point.events[M];ut!==this&&!ut.segment.ringOut&&ut.segment.isInResult()&&T.push(ut)}return T}},{key:"getLeftmostComparator",value:function(T){var M=this,V=new Map,ut=function(Rt){var Ft=Rt.otherSE;V.set(Rt,{sine:R(M.point,T.point,Ft.point),cosine:At(M.point,T.point,Ft.point)})};return function(It,Rt){V.has(It)||ut(It),V.has(Rt)||ut(Rt);var Ft=V.get(It),Mt=Ft.sine,ae=Ft.cosine,ge=V.get(Rt),Ut=ge.sine,de=ge.cosine;return Mt>=0&&Ut>=0?ae<de?1:ae>de?-1:0:Mt<0&&Ut<0?ae<de?-1:ae>de?1:0:Ut<Mt?-1:Ut>Mt?1:0}}}]),dt}(),at=0,ct=function(){function dt(D,T,M,V){yt(this,dt),this.id=++at,this.leftSE=D,D.segment=this,D.otherSE=T,this.rightSE=T,T.segment=this,T.otherSE=D,this.rings=M,this.windings=V}return F(dt,null,[{key:"compare",value:function(T,M){var V=T.leftSE.point.x,ut=M.leftSE.point.x,It=T.rightSE.point.x,Rt=M.rightSE.point.x;if(Rt<V)return 1;if(It<ut)return-1;var Ft=T.leftSE.point.y,Mt=M.leftSE.point.y,ae=T.rightSE.point.y,ge=M.rightSE.point.y;if(V<ut){if(Mt<Ft&&Mt<ae)return 1;if(Mt>Ft&&Mt>ae)return-1;var Ut=T.comparePoint(M.leftSE.point);if(Ut<0)return 1;if(Ut>0)return-1;var de=M.comparePoint(T.rightSE.point);return 0!==de?de:-1}if(V>ut){if(Ft<Mt&&Ft<ge)return-1;if(Ft>Mt&&Ft>ge)return 1;var yn=M.comparePoint(T.leftSE.point);if(0!==yn)return yn;var we=T.comparePoint(M.rightSE.point);return we<0?1:we>0?-1:1}if(Ft<Mt)return-1;if(Ft>Mt)return 1;if(It<Rt){var tn=M.comparePoint(T.rightSE.point);if(0!==tn)return tn}if(It>Rt){var hn=T.comparePoint(M.rightSE.point);if(hn<0)return 1;if(hn>0)return-1}if(It!==Rt){var Ln=ae-Ft,Vn=It-V,Rn=ge-Mt,fr=Rt-ut;if(Ln>Vn&&Rn<fr)return 1;if(Ln<Vn&&Rn>fr)return-1}return It>Rt?1:It<Rt||ae<ge?-1:ae>ge?1:T.id<M.id?-1:T.id>M.id?1:0}}]),F(dt,[{key:"replaceRightSE",value:function(T){this.rightSE=T,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var T=this.leftSE.point.y,M=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:T<M?T:M},ur:{x:this.rightSE.point.x,y:T>M?T:M}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(T){return T.x===this.leftSE.point.x&&T.y===this.leftSE.point.y||T.x===this.rightSE.point.x&&T.y===this.rightSE.point.y}},{key:"comparePoint",value:function(T){if(this.isAnEndpoint(T))return 0;var M=this.leftSE.point,V=this.rightSE.point,ut=this.vector();if(M.x===V.x)return T.x===M.x?0:T.x<M.x?1:-1;if(T.x===M.x+(T.y-M.y)/ut.y*ut.x)return 0;var Mt=M.y+(T.x-M.x)/ut.x*ut.y;return T.y===Mt?0:T.y<Mt?-1:1}},{key:"getIntersection",value:function(T){var M=this.bbox(),V=T.bbox(),ut=b(M,V);if(null===ut)return null;var It=this.leftSE.point,Rt=this.rightSE.point,Ft=T.leftSE.point,Mt=T.rightSE.point,ae=pt(M,Ft)&&0===this.comparePoint(Ft),ge=pt(V,It)&&0===T.comparePoint(It),Ut=pt(M,Mt)&&0===this.comparePoint(Mt),de=pt(V,Rt)&&0===T.comparePoint(Rt);if(ge&&ae)return de&&!Ut?Rt:!de&&Ut?Mt:null;if(ge)return Ut&&It.x===Mt.x&&It.y===Mt.y?null:It;if(ae)return de&&Rt.x===Ft.x&&Rt.y===Ft.y?null:Ft;if(de&&Ut)return null;if(de)return Rt;if(Ut)return Mt;var yn=function(D,T,M,V){if(0===T.x)return U(M,V,D.x);if(0===V.x)return U(D,T,M.x);if(0===T.y)return Nt(M,V,D.y);if(0===V.y)return Nt(D,T,M.y);var ut=w(T,V);if(0==ut)return null;var It={x:M.x-D.x,y:M.y-D.y},Rt=w(It,T)/ut,Ft=w(It,V)/ut;return{x:(D.x+Ft*T.x+(M.x+Rt*V.x))/2,y:(D.y+Ft*T.y+(M.y+Rt*V.y))/2}}(It,this.vector(),Ft,T.vector());return null!==yn&&pt(ut,yn)?A.round(yn.x,yn.y):null}},{key:"split",value:function(T){var M=[],V=void 0!==T.events,ut=new J(T,!0),It=new J(T,!1),Rt=this.rightSE;this.replaceRightSE(It),M.push(It),M.push(ut);var Ft=new dt(ut,Rt,this.rings.slice(),this.windings.slice());return J.comparePoints(Ft.leftSE.point,Ft.rightSE.point)>0&&Ft.swapEvents(),J.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),V&&(ut.checkForConsuming(),It.checkForConsuming()),M}},{key:"swapEvents",value:function(){var T=this.rightSE;this.rightSE=this.leftSE,this.leftSE=T,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var M=0,V=this.windings.length;M<V;M++)this.windings[M]*=-1}},{key:"consume",value:function(T){for(var M=this,V=T;M.consumedBy;)M=M.consumedBy;for(;V.consumedBy;)V=V.consumedBy;var ut=dt.compare(M,V);if(0!==ut){if(ut>0){var It=M;M=V,V=It}if(M.prev===V){var Rt=M;M=V,V=Rt}for(var Ft=0,Mt=V.rings.length;Ft<Mt;Ft++){var ae=V.rings[Ft],ge=V.windings[Ft],Ut=M.rings.indexOf(ae);-1===Ut?(M.rings.push(ae),M.windings.push(ge)):M.windings[Ut]+=ge}V.rings=null,V.windings=null,V.consumedBy=M,V.leftSE.consumedBy=M.leftSE,V.rightSE.consumedBy=M.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var T=this.beforeState();this._afterState={rings:T.rings.slice(0),windings:T.windings.slice(0),multiPolys:[]};for(var M=this._afterState.rings,V=this._afterState.windings,ut=this._afterState.multiPolys,It=0,Rt=this.rings.length;It<Rt;It++){var Ft=this.rings[It],Mt=this.windings[It],ae=M.indexOf(Ft);-1===ae?(M.push(Ft),V.push(Mt)):V[ae]+=Mt}for(var ge=[],Ut=[],de=0,yn=M.length;de<yn;de++)if(0!==V[de]){var we=M[de],tn=we.poly;if(-1===Ut.indexOf(tn))if(we.isExterior)ge.push(tn);else{-1===Ut.indexOf(tn)&&Ut.push(tn);var hn=ge.indexOf(we.poly);-1!==hn&&ge.splice(hn,1)}}for(var Ln=0,Vn=ge.length;Ln<Vn;Ln++){var Rn=ge[Ln].multiPoly;-1===ut.indexOf(Rn)&&ut.push(Rn)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var T=this.beforeState().multiPolys,M=this.afterState().multiPolys;switch(Gt.type){case"union":this._isInResult=0===T.length!=(0===M.length);break;case"intersection":var It,Rt;T.length<M.length?(It=T.length,Rt=M.length):(It=M.length,Rt=T.length),this._isInResult=Rt===Gt.numMultiPolys&&It<Rt;break;case"xor":var Ft=Math.abs(T.length-M.length);this._isInResult=Ft%2==1;break;case"difference":var Mt=function(ge){return 1===ge.length&&ge[0].isSubject};this._isInResult=Mt(T)!==Mt(M);break;default:throw new Error("Unrecognized operation type found ".concat(Gt.type))}return this._isInResult}}],[{key:"fromRing",value:function(T,M,V){var ut,It,Rt,Ft=J.comparePoints(T,M);if(Ft<0)ut=T,It=M,Rt=1;else{if(!(Ft>0))throw new Error("Tried to create degenerate segment at [".concat(T.x,", ").concat(T.y,"]"));ut=M,It=T,Rt=-1}return new dt(new J(ut,!0),new J(It,!1),[V],[Rt])}}]),dt}(),G=function(){function dt(D,T,M){if(yt(this,dt),!Array.isArray(D)||0===D.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=T,this.isExterior=M,this.segments=[],"number"!=typeof D[0][0]||"number"!=typeof D[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var V=A.round(D[0][0],D[0][1]);this.bbox={ll:{x:V.x,y:V.y},ur:{x:V.x,y:V.y}};for(var ut=V,It=1,Rt=D.length;It<Rt;It++){if("number"!=typeof D[It][0]||"number"!=typeof D[It][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ft=A.round(D[It][0],D[It][1]);Ft.x===ut.x&&Ft.y===ut.y||(this.segments.push(ct.fromRing(ut,Ft,this)),Ft.x<this.bbox.ll.x&&(this.bbox.ll.x=Ft.x),Ft.y<this.bbox.ll.y&&(this.bbox.ll.y=Ft.y),Ft.x>this.bbox.ur.x&&(this.bbox.ur.x=Ft.x),Ft.y>this.bbox.ur.y&&(this.bbox.ur.y=Ft.y),ut=Ft)}(V.x!==ut.x||V.y!==ut.y)&&this.segments.push(ct.fromRing(ut,V,this))}return F(dt,[{key:"getSweepEvents",value:function(){for(var T=[],M=0,V=this.segments.length;M<V;M++){var ut=this.segments[M];T.push(ut.leftSE),T.push(ut.rightSE)}return T}}]),dt}(),bt=function(){function dt(D,T){if(yt(this,dt),!Array.isArray(D))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new G(D[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var M=1,V=D.length;M<V;M++){var ut=new G(D[M],this,!1);ut.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=ut.bbox.ll.x),ut.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=ut.bbox.ll.y),ut.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=ut.bbox.ur.x),ut.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=ut.bbox.ur.y),this.interiorRings.push(ut)}this.multiPoly=T}return F(dt,[{key:"getSweepEvents",value:function(){for(var T=this.exteriorRing.getSweepEvents(),M=0,V=this.interiorRings.length;M<V;M++)for(var ut=this.interiorRings[M].getSweepEvents(),It=0,Rt=ut.length;It<Rt;It++)T.push(ut[It]);return T}}]),dt}(),Lt=function(){function dt(D,T){if(yt(this,dt),!Array.isArray(D))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof D[0][0][0]&&(D=[D])}catch(It){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var M=0,V=D.length;M<V;M++){var ut=new bt(D[M],this);ut.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=ut.bbox.ll.x),ut.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=ut.bbox.ll.y),ut.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=ut.bbox.ur.x),ut.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=ut.bbox.ur.y),this.polys.push(ut)}this.isSubject=T}return F(dt,[{key:"getSweepEvents",value:function(){for(var T=[],M=0,V=this.polys.length;M<V;M++)for(var ut=this.polys[M].getSweepEvents(),It=0,Rt=ut.length;It<Rt;It++)T.push(ut[It]);return T}}]),dt}(),Xt=function(){function dt(D){yt(this,dt),this.events=D;for(var T=0,M=D.length;T<M;T++)D[T].segment.ringOut=this;this.poly=null}return F(dt,null,[{key:"factory",value:function(T){for(var M=[],V=0,ut=T.length;V<ut;V++){var It=T[V];if(It.isInResult()&&!It.ringOut){for(var Rt=null,Ft=It.leftSE,Mt=It.rightSE,ae=[Ft],ge=Ft.point,Ut=[];Rt=Ft,ae.push(Ft=Mt),Ft.point!==ge;)for(;;){var de=Ft.getAvailableLinkedEvents();if(0===de.length){var yn=ae[0].point,we=ae[ae.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(yn.x,",")+" ".concat(yn.y,"]. Last matching segment found ends at")+" [".concat(we.x,", ").concat(we.y,"]."))}if(1===de.length){Mt=de[0].otherSE;break}for(var tn=null,hn=0,Ln=Ut.length;hn<Ln;hn++)if(Ut[hn].point===Ft.point){tn=hn;break}if(null===tn){Ut.push({index:ae.length,point:Ft.point});var fr=Ft.getLeftmostComparator(Rt);Mt=de.sort(fr)[0].otherSE;break}var Vn=Ut.splice(tn)[0],Rn=ae.splice(Vn.index);Rn.unshift(Rn[0].otherSE),M.push(new dt(Rn.reverse()))}M.push(new dt(ae))}}return M}}]),F(dt,[{key:"getGeom",value:function(){for(var T=this.events[0].point,M=[T],V=1,ut=this.events.length-1;V<ut;V++){var It=this.events[V].point;0!==z(It,T,this.events[V+1].point)&&(M.push(It),T=It)}if(1===M.length)return null;0===z(M[0],T,M[1])&&M.shift(),M.push(M[0]);for(var ae=this.isExteriorRing()?1:-1,ge=this.isExteriorRing()?0:M.length-1,Ut=this.isExteriorRing()?M.length:-1,de=[],yn=ge;yn!=Ut;yn+=ae)de.push([M[yn].x,M[yn].y]);return de}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var T=this.enclosingRing();this._isExteriorRing=!T||!T.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var T=this.events[0],M=1,V=this.events.length;M<V;M++){var ut=this.events[M];J.compare(T,ut)>0&&(T=ut)}for(var It=T.segment.prevInResult(),Rt=It?It.prevInResult():null;;){if(!It)return null;if(!Rt)return It.ringOut;if(Rt.ringOut!==It.ringOut)return Rt.ringOut.enclosingRing()!==It.ringOut?It.ringOut:It.ringOut.enclosingRing();It=Rt.prevInResult(),Rt=It?It.prevInResult():null}}}]),dt}(),Ot=function(){function dt(D){yt(this,dt),this.exteriorRing=D,D.poly=this,this.interiorRings=[]}return F(dt,[{key:"addInterior",value:function(T){this.interiorRings.push(T),T.poly=this}},{key:"getGeom",value:function(){var T=[this.exteriorRing.getGeom()];if(null===T[0])return null;for(var M=0,V=this.interiorRings.length;M<V;M++){var ut=this.interiorRings[M].getGeom();null!==ut&&T.push(ut)}return T}}]),dt}(),ie=function(){function dt(D){yt(this,dt),this.rings=D,this.polys=this._composePolys(D)}return F(dt,[{key:"getGeom",value:function(){for(var T=[],M=0,V=this.polys.length;M<V;M++){var ut=this.polys[M].getGeom();null!==ut&&T.push(ut)}return T}},{key:"_composePolys",value:function(T){for(var M=[],V=0,ut=T.length;V<ut;V++){var It=T[V];if(!It.poly)if(It.isExteriorRing())M.push(new Ot(It));else{var Rt=It.enclosingRing();Rt.poly||M.push(new Ot(Rt)),Rt.poly.addInterior(It)}}return M}}]),dt}(),fe=function(){function dt(D){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct.compare;yt(this,dt),this.queue=D,this.tree=new Ct(T),this.segments=[]}return F(dt,[{key:"process",value:function(T){var M=T.segment,V=[];if(T.consumedBy)return T.isLeft?this.queue.remove(T.otherSE):this.tree.remove(M),V;var ut=T.isLeft?this.tree.insert(M):this.tree.find(M);if(!ut)throw new Error("Unable to find segment #".concat(M.id," ")+"[".concat(M.leftSE.point.x,", ").concat(M.leftSE.point.y,"] -> ")+"[".concat(M.rightSE.point.x,", ").concat(M.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var It=ut,Rt=ut,Ft=void 0,Mt=void 0;void 0===Ft;)null===(It=this.tree.prev(It))?Ft=null:void 0===It.key.consumedBy&&(Ft=It.key);for(;void 0===Mt;)null===(Rt=this.tree.next(Rt))?Mt=null:void 0===Rt.key.consumedBy&&(Mt=Rt.key);if(T.isLeft){var ae=null;if(Ft){var ge=Ft.getIntersection(M);if(null!==ge&&(M.isAnEndpoint(ge)||(ae=ge),!Ft.isAnEndpoint(ge)))for(var Ut=this._splitSafely(Ft,ge),de=0,yn=Ut.length;de<yn;de++)V.push(Ut[de])}var we=null;if(Mt){var tn=Mt.getIntersection(M);if(null!==tn&&(M.isAnEndpoint(tn)||(we=tn),!Mt.isAnEndpoint(tn)))for(var hn=this._splitSafely(Mt,tn),Ln=0,Vn=hn.length;Ln<Vn;Ln++)V.push(hn[Ln])}if(null!==ae||null!==we){var Rn;Rn=null===ae?we:null===we||J.comparePoints(ae,we)<=0?ae:we,this.queue.remove(M.rightSE),V.push(M.rightSE);for(var pn=M.split(Rn),Tr=0,Xn=pn.length;Tr<Xn;Tr++)V.push(pn[Tr])}V.length>0?(this.tree.remove(M),V.push(T)):(this.segments.push(M),M.prev=Ft)}else{if(Ft&&Mt){var Bt=Ft.getIntersection(Mt);if(null!==Bt){if(!Ft.isAnEndpoint(Bt))for(var Ao=this._splitSafely(Ft,Bt),Vr=0,pe=Ao.length;Vr<pe;Vr++)V.push(Ao[Vr]);if(!Mt.isAnEndpoint(Bt))for(var Br=this._splitSafely(Mt,Bt),di=0,_e=Br.length;di<_e;di++)V.push(Br[di])}}this.tree.remove(M)}return V}},{key:"_splitSafely",value:function(T,M){this.tree.remove(T);var V=T.rightSE;this.queue.remove(V);var ut=T.split(M);return ut.push(V),void 0===T.consumedBy&&this.tree.insert(T),ut}}]),dt}(),ue="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Jt="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Gt=new(function(){function dt(){yt(this,dt)}return F(dt,[{key:"run",value:function(T,M,V){Gt.type=T,A.reset();for(var ut=[new Lt(M,!0)],It=0,Rt=V.length;It<Rt;It++)ut.push(new Lt(V[It],!1));if(Gt.numMultiPolys=ut.length,"difference"===Gt.type)for(var Ft=ut[0],Mt=1;Mt<ut.length;)null!==b(ut[Mt].bbox,Ft.bbox)?Mt++:ut.splice(Mt,1);if("intersection"===Gt.type)for(var ae=0,ge=ut.length;ae<ge;ae++)for(var Ut=ut[ae],de=ae+1,yn=ut.length;de<yn;de++)if(null===b(Ut.bbox,ut[de].bbox))return[];for(var we=new Ct(J.compare),tn=0,hn=ut.length;tn<hn;tn++)for(var Ln=ut[tn].getSweepEvents(),Vn=0,Rn=Ln.length;Vn<Rn;Vn++)if(we.insert(Ln[Vn]),we.size>ue)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var fr=new fe(we),pn=we.size,Tr=we.pop();Tr;){var Xn=Tr.key;if(we.size===pn){var Bt=Xn.segment;throw new Error("Unable to pop() ".concat(Xn.isLeft?"left":"right"," SweepEvent ")+"[".concat(Xn.point.x,", ").concat(Xn.point.y,"] from segment #").concat(Bt.id," ")+"[".concat(Bt.leftSE.point.x,", ").concat(Bt.leftSE.point.y,"] -> ")+"[".concat(Bt.rightSE.point.x,", ").concat(Bt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(we.size>ue)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(fr.segments.length>Jt)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Ao=fr.process(Xn),Vr=0,pe=Ao.length;Vr<pe;Vr++){var Br=Ao[Vr];void 0===Br.consumedBy&&we.insert(Br)}pn=we.size,Tr=we.pop()}A.reset();var di=Xt.factory(fr.segments);return new ie(di).getGeom()}}]),dt}());return{union:function(D){for(var T=arguments.length,M=new Array(T>1?T-1:0),V=1;V<T;V++)M[V-1]=arguments[V];return Gt.run("union",D,M)},intersection:function(D){for(var T=arguments.length,M=new Array(T>1?T-1:0),V=1;V<T;V++)M[V-1]=arguments[V];return Gt.run("intersection",D,M)},xor:function(D){for(var T=arguments.length,M=new Array(T>1?T-1:0),V=1;V<T;V++)M[V-1]=arguments[V];return Gt.run("xor",D,M)},difference:function(D){for(var T=arguments.length,M=new Array(T>1?T-1:0),V=1;V<T;V++)M[V-1]=arguments[V];return Gt.run("difference",D,M)}}}()},3036:function(Dt){Dt.exports=function(){"use strict";function yt(et,pt,b,C,N){!function Z(S,P,A,w,st){for(;w>A;){if(w-A>600){var z=w-A+1,K=P-A+1,R=Math.log(z),At=.5*Math.exp(2*R/3),Nt=.5*Math.sqrt(R*At*(z-At)/z)*(K-z/2<0?-1:1);Z(S,P,Math.max(A,Math.floor(P-K*At/z+Nt)),Math.min(w,Math.floor(P+(z-K)*At/z+Nt)),st)}var J=S[P],at=A,ct=w;for(Q(S,A,P),st(S[w],J)>0&&Q(S,A,w);at<ct;){for(Q(S,at,ct),at++,ct--;st(S[at],J)<0;)at++;for(;st(S[ct],J)>0;)ct--}0===st(S[A],J)?Q(S,A,ct):Q(S,++ct,w),ct<=P&&(A=ct+1),P<=ct&&(w=ct-1)}}(et,pt,b||0,C||et.length-1,N||F)}function Q(et,pt,b){var C=et[pt];et[pt]=et[b],et[b]=C}function F(et,pt){return et<pt?-1:et>pt?1:0}var j=function(et){void 0===et&&(et=9),this._maxEntries=Math.max(4,et),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function O(et,pt,b){if(!b)return pt.indexOf(et);for(var C=0;C<pt.length;C++)if(b(et,pt[C]))return C;return-1}function h(et,pt){nt(et,0,et.children.length,pt,et)}function nt(et,pt,b,C,N){N||(N=wt(null)),N.minX=1/0,N.minY=1/0,N.maxX=-1/0,N.maxY=-1/0;for(var Z=pt;Z<b;Z++){var S=et.children[Z];W(N,et.leaf?C(S):S)}return N}function W(et,pt){return et.minX=Math.min(et.minX,pt.minX),et.minY=Math.min(et.minY,pt.minY),et.maxX=Math.max(et.maxX,pt.maxX),et.maxY=Math.max(et.maxY,pt.maxY),et}function ot(et,pt){return et.minX-pt.minX}function ft(et,pt){return et.minY-pt.minY}function Ct(et){return(et.maxX-et.minX)*(et.maxY-et.minY)}function Tt(et){return et.maxX-et.minX+(et.maxY-et.minY)}function xt(et,pt){return et.minX<=pt.minX&&et.minY<=pt.minY&&pt.maxX<=et.maxX&&pt.maxY<=et.maxY}function mt(et,pt){return pt.minX<=et.maxX&&pt.minY<=et.maxY&&pt.maxX>=et.minX&&pt.maxY>=et.minY}function wt(et){return{children:et,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function kt(et,pt,b,C,N){for(var Z=[pt,b];Z.length;)if(!((b=Z.pop())-(pt=Z.pop())<=C)){var S=pt+Math.ceil((b-pt)/C/2)*C;yt(et,S,pt,b,N),Z.push(pt,S,S,b)}}return j.prototype.all=function(){return this._all(this.data,[])},j.prototype.search=function(et){var pt=this.data,b=[];if(!mt(et,pt))return b;for(var C=this.toBBox,N=[];pt;){for(var Z=0;Z<pt.children.length;Z++){var S=pt.children[Z],P=pt.leaf?C(S):S;mt(et,P)&&(pt.leaf?b.push(S):xt(et,P)?this._all(S,b):N.push(S))}pt=N.pop()}return b},j.prototype.collides=function(et){var pt=this.data;if(!mt(et,pt))return!1;for(var b=[];pt;){for(var C=0;C<pt.children.length;C++){var N=pt.children[C],Z=pt.leaf?this.toBBox(N):N;if(mt(et,Z)){if(pt.leaf||xt(et,Z))return!0;b.push(N)}}pt=b.pop()}return!1},j.prototype.load=function(et){if(!et||!et.length)return this;if(et.length<this._minEntries){for(var pt=0;pt<et.length;pt++)this.insert(et[pt]);return this}var b=this._build(et.slice(),0,et.length-1,0);if(this.data.children.length)if(this.data.height===b.height)this._splitRoot(this.data,b);else{if(this.data.height<b.height){var C=this.data;this.data=b,b=C}this._insert(b,this.data.height-b.height-1,!0)}else this.data=b;return this},j.prototype.insert=function(et){return et&&this._insert(et,this.data.height-1),this},j.prototype.clear=function(){return this.data=wt([]),this},j.prototype.remove=function(et,pt){if(!et)return this;for(var b,C,N,Z=this.data,S=this.toBBox(et),P=[],A=[];Z||P.length;){if(Z||(Z=P.pop(),C=P[P.length-1],b=A.pop(),N=!0),Z.leaf){var w=O(et,Z.children,pt);if(-1!==w)return Z.children.splice(w,1),P.push(Z),this._condense(P),this}N||Z.leaf||!xt(Z,S)?C?(b++,Z=C.children[b],N=!1):Z=null:(P.push(Z),A.push(b),b=0,C=Z,Z=Z.children[0])}return this},j.prototype.toBBox=function(et){return et},j.prototype.compareMinX=function(et,pt){return et.minX-pt.minX},j.prototype.compareMinY=function(et,pt){return et.minY-pt.minY},j.prototype.toJSON=function(){return this.data},j.prototype.fromJSON=function(et){return this.data=et,this},j.prototype._all=function(et,pt){for(var b=[];et;)et.leaf?pt.push.apply(pt,et.children):b.push.apply(b,et.children),et=b.pop();return pt},j.prototype._build=function(et,pt,b,C){var N,Z=b-pt+1,S=this._maxEntries;if(Z<=S)return h(N=wt(et.slice(pt,b+1)),this.toBBox),N;C||(C=Math.ceil(Math.log(Z)/Math.log(S)),S=Math.ceil(Z/Math.pow(S,C-1))),(N=wt([])).leaf=!1,N.height=C;var P=Math.ceil(Z/S),A=P*Math.ceil(Math.sqrt(S));kt(et,pt,b,A,this.compareMinX);for(var w=pt;w<=b;w+=A){var st=Math.min(w+A-1,b);kt(et,w,st,P,this.compareMinY);for(var z=w;z<=st;z+=P){var K=Math.min(z+P-1,st);N.children.push(this._build(et,z,K,C-1))}}return h(N,this.toBBox),N},j.prototype._chooseSubtree=function(et,pt,b,C){for(;C.push(pt),!pt.leaf&&C.length-1!==b;){for(var N=1/0,Z=1/0,S=void 0,P=0;P<pt.children.length;P++){var A=pt.children[P],w=Ct(A),st=(z=et,K=A,(Math.max(K.maxX,z.maxX)-Math.min(K.minX,z.minX))*(Math.max(K.maxY,z.maxY)-Math.min(K.minY,z.minY))-w);st<Z?(Z=st,N=w<N?w:N,S=A):st===Z&&w<N&&(N=w,S=A)}pt=S||pt.children[0]}var z,K;return pt},j.prototype._insert=function(et,pt,b){var C=b?et:this.toBBox(et),N=[],Z=this._chooseSubtree(C,this.data,pt,N);for(Z.children.push(et),W(Z,C);pt>=0&&N[pt].children.length>this._maxEntries;)this._split(N,pt),pt--;this._adjustParentBBoxes(C,N,pt)},j.prototype._split=function(et,pt){var b=et[pt],C=b.children.length,N=this._minEntries;this._chooseSplitAxis(b,N,C);var Z=this._chooseSplitIndex(b,N,C),S=wt(b.children.splice(Z,b.children.length-Z));S.height=b.height,S.leaf=b.leaf,h(b,this.toBBox),h(S,this.toBBox),pt?et[pt-1].children.push(S):this._splitRoot(b,S)},j.prototype._splitRoot=function(et,pt){this.data=wt([et,pt]),this.data.height=et.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},j.prototype._chooseSplitIndex=function(et,pt,b){for(var C,N,Z,S,P,A,w,st=1/0,z=1/0,K=pt;K<=b-pt;K++){var R=nt(et,0,K,this.toBBox),At=nt(et,K,b,this.toBBox),Nt=(N=R,Z=At,void 0,void 0,void 0,void 0,S=Math.max(N.minX,Z.minX),P=Math.max(N.minY,Z.minY),A=Math.min(N.maxX,Z.maxX),w=Math.min(N.maxY,Z.maxY),Math.max(0,A-S)*Math.max(0,w-P)),U=Ct(R)+Ct(At);Nt<st?(st=Nt,C=K,z=U<z?U:z):Nt===st&&U<z&&(z=U,C=K)}return C||b-pt},j.prototype._chooseSplitAxis=function(et,pt,b){var C=et.leaf?this.compareMinX:ot,N=et.leaf?this.compareMinY:ft;this._allDistMargin(et,pt,b,C)<this._allDistMargin(et,pt,b,N)&&et.children.sort(C)},j.prototype._allDistMargin=function(et,pt,b,C){et.children.sort(C);for(var N=this.toBBox,Z=nt(et,0,pt,N),S=nt(et,b-pt,b,N),P=Tt(Z)+Tt(S),A=pt;A<b-pt;A++){var w=et.children[A];W(Z,et.leaf?N(w):w),P+=Tt(Z)}for(var st=b-pt-1;st>=pt;st--){var z=et.children[st];W(S,et.leaf?N(z):z),P+=Tt(S)}return P},j.prototype._adjustParentBBoxes=function(et,pt,b){for(var C=b;C>=0;C--)W(pt[C],et)},j.prototype._condense=function(et){for(var pt=et.length-1,b=void 0;pt>=0;pt--)0===et[pt].children.length?pt>0?(b=et[pt-1].children).splice(b.indexOf(et[pt]),1):this.clear():h(et[pt],this.toBBox)},j}()},565:Dt=>{"use strict";var yt=Object,Q=TypeError;Dt.exports=function(){if(null!=this&&this!==yt(this))throw new Q("RegExp.prototype.flags getter called on non-object");var j="";return this.hasIndices&&(j+="d"),this.global&&(j+="g"),this.ignoreCase&&(j+="i"),this.multiline&&(j+="m"),this.dotAll&&(j+="s"),this.unicode&&(j+="u"),this.sticky&&(j+="y"),j}},437:(Dt,yt,Q)=>{"use strict";var F=Q(6886),j=Q(44),O=Q(565),h=Q(3880),nt=Q(9129),W=j(h());F(W,{getPolyfill:h,implementation:O,shim:nt}),Dt.exports=W},3880:(Dt,yt,Q)=>{"use strict";var F=Q(565),j=Q(6886).supportsDescriptors,O=Object.getOwnPropertyDescriptor;Dt.exports=function(){if(j&&"gim"===/a/gim.flags){var nt=O(RegExp.prototype,"flags");if(nt&&"function"==typeof nt.get&&"boolean"==typeof/a/.dotAll)return nt.get}return F}},9129:(Dt,yt,Q)=>{"use strict";var F=Q(6886).supportsDescriptors,j=Q(3880),O=Object.getOwnPropertyDescriptor,h=Object.defineProperty,nt=TypeError,W=Object.getPrototypeOf,ot=/a/;Dt.exports=function(){if(!F||!W)throw new nt("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Ct=j(),Tt=W(ot),xt=O(Tt,"flags");return(!xt||xt.get!==Ct)&&h(Tt,"flags",{configurable:!0,enumerable:!1,get:Ct}),Ct}},5322:function(Dt,yt){!function(Q){"use strict";const F=134217729;function O(wt,kt,et,pt,b){let C,N,Z,S,P=kt[0],A=pt[0],w=0,st=0;A>P==A>-P?(C=P,P=kt[++w]):(C=A,A=pt[++st]);let z=0;if(w<wt&&st<et)for(A>P==A>-P?(Z=C-((N=P+C)-P),P=kt[++w]):(Z=C-((N=A+C)-A),A=pt[++st]),C=N,0!==Z&&(b[z++]=Z);w<wt&&st<et;)A>P==A>-P?(Z=C-((N=C+P)-(S=N-C))+(P-S),P=kt[++w]):(Z=C-((N=C+A)-(S=N-C))+(A-S),A=pt[++st]),C=N,0!==Z&&(b[z++]=Z);for(;w<wt;)Z=C-((N=C+P)-(S=N-C))+(P-S),P=kt[++w],C=N,0!==Z&&(b[z++]=Z);for(;st<et;)Z=C-((N=C+A)-(S=N-C))+(A-S),A=pt[++st],C=N,0!==Z&&(b[z++]=Z);return 0===C&&0!==z||(b[z++]=C),z}function h(wt){return new Float64Array(wt)}const ft=h(4),Ct=h(8),Tt=h(12),xt=h(16),mt=h(4);Q.orient2d=function(wt,kt,et,pt,b,C){const N=(kt-C)*(et-b),Z=(wt-b)*(pt-C),S=N-Z;if(0===N||0===Z||N>0!=Z>0)return S;const P=Math.abs(N+Z);return Math.abs(S)>=33306690738754716e-32*P?S:-function(A,w,st,z,K,R,At){let Nt,U,lt,J,at,ct,G,bt,Lt,Xt,Ot,ie,fe,ue,Jt,Vt,Gt,Mn;const on=A-K,vn=st-K,ln=w-R,An=z-R;at=(Jt=(bt=on-(G=(ct=F*on)-(ct-on)))*(Xt=An-(Lt=(ct=F*An)-(ct-An)))-((ue=on*An)-G*Lt-bt*Lt-G*Xt))-(Ot=Jt-(Gt=(bt=ln-(G=(ct=F*ln)-(ct-ln)))*(Xt=vn-(Lt=(ct=F*vn)-(ct-vn)))-((Vt=ln*vn)-G*Lt-bt*Lt-G*Xt))),ft[0]=Jt-(Ot+at)+(at-Gt),at=(fe=ue-((ie=ue+Ot)-(at=ie-ue))+(Ot-at))-(Ot=fe-Vt),ft[1]=fe-(Ot+at)+(at-Vt),at=(Mn=ie+Ot)-ie,ft[2]=ie-(Mn-at)+(Ot-at),ft[3]=Mn;let dt=function(ut,It){let Rt=It[0];for(let Ft=1;Ft<4;Ft++)Rt+=It[Ft];return Rt}(0,ft),D=22204460492503146e-32*At;if(dt>=D||-dt>=D||(Nt=A-(on+(at=A-on))+(at-K),lt=st-(vn+(at=st-vn))+(at-K),U=w-(ln+(at=w-ln))+(at-R),J=z-(An+(at=z-An))+(at-R),0===Nt&&0===U&&0===lt&&0===J)||(D=11093356479670487e-47*At+33306690738754706e-32*Math.abs(dt),(dt+=on*J+An*Nt-(ln*lt+vn*U))>=D||-dt>=D))return dt;at=(Jt=(bt=Nt-(G=(ct=F*Nt)-(ct-Nt)))*(Xt=An-(Lt=(ct=F*An)-(ct-An)))-((ue=Nt*An)-G*Lt-bt*Lt-G*Xt))-(Ot=Jt-(Gt=(bt=U-(G=(ct=F*U)-(ct-U)))*(Xt=vn-(Lt=(ct=F*vn)-(ct-vn)))-((Vt=U*vn)-G*Lt-bt*Lt-G*Xt))),mt[0]=Jt-(Ot+at)+(at-Gt),at=(fe=ue-((ie=ue+Ot)-(at=ie-ue))+(Ot-at))-(Ot=fe-Vt),mt[1]=fe-(Ot+at)+(at-Vt),at=(Mn=ie+Ot)-ie,mt[2]=ie-(Mn-at)+(Ot-at),mt[3]=Mn;const T=O(4,ft,4,mt,Ct);at=(Jt=(bt=on-(G=(ct=F*on)-(ct-on)))*(Xt=J-(Lt=(ct=F*J)-(ct-J)))-((ue=on*J)-G*Lt-bt*Lt-G*Xt))-(Ot=Jt-(Gt=(bt=ln-(G=(ct=F*ln)-(ct-ln)))*(Xt=lt-(Lt=(ct=F*lt)-(ct-lt)))-((Vt=ln*lt)-G*Lt-bt*Lt-G*Xt))),mt[0]=Jt-(Ot+at)+(at-Gt),at=(fe=ue-((ie=ue+Ot)-(at=ie-ue))+(Ot-at))-(Ot=fe-Vt),mt[1]=fe-(Ot+at)+(at-Vt),at=(Mn=ie+Ot)-ie,mt[2]=ie-(Mn-at)+(Ot-at),mt[3]=Mn;const M=O(T,Ct,4,mt,Tt);at=(Jt=(bt=Nt-(G=(ct=F*Nt)-(ct-Nt)))*(Xt=J-(Lt=(ct=F*J)-(ct-J)))-((ue=Nt*J)-G*Lt-bt*Lt-G*Xt))-(Ot=Jt-(Gt=(bt=U-(G=(ct=F*U)-(ct-U)))*(Xt=lt-(Lt=(ct=F*lt)-(ct-lt)))-((Vt=U*lt)-G*Lt-bt*Lt-G*Xt))),mt[0]=Jt-(Ot+at)+(at-Gt),at=(fe=ue-((ie=ue+Ot)-(at=ie-ue))+(Ot-at))-(Ot=fe-Vt),mt[1]=fe-(Ot+at)+(at-Vt),at=(Mn=ie+Ot)-ie,mt[2]=ie-(Mn-at)+(Ot-at),mt[3]=Mn;const V=O(M,Tt,4,mt,xt);return xt[V-1]}(wt,kt,et,pt,b,C,P)},Q.orient2dfast=function(wt,kt,et,pt,b,C){return(kt-C)*(et-b)-(wt-b)*(pt-C)},Object.defineProperty(Q,"__esModule",{value:!0})}(yt)},6257:Dt=>{"use strict";Dt.exports={eudist:function(Q,F,j){for(var O=Q.length,h=0,nt=0;nt<O;nt++){var W=(Q[nt]||0)-(F[nt]||0);h+=W*W}return j?Math.sqrt(h):h},mandist:function(Q,F,j){for(var O=Q.length,h=0,nt=0;nt<O;nt++)h+=Math.abs((Q[nt]||0)-(F[nt]||0));return j?Math.sqrt(h):h},dist:function(Q,F,j){var O=Math.abs(Q-F);return j?O:O*O}}},6019:(Dt,yt,Q)=>{"use strict";var F=Q(6257),j=F.eudist,O=F.dist;Dt.exports={kmrand:function(nt,W){for(var ot={},ft=[],Ct=W<<2,Tt=nt.length,xt=nt[0].length>0;ft.length<W&&Ct-- >0;){var mt=nt[Math.floor(Math.random()*Tt)],wt=xt?mt.join("_"):""+mt;ot[wt]||(ot[wt]=!0,ft.push(mt))}if(ft.length<W)throw new Error("Error initializating clusters");return ft},kmpp:function(nt,W){var ot=nt[0].length?j:O,ft=[],Ct=nt.length,Tt=nt[0].length>0,mt=nt[Math.floor(Math.random()*Ct)];for(Tt&&mt.join("_"),ft.push(mt);ft.length<W;){for(var kt=[],et=ft.length,pt=0,b=[],C=0;C<Ct;C++){for(var N=1/0,Z=0;Z<et;Z++){var S=ot(nt[C],ft[Z]);S<=N&&(N=S)}kt[C]=N}for(var P=0;P<Ct;P++)pt+=kt[P];for(var A=0;A<Ct;A++)b[A]={i:A,v:nt[A],pr:kt[A]/pt,cs:0};b.sort(function(K,R){return K.pr-R.pr}),b[0].cs=b[0].pr;for(var w=1;w<Ct;w++)b[w].cs=b[w-1].cs+b[w].pr;for(var st=Math.random(),z=0;z<Ct-1&&b[z++].cs<st;);ft.push(b[z-1].v)}return ft}}},3212:(Dt,yt,Q)=>{"use strict";var F=Q(6257),j=Q(6019),O=F.eudist,W=j.kmrand,ot=j.kmpp;function Ct(xt,mt,wt){wt=wt||[];for(var kt=0;kt<xt;kt++)wt[kt]=mt;return wt}Dt.exports=function(xt,mt,wt,kt){var et=[],pt=[],b=[],C=[],N=!1,Z=kt||1e4,S=xt.length,P=xt[0].length,A=P>0,w=[];if(wt)et="kmrand"==wt?W(xt,mt):"kmpp"==wt?ot(xt,mt):wt;else for(var st={};et.length<mt;){var z=Math.floor(Math.random()*S);st[z]||(st[z]=!0,et.push(xt[z]))}do{Ct(mt,0,w);for(var K=0;K<S;K++){for(var R=1/0,At=0,Nt=0;Nt<mt;Nt++)(C=A?O(xt[K],et[Nt]):Math.abs(xt[K]-et[Nt]))<=R&&(R=C,At=Nt);b[K]=At,w[At]++}for(var U=[],J=(pt=[],0);J<mt;J++)U[J]=A?Ct(P,0,U[J]):0,pt[J]=et[J];if(A){for(var at=0;at<mt;at++)et[at]=[];for(var ct=0;ct<S;ct++)for(var bt=U[b[ct]],Lt=xt[ct],Xt=0;Xt<P;Xt++)bt[Xt]+=Lt[Xt];N=!0;for(var Ot=0;Ot<mt;Ot++){for(var ie=et[Ot],fe=U[Ot],ue=pt[Ot],Jt=w[Ot],Vt=0;Vt<P;Vt++)ie[Vt]=fe[Vt]/Jt||0;if(N)for(var Gt=0;Gt<P;Gt++)if(ue[Gt]!=ie[Gt]){N=!1;break}}}else{for(var Mn=0;Mn<S;Mn++)U[b[Mn]]+=xt[Mn];for(var vn=0;vn<mt;vn++)et[vn]=U[vn]/w[vn]||0;N=!0;for(var ln=0;ln<mt;ln++)if(pt[ln]!=et[ln]){N=!1;break}}N=N||--Z<=0}while(!N);return{it:1e4-Z,k:mt,idxs:b,centroids:et}}},54:(Dt,yt,Q)=>{"use strict";Q.r(yt),Q.d(yt,{default:()=>F});class F{constructor(h=[],nt=j){if(this.data=h,this.length=this.data.length,this.compare=nt,this.length>0)for(let W=(this.length>>1)-1;W>=0;W--)this._down(W)}push(h){this.data.push(h),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const h=this.data[0],nt=this.data.pop();return this.length--,this.length>0&&(this.data[0]=nt,this._down(0)),h}peek(){return this.data[0]}_up(h){const{data:nt,compare:W}=this,ot=nt[h];for(;h>0;){const ft=h-1>>1,Ct=nt[ft];if(W(ot,Ct)>=0)break;nt[h]=Ct,h=ft}nt[h]=ot}_down(h){const{data:nt,compare:W}=this,ot=this.length>>1,ft=nt[h];for(;h<ot;){let Ct=1+(h<<1),Tt=nt[Ct];const xt=Ct+1;if(xt<this.length&&W(nt[xt],Tt)<0&&(Ct=xt,Tt=nt[xt]),W(Tt,ft)>=0)break;nt[h]=Tt,h=Ct}nt[h]=ft}}function j(O,h){return O<h?-1:O>h?1:0}},7299:function(Dt,yt){!function(Q){"use strict";function F(){}function j(t){this.message=t||""}function O(t){this.message=t||""}function h(t){this.message=t||""}function nt(){}function W(t){return null===t?jr:t.color}function ot(t){return null===t?null:t.parent}function ft(t,e){null!==t&&(t.color=e)}function Ct(t){return null===t?null:t.left}function Tt(t){return null===t?null:t.right}function xt(){this.root_=null,this.size_=0}function mt(){}function wt(){this.array_=[],arguments[0]instanceof pn&&this.addAll(arguments[0])}function kt(){}function et(t){this.message=t||""}function pt(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),o=Math.max(Math.min(e.length,9007199254740991),0)||0,s=1 in arguments&&parseInt(Number(arguments[1]),10)||0;s=s<0?Math.max(o+s,0):Math.min(s,o);var c=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:o;for(c=c<0?Math.max(o+arguments[2],0):Math.min(c,o);s<c;)e[s]=t,++s;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var b=function(){};b.prototype.interfaces_=function(){return[]},b.prototype.getClass=function(){return b},b.prototype.equalsWithTolerance=function(t,e,o){return Math.abs(t-e)<=o};var C=function(t){function e(o){t.call(this,o),this.name="IllegalArgumentException",this.message=o,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),N=function(){},Z={MAX_VALUE:{configurable:!0}};N.isNaN=function(t){return Number.isNaN(t)},N.doubleToLongBits=function(t){return t},N.longBitsToDouble=function(t){return t},N.isInfinite=function(t){return!Number.isFinite(t)},Z.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(N,Z);var S=function(){},P=function(){},A=function(){},w=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},st={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};w.prototype.setOrdinate=function(t,e){switch(t){case w.X:this.x=e;break;case w.Y:this.y=e;break;case w.Z:this.z=e;break;default:throw new C("Invalid ordinate index: "+t)}},w.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],o=arguments[1];return!!b.equalsWithTolerance(this.x,e.x,o)&&!!b.equalsWithTolerance(this.y,e.y,o)}},w.prototype.getOrdinate=function(t){switch(t){case w.X:return this.x;case w.Y:return this.y;case w.Z:return this.z}throw new C("Invalid ordinate index: "+t)},w.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||N.isNaN(this.z))&&N.isNaN(t.z)},w.prototype.equals=function(t){return t instanceof w&&this.equals2D(t)},w.prototype.equalInZ=function(t,e){return b.equalsWithTolerance(this.z,t.z,e)},w.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},w.prototype.clone=function(){},w.prototype.copy=function(){return new w(this)},w.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},w.prototype.distance3D=function(t){var e=this.x-t.x,o=this.y-t.y,s=this.z-t.z;return Math.sqrt(e*e+o*o+s*s)},w.prototype.distance=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},w.prototype.hashCode=function(){var t=17;return 37*(t=37*t+w.hashCode(this.x))+w.hashCode(this.y)},w.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},w.prototype.interfaces_=function(){return[S,P,F]},w.prototype.getClass=function(){return w},w.hashCode=function(){if(1===arguments.length){var e=N.doubleToLongBits(arguments[0]);return Math.trunc((e^e)>>>32)}},st.DimensionalComparator.get=function(){return z},st.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},st.NULL_ORDINATE.get=function(){return N.NaN},st.X.get=function(){return 0},st.Y.get=function(){return 1},st.Z.get=function(){return 2},Object.defineProperties(w,st);var z=function(t){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new C("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};z.prototype.compare=function(t,e){var o=t,s=e,c=z.compare(o.x,s.x);if(0!==c)return c;var y=z.compare(o.y,s.y);return 0!==y?y:this._dimensionsToTest<=2?0:z.compare(o.z,s.z)},z.prototype.interfaces_=function(){return[A]},z.prototype.getClass=function(){return z},z.compare=function(t,e){return t<e?-1:t>e?1:N.isNaN(t)?N.isNaN(e)?0:-1:N.isNaN(e)?1:0};var K=function(){};K.prototype.create=function(){},K.prototype.interfaces_=function(){return[]},K.prototype.getClass=function(){return K};var R=function(){},At={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},R.toLocationSymbol=function(t){switch(t){case R.EXTERIOR:return"e";case R.BOUNDARY:return"b";case R.INTERIOR:return"i";case R.NONE:return"-"}throw new C("Unknown location value: "+t)},At.INTERIOR.get=function(){return 0},At.BOUNDARY.get=function(){return 1},At.EXTERIOR.get=function(){return 2},At.NONE.get=function(){return-1},Object.defineProperties(R,At);var Nt=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},U=function(){},lt={LOG_10:{configurable:!0}};U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.log10=function(t){var e=Math.log(t);return N.isInfinite(e)||N.isNaN(e)?e:e/U.LOG_10},U.min=function(t,e,o,s){var c=t;return e<c&&(c=e),o<c&&(c=o),s<c&&(c=s),c},U.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],o=arguments[2];return t<e?e:t>o?o:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],c=arguments[1],y=arguments[2];return s<c?c:s>y?y:s}},U.wrap=function(t,e){return t<0?e- -t%e:t%e},U.max=function(){if(3===arguments.length){var e=arguments[1],o=arguments[2],s=arguments[0];return e>s&&(s=e),o>s&&(s=o),s}if(4===arguments.length){var y=arguments[1],x=arguments[2],I=arguments[3],q=arguments[0];return y>q&&(q=y),x>q&&(q=x),I>q&&(q=I),q}},U.average=function(t,e){return(t+e)/2},lt.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(U,lt);var J=function(t){this.str=t};J.prototype.append=function(t){this.str+=t},J.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},J.prototype.toString=function(t){return this.str};var at=function(t){this.value=t};at.prototype.intValue=function(){return this.value},at.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},at.isNaN=function(t){return Number.isNaN(t)};var ct=function(){};ct.isWhitespace=function(t){return t<=32&&t>=0||127===t},ct.toUpperCase=function(t){return t.toUpperCase()};var G=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},bt={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};G.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},G.prototype.extractSignificantDigits=function(t,e){var o=this.abs(),s=G.magnitude(o._hi),c=G.TEN.pow(s);(o=o.divide(c)).gt(G.TEN)?(o=o.divide(G.TEN),s+=1):o.lt(G.ONE)&&(o=o.multiply(G.TEN),s-=1);for(var y=s+1,x=new J,I=G.MAX_PRINT_DIGITS-1,q=0;q<=I;q++){t&&q===y&&x.append(".");var rt=Math.trunc(o._hi);if(rt<0)break;var Et=!1,Pt=0;rt>9?(Et=!0,Pt="9"):Pt="0"+rt,x.append(Pt),o=o.subtract(G.valueOf(rt)).multiply(G.TEN),Et&&o.selfAdd(G.TEN);var Zt=!0,Yt=G.magnitude(o._hi);if(Yt<0&&Math.abs(Yt)>=I-q&&(Zt=!1),!Zt)break}return e[0]=s,x.toString()},G.prototype.sqr=function(){return this.multiply(this)},G.prototype.doubleValue=function(){return this._hi+this._lo},G.prototype.subtract=function(){return arguments[0]instanceof G?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},G.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},G.prototype.isZero=function(){return 0===this._hi&&0===this._lo},G.prototype.selfSubtract=function(){if(arguments[0]instanceof G){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},G.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},G.prototype.min=function(t){return this.le(t)?this:t},G.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var o=arguments[0],c=null,y=null,x=null,I=null,q=null,rt=null,Et=null,Pt=null;return this._hi=Pt=(q=this._hi/o)+(rt=(this._hi-(Et=q*o)-(Pt=(c=(rt=G.SPLIT*q)-(c=rt-q))*(x=(Pt=G.SPLIT*o)-(x=Pt-o))-Et+c*(I=o-x)+(y=q-c)*x+y*I)+this._lo-q*arguments[1])/o),this._lo=q-Pt+rt,this}},G.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},G.prototype.divide=function(){if(arguments[0]instanceof G){var t=arguments[0],e=null,o=null,s=null,c=null,y=null,x=null,I=null,q=null;return o=(y=this._hi/t._hi)-(e=(x=G.SPLIT*y)-(e=x-y)),q=e*(s=(q=G.SPLIT*t._hi)-(s=q-t._hi))-(I=y*t._hi)+e*(c=t._hi-s)+o*s+o*c,new G(q=y+(x=(this._hi-I-q+this._lo-y*t._lo)/t._hi),y-q+x)}if("number"==typeof arguments[0]){var rt=arguments[0];return N.isNaN(rt)?G.createNaN():G.copy(this).selfDivide(rt,0)}},G.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},G.prototype.pow=function(t){if(0===t)return G.valueOf(1);var e=new G(this),o=G.valueOf(1),s=Math.abs(t);if(s>1)for(;s>0;)s%2==1&&o.selfMultiply(e),(s/=2)>0&&(e=e.sqr());else o=e;return t<0?o.reciprocal():o},G.prototype.ceil=function(){if(this.isNaN())return G.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new G(t,e)},G.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},G.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},G.prototype.setValue=function(){return arguments[0]instanceof G||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},G.prototype.max=function(t){return this.ge(t)?this:t},G.prototype.sqrt=function(){if(this.isZero())return G.valueOf(0);if(this.isNegative())return G.NaN;var t=1/Math.sqrt(this._hi),o=G.valueOf(this._hi*t),s=this.subtract(o.sqr())._hi*(.5*t);return o.add(s)},G.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],o=null,s=null,c=null,x=null,I=null;return this._hi=(o=(c=this._hi+e)+(I=e-(x=c-this._hi)+(this._hi-(c-x))+this._lo))+(s=I+(c-o)),this._lo=s+(o-this._hi),this}}else if(2===arguments.length){var q=arguments[0],rt=arguments[1],Et=null,Pt=null,Zt=null,Yt=null,$t=null,ne=null,nn=null;$t=(Yt=this._hi+q)-(ne=Yt-this._hi),Zt=(Pt=this._lo+rt)-(nn=Pt-this._lo);var wn=(Et=Yt+(ne=($t=q-ne+(this._hi-$t))+Pt))+(ne=(Zt=rt-nn+(this._lo-Zt))+(ne+(Yt-Et))),lr=ne+(Et-wn);return this._hi=wn,this._lo=lr,this}},G.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var o=arguments[0],c=null,y=null,x=null,I=null,q=null,rt=null;c=(q=G.SPLIT*this._hi)-this._hi,c=q-c;var Et=(q=this._hi*o)+(rt=c*(x=(rt=G.SPLIT*o)-(x=rt-o))-q+c*(I=o-x)+(y=this._hi-c)*x+y*I+(this._hi*arguments[1]+this._lo*o)),Pt=rt+(c=q-Et);return this._hi=Et,this._lo=Pt,this}},G.prototype.selfSqr=function(){return this.selfMultiply(this)},G.prototype.floor=function(){if(this.isNaN())return G.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new G(t,e)},G.prototype.negate=function(){return this.isNaN()?this:new G(-this._hi,-this._lo)},G.prototype.clone=function(){},G.prototype.multiply=function(){if(arguments[0]instanceof G){var t=arguments[0];return t.isNaN()?G.createNaN():G.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return N.isNaN(e)?G.createNaN():G.copy(this).selfMultiply(e,0)}},G.prototype.isNaN=function(){return N.isNaN(this._hi)},G.prototype.intValue=function(){return Math.trunc(this._hi)},G.prototype.toString=function(){var t=G.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},G.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!0,e),s=e[0]+1,c=o;return"."===o.charAt(0)?c="0"+o:s<0?c="0."+G.stringOfChar("0",-s)+o:-1===o.indexOf(".")&&(c=o+G.stringOfChar("0",s-o.length)+".0"),this.isNegative()?"-"+c:c},G.prototype.reciprocal=function(){var e,s,c,x,t=null,o=null,y=null,I=null;e=(c=1/this._hi)-(t=(y=G.SPLIT*c)-(t=y-c)),o=(I=G.SPLIT*this._hi)-this._hi;var q=c+(y=(1-(x=c*this._hi)-(I=t*(o=I-o)-x+t*(s=this._hi-o)+e*o+e*s)-c*this._lo)/this._hi);return new G(q,c-q+y)},G.prototype.toSciNotation=function(){if(this.isZero())return G.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!1,e),s=G.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===o.charAt(0))throw new Error("Found leading zero: "+o);var c="";o.length>1&&(c=o.substring(1));var y=o.charAt(0)+"."+c;return this.isNegative()?"-"+y+s:y+s},G.prototype.abs=function(){return this.isNaN()?G.NaN:this.isNegative()?this.negate():new G(this)},G.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},G.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},G.prototype.add=function(){if(arguments[0]instanceof G){var t=arguments[0];return G.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return G.copy(this).selfAdd(e)}},G.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof G){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var s=arguments[1];this._hi=arguments[0],this._lo=s}},G.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},G.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},G.prototype.trunc=function(){return this.isNaN()?G.NaN:this.isPositive()?this.floor():this.ceil()},G.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},G.prototype.interfaces_=function(){return[F,S,P]},G.prototype.getClass=function(){return G},G.sqr=function(t){return G.valueOf(t).selfMultiply(t)},G.valueOf=function(){return"string"==typeof arguments[0]?G.parse(arguments[0]):"number"==typeof arguments[0]?new G(arguments[0]):void 0},G.sqrt=function(t){return G.valueOf(t).sqrt()},G.parse=function(t){for(var e=0,o=t.length;ct.isWhitespace(t.charAt(e));)e++;var s=!1;if(e<o){var c=t.charAt(e);"-"!==c&&"+"!==c||(e++,"-"===c&&(s=!0))}for(var y=new G,x=0,I=0,q=0;!(e>=o);){var rt=t.charAt(e);if(e++,ct.isDigit(rt)){var Et=rt-"0";y.selfMultiply(G.TEN),y.selfAdd(Et),x++}else{if("."!==rt){if("e"===rt||"E"===rt){var Pt=t.substring(e);try{q=at.parseInt(Pt)}catch(nn){throw nn instanceof Error?new Error("Invalid exponent "+Pt+" in string "+t):nn}break}throw new Error("Unexpected character '"+rt+"' at position "+e+" in string "+t)}I=x}}var Zt=y,Yt=x-I-q;if(0===Yt)Zt=y;else if(Yt>0){var $t=G.TEN.pow(Yt);Zt=y.divide($t)}else if(Yt<0){var ne=G.TEN.pow(-Yt);Zt=y.multiply(ne)}return s?Zt.negate():Zt},G.createNaN=function(){return new G(N.NaN,N.NaN)},G.copy=function(t){return new G(t)},G.magnitude=function(t){var e=Math.abs(t),o=Math.log(e)/Math.log(10),s=Math.trunc(Math.floor(o));return 10*Math.pow(10,s)<=e&&(s+=1),s},G.stringOfChar=function(t,e){for(var o=new J,s=0;s<e;s++)o.append(t);return o.toString()},bt.PI.get=function(){return new G(3.141592653589793,12246467991473532e-32)},bt.TWO_PI.get=function(){return new G(6.283185307179586,24492935982947064e-32)},bt.PI_2.get=function(){return new G(1.5707963267948966,6123233995736766e-32)},bt.E.get=function(){return new G(2.718281828459045,14456468917292502e-32)},bt.NaN.get=function(){return new G(N.NaN,N.NaN)},bt.EPS.get=function(){return 123259516440783e-46},bt.SPLIT.get=function(){return 134217729},bt.MAX_PRINT_DIGITS.get=function(){return 32},bt.TEN.get=function(){return G.valueOf(10)},bt.ONE.get=function(){return G.valueOf(1)},bt.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},bt.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(G,bt);var Lt=function(){},Xt={DP_SAFE_EPSILON:{configurable:!0}};Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt},Lt.orientationIndex=function(t,e,o){var s=Lt.orientationIndexFilter(t,e,o);if(s<=1)return s;var c=G.valueOf(e.x).selfAdd(-t.x),y=G.valueOf(e.y).selfAdd(-t.y),x=G.valueOf(o.x).selfAdd(-e.x),I=G.valueOf(o.y).selfAdd(-e.y);return c.selfMultiply(I).selfSubtract(y.selfMultiply(x)).signum()},Lt.signOfDet2x2=function(t,e,o,s){return t.multiply(s).selfSubtract(e.multiply(o)).signum()},Lt.intersection=function(t,e,o,s){var c=G.valueOf(s.y).selfSubtract(o.y).selfMultiply(G.valueOf(e.x).selfSubtract(t.x)),y=G.valueOf(s.x).selfSubtract(o.x).selfMultiply(G.valueOf(e.y).selfSubtract(t.y)),x=c.subtract(y),I=G.valueOf(s.x).selfSubtract(o.x).selfMultiply(G.valueOf(t.y).selfSubtract(o.y)),q=G.valueOf(s.y).selfSubtract(o.y).selfMultiply(G.valueOf(t.x).selfSubtract(o.x)),rt=I.subtract(q).selfDivide(x).doubleValue(),Et=G.valueOf(t.x).selfAdd(G.valueOf(e.x).selfSubtract(t.x).selfMultiply(rt)).doubleValue(),Pt=G.valueOf(e.x).selfSubtract(t.x).selfMultiply(G.valueOf(t.y).selfSubtract(o.y)),Zt=G.valueOf(e.y).selfSubtract(t.y).selfMultiply(G.valueOf(t.x).selfSubtract(o.x)),Yt=Pt.subtract(Zt).selfDivide(x).doubleValue(),$t=G.valueOf(o.y).selfAdd(G.valueOf(s.y).selfSubtract(o.y).selfMultiply(Yt)).doubleValue();return new w(Et,$t)},Lt.orientationIndexFilter=function(t,e,o){var s=null,c=(t.x-o.x)*(e.y-o.y),y=(t.y-o.y)*(e.x-o.x),x=c-y;if(c>0){if(y<=0)return Lt.signum(x);s=c+y}else{if(!(c<0)||y>=0)return Lt.signum(x);s=-c-y}var I=Lt.DP_SAFE_EPSILON*s;return x>=I||-x>=I?Lt.signum(x):2},Lt.signum=function(t){return t>0?1:t<0?-1:0},Xt.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Lt,Xt);var Ot=function(){},ie={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};ie.X.get=function(){return 0},ie.Y.get=function(){return 1},ie.Z.get=function(){return 2},ie.M.get=function(){return 3},Ot.prototype.setOrdinate=function(t,e,o){},Ot.prototype.size=function(){},Ot.prototype.getOrdinate=function(t,e){},Ot.prototype.getCoordinate=function(){},Ot.prototype.getCoordinateCopy=function(t){},Ot.prototype.getDimension=function(){},Ot.prototype.getX=function(t){},Ot.prototype.clone=function(){},Ot.prototype.expandEnvelope=function(t){},Ot.prototype.copy=function(){},Ot.prototype.getY=function(t){},Ot.prototype.toCoordinateArray=function(){},Ot.prototype.interfaces_=function(){return[P]},Ot.prototype.getClass=function(){return Ot},Object.defineProperties(Ot,ie);var fe=function(){},ue=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fe),Jt=function(){};Jt.arraycopy=function(t,e,o,s,c){for(var y=0,x=e;x<e+c;x++)o[s+y]=t[x],y++},Jt.getProperty=function(t){return{"line.separator":"\n"}[t]};var Vt=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[1];this.x=arguments[0],this.y=s,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var c=arguments[0],y=arguments[1];this.x=c.y*y.w-y.y*c.w,this.y=y.x*c.w-c.x*y.w,this.w=c.x*y.y-y.x*c.y}else if(arguments[0]instanceof w&&arguments[1]instanceof w){var x=arguments[0],I=arguments[1];this.x=x.y-I.y,this.y=I.x-x.x,this.w=x.x*I.y-I.x*x.y}}else if(3===arguments.length){var rt=arguments[1],Et=arguments[2];this.x=arguments[0],this.y=rt,this.w=Et}else if(4===arguments.length){var Pt=arguments[0],Zt=arguments[1],Yt=arguments[2],$t=arguments[3],ne=Pt.y-Zt.y,nn=Zt.x-Pt.x,wn=Pt.x*Zt.y-Zt.x*Pt.y,lr=Yt.y-$t.y,Si=$t.x-Yt.x,Jr=Yt.x*$t.y-$t.x*Yt.y;this.x=nn*Jr-Si*wn,this.y=lr*wn-ne*Jr,this.w=ne*Si-lr*nn}};Vt.prototype.getY=function(){var t=this.y/this.w;if(N.isNaN(t)||N.isInfinite(t))throw new ue;return t},Vt.prototype.getX=function(){var t=this.x/this.w;if(N.isNaN(t)||N.isInfinite(t))throw new ue;return t},Vt.prototype.getCoordinate=function(){var t=new w;return t.x=this.getX(),t.y=this.getY(),t},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt},Vt.intersection=function(t,e,o,s){var c=t.y-e.y,y=e.x-t.x,x=t.x*e.y-e.x*t.y,I=o.y-s.y,q=s.x-o.x,rt=o.x*s.y-s.x*o.y,Et=c*q-I*y,Pt=(y*rt-q*x)/Et,Zt=(I*x-c*rt)/Et;if(N.isNaN(Pt)||N.isInfinite(Pt)||N.isNaN(Zt)||N.isInfinite(Zt))throw new ue;return new w(Pt,Zt)};var Gt=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof w){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var s=arguments[0],c=arguments[1];this.init(s.x,c.x,s.y,c.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Mn={serialVersionUID:{configurable:!0}};Gt.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Gt.prototype.equals=function(t){if(!(t instanceof Gt))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Gt.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new Gt:new Gt(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},Gt.prototype.isNull=function(){return this._maxx<this._minx},Gt.prototype.getMaxX=function(){return this._maxx},Gt.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Gt){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];return!this.isNull()&&o>=this._minx&&o<=this._maxx&&s>=this._miny&&s<=this._maxy}},Gt.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Gt){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof w){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];return!this.isNull()&&!(o>this._maxx||o<this._minx||s>this._maxy||s<this._miny)}},Gt.prototype.getMinY=function(){return this._miny},Gt.prototype.getMinX=function(){return this._minx},Gt.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Gt){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];this.isNull()?(this._minx=o,this._maxx=o,this._miny=s,this._maxy=s):(o<this._minx&&(this._minx=o),o>this._maxx&&(this._maxx=o),s<this._miny&&(this._miny=s),s>this._maxy&&(this._maxy=s))}},Gt.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Gt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Gt.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Gt.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Gt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Gt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Gt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Gt.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Gt.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=o,this._maxy+=o,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Gt.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Gt)return this.covers(arguments[0]);if(arguments[0]instanceof w)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Gt.prototype.centre=function(){return this.isNull()?null:new w((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Gt.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Gt){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];this.init(o.x,s.x,o.y,s.y)}else if(4===arguments.length){var c=arguments[0],y=arguments[1],x=arguments[2],I=arguments[3];c<y?(this._minx=c,this._maxx=y):(this._minx=y,this._maxx=c),x<I?(this._miny=x,this._maxy=I):(this._miny=I,this._maxy=x)}},Gt.prototype.getMaxY=function(){return this._maxy},Gt.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var o=0;return this._maxy<t._miny?o=t._miny-this._maxy:this._miny>t._maxy&&(o=this._miny-t._maxy),0===e?o:0===o?e:Math.sqrt(e*e+o*o)},Gt.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+w.hashCode(this._minx))+w.hashCode(this._maxx))+w.hashCode(this._miny))+w.hashCode(this._maxy)},Gt.prototype.interfaces_=function(){return[S,F]},Gt.prototype.getClass=function(){return Gt},Gt.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2];return o.x>=(t.x<e.x?t.x:e.x)&&o.x<=(t.x>e.x?t.x:e.x)&&o.y>=(t.y<e.y?t.y:e.y)&&o.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var s=arguments[0],c=arguments[1],y=arguments[2],x=arguments[3],I=Math.min(y.x,x.x),q=Math.max(y.x,x.x),rt=Math.min(s.x,c.x),Et=Math.max(s.x,c.x);return!(rt>q||Et<I||(I=Math.min(y.y,x.y),q=Math.max(y.y,x.y),rt=Math.min(s.y,c.y),Et=Math.max(s.y,c.y),rt>q||Et<I))}},Mn.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Gt,Mn);var on={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},vn=function(t){this.geometryFactory=t||new ve};vn.prototype.read=function(t){var e,o;t=t.replace(/[\n\r]/g," ");var c=on.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((c=on.emptyTypeStr.exec(t))[2]=void 0),c&&(o=c[1].toLowerCase(),An[o]&&(e=An[o].apply(this,[c[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},vn.prototype.write=function(t){return this.extractGeometry(t)},vn.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!ln[e])return null;var o=e.toUpperCase();return t.isEmpty()?o+" EMPTY":o+"("+ln[e].apply(this,[t])+")"};var ln={coordinate:function(t){return t.x+" "+t.y},point:function(t){return ln.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push("("+ln.point.apply(this,[t._geometries[o]])+")");return e.join(",")},linestring:function(t){for(var e=[],o=0,s=t._points._coordinates.length;o<s;++o)e.push(ln.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},linearring:function(t){for(var e=[],o=0,s=t._points._coordinates.length;o<s;++o)e.push(ln.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},multilinestring:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push("("+ln.linestring.apply(this,[t._geometries[o]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+ln.linestring.apply(this,[t._shell])+")");for(var o=0,s=t._holes.length;o<s;++o)e.push("("+ln.linestring.apply(this,[t._holes[o]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push("("+ln.polygon.apply(this,[t._geometries[o]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push(this.extractGeometry(t._geometries[o]));return e.join(",")}},An={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(on.spaces);return this.geometryFactory.createPoint(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,o=t.trim().split(","),s=[],c=0,y=o.length;c<y;++c)e=o[c].replace(on.trimParens,"$1"),s.push(An.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(s)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,o=t.trim().split(","),s=[],c=0,y=o.length;c<y;++c)e=o[c].trim().split(on.spaces),s.push(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(s)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,o=t.trim().split(","),s=[],c=0,y=o.length;c<y;++c)e=o[c].trim().split(on.spaces),s.push(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(s)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,o=t.trim().split(on.parenComma),s=[],c=0,y=o.length;c<y;++c)e=o[c].replace(on.trimParens,"$1"),s.push(An.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(s)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,o,s,c,y=t.trim().split(on.parenComma),x=[],I=0,q=y.length;I<q;++I)e=y[I].replace(on.trimParens,"$1"),o=An.linestring.apply(this,[e]),s=this.geometryFactory.createLinearRing(o._points),0===I?c=s:x.push(s);return this.geometryFactory.createPolygon(c,x)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,o=t.trim().split(on.doubleParenComma),s=[],c=0,y=o.length;c<y;++c)e=o[c].replace(on.trimParens,"$1"),s.push(An.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(s)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),o=[],s=0,c=e.length;s<c;++s)o.push(this.read(e[s]));return this.geometryFactory.createGeometryCollection(o)}},dt=function(t){this.parser=new vn(t)};dt.prototype.write=function(t){return this.parser.write(t)},dt.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var D=function(t){function e(o){t.call(this,o),this.name="RuntimeException",this.message=o,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),T=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(D),M=function(){};M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.shouldNeverReachHere=function(){if(0===arguments.length)M.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new T("Should never reach here"+(null!==t?": "+t:""))}},M.isTrue=function(){var e;if(1===arguments.length)M.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new T:new T(e)},M.equals=function(){var t,e,o;if(2===arguments.length)M.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(o=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new T("Expected "+t+" but encountered "+e+(null!==o?": "+o:""))};var V=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new w,this._intPt[1]=new w,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},ut={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};V.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},V.prototype.getTopologySummary=function(){var t=new J;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},V.prototype.computeIntersection=function(t,e,o,s){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=o,this._inputLines[1][1]=s,this._result=this.computeIntersect(t,e,o,s)},V.prototype.getIntersectionNum=function(){return this._result},V.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},V.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},V.prototype.setPrecisionModel=function(t){this._precisionModel=t},V.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},V.prototype.getIntersection=function(t){return this._intPt[t]},V.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},V.prototype.hasIntersection=function(){return this._result!==V.NO_INTERSECTION},V.prototype.getEdgeDistance=function(t,e){return V.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},V.prototype.isCollinear=function(){return this._result===V.COLLINEAR_INTERSECTION},V.prototype.toString=function(){return dt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+dt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},V.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},V.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},V.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},V.prototype.interfaces_=function(){return[]},V.prototype.getClass=function(){return V},V.computeEdgeDistance=function(t,e,o){var s=Math.abs(o.x-e.x),c=Math.abs(o.y-e.y),y=-1;if(t.equals(e))y=0;else if(t.equals(o))y=s>c?s:c;else{var x=Math.abs(t.x-e.x),I=Math.abs(t.y-e.y);0!==(y=s>c?x:I)||t.equals(e)||(y=Math.max(x,I))}return M.isTrue(!(0===y&&!t.equals(e)),"Bad distance calculation"),y},V.nonRobustComputeEdgeDistance=function(t,e,o){var s=t.x-e.x,c=t.y-e.y,y=Math.sqrt(s*s+c*c);return M.isTrue(!(0===y&&!t.equals(e)),"Invalid distance calculation"),y},ut.DONT_INTERSECT.get=function(){return 0},ut.DO_INTERSECT.get=function(){return 1},ut.COLLINEAR.get=function(){return 2},ut.NO_INTERSECTION.get=function(){return 0},ut.POINT_INTERSECTION.get=function(){return 1},ut.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(V,ut);var It=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(o){var s=new Gt(this._inputLines[0][0],this._inputLines[0][1]),c=new Gt(this._inputLines[1][0],this._inputLines[1][1]);return s.contains(o)&&c.contains(o)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var o=arguments[0],s=arguments[1],c=arguments[2];if(this._isProper=!1,Gt.intersects(s,c,o)&&0===Mt.orientationIndex(s,c,o)&&0===Mt.orientationIndex(c,s,o))return this._isProper=!0,(o.equals(s)||o.equals(c))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(o,s,c,y,x){x.x=this.smallestInAbsValue(o.x,s.x,c.x,y.x),x.y=this.smallestInAbsValue(o.y,s.y,c.y,y.y),o.x-=x.x,o.y-=x.y,s.x-=x.x,s.y-=x.y,c.x-=x.x,c.y-=x.y,y.x-=x.x,y.y-=x.y},e.prototype.safeHCoordinateIntersection=function(o,s,c,y){var x=null;try{x=Vt.intersection(o,s,c,y)}catch(I){if(!(I instanceof ue))throw I;x=e.nearestEndpoint(o,s,c,y)}return x},e.prototype.intersection=function(o,s,c,y){var x=this.intersectionWithNormalization(o,s,c,y);return this.isInSegmentEnvelopes(x)||(x=new w(e.nearestEndpoint(o,s,c,y))),null!==this._precisionModel&&this._precisionModel.makePrecise(x),x},e.prototype.smallestInAbsValue=function(o,s,c,y){var x=o,I=Math.abs(x);return Math.abs(s)<I&&(x=s,I=Math.abs(s)),Math.abs(c)<I&&(x=c,I=Math.abs(c)),Math.abs(y)<I&&(x=y),x},e.prototype.checkDD=function(o,s,c,y,x){var I=Lt.intersection(o,s,c,y),q=this.isInSegmentEnvelopes(I);Jt.out.println("DD in env = "+q+"  --------------------- "+I),x.distance(I)>1e-4&&Jt.out.println("Distance = "+x.distance(I))},e.prototype.intersectionWithNormalization=function(o,s,c,y){var x=new w(o),I=new w(s),q=new w(c),rt=new w(y),Et=new w;this.normalizeToEnvCentre(x,I,q,rt,Et);var Pt=this.safeHCoordinateIntersection(x,I,q,rt);return Pt.x+=Et.x,Pt.y+=Et.y,Pt},e.prototype.computeCollinearIntersection=function(o,s,c,y){var x=Gt.intersects(o,s,c),I=Gt.intersects(o,s,y),q=Gt.intersects(c,y,o),rt=Gt.intersects(c,y,s);return x&&I?(this._intPt[0]=c,this._intPt[1]=y,t.COLLINEAR_INTERSECTION):q&&rt?(this._intPt[0]=o,this._intPt[1]=s,t.COLLINEAR_INTERSECTION):x&&q?(this._intPt[0]=c,this._intPt[1]=o,!c.equals(o)||I||rt?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):x&&rt?(this._intPt[0]=c,this._intPt[1]=s,!c.equals(s)||I||q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):I&&q?(this._intPt[0]=y,this._intPt[1]=o,!y.equals(o)||x||rt?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):I&&rt?(this._intPt[0]=y,this._intPt[1]=s,!y.equals(s)||x||q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(o,s,c,y,x){var I=o.x<s.x?o.x:s.x,q=o.y<s.y?o.y:s.y,rt=o.x>s.x?o.x:s.x,Et=o.y>s.y?o.y:s.y,Pt=c.x<y.x?c.x:y.x,Zt=c.y<y.y?c.y:y.y,Yt=c.x>y.x?c.x:y.x,$t=c.y>y.y?c.y:y.y,nn=((q>Zt?q:Zt)+(Et<$t?Et:$t))/2;x.x=((I>Pt?I:Pt)+(rt<Yt?rt:Yt))/2,x.y=nn,o.x-=x.x,o.y-=x.y,s.x-=x.x,s.y-=x.y,c.x-=x.x,c.y-=x.y,y.x-=x.x,y.y-=x.y},e.prototype.computeIntersect=function(o,s,c,y){if(this._isProper=!1,!Gt.intersects(o,s,c,y))return t.NO_INTERSECTION;var x=Mt.orientationIndex(o,s,c),I=Mt.orientationIndex(o,s,y);if(x>0&&I>0||x<0&&I<0)return t.NO_INTERSECTION;var q=Mt.orientationIndex(c,y,o),rt=Mt.orientationIndex(c,y,s);return q>0&&rt>0||q<0&&rt<0?t.NO_INTERSECTION:0===x&&0===I&&0===q&&0===rt?this.computeCollinearIntersection(o,s,c,y):(0===x||0===I||0===q||0===rt?(this._isProper=!1,o.equals2D(c)||o.equals2D(y)?this._intPt[0]=o:s.equals2D(c)||s.equals2D(y)?this._intPt[0]=s:0===x?this._intPt[0]=new w(c):0===I?this._intPt[0]=new w(y):0===q?this._intPt[0]=new w(o):0===rt&&(this._intPt[0]=new w(s))):(this._isProper=!0,this._intPt[0]=this.intersection(o,s,c,y)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(o,s,c,y){var x=o,I=Mt.distancePointLine(o,c,y),q=Mt.distancePointLine(s,c,y);return q<I&&(I=q,x=s),(q=Mt.distancePointLine(c,o,s))<I&&(I=q,x=c),(q=Mt.distancePointLine(y,o,s))<I&&(I=q,x=y),x},e}(V),Rt=function(){};Rt.prototype.interfaces_=function(){return[]},Rt.prototype.getClass=function(){return Rt},Rt.orientationIndex=function(t,e,o){return Rt.signOfDet2x2(e.x-t.x,e.y-t.y,o.x-e.x,o.y-e.y)},Rt.signOfDet2x2=function(t,e,o,s){var c=null,y=null,x=null;if(c=1,0===t||0===s)return 0===e||0===o?0:e>0?o>0?-c:c:o>0?c:-c;if(0===e||0===o)return s>0?t>0?c:-c:t>0?-c:c;if(e>0?s>0?e<=s||(c=-c,y=t,t=o,o=y,y=e,e=s,s=y):e<=-s?(c=-c,o=-o,s=-s):(y=t,t=-o,o=y,y=e,e=-s,s=y):s>0?-e<=s?(c=-c,t=-t,e=-e):(y=-t,t=o,o=y,y=-e,e=s,s=y):e>=s?(t=-t,e=-e,o=-o,s=-s):(c=-c,y=-t,t=-o,o=y,y=-e,e=-s,s=y),t>0){if(!(o>0&&t<=o))return c}else{if(o>0||!(t>=o))return-c;c=-c,t=-t,o=-o}for(;;){if((s-=(x=Math.floor(o/t))*e)<0)return-c;if(s>e)return c;if(t>(o-=x*t)+o){if(e<s+s)return c}else{if(e>s+s)return-c;o=t-o,s=e-s,c=-c}if(0===s)return 0===o?0:-c;if(0===o||(t-=(x=Math.floor(t/o))*o,(e-=x*s)<0))return c;if(e>s)return-c;if(o>t+t){if(s<e+e)return-c}else{if(s>e+e)return c;t=o-t,e=s-e,c=-c}if(0===e)return 0===t?0:c;if(0===t)return-c}};var Ft=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Ft.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var o=t.x,s=e.x;return o>s&&(o=e.x,s=t.x),this._p.x>=o&&this._p.x<=s&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var y=t.y-this._p.y,I=e.y-this._p.y,q=Rt.signOfDet2x2(t.x-this._p.x,y,e.x-this._p.x,I);if(0===q)return this._isPointOnSegment=!0,null;I<y&&(q=-q),q>0&&this._crossingCount++}},Ft.prototype.isPointInPolygon=function(){return this.getLocation()!==R.EXTERIOR},Ft.prototype.getLocation=function(){return this._isPointOnSegment?R.BOUNDARY:this._crossingCount%2==1?R.INTERIOR:R.EXTERIOR},Ft.prototype.isOnSegment=function(){return this._isPointOnSegment},Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft},Ft.locatePointInRing=function(){if(arguments[0]instanceof w&&Nt(arguments[1],Ot)){for(var e=arguments[1],o=new Ft(arguments[0]),s=new w,c=new w,y=1;y<e.size();y++)if(e.getCoordinate(y,s),e.getCoordinate(y-1,c),o.countSegment(s,c),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof w&&arguments[1]instanceof Array){for(var I=arguments[1],q=new Ft(arguments[0]),rt=1;rt<I.length;rt++)if(q.countSegment(I[rt],I[rt-1]),q.isOnSegment())return q.getLocation();return q.getLocation()}};var Mt=function(){},ae={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt},Mt.orientationIndex=function(t,e,o){return Lt.orientationIndex(t,e,o)},Mt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,o=t[0].x,s=1;s<t.length-1;s++)e+=(t[s].x-o)*(t[s-1].y-t[s+1].y);return e/2}if(Nt(arguments[0],Ot)){var x=arguments[0],I=x.size();if(I<3)return 0;var q=new w,rt=new w,Et=new w;x.getCoordinate(0,rt),x.getCoordinate(1,Et);var Pt=rt.x;Et.x-=Pt;for(var Zt=0,Yt=1;Yt<I-1;Yt++)q.y=rt.y,rt.x=Et.x,rt.y=Et.y,x.getCoordinate(Yt+1,Et),Et.x-=Pt,Zt+=rt.x*(q.y-Et.y);return Zt/2}},Mt.distanceLineLine=function(t,e,o,s){if(t.equals(e))return Mt.distancePointLine(t,o,s);if(o.equals(s))return Mt.distancePointLine(s,t,e);var c=!1;if(Gt.intersects(t,e,o,s)){var y=(e.x-t.x)*(s.y-o.y)-(e.y-t.y)*(s.x-o.x);if(0===y)c=!0;else{var I=((t.y-o.y)*(e.x-t.x)-(t.x-o.x)*(e.y-t.y))/y,q=((t.y-o.y)*(s.x-o.x)-(t.x-o.x)*(s.y-o.y))/y;(q<0||q>1||I<0||I>1)&&(c=!0)}}else c=!0;return c?U.min(Mt.distancePointLine(t,o,s),Mt.distancePointLine(e,o,s),Mt.distancePointLine(o,t,e),Mt.distancePointLine(s,t,e)):0},Mt.isPointInRing=function(t,e){return Mt.locatePointInRing(t,e)!==R.EXTERIOR},Mt.computeLength=function(t){var e=t.size();if(e<=1)return 0;var o=0,s=new w;t.getCoordinate(0,s);for(var c=s.x,y=s.y,x=1;x<e;x++){t.getCoordinate(x,s);var I=s.x,q=s.y,rt=I-c,Et=q-y;o+=Math.sqrt(rt*rt+Et*Et),c=I,y=q}return o},Mt.isCCW=function(t){var e=t.length-1;if(e<3)throw new C("Ring has fewer than 4 points, so orientation cannot be determined");for(var o=t[0],s=0,c=1;c<=e;c++){var y=t[c];y.y>o.y&&(o=y,s=c)}var x=s;do{(x-=1)<0&&(x=e)}while(t[x].equals2D(o)&&x!==s);var I=s;do{I=(I+1)%e}while(t[I].equals2D(o)&&I!==s);var q=t[x],rt=t[I];if(q.equals2D(o)||rt.equals2D(o)||q.equals2D(rt))return!1;var Et=Mt.computeOrientation(q,o,rt);return 0===Et?q.x>rt.x:Et>0},Mt.locatePointInRing=function(t,e){return Ft.locatePointInRing(t,e)},Mt.distancePointLinePerpendicular=function(t,e,o){var s=(o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y);return Math.abs(((e.y-t.y)*(o.x-e.x)-(e.x-t.x)*(o.y-e.y))/s)*Math.sqrt(s)},Mt.computeOrientation=function(t,e,o){return Mt.orientationIndex(t,e,o)},Mt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new C("Line array must contain at least one vertex");for(var o=t.distance(e[0]),s=0;s<e.length-1;s++){var c=Mt.distancePointLine(t,e[s],e[s+1]);c<o&&(o=c)}return o}if(3===arguments.length){var y=arguments[0],x=arguments[1],I=arguments[2];if(x.x===I.x&&x.y===I.y)return y.distance(x);var q=(I.x-x.x)*(I.x-x.x)+(I.y-x.y)*(I.y-x.y),rt=((y.x-x.x)*(I.x-x.x)+(y.y-x.y)*(I.y-x.y))/q;return rt<=0?y.distance(x):rt>=1?y.distance(I):Math.abs(((x.y-y.y)*(I.x-x.x)-(x.x-y.x)*(I.y-x.y))/q)*Math.sqrt(q)}},Mt.isOnLine=function(t,e){for(var o=new It,s=1;s<e.length;s++)if(o.computeIntersection(t,e[s-1],e[s]),o.hasIntersection())return!0;return!1},ae.CLOCKWISE.get=function(){return-1},ae.RIGHT.get=function(){return Mt.CLOCKWISE},ae.COUNTERCLOCKWISE.get=function(){return 1},ae.LEFT.get=function(){return Mt.COUNTERCLOCKWISE},ae.COLLINEAR.get=function(){return 0},ae.STRAIGHT.get=function(){return Mt.COLLINEAR},Object.defineProperties(Mt,ae);var ge=function(){};ge.prototype.filter=function(t){},ge.prototype.interfaces_=function(){return[]},ge.prototype.getClass=function(){return ge};var Ut=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},de={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Ut.prototype.isGeometryCollection=function(){return this.getSortIndex()===Ut.SORTINDEX_GEOMETRYCOLLECTION},Ut.prototype.getFactory=function(){return this._factory},Ut.prototype.getGeometryN=function(t){return this},Ut.prototype.getArea=function(){return 0},Ut.prototype.isRectangle=function(){return!1},Ut.prototype.equals=function(){if(arguments[0]instanceof Ut){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof Ut&&this.equalsExact(e)}},Ut.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Ut.prototype.geometryChanged=function(){this.apply(Ut.geometryChangedFilter)},Ut.prototype.geometryChangedAction=function(){this._envelope=null},Ut.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Ut.prototype.getLength=function(){return 0},Ut.prototype.getNumGeometries=function(){return 1},Ut.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var o=arguments[0],s=arguments[1];return this.getSortIndex()!==o.getSortIndex()?this.getSortIndex()-o.getSortIndex():this.isEmpty()&&o.isEmpty()?0:this.isEmpty()?-1:o.isEmpty()?1:this.compareToSameClass(o,s)}},Ut.prototype.getUserData=function(){return this._userData},Ut.prototype.getSRID=function(){return this._SRID},Ut.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Ut.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Ut.SORTINDEX_GEOMETRYCOLLECTION)throw new C("This method does not support GeometryCollection arguments")},Ut.prototype.equal=function(t,e,o){return 0===o?t.equals(e):t.distance(e)<=o},Ut.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Ut.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Ut.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Gt(this._envelope)},Ut.prototype.setSRID=function(t){this._SRID=t},Ut.prototype.setUserData=function(t){this._userData=t},Ut.prototype.compare=function(t,e){for(var o=t.iterator(),s=e.iterator();o.hasNext()&&s.hasNext();){var c=o.next(),y=s.next(),x=c.compareTo(y);if(0!==x)return x}return o.hasNext()?1:s.hasNext()?-1:0},Ut.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Ut.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Ut.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Ut.SORTINDEX_MULTIPOINT||this.getSortIndex()===Ut.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Ut.SORTINDEX_MULTIPOLYGON},Ut.prototype.interfaces_=function(){return[P,S,F]},Ut.prototype.getClass=function(){return Ut},Ut.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Ut.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},de.serialVersionUID.get=function(){return 0x799ea46522854c00},de.SORTINDEX_POINT.get=function(){return 0},de.SORTINDEX_MULTIPOINT.get=function(){return 1},de.SORTINDEX_LINESTRING.get=function(){return 2},de.SORTINDEX_LINEARRING.get=function(){return 3},de.SORTINDEX_MULTILINESTRING.get=function(){return 4},de.SORTINDEX_POLYGON.get=function(){return 5},de.SORTINDEX_MULTIPOLYGON.get=function(){return 6},de.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},de.geometryChangedFilter.get=function(){return yn},Object.defineProperties(Ut,de);var yn=function(){};yn.interfaces_=function(){return[ge]},yn.filter=function(t){t.geometryChangedAction()};var we=function(){};we.prototype.filter=function(t){},we.prototype.interfaces_=function(){return[]},we.prototype.getClass=function(){return we};var tn=function(){},hn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};tn.prototype.isInBoundary=function(t){},tn.prototype.interfaces_=function(){return[]},tn.prototype.getClass=function(){return tn},hn.Mod2BoundaryNodeRule.get=function(){return Ln},hn.EndPointBoundaryNodeRule.get=function(){return Vn},hn.MultiValentEndPointBoundaryNodeRule.get=function(){return Rn},hn.MonoValentEndPointBoundaryNodeRule.get=function(){return fr},hn.MOD2_BOUNDARY_RULE.get=function(){return new Ln},hn.ENDPOINT_BOUNDARY_RULE.get=function(){return new Vn},hn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Rn},hn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new fr},hn.OGC_SFS_BOUNDARY_RULE.get=function(){return tn.MOD2_BOUNDARY_RULE},Object.defineProperties(tn,hn);var Ln=function(){};Ln.prototype.isInBoundary=function(t){return t%2==1},Ln.prototype.interfaces_=function(){return[tn]},Ln.prototype.getClass=function(){return Ln};var Vn=function(){};Vn.prototype.isInBoundary=function(t){return t>0},Vn.prototype.interfaces_=function(){return[tn]},Vn.prototype.getClass=function(){return Vn};var Rn=function(){};Rn.prototype.isInBoundary=function(t){return t>1},Rn.prototype.interfaces_=function(){return[tn]},Rn.prototype.getClass=function(){return Rn};var fr=function(){};fr.prototype.isInBoundary=function(t){return 1===t},fr.prototype.interfaces_=function(){return[tn]},fr.prototype.getClass=function(){return fr};var pn=function(){};pn.prototype.add=function(){},pn.prototype.addAll=function(){},pn.prototype.isEmpty=function(){},pn.prototype.iterator=function(){},pn.prototype.size=function(){},pn.prototype.toArray=function(){},pn.prototype.remove=function(){},(j.prototype=new Error).name="IndexOutOfBoundsException";var Tr=function(){};Tr.prototype.hasNext=function(){},Tr.prototype.next=function(){},Tr.prototype.remove=function(){};var Xn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(pn);(O.prototype=new Error).name="NoSuchElementException";var Bt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof pn&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,pn]},e.prototype.add=function(o){return 1===arguments.length?this.array_.push(o):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(o){for(var s=o.iterator();s.hasNext();)this.add(s.next());return!0},e.prototype.set=function(o,s){var c=this.array_[o];return this.array_[o]=s,c},e.prototype.iterator=function(){return new Ao(this)},e.prototype.get=function(o){if(o<0||o>=this.size())throw new j;return this.array_[o]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var o=[],s=0,c=this.array_.length;s<c;s++)o.push(this.array_[s]);return o},e.prototype.remove=function(o){for(var s=!1,c=0,y=this.array_.length;c<y;c++)if(this.array_[c]===o){this.array_.splice(c,1),s=!0;break}return s},e}(Xn),Ao=function(t){function e(o){t.call(this),this.arrayList_=o,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new O;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(o){return this.arrayList_.set(this.position_-1,o)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Tr),Vr=function(t){function e(){if(t.call(this),0!==arguments.length)if(1===arguments.length){var s=arguments[0];this.ensureCapacity(s.length),this.add(s,!0)}else if(2===arguments.length){var c=arguments[0],y=arguments[1];this.ensureCapacity(c.length),this.add(c,y)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={coordArrayType:{configurable:!0}};return o.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(s){return this.get(s)},e.prototype.addAll=function(){if(2===arguments.length){for(var c=arguments[1],y=!1,x=arguments[0].iterator();x.hasNext();)this.add(x.next(),c),y=!0;return y}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var s=t.prototype.clone.call(this),c=0;c<this.size();c++)s.add(c,this.get(c).copy());return s},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof w&&"boolean"==typeof arguments[1]){var x=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(x))return null;t.prototype.add.call(this,x)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var rt=arguments[0],Et=arguments[1];if(arguments[2])for(var Pt=0;Pt<rt.length;Pt++)this.add(rt[Pt],Et);else for(var Zt=rt.length-1;Zt>=0;Zt--)this.add(rt[Zt],Et);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof w){var Yt=arguments[0],$t=arguments[1];if(!arguments[2]){var ne=this.size();if(ne>0&&(Yt>0&&this.get(Yt-1).equals2D($t)||Yt<ne&&this.get(Yt).equals2D($t)))return null}t.prototype.add.call(this,Yt,$t)}}else if(4===arguments.length){var nn=arguments[0],wn=arguments[1],lr=arguments[2],Si=arguments[3],Jr=1;lr>Si&&(Jr=-1);for(var xa=lr;xa!==Si;xa+=Jr)this.add(nn[xa],wn);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new w(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,o),e}(Bt),pe=function(){},Br={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Br.ForwardComparator.get=function(){return di},Br.BidirectionalComparator.get=function(){return _e},Br.coordArrayType.get=function(){return new Array(0).fill(null)},pe.prototype.interfaces_=function(){return[]},pe.prototype.getClass=function(){return pe},pe.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},pe.ptNotInList=function(t,e){for(var o=0;o<t.length;o++){var s=t[o];if(pe.indexOf(s,e)<0)return s}return null},pe.scroll=function(t,e){var o=pe.indexOf(e,t);if(o<0)return null;var s=new Array(t.length).fill(null);Jt.arraycopy(t,o,s,0,t.length-o),Jt.arraycopy(t,0,s,t.length-o,o),Jt.arraycopy(s,0,t,0,t.length)},pe.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e||t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!t[o].equals(e[o]))return!1;return!0}if(3===arguments.length){var s=arguments[0],c=arguments[1],y=arguments[2];if(s===c)return!0;if(null===s||null===c||s.length!==c.length)return!1;for(var x=0;x<s.length;x++)if(0!==y.compare(s[x],c[x]))return!1;return!0}},pe.intersection=function(t,e){for(var o=new Vr,s=0;s<t.length;s++)e.intersects(t[s])&&o.add(t[s],!0);return o.toCoordinateArray()},pe.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},pe.removeRepeatedPoints=function(t){return pe.hasRepeatedPoints(t)?new Vr(t,!1).toCoordinateArray():t},pe.reverse=function(t){for(var e=t.length-1,o=Math.trunc(e/2),s=0;s<=o;s++){var c=t[s];t[s]=t[e-s],t[e-s]=c}},pe.removeNull=function(t){for(var e=0,o=0;o<t.length;o++)null!==t[o]&&e++;var s=new Array(e).fill(null);if(0===e)return s;for(var c=0,y=0;y<t.length;y++)null!==t[y]&&(s[c++]=t[y]);return s},pe.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),o=0;o<t.length;o++)e[o]=new w(t[o]);return e}if(5===arguments.length)for(var s=arguments[0],c=arguments[1],y=arguments[2],x=arguments[3],I=arguments[4],q=0;q<I;q++)y[x+q]=new w(s[c+q])},pe.isEqualReversed=function(t,e){for(var o=0;o<t.length;o++)if(0!==t[o].compareTo(e[t.length-o-1]))return!1;return!0},pe.envelope=function(t){for(var e=new Gt,o=0;o<t.length;o++)e.expandToInclude(t[o]);return e},pe.toCoordinateArray=function(t){return t.toArray(pe.coordArrayType)},pe.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},pe.indexOf=function(t,e){for(var o=0;o<e.length;o++)if(t.equals(e[o]))return o;return-1},pe.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var s=t[e].compareTo(t[t.length-1-e]);if(0!==s)return s}return 1},pe.compare=function(t,e){for(var o=0;o<t.length&&o<e.length;){var s=t[o].compareTo(e[o]);if(0!==s)return s;o++}return o<e.length?-1:o<t.length?1:0},pe.minCoordinate=function(t){for(var e=null,o=0;o<t.length;o++)(null===e||e.compareTo(t[o])>0)&&(e=t[o]);return e},pe.extract=function(t,e,o){e=U.clamp(e,0,t.length);var s=(o=U.clamp(o,-1,t.length))-e+1;o<0&&(s=0),e>=t.length&&(s=0),o<e&&(s=0);var c=new Array(s).fill(null);if(0===s)return c;for(var y=0,x=e;x<=o;x++)c[y++]=t[x];return c},Object.defineProperties(pe,Br);var di=function(){};di.prototype.compare=function(t,e){return pe.compare(t,e)},di.prototype.interfaces_=function(){return[A]},di.prototype.getClass=function(){return di};var _e=function(){};_e.prototype.compare=function(t,e){var o=t,s=e;if(o.length<s.length)return-1;if(o.length>s.length)return 1;if(0===o.length)return 0;var c=pe.compare(o,s);return pe.isEqualReversed(o,s)?0:c},_e.prototype.OLDcompare=function(t,e){var o=t,s=e;if(o.length<s.length)return-1;if(o.length>s.length)return 1;if(0===o.length)return 0;for(var c=pe.increasingDirection(o),y=pe.increasingDirection(s),x=c>0?0:o.length-1,I=y>0?0:o.length-1,q=0;q<o.length;q++){var rt=o[x].compareTo(s[I]);if(0!==rt)return rt;x+=c,I+=y}return 0},_e.prototype.interfaces_=function(){return[A]},_e.prototype.getClass=function(){return _e};var ho=function(){};ho.prototype.get=function(){},ho.prototype.put=function(){},ho.prototype.size=function(){},ho.prototype.values=function(){},ho.prototype.entrySet=function(){};var nu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(ho);(h.prototype=new Error).name="OperationNotSupported",(nt.prototype=new pn).contains=function(){};var fs=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof pn&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(o){for(var s=0,c=this.array_.length;s<c;s++)if(this.array_[s]===o)return!0;return!1},e.prototype.add=function(o){return!this.contains(o)&&(this.array_.push(o),!0)},e.prototype.addAll=function(o){for(var s=o.iterator();s.hasNext();)this.add(s.next());return!0},e.prototype.remove=function(o){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var o=[],s=0,c=this.array_.length;s<c;s++)o.push(this.array_[s]);return o},e.prototype.iterator=function(){return new ga(this)},e}(nt),ga=function(t){function e(o){t.call(this),this.hashSet_=o,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new O;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new h},e}(Tr),jr=0;(xt.prototype=new nu).get=function(t){for(var e=this.root_;null!==e;){var o=t.compareTo(e.key);if(o<0)e=e.left;else{if(!(o>0))return e.value;e=e.right}}return null},xt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:jr,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var o,s,c=this.root_;do{if(o=c,(s=t.compareTo(c.key))<0)c=c.left;else{if(!(s>0)){var y=c.value;return c.value=e,y}c=c.right}}while(null!==c);var x={key:t,left:null,right:null,value:e,parent:o,color:jr,getValue:function(){return this.value},getKey:function(){return this.key}};return s<0?o.left=x:o.right=x,this.fixAfterInsertion(x),this.size_++,null},xt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(ot(t)===Ct(ot(ot(t)))){var e=Tt(ot(ot(t)));1===W(e)?(ft(ot(t),jr),ft(e,jr),ft(ot(ot(t)),1),t=ot(ot(t))):(t===Tt(ot(t))&&(t=ot(t),this.rotateLeft(t)),ft(ot(t),jr),ft(ot(ot(t)),1),this.rotateRight(ot(ot(t))))}else{var o=Ct(ot(ot(t)));1===W(o)?(ft(ot(t),jr),ft(o,jr),ft(ot(ot(t)),1),t=ot(ot(t))):(t===Ct(ot(t))&&(t=ot(t),this.rotateRight(t)),ft(ot(t),jr),ft(ot(ot(t)),1),this.rotateLeft(ot(ot(t))))}this.root_.color=jr},xt.prototype.values=function(){var t=new Bt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=xt.successor(e));)t.add(e.value);return t},xt.prototype.entrySet=function(){var t=new fs,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=xt.successor(e));)t.add(e);return t},xt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},xt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},xt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},xt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var o=t.parent,s=t;null!==o&&s===o.right;)s=o,o=o.parent;return o},xt.prototype.size=function(){return this.size_};var Jo=function(){};Jo.prototype.interfaces_=function(){return[]},Jo.prototype.getClass=function(){return Jo},mt.prototype=new nt,(wt.prototype=new mt).contains=function(t){for(var e=0,o=this.array_.length;e<o;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},wt.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,o=this.array_.length;e<o;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},wt.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},wt.prototype.remove=function(t){throw new h},wt.prototype.size=function(){return this.array_.length},wt.prototype.isEmpty=function(){return 0===this.array_.length},wt.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t},wt.prototype.iterator=function(){return new hs(this)};var hs=function(t){this.treeSet_=t,this.position_=0};hs.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new O;return this.treeSet_.array_[this.position_++]},hs.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},hs.prototype.remove=function(){throw new h};var Vi=function(){};Vi.sort=function(){var t,e,o,c=arguments[0];if(1===arguments.length)c.sort(function(x,I){return x.compareTo(I)});else if(2===arguments.length)o=arguments[1],c.sort(function(x,I){return o.compare(x,I)});else if(3===arguments.length){(e=c.slice(arguments[1],arguments[2])).sort();var y=c.slice(0,arguments[1]).concat(e,c.slice(arguments[2],c.length));for(c.splice(0,c.length),t=0;t<y.length;t++)c.push(y[t])}else if(4===arguments.length)for(e=c.slice(arguments[1],arguments[2]),o=arguments[3],e.sort(function(x,I){return o.compare(x,I)}),y=c.slice(0,arguments[1]).concat(e,c.slice(arguments[2],c.length)),c.splice(0,c.length),t=0;t<y.length;t++)c.push(y[t])},Vi.asList=function(t){for(var e=new Bt,o=0,s=t.length;o<s;o++)e.add(t[o]);return e};var be=function(){},Qr={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Qr.P.get=function(){return 0},Qr.L.get=function(){return 1},Qr.A.get=function(){return 2},Qr.FALSE.get=function(){return-1},Qr.TRUE.get=function(){return-2},Qr.DONTCARE.get=function(){return-3},Qr.SYM_FALSE.get=function(){return"F"},Qr.SYM_TRUE.get=function(){return"T"},Qr.SYM_DONTCARE.get=function(){return"*"},Qr.SYM_P.get=function(){return"0"},Qr.SYM_L.get=function(){return"1"},Qr.SYM_A.get=function(){return"2"},be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be},be.toDimensionSymbol=function(t){switch(t){case be.FALSE:return be.SYM_FALSE;case be.TRUE:return be.SYM_TRUE;case be.DONTCARE:return be.SYM_DONTCARE;case be.P:return be.SYM_P;case be.L:return be.SYM_L;case be.A:return be.SYM_A}throw new C("Unknown dimension value: "+t)},be.toDimensionValue=function(t){switch(ct.toUpperCase(t)){case be.SYM_FALSE:return be.FALSE;case be.SYM_TRUE:return be.TRUE;case be.SYM_DONTCARE:return be.DONTCARE;case be.SYM_P:return be.P;case be.SYM_L:return be.L;case be.SYM_A:return be.A}throw new C("Unknown dimension symbol: "+t)},Object.defineProperties(be,Qr);var Kr=function(){};Kr.prototype.filter=function(t){},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr};var qr=function(){};qr.prototype.filter=function(t,e){},qr.prototype.isDone=function(){},qr.prototype.isGeometryChanged=function(){},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr};var hr=function(t){function e(s,c){if(t.call(this,c),this._geometries=s||[],t.hasNullElements(this._geometries))throw new C("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var s=new Gt,c=0;c<this._geometries.length;c++)s.expandToInclude(this._geometries[c].getEnvelopeInternal());return s},e.prototype.getGeometryN=function(s){return this._geometries[s]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var s=new Array(this.getNumPoints()).fill(null),c=-1,y=0;y<this._geometries.length;y++)for(var x=this._geometries[y].getCoordinates(),I=0;I<x.length;I++)s[++c]=x[I];return s},e.prototype.getArea=function(){for(var s=0,c=0;c<this._geometries.length;c++)s+=this._geometries[c].getArea();return s},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];if(!this.isEquivalentClass(s))return!1;var y=s;if(this._geometries.length!==y._geometries.length)return!1;for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].equalsExact(y._geometries[x],c))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var s=0;s<this._geometries.length;s++)this._geometries[s].normalize();Vi.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var s=be.FALSE,c=0;c<this._geometries.length;c++)s=Math.max(s,this._geometries[c].getBoundaryDimension());return s},e.prototype.getDimension=function(){for(var s=be.FALSE,c=0;c<this._geometries.length;c++)s=Math.max(s,this._geometries[c].getDimension());return s},e.prototype.getLength=function(){for(var s=0,c=0;c<this._geometries.length;c++)s+=this._geometries[c].getLength();return s},e.prototype.getNumPoints=function(){for(var s=0,c=0;c<this._geometries.length;c++)s+=this._geometries[c].getNumPoints();return s},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var c=new Array(this._geometries.length).fill(null),y=0;y<this._geometries.length;y++)c[y]=this._geometries[y].reverse();return this.getFactory().createGeometryCollection(c)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var s=arguments[0],c=new wt(Vi.asList(this._geometries)),y=new wt(Vi.asList(s._geometries));return this.compare(c,y)}if(2===arguments.length){for(var I=arguments[1],q=arguments[0],rt=this.getNumGeometries(),Et=q.getNumGeometries(),Pt=0;Pt<rt&&Pt<Et;){var Zt=this.getGeometryN(Pt),Yt=q.getGeometryN(Pt),$t=Zt.compareToSameClass(Yt,I);if(0!==$t)return $t;Pt++}return Pt<rt?1:Pt<Et?-1:0}},e.prototype.apply=function(){if(Nt(arguments[0],we))for(var s=arguments[0],c=0;c<this._geometries.length;c++)this._geometries[c].apply(s);else if(Nt(arguments[0],qr)){var y=arguments[0];if(0===this._geometries.length)return null;for(var x=0;x<this._geometries.length&&(this._geometries[x].apply(y),!y.isDone());x++);y.isGeometryChanged()&&this.geometryChanged()}else if(Nt(arguments[0],Kr)){var I=arguments[0];I.filter(this);for(var q=0;q<this._geometries.length;q++)this._geometries[q].apply(I)}else if(Nt(arguments[0],ge)){var rt=arguments[0];rt.filter(this);for(var Et=0;Et<this._geometries.length;Et++)this._geometries[Et].apply(rt)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),M.shouldNeverReachHere(),null},e.prototype.clone=function(){var s=t.prototype.clone.call(this);s._geometries=new Array(this._geometries.length).fill(null);for(var c=0;c<this._geometries.length;c++)s._geometries[c]=this._geometries[c].clone();return s},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),c=0;c<s.length;c++)s[c]=this._geometries[c].copy();return new e(s,this._factory)},e.prototype.isEmpty=function(){for(var s=0;s<this._geometries.length;s++)if(!this._geometries[s].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,o),e}(Ut),po=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ut.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,c)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?be.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var s=0;s<this._geometries.length;s++)if(!this._geometries[s].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var s=this._geometries.length,c=new Array(s).fill(null),y=0;y<this._geometries.length;y++)c[s-1-y]=this._geometries[y].reverse();return this.getFactory().createMultiLineString(c)},e.prototype.getBoundary=function(){return new Gr(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),c=0;c<s.length;c++)s[c]=this._geometries[c].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[Jo]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,o),e}(hr),Gr=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=tn.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var o=arguments[0],s=arguments[1];this._geom=o,this._geomFact=o.getFactory(),this._bnRule=s}};Gr.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Gr.prototype.getBoundary=function(){return this._geom instanceof _n?this.boundaryLineString(this._geom):this._geom instanceof po?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Gr.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Gr.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Gr.prototype.computeBoundaryCoordinates=function(t){var e=new Bt;this._endpointMap=new xt;for(var o=0;o<t.getNumGeometries();o++){var s=t.getGeometryN(o);0!==s.getNumPoints()&&(this.addEndpoint(s.getCoordinateN(0)),this.addEndpoint(s.getCoordinateN(s.getNumPoints()-1)))}for(var c=this._endpointMap.entrySet().iterator();c.hasNext();){var y=c.next(),x=y.getValue().count;this._bnRule.isInBoundary(x)&&e.add(y.getKey())}return pe.toCoordinateArray(e)},Gr.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Ho,this._endpointMap.put(t,e)),e.count++},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr},Gr.getBoundary=function(){return 1===arguments.length?new Gr(arguments[0]).getBoundary():2===arguments.length?new Gr(arguments[0],arguments[1]).getBoundary():void 0};var Ho=function(){this.count=null};Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho};var Sr=function(){},Ds={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Sr.chars=function(t,e){for(var o=new Array(e).fill(null),s=0;s<e;s++)o[s]=t;return String(o)},Sr.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},o=new function(){}(e);return t.printStackTrace(o),e.toString()}if(2===arguments.length){for(var c=arguments[1],y="",x=new function(){}(new function(){}(Sr.getStackTrace(arguments[0]))),I=0;I<c;I++)try{y+=x.readLine()+Sr.NEWLINE}catch(q){if(!(q instanceof kt))throw q;M.shouldNeverReachHere()}return y}},Sr.split=function(t,e){for(var o=e.length,s=new Bt,c=""+t,y=c.indexOf(e);y>=0;){var x=c.substring(0,y);s.add(x),y=(c=c.substring(y+o)).indexOf(e)}c.length>0&&s.add(c);for(var I=new Array(s.size()).fill(null),q=0;q<I.length;q++)I[q]=s.get(q);return I},Sr.toString=function(){if(1===arguments.length)return Sr.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},Sr.spaces=function(t){return Sr.chars(" ",t)},Ds.NEWLINE.get=function(){return Jt.getProperty("line.separator")},Ds.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Sr,Ds);var In=function(){};In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},In.copyCoord=function(t,e,o,s){for(var c=Math.min(t.getDimension(),o.getDimension()),y=0;y<c;y++)o.setOrdinate(s,y,t.getOrdinate(e,y))},In.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Ot.X)===t.getOrdinate(e-1,Ot.X)&&t.getOrdinate(0,Ot.Y)===t.getOrdinate(e-1,Ot.Y)},In.isEqual=function(t,e){var o=t.size();if(o!==e.size())return!1;for(var s=Math.min(t.getDimension(),e.getDimension()),c=0;c<o;c++)for(var y=0;y<s;y++){var x=t.getOrdinate(c,y),I=e.getOrdinate(c,y);if(!(t.getOrdinate(c,y)===e.getOrdinate(c,y)||N.isNaN(x)&&N.isNaN(I)))return!1}return!0},In.extend=function(t,e,o){var s=t.create(o,e.getDimension()),c=e.size();if(In.copy(e,0,s,0,c),c>0)for(var y=c;y<o;y++)In.copy(e,c-1,s,y,1);return s},In.reverse=function(t){for(var e=t.size()-1,o=Math.trunc(e/2),s=0;s<=o;s++)In.swap(t,s,e-s)},In.swap=function(t,e,o){if(e===o)return null;for(var s=0;s<t.getDimension();s++){var c=t.getOrdinate(e,s);t.setOrdinate(e,s,t.getOrdinate(o,s)),t.setOrdinate(o,s,c)}},In.copy=function(t,e,o,s,c){for(var y=0;y<c;y++)In.copyCoord(t,e+y,o,s+y)},In.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var o=t.getDimension(),s=new J;s.append("(");for(var c=0;c<e;c++){c>0&&s.append(" ");for(var y=0;y<o;y++)y>0&&s.append(","),s.append(Sr.toString(t.getOrdinate(c,y)))}return s.append(")"),s.toString()}},In.ensureValidRing=function(t,e){var o=e.size();return 0===o?e:o<=3?In.createClosedRing(t,e,4):e.getOrdinate(0,Ot.X)===e.getOrdinate(o-1,Ot.X)&&e.getOrdinate(0,Ot.Y)===e.getOrdinate(o-1,Ot.Y)?e:In.createClosedRing(t,e,o+1)},In.createClosedRing=function(t,e,o){var s=t.create(o,e.getDimension()),c=e.size();In.copy(e,0,s,0,c);for(var y=c;y<o;y++)In.copy(e,0,s,y,1);return s};var _n=function(t){function e(s,c){t.call(this,c),this._points=null,this.init(s)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Gt:this._points.expandEnvelope(new Gt)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];if(!this.isEquivalentClass(s))return!1;var y=s;if(this._points.size()!==y._points.size())return!1;for(var x=0;x<this._points.size();x++)if(!this.equal(this._points.getCoordinate(x),y._points.getCoordinate(x),c))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var s=0;s<Math.trunc(this._points.size()/2);s++){var c=this._points.size()-1-s;if(!this._points.getCoordinate(s).equals(this._points.getCoordinate(c)))return this._points.getCoordinate(s).compareTo(this._points.getCoordinate(c))>0&&In.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?be.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Mt.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var s=this._points.copy();return In.reverse(s),this.getFactory().createLineString(s)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var s=arguments[0],c=0,y=0;c<this._points.size()&&y<s._points.size();){var x=this._points.getCoordinate(c).compareTo(s._points.getCoordinate(y));if(0!==x)return x;c++,y++}return c<this._points.size()?1:y<s._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){if(Nt(arguments[0],we))for(var s=arguments[0],c=0;c<this._points.size();c++)s.filter(this._points.getCoordinate(c));else if(Nt(arguments[0],qr)){var y=arguments[0];if(0===this._points.size())return null;for(var x=0;x<this._points.size()&&(y.filter(this._points,x),!y.isDone());x++);y.isGeometryChanged()&&this.geometryChanged()}else(Nt(arguments[0],Kr)||Nt(arguments[0],ge))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Gr(this).getBoundary()},e.prototype.isEquivalentClass=function(s){return s instanceof e},e.prototype.clone=function(){var s=t.prototype.clone.call(this);return s._points=this._points.clone(),s},e.prototype.getCoordinateN=function(s){return this._points.getCoordinate(s)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(s){if(null===s&&(s=this.getFactory().getCoordinateSequenceFactory().create([])),1===s.size())throw new C("Invalid number of points in LineString (found "+s.size()+" - must be 0 or >= 2)");this._points=s},e.prototype.isCoordinate=function(s){for(var c=0;c<this._points.size();c++)if(this._points.getCoordinate(c).equals(s))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(s){return this.getFactory().createPoint(this._points.getCoordinate(s))},e.prototype.interfaces_=function(){return[Jo]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,o),e}(Ut),ps=function(){};ps.prototype.interfaces_=function(){return[]},ps.prototype.getClass=function(){return ps};var Pr=function(t){function e(s,c){t.call(this,c),this._coordinates=s||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Gt;var s=new Gt;return s.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),s},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];return!!this.isEquivalentClass(s)&&(!(!this.isEmpty()||!s.isEmpty())||this.isEmpty()===s.isEmpty()&&this.equal(s.getCoordinate(),this.getCoordinate(),c))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return be.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var s=arguments[0];return this.getCoordinate().compareTo(s.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(Nt(arguments[0],we)){var s=arguments[0];if(this.isEmpty())return null;s.filter(this.getCoordinate())}else if(Nt(arguments[0],qr)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this._coordinates,0),c.isGeometryChanged()&&this.geometryChanged()}else(Nt(arguments[0],Kr)||Nt(arguments[0],ge))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var s=t.prototype.clone.call(this);return s._coordinates=this._coordinates.clone(),s},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(s){null===s&&(s=this.getFactory().getCoordinateSequenceFactory().create([])),M.isTrue(s.size()<=1),this._coordinates=s},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[ps]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,o),e}(Ut),ji=function(){};ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji};var Cn=function(t){function e(s,c,y){if(t.call(this,y),this._shell=null,this._holes=null,null===s&&(s=this.getFactory().createLinearRing()),null===c&&(c=[]),t.hasNullElements(c))throw new C("holes must not contain null elements");if(s.isEmpty()&&t.hasNonEmptyElements(c))throw new C("shell is empty but holes are not");this._shell=s,this._holes=c}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var s=new Array(this.getNumPoints()).fill(null),c=-1,y=this._shell.getCoordinates(),x=0;x<y.length;x++)s[++c]=y[x];for(var I=0;I<this._holes.length;I++)for(var q=this._holes[I].getCoordinates(),rt=0;rt<q.length;rt++)s[++c]=q[rt];return s},e.prototype.getArea=function(){var s=0;s+=Math.abs(Mt.signedArea(this._shell.getCoordinateSequence()));for(var c=0;c<this._holes.length;c++)s-=Math.abs(Mt.signedArea(this._holes[c].getCoordinateSequence()));return s},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var s=this._shell.getCoordinateSequence(),c=this.getEnvelopeInternal(),y=0;y<5;y++){var x=s.getX(y);if(x!==c.getMinX()&&x!==c.getMaxX())return!1;var I=s.getY(y);if(I!==c.getMinY()&&I!==c.getMaxY())return!1}for(var q=s.getX(0),rt=s.getY(0),Et=1;Et<=4;Et++){var Pt=s.getX(Et),Zt=s.getY(Et);if(Pt!==q==(Zt!==rt))return!1;q=Pt,rt=Zt}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];if(!this.isEquivalentClass(s))return!1;var y=s;if(!this._shell.equalsExact(y._shell,c)||this._holes.length!==y._holes.length)return!1;for(var q=0;q<this._holes.length;q++)if(!this._holes[q].equalsExact(y._holes[q],c))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var s=0;s<this._holes.length;s++)this.normalize(this._holes[s],!1);Vi.sort(this._holes)}else if(2===arguments.length){var c=arguments[0],y=arguments[1];if(c.isEmpty())return null;var x=new Array(c.getCoordinates().length-1).fill(null);Jt.arraycopy(c.getCoordinates(),0,x,0,x.length);var I=pe.minCoordinate(c.getCoordinates());pe.scroll(x,I),Jt.arraycopy(x,0,c.getCoordinates(),0,x.length),c.getCoordinates()[x.length]=x[0],Mt.isCCW(c.getCoordinates())===y&&pe.reverse(c.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var s=0;s+=this._shell.getLength();for(var c=0;c<this._holes.length;c++)s+=this._holes[c].getLength();return s},e.prototype.getNumPoints=function(){for(var s=this._shell.getNumPoints(),c=0;c<this._holes.length;c++)s+=this._holes[c].getNumPoints();return s},e.prototype.reverse=function(){var s=this.copy();s._shell=this._shell.copy().reverse(),s._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)s._holes[c]=this._holes[c].copy().reverse();return s},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var I=arguments[1],q=arguments[0],Pt=this._shell.compareToSameClass(q._shell,I);if(0!==Pt)return Pt;for(var Zt=this.getNumInteriorRing(),Yt=q.getNumInteriorRing(),$t=0;$t<Zt&&$t<Yt;){var ne=this.getInteriorRingN($t),nn=q.getInteriorRingN($t),wn=ne.compareToSameClass(nn,I);if(0!==wn)return wn;$t++}return $t<Zt?1:$t<Yt?-1:0}},e.prototype.apply=function(s){if(Nt(s,we)){this._shell.apply(s);for(var c=0;c<this._holes.length;c++)this._holes[c].apply(s)}else if(Nt(s,qr)){if(this._shell.apply(s),!s.isDone())for(var y=0;y<this._holes.length&&(this._holes[y].apply(s),!s.isDone());y++);s.isGeometryChanged()&&this.geometryChanged()}else if(Nt(s,Kr))s.filter(this);else if(Nt(s,ge)){s.filter(this),this._shell.apply(s);for(var x=0;x<this._holes.length;x++)this._holes[x].apply(s)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var s=new Array(this._holes.length+1).fill(null);s[0]=this._shell;for(var c=0;c<this._holes.length;c++)s[c+1]=this._holes[c];return s.length<=1?this.getFactory().createLinearRing(s[0].getCoordinateSequence()):this.getFactory().createMultiLineString(s)},e.prototype.clone=function(){var s=t.prototype.clone.call(this);s._shell=this._shell.clone(),s._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)s._holes[c]=this._holes[c].clone();return s},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var s=this._shell.copy(),c=new Array(this._holes.length).fill(null),y=0;y<c.length;y++)c[y]=this._holes[y].copy();return new e(s,c,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(s){return this._holes[s]},e.prototype.interfaces_=function(){return[ji]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,o),e}(Ut),Ro=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ut.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,c)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return be.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),c=0;c<s.length;c++)s[c]=this._geometries[c].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[ps]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,o),e}(hr),yi=function(t){function e(s,c){s instanceof w&&c instanceof ve&&(s=c.getCoordinateSequenceFactory().create(s)),t.call(this,s,c),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ut.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return be.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var s=this._points.copy();return In.reverse(s),this.getFactory().createLinearRing(s)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new C("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new C("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.MINIMUM_VALID_SIZE.get=function(){return 4},o.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,o),e}(_n),mi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ut.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,c)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var c=new Array(this._geometries.length).fill(null),y=0;y<this._geometries.length;y++)c[y]=this._geometries[y].reverse();return this.getFactory().createMultiPolygon(c)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var s=new Bt,c=0;c<this._geometries.length;c++)for(var y=this._geometries[c].getBoundary(),x=0;x<y.getNumGeometries();x++)s.add(y.getGeometryN(x));var I=new Array(s.size()).fill(null);return this.getFactory().createMultiLineString(s.toArray(I))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),c=0;c<s.length;c++)s[c]=this._geometries[c].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[ji]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,o),e}(hr),Ur=function(t){this._factory=t||null,this._isUserDataCopied=!1},go={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Ur.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Ur.prototype.edit=function(t,e){if(null===t)return null;var o=this.editInternal(t,e);return this._isUserDataCopied&&o.setUserData(t.getUserData()),o},Ur.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof hr?this.editGeometryCollection(t,e):t instanceof Cn?this.editPolygon(t,e):t instanceof Pr||t instanceof _n?e.edit(t,this._factory):(M.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Ur.prototype.editGeometryCollection=function(t,e){for(var o=e.edit(t,this._factory),s=new Bt,c=0;c<o.getNumGeometries();c++){var y=this.edit(o.getGeometryN(c),e);null===y||y.isEmpty()||s.add(y)}return o.getClass()===Ro?this._factory.createMultiPoint(s.toArray([])):o.getClass()===po?this._factory.createMultiLineString(s.toArray([])):o.getClass()===mi?this._factory.createMultiPolygon(s.toArray([])):this._factory.createGeometryCollection(s.toArray([]))},Ur.prototype.editPolygon=function(t,e){var o=e.edit(t,this._factory);if(null===o&&(o=this._factory.createPolygon(null)),o.isEmpty())return o;var s=this.edit(o.getExteriorRing(),e);if(null===s||s.isEmpty())return this._factory.createPolygon();for(var c=new Bt,y=0;y<o.getNumInteriorRing();y++){var x=this.edit(o.getInteriorRingN(y),e);null===x||x.isEmpty()||c.add(x)}return this._factory.createPolygon(s,c.toArray([]))},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.GeometryEditorOperation=function(){},go.NoOpGeometryOperation.get=function(){return $o},go.CoordinateOperation.get=function(){return gs},go.CoordinateSequenceOperation.get=function(){return ds},Object.defineProperties(Ur,go);var $o=function(){};$o.prototype.edit=function(t,e){return t},$o.prototype.interfaces_=function(){return[Ur.GeometryEditorOperation]},$o.prototype.getClass=function(){return $o};var gs=function(){};gs.prototype.edit=function(t,e){var o=this.editCoordinates(t.getCoordinates(),t);return null===o?t:t instanceof yi?e.createLinearRing(o):t instanceof _n?e.createLineString(o):t instanceof Pr?o.length>0?e.createPoint(o[0]):e.createPoint():t},gs.prototype.interfaces_=function(){return[Ur.GeometryEditorOperation]},gs.prototype.getClass=function(){return gs};var ds=function(){};ds.prototype.edit=function(t,e){return t instanceof yi?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof _n?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Pr?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ds.prototype.interfaces_=function(){return[Ur.GeometryEditorOperation]},ds.prototype.getClass=function(){return ds};var Sn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new w}else if(Nt(arguments[0],Ot)){var o=arguments[0];if(null===o)return this._coordinates=new Array(0).fill(null),null;this._dimension=o.getDimension(),this._coordinates=new Array(o.size()).fill(null);for(var s=0;s<this._coordinates.length;s++)this._coordinates[s]=o.getCoordinateCopy(s)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var c=arguments[0],y=arguments[1];this._coordinates=c,this._dimension=y,null===c&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var x=arguments[0],I=arguments[1];this._coordinates=new Array(x).fill(null),this._dimension=I;for(var q=0;q<x;q++)this._coordinates[q]=new w}},Fs={serialVersionUID:{configurable:!0}};Sn.prototype.setOrdinate=function(t,e,o){switch(e){case Ot.X:this._coordinates[t].x=o;break;case Ot.Y:this._coordinates[t].y=o;break;case Ot.Z:this._coordinates[t].z=o;break;default:throw new C("invalid ordinateIndex")}},Sn.prototype.size=function(){return this._coordinates.length},Sn.prototype.getOrdinate=function(t,e){switch(e){case Ot.X:return this._coordinates[t].x;case Ot.Y:return this._coordinates[t].y;case Ot.Z:return this._coordinates[t].z}return N.NaN},Sn.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var e=arguments[0],o=arguments[1];o.x=this._coordinates[e].x,o.y=this._coordinates[e].y,o.z=this._coordinates[e].z}},Sn.prototype.getCoordinateCopy=function(t){return new w(this._coordinates[t])},Sn.prototype.getDimension=function(){return this._dimension},Sn.prototype.getX=function(t){return this._coordinates[t].x},Sn.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Sn(t,this._dimension)},Sn.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Sn.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Sn(t,this._dimension)},Sn.prototype.toString=function(){if(this._coordinates.length>0){var t=new J(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Sn.prototype.getY=function(t){return this._coordinates[t].y},Sn.prototype.toCoordinateArray=function(){return this._coordinates},Sn.prototype.interfaces_=function(){return[Ot,F]},Sn.prototype.getClass=function(){return Sn},Fs.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Sn,Fs);var ti=function(){},Do={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ti.prototype.readResolve=function(){return ti.instance()},ti.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Sn(arguments[0]);if(Nt(arguments[0],Ot))return new Sn(arguments[0])}else if(2===arguments.length){var o=arguments[0],s=arguments[1];return s>3&&(s=3),s<2?new Sn(o):new Sn(o,s)}},ti.prototype.interfaces_=function(){return[K,F]},ti.prototype.getClass=function(){return ti},ti.instance=function(){return ti.instanceObject},Do.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Do.instanceObject.get=function(){return new ti},Object.defineProperties(ti,Do);var ru=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(o){return this.map_.get(o)||null},e.prototype.put=function(o,s){return this.map_.set(o,s),s},e.prototype.values=function(){for(var o=new Bt,s=this.map_.values(),c=s.next();!c.done;)o.add(c.value),c=s.next();return o},e.prototype.entrySet=function(){var o=new fs;return this.map_.entries().forEach(function(s){return o.add(s)}),o},e.prototype.size=function(){return this.map_.size()},e}(ho),We=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ei){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var o=arguments[0];this._modelType=t.FIXED,this.setScale(o)}else if(arguments[0]instanceof t){var s=arguments[0];this._modelType=s._modelType,this._scale=s._scale}},da={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};We.prototype.equals=function(t){return t instanceof We&&this._modelType===t._modelType&&this._scale===t._scale},We.prototype.compareTo=function(t){var e=t,o=this.getMaximumSignificantDigits(),s=e.getMaximumSignificantDigits();return new at(o).compareTo(new at(s))},We.prototype.getScale=function(){return this._scale},We.prototype.isFloating=function(){return this._modelType===We.FLOATING||this._modelType===We.FLOATING_SINGLE},We.prototype.getType=function(){return this._modelType},We.prototype.toString=function(){var t="UNKNOWN";return this._modelType===We.FLOATING?t="Floating":this._modelType===We.FLOATING_SINGLE?t="Floating-Single":this._modelType===We.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},We.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return N.isNaN(t)||this._modelType===We.FLOATING_SINGLE?t:this._modelType===We.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof w){var e=arguments[0];if(this._modelType===We.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},We.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===We.FLOATING?t=16:this._modelType===We.FLOATING_SINGLE?t=6:this._modelType===We.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},We.prototype.setScale=function(t){this._scale=Math.abs(t)},We.prototype.interfaces_=function(){return[F,S]},We.prototype.getClass=function(){return We},We.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},da.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},da.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(We,da);var ei=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Wo={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ei.prototype.readResolve=function(){return ei.nameToTypeMap.get(this._name)},ei.prototype.toString=function(){return this._name},ei.prototype.interfaces_=function(){return[F]},ei.prototype.getClass=function(){return ei},Wo.serialVersionUID.get=function(){return-552860263173159e4},Wo.nameToTypeMap.get=function(){return new ru},Object.defineProperties(ei,Wo),We.Type=ei,We.FIXED=new ei("FIXED"),We.FLOATING=new ei("FLOATING"),We.FLOATING_SINGLE=new ei("FLOATING SINGLE");var ve=function t(){this._precisionModel=new We,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Nt(arguments[0],K)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof We&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},iu={serialVersionUID:{configurable:!0}};ve.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new w(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new w(t.getMinX(),t.getMinY()),new w(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new w(t.getMinX(),t.getMinY()),new w(t.getMinX(),t.getMaxY()),new w(t.getMaxX(),t.getMaxY()),new w(t.getMaxX(),t.getMinY()),new w(t.getMinX(),t.getMinY())]),null)},ve.prototype.createLineString=function(t){return t?t instanceof Array?new _n(this.getCoordinateSequenceFactory().create(t),this):Nt(t,Ot)?new _n(t,this):void 0:new _n(this.getCoordinateSequenceFactory().create([]),this)},ve.prototype.createMultiLineString=function(){return 0===arguments.length?new po(null,this):1===arguments.length?new po(arguments[0],this):void 0},ve.prototype.buildGeometry=function(t){for(var e=null,o=!1,s=!1,c=t.iterator();c.hasNext();){var y=c.next(),x=y.getClass();null===e&&(e=x),x!==e&&(o=!0),y.isGeometryCollectionOrDerived()&&(s=!0)}if(null===e)return this.createGeometryCollection();if(o||s)return this.createGeometryCollection(ve.toGeometryArray(t));var I=t.iterator().next();if(t.size()>1){if(I instanceof Cn)return this.createMultiPolygon(ve.toPolygonArray(t));if(I instanceof _n)return this.createMultiLineString(ve.toLineStringArray(t));if(I instanceof Pr)return this.createMultiPoint(ve.toPointArray(t));M.shouldNeverReachHere("Unhandled class: "+I.getClass().getName())}return I},ve.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},ve.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Nt(arguments[0],Ot))return new Pr(arguments[0],this)}},ve.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ve.prototype.createPolygon=function(){if(0===arguments.length)return new Cn(null,null,this);if(1===arguments.length){if(Nt(arguments[0],Ot))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof yi)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Cn(arguments[0],arguments[1],this)},ve.prototype.getSRID=function(){return this._SRID},ve.prototype.createGeometryCollection=function(){return 0===arguments.length?new hr(null,this):1===arguments.length?new hr(arguments[0],this):void 0},ve.prototype.createGeometry=function(t){return new Ur(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},ve.prototype.getPrecisionModel=function(){return this._precisionModel},ve.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Nt(arguments[0],Ot))return new yi(arguments[0],this)}},ve.prototype.createMultiPolygon=function(){return 0===arguments.length?new mi(null,this):1===arguments.length?new mi(arguments[0],this):void 0},ve.prototype.createMultiPoint=function(){if(0===arguments.length)return new Ro(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Ro(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Nt(arguments[0],Ot)){var o=arguments[0];if(null===o)return this.createMultiPoint(new Array(0).fill(null));for(var s=new Array(o.size()).fill(null),c=0;c<o.size();c++){var y=this.getCoordinateSequenceFactory().create(1,o.getDimension());In.copy(o,c,y,0,1),s[c]=this.createPoint(y)}return this.createMultiPoint(s)}}},ve.prototype.interfaces_=function(){return[F]},ve.prototype.getClass=function(){return ve},ve.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.getDefaultCoordinateSequenceFactory=function(){return ti.instance()},ve.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},iu.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(ve,iu);var ml=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ks=function(t){this.geometryFactory=t||new ve};ks.prototype.read=function(t){var e,o=(e="string"==typeof t?JSON.parse(t):t).type;if(!ni[o])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ml.indexOf(o)?ni[o].apply(this,[e.coordinates]):ni[o].apply(this,"GeometryCollection"===o?[e.geometries]:[e])},ks.prototype.write=function(t){var e=t.getGeometryType();if(!Li[e])throw new Error("Geometry is not supported");return Li[e].apply(this,[t])};var ni={Feature:function(t){var e={};for(var o in t)e[o]=t[o];if(t.geometry){if(!ni[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=ni.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var o=0;o<t.features.length;++o)e.features.push(this.read(t.features[o]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],o=0;o<t.length;++o){var s=t[o];e.push(new w(s[0],s[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new w(t[0],t[1]),new w(t[2],t[1]),new w(t[2],t[3]),new w(t[0],t[3]),new w(t[0],t[1])])},Point:function(t){var e=new w(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],o=0;o<t.length;++o)e.push(ni.Point.apply(this,[t[o]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=ni.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],o=0;o<t.length;++o)e.push(ni.LineString.apply(this,[t[o]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=ni.coordinates.apply(this,[t[0]]),o=this.geometryFactory.createLinearRing(e),s=[],c=1;c<t.length;++c){var x=ni.coordinates.apply(this,[t[c]]),I=this.geometryFactory.createLinearRing(x);s.push(I)}return this.geometryFactory.createPolygon(o,s)},MultiPolygon:function(t){for(var e=[],o=0;o<t.length;++o)e.push(ni.Polygon.apply(this,[t[o]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],o=0;o<t.length;++o)e.push(this.read(t[o]));return this.geometryFactory.createGeometryCollection(e)}},Li={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Li.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var c=Li.Point.apply(this,[t._geometries[o]]);e.push(c.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],o=t.getCoordinates(),s=0;s<o.length;++s)e.push(Li.coordinate.apply(this,[o[s]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var c=Li.LineString.apply(this,[t._geometries[o]]);e.push(c.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],o=Li.LineString.apply(this,[t._shell]);e.push(o.coordinates);for(var s=0;s<t._holes.length;++s){var y=Li.LineString.apply(this,[t._holes[s]]);e.push(y.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var c=Li.Polygon.apply(this,[t._geometries[o]]);e.push(c.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var s=t._geometries[o],c=s.getGeometryType();e.push(Li[c].apply(this,[s]))}return{type:"GeometryCollection",geometries:e}}},ya=function(t){this.geometryFactory=t||new ve,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ks(this.geometryFactory)};ya.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===We.FIXED&&this.reducePrecision(e),e},ya.prototype.reducePrecision=function(t){var e,o;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,o=t.points.length;e<o;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,o=t.geometries.length;e<o;e++)this.reducePrecision(t.geometries[e])};var ou=function(){this.parser=new ks(this.geometryFactory)};ou.prototype.write=function(t){return this.parser.write(t)};var qt=function(){},Bs={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.opposite=function(t){return t===qt.LEFT?qt.RIGHT:t===qt.RIGHT?qt.LEFT:t},Bs.ON.get=function(){return 0},Bs.LEFT.get=function(){return 1},Bs.RIGHT.get=function(){return 2},Object.defineProperties(qt,Bs),(et.prototype=new Error).name="EmptyStackException",(pt.prototype=new Xn).add=function(t){return this.array_.push(t),!0},pt.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},pt.prototype.push=function(t){return this.array_.push(t),t},pt.prototype.pop=function(t){if(0===this.array_.length)throw new et;return this.array_.pop()},pt.prototype.peek=function(){if(0===this.array_.length)throw new et;return this.array_[this.array_.length-1]},pt.prototype.empty=function(){return 0===this.array_.length},pt.prototype.isEmpty=function(){return this.empty()},pt.prototype.search=function(t){return this.array_.indexOf(t)},pt.prototype.size=function(){return this.array_.length},pt.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t};var vi=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};vi.prototype.getCoordinate=function(){return this._minCoord},vi.prototype.getRightmostSide=function(t,e){var o=this.getRightmostSideOfSegment(t,e);return o<0&&(o=this.getRightmostSideOfSegment(t,e-1)),o<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),o},vi.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();M.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],o=t[this._minIndex+1],s=Mt.computeOrientation(this._minCoord,o,e),c=!1;(e.y<this._minCoord.y&&o.y<this._minCoord.y&&s===Mt.COUNTERCLOCKWISE||e.y>this._minCoord.y&&o.y>this._minCoord.y&&s===Mt.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)},vi.prototype.getRightmostSideOfSegment=function(t,e){var o=t.getEdge().getCoordinates();if(e<0||e+1>=o.length||o[e].y===o[e+1].y)return-1;var s=qt.LEFT;return o[e].y<o[e+1].y&&(s=qt.RIGHT),s},vi.prototype.getEdge=function(){return this._orientedDe},vi.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),o=0;o<e.length-1;o++)(null===this._minCoord||e[o].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=o,this._minCoord=e[o])},vi.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},vi.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();o.isForward()&&this.checkForRightmostCoordinate(o)}M.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===qt.LEFT&&(this._orientedDe=this._minDe.getSym())},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi};var Ti=function(t){function e(o,s){t.call(this,e.msgWithCoord(o,s)),this.pt=s?new w(s):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(o,s){return s?o:o+" [ "+s+" ]"},e}(D),qs=function(){this.array_=[]};qs.prototype.addLast=function(t){this.array_.push(t)},qs.prototype.removeFirst=function(){return this.array_.shift()},qs.prototype.isEmpty=function(){return 0===this.array_.length};var pr=function(){this._finder=null,this._dirEdgeList=new Bt,this._nodes=new Bt,this._rightMostCoord=null,this._env=null,this._finder=new vi};pr.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},pr.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},pr.prototype.computeNodeDepth=function(t){for(var e=null,o=t.getEdges().iterator();o.hasNext();){var s=o.next();if(s.isVisited()||s.getSym().isVisited()){e=s;break}}if(null===e)throw new Ti("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var c=t.getEdges().iterator();c.hasNext();){var y=c.next();y.setVisited(!0),this.copySymDepths(y)}},pr.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(qt.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},pr.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},pr.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(qt.RIGHT)>=1&&e.getDepth(qt.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},pr.prototype.computeDepths=function(t){var e=new fs,o=new qs,s=t.getNode();for(o.addLast(s),e.add(s),t.setVisited(!0);!o.isEmpty();){var c=o.removeFirst();e.add(c),this.computeNodeDepth(c);for(var y=c.getEdges().iterator();y.hasNext();){var x=y.next().getSym();if(!x.isVisited()){var I=x.getNode();e.contains(I)||(o.addLast(I),e.add(I))}}}},pr.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},pr.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Gt,e=this._dirEdgeList.iterator();e.hasNext();)for(var o=e.next().getEdge().getCoordinates(),s=0;s<o.length-1;s++)t.expandToInclude(o[s]);this._env=t}return this._env},pr.prototype.addReachable=function(t){var e=new pt;for(e.add(t);!e.empty();){var o=e.pop();this.add(o,e)}},pr.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(qt.LEFT,t.getDepth(qt.RIGHT)),e.setDepth(qt.RIGHT,t.getDepth(qt.LEFT))},pr.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var o=t.getEdges().iterator();o.hasNext();){var s=o.next();this._dirEdgeList.add(s);var c=s.getSym().getNode();c.isVisited()||e.push(c)}},pr.prototype.getNodes=function(){return this._nodes},pr.prototype.getDirectedEdges=function(){return this._dirEdgeList},pr.prototype.interfaces_=function(){return[S]},pr.prototype.getClass=function(){return pr};var cn=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var o=arguments[0];this.init(1),this.location[qt.ON]=o}else if(arguments[0]instanceof t){var s=arguments[0];if(this.init(s.location.length),null!==s)for(var c=0;c<this.location.length;c++)this.location[c]=s.location[c]}}else if(3===arguments.length){var y=arguments[0],x=arguments[1],I=arguments[2];this.init(3),this.location[qt.ON]=y,this.location[qt.LEFT]=x,this.location[qt.RIGHT]=I}};cn.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},cn.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==R.NONE)return!1;return!0},cn.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===R.NONE&&(this.location[e]=t)},cn.prototype.isLine=function(){return 1===this.location.length},cn.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[qt.ON]=this.location[qt.ON],e[qt.LEFT]=R.NONE,e[qt.RIGHT]=R.NONE,this.location=e}for(var o=0;o<this.location.length;o++)this.location[o]===R.NONE&&o<t.location.length&&(this.location[o]=t.location[o])},cn.prototype.getLocations=function(){return this.location},cn.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[qt.LEFT];this.location[qt.LEFT]=this.location[qt.RIGHT],this.location[qt.RIGHT]=t},cn.prototype.toString=function(){var t=new J;return this.location.length>1&&t.append(R.toLocationSymbol(this.location[qt.LEFT])),t.append(R.toLocationSymbol(this.location[qt.ON])),this.location.length>1&&t.append(R.toLocationSymbol(this.location[qt.RIGHT])),t.toString()},cn.prototype.setLocations=function(t,e,o){this.location[qt.ON]=t,this.location[qt.LEFT]=e,this.location[qt.RIGHT]=o},cn.prototype.get=function(t){return t<this.location.length?this.location[t]:R.NONE},cn.prototype.isArea=function(){return this.location.length>1},cn.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===R.NONE)return!0;return!1},cn.prototype.setLocation=function(){1===arguments.length?this.setLocation(qt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},cn.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(R.NONE)},cn.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},cn.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var en=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new cn(e),this.elt[1]=new cn(e)}else if(arguments[0]instanceof t){var o=arguments[0];this.elt[0]=new cn(o.elt[0]),this.elt[1]=new cn(o.elt[1])}}else if(2===arguments.length){var s=arguments[0],c=arguments[1];this.elt[0]=new cn(R.NONE),this.elt[1]=new cn(R.NONE),this.elt[s].setLocation(c)}else if(3===arguments.length){var y=arguments[0],x=arguments[1],I=arguments[2];this.elt[0]=new cn(y,x,I),this.elt[1]=new cn(y,x,I)}else if(4===arguments.length){var q=arguments[0],rt=arguments[1],Et=arguments[2],Pt=arguments[3];this.elt[0]=new cn(R.NONE,R.NONE,R.NONE),this.elt[1]=new cn(R.NONE,R.NONE,R.NONE),this.elt[q].setLocations(rt,Et,Pt)}};en.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},en.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},en.prototype.isNull=function(t){return this.elt[t].isNull()},en.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},en.prototype.isLine=function(t){return this.elt[t].isLine()},en.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new cn(t.elt[e]):this.elt[e].merge(t.elt[e])},en.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},en.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(qt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},en.prototype.toString=function(){var t=new J;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},en.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},en.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},en.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(qt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},en.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},en.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},en.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new cn(this.elt[t].location[0]))},en.prototype.interfaces_=function(){return[]},en.prototype.getClass=function(){return en},en.toLineLabel=function(t){for(var e=new en(R.NONE),o=0;o<2;o++)e.setLocation(o,t.getLocation(o));return e};var Tn=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Bt,this._pts=new Bt,this._label=new en(R.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Bt,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};Tn.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Mt.isCCW(this._ring.getCoordinates())},Tn.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Tn.prototype.computePoints=function(t){this._startDe=t;var e=t,o=!0;do{if(null===e)throw new Ti("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Ti("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var s=e.getLabel();M.isTrue(s.isArea()),this.mergeLabel(s),this.addPoints(e.getEdge(),e.isForward(),o),o=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Tn.prototype.getLinearRing=function(){return this._ring},Tn.prototype.getCoordinate=function(t){return this._pts.get(t)},Tn.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Tn.prototype.addPoints=function(t,e,o){var s=t.getCoordinates();if(e){var c=1;o&&(c=0);for(var y=c;y<s.length;y++)this._pts.add(s[y])}else{var x=s.length-2;o&&(x=s.length-1);for(var I=x;I>=0;I--)this._pts.add(s[I])}},Tn.prototype.isHole=function(){return this._isHole},Tn.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Tn.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t)||!Mt.isPointInRing(t,e.getCoordinates()))return!1;for(var o=this._holes.iterator();o.hasNext();)if(o.next().containsPoint(t))return!1;return!0},Tn.prototype.addHole=function(t){this._holes.add(t)},Tn.prototype.isShell=function(){return null===this._shell},Tn.prototype.getLabel=function(){return this._label},Tn.prototype.getEdges=function(){return this._edges},Tn.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Tn.prototype.getShell=function(){return this._shell},Tn.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var o=arguments[1],s=arguments[0].getLocation(o,qt.RIGHT);if(s===R.NONE)return null;if(this._label.getLocation(o)===R.NONE)return this._label.setLocation(o,s),null}},Tn.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Tn.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),o=0;o<this._holes.size();o++)e[o]=this._holes.get(o).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn};var vl=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(o,s){o.setMinEdgeRing(s)},e.prototype.getNext=function(o){return o.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Tn),_l=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var o=new Bt,s=this._startDe;do{if(null===s.getMinEdgeRing()){var c=new vl(s,this._geometryFactory);o.add(c)}s=s.getNext()}while(s!==this._startDe);return o},e.prototype.setEdgeRing=function(o,s){o.setEdgeRing(s)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var o=this._startDe;do{o.getNode().getEdges().linkMinimalDirectedEdges(this),o=o.getNext()}while(o!==this._startDe)},e.prototype.getNext=function(o){return o.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Tn),gr=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};gr.prototype.setVisited=function(t){this._isVisited=t},gr.prototype.setInResult=function(t){this._isInResult=t},gr.prototype.isCovered=function(){return this._isCovered},gr.prototype.isCoveredSet=function(){return this._isCoveredSet},gr.prototype.setLabel=function(t){this._label=t},gr.prototype.getLabel=function(){return this._label},gr.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},gr.prototype.updateIM=function(t){M.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},gr.prototype.isInResult=function(){return this._isInResult},gr.prototype.isVisited=function(){return this._isVisited},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr};var Vo=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var s=arguments[1];this._coord=arguments[0],this._edges=s,this._label=new en(0,R.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var o=this.getEdges().getEdges().iterator();o.hasNext();)if(o.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(o){o.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(o){},e.prototype.computeMergedLocation=function(o,s){var c=R.NONE;if(c=this._label.getLocation(s),!o.isNull(s)){var y=o.getLocation(s);c!==R.BOUNDARY&&(c=y)}return c},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var o=arguments[0],s=arguments[1];null===this._label?this._label=new en(o,s):this._label.setLocation(o,s)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof en)for(var s=arguments[0],c=0;c<2;c++){var y=this.computeMergedLocation(s,c);this._label.getLocation(c)===R.NONE&&this._label.setLocation(c,y)}},e.prototype.add=function(o){this._edges.insert(o),o.setNode(this)},e.prototype.setLabelBoundary=function(o){if(null===this._label)return null;var s=R.NONE;null!==this._label&&(s=this._label.getLocation(o));var c=null;switch(s){case R.BOUNDARY:c=R.INTERIOR;break;case R.INTERIOR:default:c=R.BOUNDARY}this._label.setLocation(o,c)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gr),Zr=function(){this.nodeMap=new xt,this.nodeFact=null,this.nodeFact=arguments[0]};Zr.prototype.find=function(t){return this.nodeMap.get(t)},Zr.prototype.addNode=function(){if(arguments[0]instanceof w){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Vo){var o=arguments[0],s=this.nodeMap.get(o.getCoordinate());return null===s?(this.nodeMap.put(o.getCoordinate(),o),o):(s.mergeLabel(o),s)}},Zr.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Zr.prototype.iterator=function(){return this.nodeMap.values().iterator()},Zr.prototype.values=function(){return this.nodeMap.values()},Zr.prototype.getBoundaryNodes=function(t){for(var e=new Bt,o=this.iterator();o.hasNext();){var s=o.next();s.getLabel().getLocation(t)===R.BOUNDARY&&e.add(s)}return e},Zr.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr};var sn=function(){},jo={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};sn.prototype.interfaces_=function(){return[]},sn.prototype.getClass=function(){return sn},sn.isNorthern=function(t){return t===sn.NE||t===sn.NW},sn.isOpposite=function(t,e){return t!==e&&(t-e+4)%4==2},sn.commonHalfPlane=function(t,e){if(t===e)return t;if((t-e+4)%4==2)return-1;var o=t<e?t:e;return 0===o&&3===(t>e?t:e)?3:o},sn.isInHalfPlane=function(t,e){return e===sn.SE?t===sn.SE||t===sn.SW:t===e||t===e+1},sn.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new C("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?sn.NE:sn.SE:e>=0?sn.NW:sn.SW}if(arguments[0]instanceof w&&arguments[1]instanceof w){var o=arguments[0],s=arguments[1];if(s.x===o.x&&s.y===o.y)throw new C("Cannot compute the quadrant for two identical points "+o);return s.x>=o.x?s.y>=o.y?sn.NE:sn.SE:s.y>=o.y?sn.NW:sn.SW}},jo.NE.get=function(){return 0},jo.NW.get=function(){return 1},jo.SW.get=function(){return 2},jo.SE.get=function(){return 3},Object.defineProperties(sn,jo);var jn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var o=arguments[1],s=arguments[2];this._edge=arguments[0],this.init(o,s),this._label=null}else if(4===arguments.length){var y=arguments[1],x=arguments[2],I=arguments[3];this._edge=arguments[0],this.init(y,x),this._label=I}};jn.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Mt.computeOrientation(t._p0,t._p1,this._p1)},jn.prototype.getDy=function(){return this._dy},jn.prototype.getCoordinate=function(){return this._p0},jn.prototype.setNode=function(t){this._node=t},jn.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),s=o.lastIndexOf("."),c=o.substring(s+1);t.print("  "+c+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},jn.prototype.compareTo=function(t){return this.compareDirection(t)},jn.prototype.getDirectedCoordinate=function(){return this._p1},jn.prototype.getDx=function(){return this._dx},jn.prototype.getLabel=function(){return this._label},jn.prototype.getEdge=function(){return this._edge},jn.prototype.getQuadrant=function(){return this._quadrant},jn.prototype.getNode=function(){return this._node},jn.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),o=e.lastIndexOf(".");return"  "+e.substring(o+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},jn.prototype.computeLabel=function(t){},jn.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=sn.quadrant(this._dx,this._dy),M.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},jn.prototype.interfaces_=function(){return[S]},jn.prototype.getClass=function(){return jn};var Gs=function(t){function e(){var o=arguments[0],s=arguments[1];if(t.call(this,o),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=s,s)this.init(o.getCoordinate(0),o.getCoordinate(1));else{var c=o.getNumPoints()-1;this.init(o.getCoordinate(c),o.getCoordinate(c-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(o){return this._depth[o]},e.prototype.setVisited=function(o){this._isVisited=o},e.prototype.computeDirectedLabel=function(){this._label=new en(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(o,s){if(-999!==this._depth[o]&&this._depth[o]!==s)throw new Ti("assigned depths do not match",this.getCoordinate());this._depth[o]=s},e.prototype.isInteriorAreaEdge=function(){for(var o=!0,s=0;s<2;s++)this._label.isArea(s)&&this._label.getLocation(s,qt.LEFT)===R.INTERIOR&&this._label.getLocation(s,qt.RIGHT)===R.INTERIOR||(o=!1);return o},e.prototype.setNextMin=function(o){this._nextMin=o},e.prototype.print=function(o){t.prototype.print.call(this,o),o.print(" "+this._depth[qt.LEFT]+"/"+this._depth[qt.RIGHT]),o.print(" ("+this.getDepthDelta()+")"),this._isInResult&&o.print(" inResult")},e.prototype.setMinEdgeRing=function(o){this._minEdgeRing=o},e.prototype.isLineEdge=function(){var o=this._label.isLine(0)||this._label.isLine(1),s=!this._label.isArea(0)||this._label.allPositionsEqual(0,R.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,R.EXTERIOR);return o&&s&&c},e.prototype.setEdgeRing=function(o){this._edgeRing=o},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var o=this._edge.getDepthDelta();return this._isForward||(o=-o),o},e.prototype.setInResult=function(o){this._isInResult=o},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(o){this.print(o),o.print(" "),this._isForward?this._edge.print(o):this._edge.printReverse(o)},e.prototype.setSym=function(o){this._sym=o},e.prototype.setVisitedEdge=function(o){this.setVisited(o),this._sym.setVisited(o)},e.prototype.setEdgeDepths=function(o,s){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var y=1;o===qt.LEFT&&(y=-1);var x=qt.opposite(o),I=s+c*y;this.setDepth(o,s),this.setDepth(x,I)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(o){this._next=o},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(o,s){return o===R.EXTERIOR&&s===R.INTERIOR?1:o===R.INTERIOR&&s===R.EXTERIOR?-1:0},e}(jn),Qi=function(){};Qi.prototype.createNode=function(t){return new Vo(t,null)},Qi.prototype.interfaces_=function(){return[]},Qi.prototype.getClass=function(){return Qi};var dn=function(){this._edges=new Bt,this._nodes=null,this._edgeEndList=new Bt,0===arguments.length?this._nodes=new Zr(new Qi):1===arguments.length&&(this._nodes=new Zr(arguments[0]))};dn.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var o=this._edges.get(e);o.print(t),o.eiList.print(t)}},dn.prototype.find=function(t){return this._nodes.find(t)},dn.prototype.addNode=function(){return arguments[0]instanceof Vo||arguments[0]instanceof w?this._nodes.addNode(arguments[0]):void 0},dn.prototype.getNodeIterator=function(){return this._nodes.iterator()},dn.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},dn.prototype.debugPrintln=function(t){Jt.out.println(t)},dn.prototype.isBoundaryNode=function(t,e){var o=this._nodes.find(e);if(null===o)return!1;var s=o.getLabel();return null!==s&&s.getLocation(t)===R.BOUNDARY},dn.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},dn.prototype.matchInSameDirection=function(t,e,o,s){return!!t.equals(o)&&Mt.computeOrientation(t,e,s)===Mt.COLLINEAR&&sn.quadrant(t,e)===sn.quadrant(o,s)},dn.prototype.getEdgeEnds=function(){return this._edgeEndList},dn.prototype.debugPrint=function(t){Jt.out.print(t)},dn.prototype.getEdgeIterator=function(){return this._edges.iterator()},dn.prototype.findEdgeInSameDirection=function(t,e){for(var o=0;o<this._edges.size();o++){var s=this._edges.get(o),c=s.getCoordinates();if(this.matchInSameDirection(t,e,c[0],c[1])||this.matchInSameDirection(t,e,c[c.length-1],c[c.length-2]))return s}return null},dn.prototype.insertEdge=function(t){this._edges.add(t)},dn.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var o=e.next();if(o.getEdge()===t)return o}return null},dn.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();this._edges.add(o);var s=new Gs(o,!0),c=new Gs(o,!1);s.setSym(c),c.setSym(s),this.add(s),this.add(c)}},dn.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},dn.prototype.getNodes=function(){return this._nodes.values()},dn.prototype.findEdge=function(t,e){for(var o=0;o<this._edges.size();o++){var s=this._edges.get(o),c=s.getCoordinates();if(t.equals(c[0])&&e.equals(c[1]))return s}return null},dn.prototype.interfaces_=function(){return[]},dn.prototype.getClass=function(){return dn},dn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var rr=function(){this._geometryFactory=null,this._shellList=new Bt,this._geometryFactory=arguments[0]};rr.prototype.sortShellsAndHoles=function(t,e,o){for(var s=t.iterator();s.hasNext();){var c=s.next();c.isHole()?o.add(c):e.add(c)}},rr.prototype.computePolygons=function(t){for(var e=new Bt,o=t.iterator();o.hasNext();){var s=o.next().toPolygon(this._geometryFactory);e.add(s)}return e},rr.prototype.placeFreeHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var s=o.next();if(null===s.getShell()){var c=this.findEdgeRingContaining(s,t);if(null===c)throw new Ti("unable to assign hole to a shell",s.getCoordinate(0));s.setShell(c)}}},rr.prototype.buildMinimalEdgeRings=function(t,e,o){for(var s=new Bt,c=t.iterator();c.hasNext();){var y=c.next();if(y.getMaxNodeDegree()>2){y.linkDirectedEdgesForMinimalEdgeRings();var x=y.buildMinimalRings(),I=this.findShell(x);null!==I?(this.placePolygonHoles(I,x),e.add(I)):o.addAll(x)}else s.add(y)}return s},rr.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},rr.prototype.buildMaximalEdgeRings=function(t){for(var e=new Bt,o=t.iterator();o.hasNext();){var s=o.next();if(s.isInResult()&&s.getLabel().isArea()&&null===s.getEdgeRing()){var c=new _l(s,this._geometryFactory);e.add(c),c.setInResult()}}return e},rr.prototype.placePolygonHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var s=o.next();s.isHole()&&s.setShell(t)}},rr.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},rr.prototype.findEdgeRingContaining=function(t,e){for(var o=t.getLinearRing(),s=o.getEnvelopeInternal(),c=o.getCoordinateN(0),y=null,x=null,I=e.iterator();I.hasNext();){var q=I.next(),rt=q.getLinearRing(),Et=rt.getEnvelopeInternal();null!==y&&(x=y.getLinearRing().getEnvelopeInternal());var Pt=!1;Et.contains(s)&&Mt.isPointInRing(c,rt.getCoordinates())&&(Pt=!0),Pt&&(null===y||x.contains(Et))&&(y=q)}return y},rr.prototype.findShell=function(t){for(var e=0,o=null,s=t.iterator();s.hasNext();){var c=s.next();c.isHole()||(o=c,e++)}return M.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),o},rr.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];dn.linkResultDirectedEdges(arguments[1]);var s=this.buildMaximalEdgeRings(e),c=new Bt,y=this.buildMinimalEdgeRings(s,this._shellList,c);this.sortShellsAndHoles(y,this._shellList,c),this.placeFreeHoles(this._shellList,c)}},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr};var Qo=function(){};Qo.prototype.getBounds=function(){},Qo.prototype.interfaces_=function(){return[]},Qo.prototype.getClass=function(){return Qo};var zr=function(){this._bounds=null,this._item=null;var e=arguments[1];this._bounds=arguments[0],this._item=e};zr.prototype.getItem=function(){return this._item},zr.prototype.getBounds=function(){return this._bounds},zr.prototype.interfaces_=function(){return[Qo,F]},zr.prototype.getClass=function(){return zr};var _i=function(){this._size=null,this._items=null,this._size=0,this._items=new Bt,this._items.add(null)};_i.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},_i.prototype.size=function(){return this._size},_i.prototype.reorder=function(t){for(var e=null,o=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(o)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,o)},_i.prototype.clear=function(){this._size=0,this._items.clear()},_i.prototype.isEmpty=function(){return 0===this._size},_i.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i};var Oi=function(){};Oi.prototype.visitItem=function(t){},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi};var yo=function(){};yo.prototype.insert=function(t,e){},yo.prototype.remove=function(t,e){},yo.prototype.query=function(){},yo.prototype.interfaces_=function(){return[]},yo.prototype.getClass=function(){return yo};var Dn=function(){this._childBoundables=new Bt,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},su={serialVersionUID:{configurable:!0}};Dn.prototype.getLevel=function(){return this._level},Dn.prototype.size=function(){return this._childBoundables.size()},Dn.prototype.getChildBoundables=function(){return this._childBoundables},Dn.prototype.addChildBoundable=function(t){M.isTrue(null===this._bounds),this._childBoundables.add(t)},Dn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Dn.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Dn.prototype.interfaces_=function(){return[Qo,F]},Dn.prototype.getClass=function(){return Dn},su.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Dn,su);var ri=function(){};ri.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},ri.min=function(t){return ri.sort(t),t.get(0)},ri.sort=function(t,e){var o=t.toArray();e?Vi.sort(o,e):Vi.sort(o);for(var s=t.iterator(),c=0,y=o.length;c<y;c++)s.next(),s.set(o[c])},ri.singletonList=function(t){var e=new Bt;return e.add(t),e};var Pn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[1],o=arguments[2];this._boundable1=arguments[0],this._boundable2=e,this._itemDistance=o,this._distance=this.distance()};Pn.prototype.expandToQueue=function(t,e){var o=Pn.isComposite(this._boundable1),s=Pn.isComposite(this._boundable2);if(o&&s)return Pn.area(this._boundable1)>Pn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(o)return this.expand(this._boundable1,this._boundable2,t,e),null;if(s)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new C("neither boundable is composite")},Pn.prototype.isLeaves=function(){return!(Pn.isComposite(this._boundable1)||Pn.isComposite(this._boundable2))},Pn.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Pn.prototype.expand=function(t,e,o,s){for(var c=t.getChildBoundables().iterator();c.hasNext();){var y=c.next(),x=new Pn(y,e,this._itemDistance);x.getDistance()<s&&o.add(x)}},Pn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Pn.prototype.getDistance=function(){return this._distance},Pn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Pn.prototype.interfaces_=function(){return[S]},Pn.prototype.getClass=function(){return Pn},Pn.area=function(t){return t.getBounds().getArea()},Pn.isComposite=function(t){return t instanceof Dn};var qn=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Bt,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var o=arguments[0];M.isTrue(o>1,"Node capacity must be greater than 1"),this._nodeCapacity=o}},Us={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};qn.prototype.getNodeCapacity=function(){return this._nodeCapacity},qn.prototype.lastNode=function(t){return t.get(t.size()-1)},qn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();o instanceof Dn?t+=this.size(o):o instanceof zr&&(t+=1)}return t}},qn.prototype.removeItem=function(t,e){for(var o=null,s=t.getChildBoundables().iterator();s.hasNext();){var c=s.next();c instanceof zr&&c.getItem()===e&&(o=c)}return null!==o&&(t.getChildBoundables().remove(o),!0)},qn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Bt:t}if(1===arguments.length){for(var e=arguments[0],o=new Bt,s=e.getChildBoundables().iterator();s.hasNext();){var c=s.next();if(c instanceof Dn){var y=this.itemsTree(c);null!==y&&o.add(y)}else c instanceof zr?o.add(c.getItem()):M.shouldNeverReachHere()}return o.size()<=0?null:o}},qn.prototype.insert=function(t,e){M.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new zr(t,e))},qn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Bt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var o=arguments[0],s=arguments[1],c=arguments[2];if(M.isTrue(o>-2),s.getLevel()===o)return c.add(s),null;for(var y=s.getChildBoundables().iterator();y.hasNext();){var x=y.next();x instanceof Dn?this.boundablesAtLevel(o,x,c):(M.isTrue(x instanceof zr),-1===o&&c.add(x))}return null}},qn.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Bt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var o=arguments[0],s=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.query(o,this._root,s)}else if(3===arguments.length)if(Nt(arguments[2],Oi)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn)for(var c=arguments[0],x=arguments[2],I=arguments[1].getChildBoundables(),q=0;q<I.size();q++){var rt=I.get(q);this.getIntersectsOp().intersects(rt.getBounds(),c)&&(rt instanceof Dn?this.query(c,rt,x):rt instanceof zr?x.visitItem(rt.getItem()):M.shouldNeverReachHere())}else if(Nt(arguments[2],Xn)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn)for(var Et=arguments[0],Zt=arguments[2],Yt=arguments[1].getChildBoundables(),$t=0;$t<Yt.size();$t++){var ne=Yt.get($t);this.getIntersectsOp().intersects(ne.getBounds(),Et)&&(ne instanceof Dn?this.query(Et,ne,Zt):ne instanceof zr?Zt.add(ne.getItem()):M.shouldNeverReachHere())}},qn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},qn.prototype.getRoot=function(){return this.build(),this._root},qn.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var o=arguments[0],s=arguments[1],c=arguments[2],y=this.removeItem(s,c);if(y)return!0;for(var x=null,I=s.getChildBoundables().iterator();I.hasNext();){var q=I.next();if(this.getIntersectsOp().intersects(q.getBounds(),o)&&q instanceof Dn&&(y=this.remove(o,q,c))){x=q;break}}return null!==x&&x.getChildBoundables().isEmpty()&&s.getChildBoundables().remove(x),y}},qn.prototype.createHigherLevels=function(t,e){M.isTrue(!t.isEmpty());var o=this.createParentBoundables(t,e+1);return 1===o.size()?o.get(0):this.createHigherLevels(o,e+1)},qn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();if(o instanceof Dn){var s=this.depth(o);s>t&&(t=s)}}return t+1}},qn.prototype.createParentBoundables=function(t,e){M.isTrue(!t.isEmpty());var o=new Bt;o.add(this.createNode(e));var s=new Bt(t);ri.sort(s,this.getComparator());for(var c=s.iterator();c.hasNext();){var y=c.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(e)),this.lastNode(o).addChildBoundable(y)}return o},qn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},qn.prototype.interfaces_=function(){return[F]},qn.prototype.getClass=function(){return qn},qn.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Us.IntersectsOp.get=function(){return xl},Us.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Us.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(qn,Us);var xl=function(){},Ko=function(){};Ko.prototype.distance=function(t,e){},Ko.prototype.interfaces_=function(){return[]},Ko.prototype.getClass=function(){return Ko};var au=function(t){function e(s){t.call(this,s=s||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(s,c){M.isTrue(s.length>0);for(var y=new Bt,x=0;x<s.length;x++)y.addAll(this.createParentBoundablesFromVerticalSlice(s[x],c));return y},e.prototype.createNode=function(s){return new uu(s)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var s=arguments[0],c=arguments[1];if(s.isNull())return null;t.prototype.insert.call(this,s,c)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(s,c){for(var y=Math.trunc(Math.ceil(s.size()/c)),x=new Array(c).fill(null),I=s.iterator(),q=0;q<c;q++){x[q]=new Bt;for(var rt=0;I.hasNext()&&rt<y;){var Et=I.next();x[q].add(Et),rt++}}return x},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Nt(arguments[2],Oi)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn||Nt(arguments[2],Xn)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn)&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(s,c){return t.prototype.createParentBoundables.call(this,s,c)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(s,c){M.isTrue(!s.isEmpty());var y=Math.trunc(Math.ceil(s.size()/this.getNodeCapacity())),x=new Bt(s);ri.sort(x,e.xComparator);var I=this.verticalSlices(x,Math.trunc(Math.ceil(Math.sqrt(y))));return this.createParentBoundablesFromVerticalSlices(I,c)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Nt(arguments[0],Ko)){var s=arguments[0],c=new Pn(this.getRoot(),this.getRoot(),s);return this.nearestNeighbour(c)}if(arguments[0]instanceof Pn)return this.nearestNeighbour(arguments[0],N.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&Nt(arguments[1],Ko)){var x=arguments[0],I=arguments[1],q=new Pn(this.getRoot(),x.getRoot(),I);return this.nearestNeighbour(q)}if(arguments[0]instanceof Pn&&"number"==typeof arguments[1]){var rt=arguments[0],Et=arguments[1],Pt=null,Zt=new _i;for(Zt.add(rt);!Zt.isEmpty()&&Et>0;){var Yt=Zt.poll(),$t=Yt.getDistance();if($t>=Et)break;Yt.isLeaves()?(Et=$t,Pt=Yt):Yt.expandToQueue(Zt,Et)}return[Pt.getBoundable(0).getItem(),Pt.getBoundable(1).getItem()]}}else if(3===arguments.length){var wn=arguments[2],lr=new zr(arguments[0],arguments[1]),Si=new Pn(this.getRoot(),lr,wn);return this.nearestNeighbour(Si)[0]}},e.prototype.interfaces_=function(){return[yo,F]},e.prototype.getClass=function(){return e},e.centreX=function(s){return e.avg(s.getMinX(),s.getMaxX())},e.avg=function(s,c){return(s+c)/2},e.centreY=function(s){return e.avg(s.getMinY(),s.getMaxY())},o.STRtreeNode.get=function(){return uu},o.serialVersionUID.get=function(){return 0x39920f7d5f261e0},o.xComparator.get=function(){return{interfaces_:function(){return[A]},compare:function(s,c){return t.compareDoubles(e.centreX(s.getBounds()),e.centreX(c.getBounds()))}}},o.yComparator.get=function(){return{interfaces_:function(){return[A]},compare:function(s,c){return t.compareDoubles(e.centreY(s.getBounds()),e.centreY(c.getBounds()))}}},o.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(s,c){return s.intersects(c)}}},o.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,o),e}(qn),uu=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var o=null,s=this.getChildBoundables().iterator();s.hasNext();){var c=s.next();null===o?o=new Gt(c.getBounds()):o.expandToInclude(c.getBounds())}return o},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Dn),dr=function(){};dr.prototype.interfaces_=function(){return[]},dr.prototype.getClass=function(){return dr},dr.relativeSign=function(t,e){return t<e?-1:t>e?1:0},dr.compare=function(t,e,o){if(e.equals2D(o))return 0;var s=dr.relativeSign(e.x,o.x),c=dr.relativeSign(e.y,o.y);switch(t){case 0:return dr.compareValue(s,c);case 1:return dr.compareValue(c,s);case 2:return dr.compareValue(c,-s);case 3:return dr.compareValue(-s,c);case 4:return dr.compareValue(-s,-c);case 5:return dr.compareValue(-c,-s);case 6:return dr.compareValue(-c,s);case 7:return dr.compareValue(s,-c)}return M.shouldNeverReachHere("invalid octant value"),0},dr.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Ki=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],o=arguments[2],s=arguments[3];this._segString=t,this.coord=new w(e),this.segmentIndex=o,this._segmentOctant=s,this._isInterior=!e.equals2D(t.getCoordinate(o))};Ki.prototype.getCoordinate=function(){return this.coord},Ki.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Ki.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:dr.compare(this._segmentOctant,this.coord,e.coord)},Ki.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Ki.prototype.isInterior=function(){return this._isInterior},Ki.prototype.interfaces_=function(){return[S]},Ki.prototype.getClass=function(){return Ki};var ir=function(){this._nodeMap=new xt,this._edge=null,this._edge=arguments[0]};ir.prototype.getSplitCoordinates=function(){var t=new Vr;this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var s=e.next();this.addEdgeCoordinates(o,s,t),o=s}return t.toCoordinateArray()},ir.prototype.addCollapsedNodes=function(){var t=new Bt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var o=e.next().intValue();this.add(this._edge.getCoordinate(o),o)}},ir.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},ir.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var o=this._edge.getCoordinate(e),s=this._edge.getCoordinate(e+2);o.equals2D(s)&&t.add(new at(e+1))}},ir.prototype.addEdgeCoordinates=function(t,e,o){var s=this._edge.getCoordinate(e.segmentIndex),c=e.isInterior()||!e.coord.equals2D(s);o.add(new w(t.coord),!1);for(var y=t.segmentIndex+1;y<=e.segmentIndex;y++)o.add(this._edge.getCoordinate(y));c&&o.add(new w(e.coord))},ir.prototype.iterator=function(){return this._nodeMap.values().iterator()},ir.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),o=e.next();e.hasNext();){var s=e.next(),c=this.createSplitEdge(o,s);t.add(c),o=s}},ir.prototype.findCollapseIndex=function(t,e,o){if(!t.coord.equals2D(e.coord))return!1;var s=e.segmentIndex-t.segmentIndex;return e.isInterior()||s--,1===s&&(o[0]=t.segmentIndex+1,!0)},ir.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),o=this.iterator(),s=o.next();o.hasNext();){var c=o.next();this.findCollapseIndex(s,c,e)&&t.add(new at(e[0])),s=c}},ir.prototype.getEdge=function(){return this._edge},ir.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},ir.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,s=this._edge.getCoordinate(e.segmentIndex),c=e.isInterior()||!e.coord.equals2D(s);c||o--;var y=new Array(o).fill(null),x=0;y[x++]=new w(t.coord);for(var I=t.segmentIndex+1;I<=e.segmentIndex;I++)y[x++]=this._edge.getCoordinate(I);return c&&(y[x]=new w(e.coord)),new Nn(y,this._edge.getData())},ir.prototype.add=function(t,e){var o=new Ki(this._edge,t,e,this._edge.getSegmentOctant(e)),s=this._nodeMap.get(o);return null!==s?(M.isTrue(s.coord.equals2D(t),"Found equal nodes with different coordinates"),s):(this._nodeMap.put(o,o),o)},ir.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),o=t.get(0).getCoordinate(0);if(!o.equals2D(e[0]))throw new D("bad split edge start point at "+o);var s=t.get(t.size()-1).getCoordinates(),c=s[s.length-1];if(!c.equals2D(e[e.length-1]))throw new D("bad split edge end point at "+c)},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir};var mo=function(){};mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo},mo.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new C("Cannot compute the octant for point ( "+t+", "+e+" )");var o=Math.abs(t),s=Math.abs(e);return t>=0?e>=0?o>=s?0:1:o>=s?7:6:e>=0?o>=s?3:2:o>=s?4:5}if(arguments[0]instanceof w&&arguments[1]instanceof w){var c=arguments[0],y=arguments[1],x=y.x-c.x,I=y.y-c.y;if(0===x&&0===I)throw new C("Cannot compute the octant for two identical points "+c);return mo.octant(x,I)}};var xi=function(){};xi.prototype.getCoordinates=function(){},xi.prototype.size=function(){},xi.prototype.getCoordinate=function(t){},xi.prototype.isClosed=function(){},xi.prototype.setData=function(t){},xi.prototype.getData=function(){},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi};var ys=function(){};ys.prototype.addIntersection=function(t,e){},ys.prototype.interfaces_=function(){return[xi]},ys.prototype.getClass=function(){return ys};var Nn=function(){this._nodeList=new ir(this),this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};Nn.prototype.getCoordinates=function(){return this._pts},Nn.prototype.size=function(){return this._pts.length},Nn.prototype.getCoordinate=function(t){return this._pts[t]},Nn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Nn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Nn.prototype.setData=function(t){this._data=t},Nn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:mo.octant(t,e)},Nn.prototype.getData=function(){return this._data},Nn.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var s=arguments[1],y=new w(arguments[0].getIntersection(arguments[3]));this.addIntersection(y,s)}},Nn.prototype.toString=function(){return dt.toLineString(new Sn(this._pts))},Nn.prototype.getNodeList=function(){return this._nodeList},Nn.prototype.addIntersectionNode=function(t,e){var o=e,s=o+1;return s<this._pts.length&&t.equals2D(this._pts[s])&&(o=s),this._nodeList.add(t,o)},Nn.prototype.addIntersections=function(t,e,o){for(var s=0;s<t.getIntersectionNum();s++)this.addIntersection(t,e,o,s)},Nn.prototype.interfaces_=function(){return[ys]},Nn.prototype.getClass=function(){return Nn},Nn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Bt;return Nn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var s=arguments[1],c=arguments[0].iterator();c.hasNext();)c.next().getNodeList().addSplitEdges(s)};var Kt=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new w,this.p1=new w;else if(1===arguments.length){var t=arguments[0];this.p0=new w(t.p0),this.p1=new w(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var s=arguments[2],c=arguments[3];this.p0=new w(arguments[0],arguments[1]),this.p1=new w(s,c)}},lu={serialVersionUID:{configurable:!0}};Kt.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Kt.prototype.orientationIndex=function(){if(arguments[0]instanceof Kt){var t=arguments[0],e=Mt.orientationIndex(this.p0,this.p1,t.p0),o=Mt.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&o>=0||e<=0&&o<=0?Math.max(e,o):0}if(arguments[0]instanceof w)return Mt.orientationIndex(this.p0,this.p1,arguments[0])},Kt.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Kt.prototype.isVertical=function(){return this.p0.x===this.p1.x},Kt.prototype.equals=function(t){if(!(t instanceof Kt))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Kt.prototype.intersection=function(t){var e=new It;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Kt.prototype.project=function(){if(arguments[0]instanceof w){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new w(t);var e=this.projectionFactor(t),o=new w;return o.x=this.p0.x+e*(this.p1.x-this.p0.x),o.y=this.p0.y+e*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof Kt){var s=arguments[0],c=this.projectionFactor(s.p0),y=this.projectionFactor(s.p1);if(c>=1&&y>=1||c<=0&&y<=0)return null;var x=this.project(s.p0);c<0&&(x=this.p0),c>1&&(x=this.p1);var I=this.project(s.p1);return y<0&&(I=this.p0),y>1&&(I=this.p1),new Kt(x,I)}},Kt.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Kt.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Kt.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Kt.prototype.distancePerpendicular=function(t){return Mt.distancePointLinePerpendicular(t,this.p0,this.p1)},Kt.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Kt.prototype.midPoint=function(){return Kt.midPoint(this.p0,this.p1)},Kt.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=e*e+o*o;return s<=0?N.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*o)/s},Kt.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var o=new Array(2).fill(null),s=N.MAX_VALUE,c=null,y=this.closestPoint(t.p0);s=y.distance(t.p0),o[0]=y,o[1]=t.p0;var x=this.closestPoint(t.p1);(c=x.distance(t.p1))<s&&(s=c,o[0]=x,o[1]=t.p1);var I=t.closestPoint(this.p0);(c=I.distance(this.p0))<s&&(s=c,o[0]=this.p0,o[1]=I);var q=t.closestPoint(this.p1);return(c=q.distance(this.p1))<s&&(s=c,o[0]=this.p1,o[1]=q),o},Kt.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Kt.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Kt.prototype.getLength=function(){return this.p0.distance(this.p1)},Kt.prototype.compareTo=function(t){var e=t,o=this.p0.compareTo(e.p0);return 0!==o?o:this.p1.compareTo(e.p1)},Kt.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Kt.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Kt.prototype.lineIntersection=function(t){try{return Vt.intersection(this.p0,this.p1,t.p0,t.p1)}catch(e){if(!(e instanceof ue))throw e}return null},Kt.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Kt.prototype.pointAlongOffset=function(t,e){var o=this.p0.x+t*(this.p1.x-this.p0.x),s=this.p0.y+t*(this.p1.y-this.p0.y),c=this.p1.x-this.p0.x,y=this.p1.y-this.p0.y,x=Math.sqrt(c*c+y*y),I=0,q=0;if(0!==e){if(x<=0)throw new Error("Cannot compute offset from zero-length line segment");I=e*c/x,q=e*y/x}return new w(o-q,s+I)},Kt.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=o.x,this.p1.y=o.y}},Kt.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||N.isNaN(e))&&(e=1),e},Kt.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Kt.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Kt.prototype.distance=function(){if(arguments[0]instanceof Kt){var t=arguments[0];return Mt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof w)return Mt.distancePointLine(arguments[0],this.p0,this.p1)},Kt.prototype.pointAlong=function(t){var e=new w;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Kt.prototype.hashCode=function(){var t=N.doubleToLongBits(this.p0.x);t^=31*N.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),o=N.doubleToLongBits(this.p1.x);return o^=31*N.doubleToLongBits(this.p1.y),e^Math.trunc(o)^Math.trunc(o>>32)},Kt.prototype.interfaces_=function(){return[S,F]},Kt.prototype.getClass=function(){return Kt},Kt.midPoint=function(t,e){return new w((t.x+e.x)/2,(t.y+e.y)/2)},lu.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Kt,lu);var ms=function(){this.tempEnv1=new Gt,this.tempEnv2=new Gt,this._overlapSeg1=new Kt,this._overlapSeg2=new Kt};ms.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var o=arguments[2],s=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),o.getLineSegment(s,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},ms.prototype.interfaces_=function(){return[]},ms.prototype.getClass=function(){return ms};var xr=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[1],o=arguments[2],s=arguments[3];this._pts=arguments[0],this._start=e,this._end=o,this._context=s};xr.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},xr.prototype.computeSelect=function(t,e,o,s){if(s.tempEnv1.init(this._pts[e],this._pts[o]),o-e==1)return s.select(this,e),null;if(!t.intersects(s.tempEnv1))return null;var x=Math.trunc((e+o)/2);e<x&&this.computeSelect(t,e,x,s),x<o&&this.computeSelect(t,x,o,s)},xr.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,o=this._start;o<=this._end;o++)t[e++]=this._pts[o];return t},xr.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},xr.prototype.setId=function(t){this._id=t},xr.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},xr.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Gt(this._pts[this._start],this._pts[this._end])),this._env},xr.prototype.getEndIndex=function(){return this._end},xr.prototype.getStartIndex=function(){return this._start},xr.prototype.getContext=function(){return this._context},xr.prototype.getId=function(){return this._id},xr.prototype.computeOverlapsInternal=function(t,e,o,s,c,y){var x=this._pts[t],I=this._pts[e],q=o._pts[s],rt=o._pts[c];if(e-t==1&&c-s==1)return y.overlap(this,t,o,s),null;if(y.tempEnv1.init(x,I),y.tempEnv2.init(q,rt),!y.tempEnv1.intersects(y.tempEnv2))return null;var Et=Math.trunc((t+e)/2),Pt=Math.trunc((s+c)/2);t<Et&&(s<Pt&&this.computeOverlapsInternal(t,Et,o,s,Pt,y),Pt<c&&this.computeOverlapsInternal(t,Et,o,Pt,c,y)),Et<e&&(s<Pt&&this.computeOverlapsInternal(Et,e,o,s,Pt,y),Pt<c&&this.computeOverlapsInternal(Et,e,o,Pt,c,y))},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr};var ii=function(){};ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.getChainStartIndices=function(t){var e=0,o=new Bt;o.add(new at(e));do{var s=ii.findChainEnd(t,e);o.add(new at(s)),e=s}while(e<t.length-1);return ii.toIntArray(o)},ii.findChainEnd=function(t,e){for(var o=e;o<t.length-1&&t[o].equals2D(t[o+1]);)o++;if(o>=t.length-1)return t.length-1;for(var s=sn.quadrant(t[o],t[o+1]),c=e+1;c<t.length&&(t[c-1].equals2D(t[c])||sn.quadrant(t[c-1],t[c])===s);)c++;return c-1},ii.getChains=function(){if(1===arguments.length)return ii.getChains(arguments[0],null);if(2===arguments.length){for(var e=arguments[0],o=arguments[1],s=new Bt,c=ii.getChainStartIndices(e),y=0;y<c.length-1;y++){var x=new xr(e,c[y],c[y+1],o);s.add(x)}return s}},ii.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var vo=function(){};vo.prototype.computeNodes=function(t){},vo.prototype.getNodedSubstrings=function(){},vo.prototype.interfaces_=function(){return[]},vo.prototype.getClass=function(){return vo};var vs=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};vs.prototype.setSegmentIntersector=function(t){this._segInt=t},vs.prototype.interfaces_=function(){return[vo]},vs.prototype.getClass=function(){return vs};var Zs=function(t){function e(s){s?t.call(this,s):t.call(this),this._monoChains=new Bt,this._index=new au,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Nn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(s){for(var c=ii.getChains(s.getCoordinates(),s).iterator();c.hasNext();){var y=c.next();y.setId(this._idCounter++),this._index.insert(y.getEnvelope(),y),this._monoChains.add(y)}},e.prototype.computeNodes=function(s){this._nodedSegStrings=s;for(var c=s.iterator();c.hasNext();)this.add(c.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var s=new zs(this._segInt),c=this._monoChains.iterator();c.hasNext();)for(var y=c.next(),x=this._index.query(y.getEnvelope()).iterator();x.hasNext();){var I=x.next();if(I.getId()>y.getId()&&(y.computeOverlaps(I,s),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.SegmentOverlapAction.get=function(){return zs},Object.defineProperties(e,o),e}(vs),zs=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var s=arguments[1],c=arguments[2],y=arguments[3],x=arguments[0].getContext(),I=c.getContext();this._si.processIntersections(x,s,I,y)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ms),Ve=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var s=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(s)}else if(4===arguments.length){var y=arguments[1],x=arguments[2],I=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(y),this.setJoinStyle(x),this.setMitreLimit(I)}},Ui={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Ve.prototype.getEndCapStyle=function(){return this._endCapStyle},Ve.prototype.isSingleSided=function(){return this._isSingleSided},Ve.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Ve.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Ve.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Ve.JOIN_ROUND&&(this._quadrantSegments=Ve.DEFAULT_QUADRANT_SEGMENTS)},Ve.prototype.getJoinStyle=function(){return this._joinStyle},Ve.prototype.setJoinStyle=function(t){this._joinStyle=t},Ve.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Ve.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Ve.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Ve.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Ve.prototype.getMitreLimit=function(){return this._mitreLimit},Ve.prototype.setMitreLimit=function(t){this._mitreLimit=t},Ve.prototype.setSingleSided=function(t){this._isSingleSided=t},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},Ve.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Ui.CAP_ROUND.get=function(){return 1},Ui.CAP_FLAT.get=function(){return 2},Ui.CAP_SQUARE.get=function(){return 3},Ui.JOIN_ROUND.get=function(){return 1},Ui.JOIN_MITRE.get=function(){return 2},Ui.JOIN_BEVEL.get=function(){return 3},Ui.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Ui.DEFAULT_MITRE_LIMIT.get=function(){return 5},Ui.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Ve,Ui);var mn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Mt.COUNTERCLOCKWISE,this._inputLine=t||null},_s={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};mn.prototype.isDeletable=function(t,e,o,s){var c=this._inputLine[t],y=this._inputLine[e],x=this._inputLine[o];return!!this.isConcave(c,y,x)&&!!this.isShallow(c,y,x,s)&&this.isShallowSampled(c,y,t,o,s)},mn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),o=this.findNextNonDeletedIndex(e),s=!1;o<this._inputLine.length;){var c=!1;this.isDeletable(t,e,o,this._distanceTol)&&(this._isDeleted[e]=mn.DELETE,c=!0,s=!0),e=this.findNextNonDeletedIndex(t=c?o:e),o=this.findNextNonDeletedIndex(e)}return s},mn.prototype.isShallowConcavity=function(t,e,o,s){return Mt.computeOrientation(t,e,o)===this._angleOrientation&&Mt.distancePointLine(e,t,o)<s},mn.prototype.isShallowSampled=function(t,e,o,s,c){var y=Math.trunc((s-o)/mn.NUM_PTS_TO_CHECK);y<=0&&(y=1);for(var x=o;x<s;x+=y)if(!this.isShallow(t,e,this._inputLine[x],c))return!1;return!0},mn.prototype.isConcave=function(t,e,o){return Mt.computeOrientation(t,e,o)===this._angleOrientation},mn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Mt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},mn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===mn.DELETE;)e++;return e},mn.prototype.isShallow=function(t,e,o,s){return Mt.distancePointLine(e,t,o)<s},mn.prototype.collapseLine=function(){for(var t=new Vr,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==mn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn},mn.simplify=function(t,e){return new mn(t).simplify(e)},_s.INIT.get=function(){return 0},_s.DELETE.get=function(){return 1},_s.KEEP.get=function(){return 1},_s.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(mn,_s);var Or=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Bt},cu={COORDINATE_ARRAY_TYPE:{configurable:!0}};Or.prototype.getCoordinates=function(){return this._ptList.toArray(Or.COORDINATE_ARRAY_TYPE)},Or.prototype.setPrecisionModel=function(t){this._precisionModel=t},Or.prototype.addPt=function(t){var e=new w(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Or.prototype.revere=function(){},Or.prototype.addPts=function(t,e){if(e)for(var o=0;o<t.length;o++)this.addPt(t[o]);else for(var s=t.length-1;s>=0;s--)this.addPt(t[s])},Or.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Or.prototype.toString=function(){return(new ve).createLineString(this.getCoordinates()).toString()},Or.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new w(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Or.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},cu.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Or,cu);var Ee=function(){},Fo={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ee.prototype.interfaces_=function(){return[]},Ee.prototype.getClass=function(){return Ee},Ee.toDegrees=function(t){return 180*t/Math.PI},Ee.normalize=function(t){for(;t>Math.PI;)t-=Ee.PI_TIMES_2;for(;t<=-Math.PI;)t+=Ee.PI_TIMES_2;return t},Ee.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return Math.atan2(o.y-e.y,o.x-e.x)}},Ee.isAcute=function(t,e,o){return(t.x-e.x)*(o.x-e.x)+(t.y-e.y)*(o.y-e.y)>0},Ee.isObtuse=function(t,e,o){return(t.x-e.x)*(o.x-e.x)+(t.y-e.y)*(o.y-e.y)<0},Ee.interiorAngle=function(t,e,o){var s=Ee.angle(e,t),c=Ee.angle(e,o);return Math.abs(c-s)},Ee.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Ee.PI_TIMES_2;t>=Ee.PI_TIMES_2&&(t=0)}else{for(;t>=Ee.PI_TIMES_2;)t-=Ee.PI_TIMES_2;t<0&&(t=0)}return t},Ee.angleBetween=function(t,e,o){var s=Ee.angle(e,t),c=Ee.angle(e,o);return Ee.diff(s,c)},Ee.diff=function(t,e){var o=null;return(o=t<e?e-t:t-e)>Math.PI&&(o=2*Math.PI-o),o},Ee.toRadians=function(t){return t*Math.PI/180},Ee.getTurn=function(t,e){var o=Math.sin(e-t);return o>0?Ee.COUNTERCLOCKWISE:o<0?Ee.CLOCKWISE:Ee.NONE},Ee.angleBetweenOriented=function(t,e,o){var s=Ee.angle(e,t),c=Ee.angle(e,o)-s;return c<=-Math.PI?c+Ee.PI_TIMES_2:c>Math.PI?c-Ee.PI_TIMES_2:c},Fo.PI_TIMES_2.get=function(){return 2*Math.PI},Fo.PI_OVER_2.get=function(){return Math.PI/2},Fo.PI_OVER_4.get=function(){return Math.PI/4},Fo.COUNTERCLOCKWISE.get=function(){return Mt.COUNTERCLOCKWISE},Fo.CLOCKWISE.get=function(){return Mt.CLOCKWISE},Fo.NONE.get=function(){return Mt.COLLINEAR},Object.defineProperties(Ee,Fo);var gn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Kt,this._seg1=new Kt,this._offset0=new Kt,this._offset1=new Kt,this._side=0,this._hasNarrowConcaveAngle=!1;var o=arguments[1],s=arguments[2];this._precisionModel=arguments[0],this._bufParams=o,this._li=new It,this._filletAngleQuantum=Math.PI/2/o.getQuadrantSegments(),o.getQuadrantSegments()>=8&&o.getJoinStyle()===Ve.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(s)},xs={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};gn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var o=Mt.computeOrientation(this._s0,this._s1,this._s2),s=o===Mt.CLOCKWISE&&this._side===qt.LEFT||o===Mt.COUNTERCLOCKWISE&&this._side===qt.RIGHT;0===o?this.addCollinear(e):s?this.addOutsideTurn(o,e):this.addInsideTurn(o,e)},gn.prototype.addLineEndCap=function(t,e){var o=new Kt(t,e),s=new Kt;this.computeOffsetSegment(o,qt.LEFT,this._distance,s);var c=new Kt;this.computeOffsetSegment(o,qt.RIGHT,this._distance,c);var I=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case Ve.CAP_ROUND:this._segList.addPt(s.p1),this.addFilletArc(e,I+Math.PI/2,I-Math.PI/2,Mt.CLOCKWISE,this._distance),this._segList.addPt(c.p1);break;case Ve.CAP_FLAT:this._segList.addPt(s.p1),this._segList.addPt(c.p1);break;case Ve.CAP_SQUARE:var q=new w;q.x=Math.abs(this._distance)*Math.cos(I),q.y=Math.abs(this._distance)*Math.sin(I);var rt=new w(s.p1.x+q.x,s.p1.y+q.y),Et=new w(c.p1.x+q.x,c.p1.y+q.y);this._segList.addPt(rt),this._segList.addPt(Et)}},gn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},gn.prototype.addMitreJoin=function(t,e,o,s){var c=!0,y=null;try{y=Vt.intersection(e.p0,e.p1,o.p0,o.p1),(s<=0?1:y.distance(t)/Math.abs(s))>this._bufParams.getMitreLimit()&&(c=!1)}catch(x){if(!(x instanceof ue))throw x;y=new w(0,0),c=!1}c?this._segList.addPt(y):this.addLimitedMitreJoin(e,o,s,this._bufParams.getMitreLimit())},gn.prototype.addFilletCorner=function(t,e,o,s,c){var I=Math.atan2(e.y-t.y,e.x-t.x),Et=Math.atan2(o.y-t.y,o.x-t.x);s===Mt.CLOCKWISE?I<=Et&&(I+=2*Math.PI):I>=Et&&(I-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,I,Et,s,c),this._segList.addPt(o)},gn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*gn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Ve.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Ve.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},gn.prototype.createSquare=function(t){this._segList.addPt(new w(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new w(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new w(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new w(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},gn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},gn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},gn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},gn.prototype.initSideSegments=function(t,e,o){this._s1=t,this._s2=e,this._side=o,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)},gn.prototype.addLimitedMitreJoin=function(t,e,o,s){var c=this._seg0.p1,y=Ee.angle(c,this._seg0.p0),x=Ee.angleBetweenOriented(this._seg0.p0,c,this._seg1.p1)/2,I=Ee.normalize(y+x),q=Ee.normalize(I+Math.PI),rt=s*o,Et=o-rt*Math.abs(Math.sin(x)),Pt=c.x+rt*Math.cos(q),Zt=c.y+rt*Math.sin(q),Yt=new w(Pt,Zt),$t=new Kt(c,Yt),ne=$t.pointAlongOffset(1,Et),nn=$t.pointAlongOffset(1,-Et);this._side===qt.LEFT?(this._segList.addPt(ne),this._segList.addPt(nn)):(this._segList.addPt(nn),this._segList.addPt(ne))},gn.prototype.computeOffsetSegment=function(t,e,o,s){var c=e===qt.LEFT?1:-1,y=t.p1.x-t.p0.x,x=t.p1.y-t.p0.y,I=Math.sqrt(y*y+x*x),q=c*o*y/I,rt=c*o*x/I;s.p0.x=t.p0.x-rt,s.p0.y=t.p0.y+q,s.p1.x=t.p1.x-rt,s.p1.y=t.p1.y+q},gn.prototype.addFilletArc=function(t,e,o,s,c){var y=s===Mt.CLOCKWISE?-1:1,x=Math.abs(e-o),I=Math.trunc(x/this._filletAngleQuantum+.5);if(I<1)return null;for(var q=x/I,rt=0,Et=new w;rt<x;){var Pt=e+y*rt;Et.x=t.x+c*Math.cos(Pt),Et.y=t.y+c*Math.sin(Pt),this._segList.addPt(Et),rt+=q}},gn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*gn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var o=new w((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o);var s=new w((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},gn.prototype.createCircle=function(t){var e=new w(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},gn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},gn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Or,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*gn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},gn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Ve.JOIN_BEVEL||this._bufParams.getJoinStyle()===Ve.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Mt.CLOCKWISE,this._distance))},gn.prototype.closeRing=function(){this._segList.closeRing()},gn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},xs.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},xs.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},xs.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},xs.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(gn,xs);var or=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[1];this._precisionModel=arguments[0],this._bufParams=e};or.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var o=e<0,s=Math.abs(e),c=this.getSegGen(s);t.length<=1?this.computePointCurve(t[0],c):this.computeOffsetCurve(t,o,c);var y=c.getCoordinates();return o&&pe.reverse(y),y},or.prototype.computeSingleSidedBufferCurve=function(t,e,o){var s=this.simplifyTolerance(this._distance);if(e){o.addSegments(t,!0);var c=mn.simplify(t,-s),y=c.length-1;o.initSideSegments(c[y],c[y-1],qt.LEFT),o.addFirstSegment();for(var x=y-2;x>=0;x--)o.addNextSegment(c[x],!0)}else{o.addSegments(t,!1);var I=mn.simplify(t,s),q=I.length-1;o.initSideSegments(I[0],I[1],qt.LEFT),o.addFirstSegment();for(var rt=2;rt<=q;rt++)o.addNextSegment(I[rt],!0)}o.addLastSegment(),o.closeRing()},or.prototype.computeRingBufferCurve=function(t,e,o){var s=this.simplifyTolerance(this._distance);e===qt.RIGHT&&(s=-s);var c=mn.simplify(t,s),y=c.length-1;o.initSideSegments(c[y-1],c[0],e);for(var x=1;x<=y;x++)o.addNextSegment(c[x],1!==x);o.closeRing()},or.prototype.computeLineBufferCurve=function(t,e){var o=this.simplifyTolerance(this._distance),s=mn.simplify(t,o),c=s.length-1;e.initSideSegments(s[0],s[1],qt.LEFT);for(var y=2;y<=c;y++)e.addNextSegment(s[y],!0);e.addLastSegment(),e.addLineEndCap(s[c-1],s[c]);var x=mn.simplify(t,-o),I=x.length-1;e.initSideSegments(x[I],x[I-1],qt.LEFT);for(var q=I-2;q>=0;q--)e.addNextSegment(x[q],!0);e.addLastSegment(),e.addLineEndCap(x[1],x[0]),e.closeRing()},or.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Ve.CAP_ROUND:e.createCircle(t);break;case Ve.CAP_SQUARE:e.createSquare(t)}},or.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided()||0===e)return null;var o=Math.abs(e),s=this.getSegGen(o);return t.length<=1?this.computePointCurve(t[0],s):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,s):this.computeLineBufferCurve(t,s),s.getCoordinates()},or.prototype.getBufferParameters=function(){return this._bufParams},or.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},or.prototype.getRingCurve=function(t,e,o){if(this._distance=o,t.length<=2)return this.getLineCurve(t,o);if(0===o)return or.copyCoordinates(t);var s=this.getSegGen(o);return this.computeRingBufferCurve(t,e,s),s.getCoordinates()},or.prototype.computeOffsetCurve=function(t,e,o){var s=this.simplifyTolerance(this._distance);if(e){var c=mn.simplify(t,-s),y=c.length-1;o.initSideSegments(c[y],c[y-1],qt.LEFT),o.addFirstSegment();for(var x=y-2;x>=0;x--)o.addNextSegment(c[x],!0)}else{var I=mn.simplify(t,s),q=I.length-1;o.initSideSegments(I[0],I[1],qt.LEFT),o.addFirstSegment();for(var rt=2;rt<=q;rt++)o.addNextSegment(I[rt],!0)}o.addLastSegment()},or.prototype.getSegGen=function(t){return new gn(this._precisionModel,this._bufParams,t)},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),o=0;o<e.length;o++)e[o]=new w(t[o]);return e};var _o=function(){this._subgraphs=null,this._seg=new Kt,this._cga=new Mt,this._subgraphs=arguments[0]},fu={DepthSegment:{configurable:!0}};_o.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Bt,o=this._subgraphs.iterator();o.hasNext();){var s=o.next(),c=s.getEnvelope();t.y<c.getMinY()||t.y>c.getMaxY()||this.findStabbedSegments(t,s.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Nt(arguments[2],Xn)&&arguments[0]instanceof w&&arguments[1]instanceof Gs){for(var y=arguments[0],x=arguments[1],I=arguments[2],q=x.getEdge().getCoordinates(),rt=0;rt<q.length-1;rt++)if(this._seg.p0=q[rt],this._seg.p1=q[rt+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<y.x||this._seg.isHorizontal()||y.y<this._seg.p0.y||y.y>this._seg.p1.y||Mt.computeOrientation(this._seg.p0,this._seg.p1,y)===Mt.RIGHT)){var Et=x.getDepth(qt.LEFT);this._seg.p0.equals(q[rt])||(Et=x.getDepth(qt.RIGHT));var Pt=new xo(this._seg,Et);I.add(Pt)}}else if(Nt(arguments[2],Xn)&&arguments[0]instanceof w&&Nt(arguments[1],Xn))for(var Zt=arguments[0],$t=arguments[2],ne=arguments[1].iterator();ne.hasNext();){var nn=ne.next();nn.isForward()&&this.findStabbedSegments(Zt,nn,$t)}},_o.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:ri.min(e)._leftDepth},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o},fu.DepthSegment.get=function(){return xo},Object.defineProperties(_o,fu);var xo=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[1];this._upwardSeg=new Kt(arguments[0]),this._leftDepth=e};xo.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var o=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==o||0!=(o=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?o:this._upwardSeg.compareTo(e._upwardSeg)},xo.prototype.compareX=function(t,e){var o=t.p0.compareTo(e.p0);return 0!==o?o:t.p1.compareTo(e.p1)},xo.prototype.toString=function(){return this._upwardSeg.toString()},xo.prototype.interfaces_=function(){return[S]},xo.prototype.getClass=function(){return xo};var je=function(t,e,o){this.p0=t||null,this.p1=e||null,this.p2=o||null};je.prototype.area=function(){return je.area(this.p0,this.p1,this.p2)},je.prototype.signedArea=function(){return je.signedArea(this.p0,this.p1,this.p2)},je.prototype.interpolateZ=function(t){if(null===t)throw new C("Supplied point is null.");return je.interpolateZ(t,this.p0,this.p1,this.p2)},je.prototype.longestSideLength=function(){return je.longestSideLength(this.p0,this.p1,this.p2)},je.prototype.isAcute=function(){return je.isAcute(this.p0,this.p1,this.p2)},je.prototype.circumcentre=function(){return je.circumcentre(this.p0,this.p1,this.p2)},je.prototype.area3D=function(){return je.area3D(this.p0,this.p1,this.p2)},je.prototype.centroid=function(){return je.centroid(this.p0,this.p1,this.p2)},je.prototype.inCentre=function(){return je.inCentre(this.p0,this.p1,this.p2)},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je},je.area=function(t,e,o){return Math.abs(((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2)},je.signedArea=function(t,e,o){return((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2},je.det=function(t,e,o,s){return t*s-e*o},je.interpolateZ=function(t,e,o,s){var c=e.x,y=e.y,x=o.x-c,I=s.x-c,q=o.y-y,rt=s.y-y,Et=x*rt-I*q,Pt=t.x-c,Zt=t.y-y;return e.z+(rt*Pt-I*Zt)/Et*(o.z-e.z)+(-q*Pt+x*Zt)/Et*(s.z-e.z)},je.longestSideLength=function(t,e,o){var s=t.distance(e),c=e.distance(o),y=o.distance(t),x=s;return c>x&&(x=c),y>x&&(x=y),x},je.isAcute=function(t,e,o){return!!Ee.isAcute(t,e,o)&&!!Ee.isAcute(e,o,t)&&!!Ee.isAcute(o,t,e)},je.circumcentre=function(t,e,o){var s=o.x,c=o.y,y=t.x-s,x=t.y-c,I=e.x-s,q=e.y-c,rt=2*je.det(y,x,I,q),Et=je.det(x,y*y+x*x,q,I*I+q*q),Pt=je.det(y,y*y+x*x,I,I*I+q*q);return new w(s-Et/rt,c+Pt/rt)},je.perpendicularBisector=function(t,e){var o=e.x-t.x,s=e.y-t.y,c=new Vt(t.x+o/2,t.y+s/2,1),y=new Vt(t.x-s+o/2,t.y+o+s/2,1);return new Vt(c,y)},je.angleBisector=function(t,e,o){var s=e.distance(t),c=s/(s+e.distance(o));return new w(t.x+c*(o.x-t.x),t.y+c*(o.y-t.y))},je.area3D=function(t,e,o){var s=e.x-t.x,c=e.y-t.y,y=e.z-t.z,x=o.x-t.x,I=o.y-t.y,q=o.z-t.z,rt=c*q-y*I,Et=y*x-s*q,Pt=s*I-c*x;return Math.sqrt(rt*rt+Et*Et+Pt*Pt)/2},je.centroid=function(t,e,o){return new w((t.x+e.x+o.x)/3,(t.y+e.y+o.y)/3)},je.inCentre=function(t,e,o){var s=e.distance(o),c=t.distance(o),y=t.distance(e),x=s+c+y;return new w((s*t.x+c*e.x+y*o.x)/x,(s*t.y+c*e.y+y*o.y)/x)};var Yr=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Bt;var e=arguments[1],o=arguments[2];this._inputGeom=arguments[0],this._distance=e,this._curveBuilder=o};Yr.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,R.EXTERIOR,R.INTERIOR)},Yr.prototype.addPolygon=function(t){var e=this._distance,o=qt.LEFT;this._distance<0&&(e=-this._distance,o=qt.RIGHT);var s=t.getExteriorRing(),c=pe.removeRepeatedPoints(s.getCoordinates());if(this._distance<0&&this.isErodedCompletely(s,this._distance)||this._distance<=0&&c.length<3)return null;this.addPolygonRing(c,e,o,R.EXTERIOR,R.INTERIOR);for(var y=0;y<t.getNumInteriorRing();y++){var x=t.getInteriorRingN(y),I=pe.removeRepeatedPoints(x.getCoordinates());this._distance>0&&this.isErodedCompletely(x,-this._distance)||this.addPolygonRing(I,e,qt.opposite(o),R.INTERIOR,R.EXTERIOR)}},Yr.prototype.isTriangleErodedCompletely=function(t,e){var o=new je(t[0],t[1],t[2]),s=o.inCentre();return Mt.distancePointLine(s,o.p0,o.p1)<Math.abs(e)},Yr.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=pe.removeRepeatedPoints(t.getCoordinates()),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,R.EXTERIOR,R.INTERIOR)},Yr.prototype.addCurve=function(t,e,o){if(null===t||t.length<2)return null;var s=new Nn(t,new en(0,R.BOUNDARY,e,o));this._curveList.add(s)},Yr.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Yr.prototype.addPolygonRing=function(t,e,o,s,c){if(0===e&&t.length<yi.MINIMUM_VALID_SIZE)return null;var y=s,x=c;t.length>=yi.MINIMUM_VALID_SIZE&&Mt.isCCW(t)&&(y=c,x=s,o=qt.opposite(o));var I=this._curveBuilder.getRingCurve(t,o,e);this.addCurve(I,y,x)},Yr.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Cn?this.addPolygon(t):t instanceof _n?this.addLineString(t):t instanceof Pr?this.addPoint(t):(t instanceof Ro||t instanceof po||t instanceof mi||t instanceof hr)&&this.addCollection(t)},Yr.prototype.isErodedCompletely=function(t,e){var o=t.getCoordinates();if(o.length<4)return e<0;if(4===o.length)return this.isTriangleErodedCompletely(o,e);var s=t.getEnvelopeInternal(),c=Math.min(s.getHeight(),s.getWidth());return e<0&&2*Math.abs(e)>c},Yr.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var o=t.getGeometryN(e);this.add(o)}},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr};var ko=function(){};ko.prototype.locate=function(t){},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko};var Ei=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Ei.prototype.next=function(){if(this._atStart)return this._atStart=!1,Ei.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new O;var t=this._parent.getGeometryN(this._index++);return t instanceof hr?(this._subcollectionIterator=new Ei(t),this._subcollectionIterator.next()):t},Ei.prototype.remove=function(){throw new Error(this.getClass().getName())},Ei.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Ei.prototype.interfaces_=function(){return[Tr]},Ei.prototype.getClass=function(){return Ei},Ei.isAtomic=function(t){return!(t instanceof hr)};var Nr=function(){this._geom=null,this._geom=arguments[0]};Nr.prototype.locate=function(t){return Nr.locate(t,this._geom)},Nr.prototype.interfaces_=function(){return[ko]},Nr.prototype.getClass=function(){return Nr},Nr.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Mt.isPointInRing(t,e.getCoordinates())},Nr.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var o=e.getExteriorRing();if(!Nr.isPointInRing(t,o))return!1;for(var s=0;s<e.getNumInteriorRing();s++){var c=e.getInteriorRingN(s);if(Nr.isPointInRing(t,c))return!1}return!0},Nr.containsPoint=function(t,e){if(e instanceof Cn)return Nr.containsPointInPolygon(t,e);if(e instanceof hr)for(var o=new Ei(e);o.hasNext();){var s=o.next();if(s!==e&&Nr.containsPoint(t,s))return!0}return!1},Nr.locate=function(t,e){return e.isEmpty()?R.EXTERIOR:Nr.containsPoint(t,e)?R.INTERIOR:R.EXTERIOR};var sr=function(){this._edgeMap=new xt,this._edgeList=null,this._ptInAreaLocation=[R.NONE,R.NONE]};sr.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),o=e-1;return 0===e&&(o=this._edgeList.size()-1),this._edgeList.get(o)},sr.prototype.propagateSideLabels=function(t){for(var e=R.NONE,o=this.iterator();o.hasNext();){var s=o.next().getLabel();s.isArea(t)&&s.getLocation(t,qt.LEFT)!==R.NONE&&(e=s.getLocation(t,qt.LEFT))}if(e===R.NONE)return null;for(var c=e,y=this.iterator();y.hasNext();){var x=y.next(),I=x.getLabel();if(I.getLocation(t,qt.ON)===R.NONE&&I.setLocation(t,qt.ON,c),I.isArea(t)){var q=I.getLocation(t,qt.LEFT),rt=I.getLocation(t,qt.RIGHT);if(rt!==R.NONE){if(rt!==c)throw new Ti("side location conflict",x.getCoordinate());q===R.NONE&&M.shouldNeverReachHere("found single null side (at "+x.getCoordinate()+")"),c=q}else M.isTrue(I.getLocation(t,qt.LEFT)===R.NONE,"found single null side"),I.setLocation(t,qt.RIGHT,c),I.setLocation(t,qt.LEFT,c)}}},sr.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},sr.prototype.print=function(t){Jt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},sr.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},sr.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var o=e.size()-1,s=e.get(o).getLabel().getLocation(t,qt.LEFT);M.isTrue(s!==R.NONE,"Found unlabelled area edge");for(var c=s,y=this.iterator();y.hasNext();){var x=y.next().getLabel();M.isTrue(x.isArea(t),"Found non-area edge");var I=x.getLocation(t,qt.LEFT),q=x.getLocation(t,qt.RIGHT);if(I===q||q!==c)return!1;c=I}return!0},sr.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},sr.prototype.iterator=function(){return this.getEdges().iterator()},sr.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Bt(this._edgeMap.values())),this._edgeList},sr.prototype.getLocation=function(t,e,o){return this._ptInAreaLocation[t]===R.NONE&&(this._ptInAreaLocation[t]=Nr.locate(e,o[t].getGeometry())),this._ptInAreaLocation[t]},sr.prototype.toString=function(){var t=new J;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var o=e.next();t.append(o),t.append("\n")}return t.toString()},sr.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},sr.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],o=this.iterator();o.hasNext();)for(var s=o.next().getLabel(),c=0;c<2;c++)s.isLine(c)&&s.getLocation(c)===R.BOUNDARY&&(e[c]=!0);for(var y=this.iterator();y.hasNext();)for(var x=y.next(),I=x.getLabel(),q=0;q<2;q++)if(I.isAnyNull(q)){var rt=R.NONE;if(e[q])rt=R.EXTERIOR;else{var Et=x.getCoordinate();rt=this.getLocation(q,Et,t)}I.setAllLocationsIfNull(q,rt)}},sr.prototype.getDegree=function(){return this._edgeMap.size()},sr.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr};var El=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var o=null,s=null,c=this._SCANNING_FOR_INCOMING,y=0;y<this._resultAreaEdgeList.size();y++){var x=this._resultAreaEdgeList.get(y),I=x.getSym();if(x.getLabel().isArea())switch(null===o&&x.isInResult()&&(o=x),c){case this._SCANNING_FOR_INCOMING:if(!I.isInResult())continue;s=I,c=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!x.isInResult())continue;s.setNext(x),c=this._SCANNING_FOR_INCOMING}}if(c===this._LINKING_TO_OUTGOING){if(null===o)throw new Ti("no outgoing dirEdge found",this.getCoordinate());M.isTrue(o.isInResult(),"unable to link last incoming dirEdge"),s.setNext(o)}},e.prototype.insert=function(o){this.insertEdgeEnd(o,o)},e.prototype.getRightmostEdge=function(){var o=this.getEdges(),s=o.size();if(s<1)return null;var c=o.get(0);if(1===s)return c;var y=o.get(s-1),x=c.getQuadrant(),I=y.getQuadrant();return sn.isNorthern(x)&&sn.isNorthern(I)?c:sn.isNorthern(x)||sn.isNorthern(I)?0!==c.getDy()?c:0!==y.getDy()?y:(M.shouldNeverReachHere("found two horizontal edges incident on node"),null):y},e.prototype.print=function(o){Jt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var s=this.iterator();s.hasNext();){var c=s.next();o.print("out "),c.print(o),o.println(),o.print("in "),c.getSym().print(o),o.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Bt;for(var o=this.iterator();o.hasNext();){var s=o.next();(s.isInResult()||s.getSym().isInResult())&&this._resultAreaEdgeList.add(s)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(o){for(var s=this.iterator();s.hasNext();){var c=s.next().getLabel();c.setAllLocationsIfNull(0,o.getLocation(0)),c.setAllLocationsIfNull(1,o.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var o=null,s=null,c=this._edgeList.size()-1;c>=0;c--){var y=this._edgeList.get(c),x=y.getSym();null===s&&(s=x),null!==o&&x.setNext(o),o=y}s.setNext(o)},e.prototype.computeDepths=function(){if(1===arguments.length){var o=arguments[0],s=this.findIndex(o),c=o.getDepth(qt.LEFT),y=o.getDepth(qt.RIGHT),x=this.computeDepths(s+1,this._edgeList.size(),c);if(this.computeDepths(0,s,x)!==y)throw new Ti("depth mismatch at "+o.getCoordinate())}else if(3===arguments.length){for(var q=arguments[1],rt=arguments[2],Et=arguments[0];Et<q;Et++){var Pt=this._edgeList.get(Et);Pt.setEdgeDepths(qt.RIGHT,rt),rt=Pt.getDepth(qt.LEFT)}return rt}},e.prototype.mergeSymLabels=function(){for(var o=this.iterator();o.hasNext();){var s=o.next();s.getLabel().merge(s.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(o){for(var s=null,c=null,y=this._SCANNING_FOR_INCOMING,x=this._resultAreaEdgeList.size()-1;x>=0;x--){var I=this._resultAreaEdgeList.get(x),q=I.getSym();switch(null===s&&I.getEdgeRing()===o&&(s=I),y){case this._SCANNING_FOR_INCOMING:if(q.getEdgeRing()!==o)continue;c=q,y=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(I.getEdgeRing()!==o)continue;c.setNextMin(I),y=this._SCANNING_FOR_INCOMING}}y===this._LINKING_TO_OUTGOING&&(M.isTrue(null!==s,"found null for first outgoing dirEdge"),M.isTrue(s.getEdgeRing()===o,"unable to link last incoming dirEdge"),c.setNextMin(s))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var o=0,s=this.iterator();s.hasNext();)s.next().isInResult()&&o++;return o}if(1===arguments.length){for(var c=arguments[0],y=0,x=this.iterator();x.hasNext();)x.next().getEdgeRing()===c&&y++;return y}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var o=R.NONE,s=this.iterator();s.hasNext();){var c=s.next(),y=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){o=R.INTERIOR;break}if(y.isInResult()){o=R.EXTERIOR;break}}}if(o===R.NONE)return null;for(var x=o,I=this.iterator();I.hasNext();){var q=I.next(),rt=q.getSym();q.isLineEdge()?q.getEdge().setCovered(x===R.INTERIOR):(q.isInResult()&&(x=R.EXTERIOR),rt.isInResult()&&(x=R.INTERIOR))}},e.prototype.computeLabelling=function(o){t.prototype.computeLabelling.call(this,o),this._label=new en(R.NONE);for(var s=this.iterator();s.hasNext();)for(var c=s.next().getEdge().getLabel(),y=0;y<2;y++){var x=c.getLocation(y);x!==R.INTERIOR&&x!==R.BOUNDARY||this._label.setLocation(y,R.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(sr),hu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(o){return new Vo(o,new El)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Qi),Ai=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Ai.prototype.compareTo=function(t){return Ai.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Ai.prototype.interfaces_=function(){return[S]},Ai.prototype.getClass=function(){return Ai},Ai.orientation=function(t){return 1===pe.increasingDirection(t)},Ai.compareOriented=function(t,e,o,s){for(var c=e?1:-1,y=s?1:-1,x=e?t.length:-1,I=s?o.length:-1,q=e?0:t.length-1,rt=s?0:o.length-1;;){var Et=t[q].compareTo(o[rt]);if(0!==Et)return Et;var Pt=(q+=c)===x,Zt=(rt+=y)===I;if(Pt&&!Zt)return-1;if(!Pt&&Zt)return 1;if(Pt&&Zt)return 0}};var oi=function(){this._edges=new Bt,this._ocaMap=new xt};oi.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var o=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var s=o.getCoordinates(),c=0;c<s.length;c++)c>0&&t.print(","),t.print(s[c].x+" "+s[c].y);t.println(")")}t.print(")  ")},oi.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},oi.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},oi.prototype.iterator=function(){return this._edges.iterator()},oi.prototype.getEdges=function(){return this._edges},oi.prototype.get=function(t){return this._edges.get(t)},oi.prototype.findEqualEdge=function(t){var e=new Ai(t.getCoordinates());return this._ocaMap.get(e)},oi.prototype.add=function(t){this._edges.add(t);var e=new Ai(t.getCoordinates());this._ocaMap.put(e,t)},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi};var Eo=function(){};Eo.prototype.processIntersections=function(t,e,o,s){},Eo.prototype.isDone=function(){},Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo};var Ar=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Ar.prototype.isTrivialIntersection=function(t,e,o,s){if(t===o&&1===this._li.getIntersectionNum()){if(Ar.isAdjacentSegments(e,s))return!0;if(t.isClosed()){var c=t.size()-1;if(0===e&&s===c||0===s&&e===c)return!0}}return!1},Ar.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Ar.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Ar.prototype.getLineIntersector=function(){return this._li},Ar.prototype.hasProperIntersection=function(){return this._hasProper},Ar.prototype.processIntersections=function(t,e,o,s){if(t===o&&e===s)return null;this.numTests++;var c=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[s],I=o.getCoordinates()[s+1];this._li.computeIntersection(c,y,x,I),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,o,s)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),o.addIntersections(this._li,s,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Ar.prototype.hasIntersection=function(){return this._hasIntersection},Ar.prototype.isDone=function(){return!1},Ar.prototype.hasInteriorIntersection=function(){return this._hasInterior},Ar.prototype.interfaces_=function(){return[Eo]},Ar.prototype.getClass=function(){return Ar},Ar.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var wi=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[1],o=arguments[2];this.coord=new w(arguments[0]),this.segmentIndex=e,this.dist=o};wi.prototype.getSegmentIndex=function(){return this.segmentIndex},wi.prototype.getCoordinate=function(){return this.coord},wi.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},wi.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},wi.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},wi.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},wi.prototype.getDistance=function(){return this.dist},wi.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},wi.prototype.interfaces_=function(){return[S]},wi.prototype.getClass=function(){return wi};var bi=function(){this._nodeMap=new xt,this.edge=null,this.edge=arguments[0]};bi.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},bi.prototype.iterator=function(){return this._nodeMap.values().iterator()},bi.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var s=e.next(),c=this.createSplitEdge(o,s);t.add(c),o=s}},bi.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},bi.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,c=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);c||o--;var y=new Array(o).fill(null),x=0;y[x++]=new w(t.coord);for(var I=t.segmentIndex+1;I<=e.segmentIndex;I++)y[x++]=this.edge.pts[I];return c&&(y[x]=e.coord),new Bo(y,new en(this.edge._label))},bi.prototype.add=function(t,e,o){var s=new wi(t,e,o),c=this._nodeMap.get(s);return null!==c?c:(this._nodeMap.put(s,s),s)},bi.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},bi.prototype.interfaces_=function(){return[]},bi.prototype.getClass=function(){return bi};var wo=function(){};wo.prototype.getChainStartIndices=function(t){var e=0,o=new Bt;o.add(new at(e));do{var s=this.findChainEnd(t,e);o.add(new at(s)),e=s}while(e<t.length-1);return wo.toIntArray(o)},wo.prototype.findChainEnd=function(t,e){for(var o=sn.quadrant(t[e],t[e+1]),s=e+1;s<t.length&&sn.quadrant(t[s-1],t[s])===o;)s++;return s-1},wo.prototype.interfaces_=function(){return[]},wo.prototype.getClass=function(){return wo},wo.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var Zi=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Gt,this.env2=new Gt;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new wo;this.startIndex=e.getChainStartIndices(this.pts)};Zi.prototype.getCoordinates=function(){return this.pts},Zi.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e>o?e:o},Zi.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e<o?e:o},Zi.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[o],e.startIndex[o+1],arguments[3])}else if(6===arguments.length){var c=arguments[0],y=arguments[1],x=arguments[2],I=arguments[3],q=arguments[4],rt=arguments[5],Et=this.pts[c],Pt=this.pts[y],Zt=x.pts[I],Yt=x.pts[q];if(y-c==1&&q-I==1)return rt.addIntersections(this.e,c,x.e,I),null;if(this.env1.init(Et,Pt),this.env2.init(Zt,Yt),!this.env1.intersects(this.env2))return null;var $t=Math.trunc((c+y)/2),ne=Math.trunc((I+q)/2);c<$t&&(I<ne&&this.computeIntersectsForChain(c,$t,x,I,ne,rt),ne<q&&this.computeIntersectsForChain(c,$t,x,ne,q,rt)),$t<y&&(I<ne&&this.computeIntersectsForChain($t,y,x,I,ne,rt),ne<q&&this.computeIntersectsForChain($t,y,x,ne,q,rt))}},Zi.prototype.getStartIndexes=function(){return this.startIndex},Zi.prototype.computeIntersects=function(t,e){for(var o=0;o<this.startIndex.length-1;o++)for(var s=0;s<t.startIndex.length-1;s++)this.computeIntersectsForChain(o,t,s,e)},Zi.prototype.interfaces_=function(){return[]},Zi.prototype.getClass=function(){return Zi};var Jn=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var o=0;o<3;o++)this._depth[e][o]=t.NULL_VALUE},Ys={NULL_VALUE:{configurable:!0}};Jn.prototype.getDepth=function(t,e){return this._depth[t][e]},Jn.prototype.setDepth=function(t,e,o){this._depth[t][e]=o},Jn.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Jn.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Jn.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Jn.NULL_VALUE:void 0},Jn.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var o=1;o<3;o++){var s=0;this._depth[t][o]>e&&(s=1),this._depth[t][o]=s}}},Jn.prototype.getDelta=function(t){return this._depth[t][qt.RIGHT]-this._depth[t][qt.LEFT]},Jn.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?R.EXTERIOR:R.INTERIOR},Jn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Jn.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var o=1;o<3;o++){var s=t.getLocation(e,o);s!==R.EXTERIOR&&s!==R.INTERIOR||(this.isNull(e,o)?this._depth[e][o]=Jn.depthAtLocation(s):this._depth[e][o]+=Jn.depthAtLocation(s))}else 3===arguments.length&&arguments[2]===R.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},Jn.depthAtLocation=function(t){return t===R.EXTERIOR?0:t===R.INTERIOR?1:Jn.NULL_VALUE},Ys.NULL_VALUE.get=function(){return-1},Object.defineProperties(Jn,Ys);var Bo=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new bi(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Jn,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var c=arguments[1];this.pts=arguments[0],this._label=c}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var o=new Array(2).fill(null);return o[0]=this.pts[0],o[1]=this.pts[1],new e(o,en.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(o){this._isIsolated=o},e.prototype.setName=function(o){this._name=o},e.prototype.equals=function(o){if(!(o instanceof e))return!1;var s=o;if(this.pts.length!==s.pts.length)return!1;for(var c=!0,y=!0,x=this.pts.length,I=0;I<this.pts.length;I++)if(this.pts[I].equals2D(s.pts[I])||(c=!1),this.pts[I].equals2D(s.pts[--x])||(y=!1),!c&&!y)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(o){o.print("edge "+this._name+": "),o.print("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&o.print(","),o.print(this.pts[s].x+" "+this.pts[s].y);o.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(o){e.updateIM(this._label,o)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(o){o.print("edge "+this._name+": ");for(var s=this.pts.length-1;s>=0;s--)o.print(this.pts[s]+" ");o.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Zi(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Gt;for(var o=0;o<this.pts.length;o++)this._env.expandToInclude(this.pts[o])}return this._env},e.prototype.addIntersection=function(o,s,c,y){var x=new w(o.getIntersection(y)),I=s,q=o.getEdgeDistance(c,y),rt=I+1;rt<this.pts.length&&x.equals2D(this.pts[rt])&&(I=rt,q=0),this.eiList.add(x,I,q)},e.prototype.toString=function(){var o=new J;o.append("edge "+this._name+": "),o.append("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&o.append(","),o.append(this.pts[s].x+" "+this.pts[s].y);return o.append(")  "+this._label+" "+this._depthDelta),o.toString()},e.prototype.isPointwiseEqual=function(o){if(this.pts.length!==o.pts.length)return!1;for(var s=0;s<this.pts.length;s++)if(!this.pts[s].equals2D(o.pts[s]))return!1;return!0},e.prototype.setDepthDelta=function(o){this._depthDelta=o},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(o,s,c){for(var y=0;y<o.getIntersectionNum();y++)this.addIntersection(o,s,c,y)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var o=arguments[0],s=arguments[1];s.setAtLeastIfValid(o.getLocation(0,qt.ON),o.getLocation(1,qt.ON),1),o.isArea()&&(s.setAtLeastIfValid(o.getLocation(0,qt.LEFT),o.getLocation(1,qt.LEFT),2),s.setAtLeastIfValid(o.getLocation(0,qt.RIGHT),o.getLocation(1,qt.RIGHT),2))},e}(gr),yr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new oi,this._bufParams=t||null};yr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},yr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var o=e.getLabel(),s=t.getLabel();e.isPointwiseEqual(t)||(s=new en(t.getLabel())).flip(),o.merge(s);var c=yr.depthDelta(s),y=e.getDepthDelta()+c;e.setDepthDelta(y)}else this._edgeList.add(t),t.setDepthDelta(yr.depthDelta(t.getLabel()))},yr.prototype.buildSubgraphs=function(t,e){for(var o=new Bt,s=t.iterator();s.hasNext();){var c=s.next(),y=c.getRightmostCoordinate(),x=new _o(o).getDepth(y);c.computeDepth(x),c.findResultEdges(),o.add(c),e.add(c.getDirectedEdges(),c.getNodes())}},yr.prototype.createSubgraphs=function(t){for(var e=new Bt,o=t.getNodes().iterator();o.hasNext();){var s=o.next();if(!s.isVisited()){var c=new pr;c.create(s),e.add(c)}}return ri.sort(e,ri.reverseOrder()),e},yr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},yr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new Zs,o=new It;return o.setPrecisionModel(t),e.setSegmentIntersector(new Ar(o)),e},yr.prototype.buffer=function(t,e){var o=this._workingPrecisionModel;null===o&&(o=t.getPrecisionModel()),this._geomFact=t.getFactory();var s=new or(o,this._bufParams),c=new Yr(t,e,s).getCurves();if(c.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(c,o),this._graph=new dn(new hu),this._graph.addEdges(this._edgeList.getEdges());var y=this.createSubgraphs(this._graph),x=new rr(this._geomFact);this.buildSubgraphs(y,x);var I=x.getPolygons();return I.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(I)},yr.prototype.computeNodedEdges=function(t,e){var o=this.getNoder(e);o.computeNodes(t);for(var s=o.getNodedSubstrings().iterator();s.hasNext();){var c=s.next(),y=c.getCoordinates();if(2!==y.length||!y[0].equals2D(y[1])){var x=c.getData(),I=new Bo(c.getCoordinates(),new en(x));this.insertUniqueEdge(I)}}},yr.prototype.setNoder=function(t){this._workingNoder=t},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},yr.depthDelta=function(t){var e=t.getLocation(0,qt.LEFT),o=t.getLocation(0,qt.RIGHT);return e===R.INTERIOR&&o===R.EXTERIOR?1:e===R.EXTERIOR&&o===R.INTERIOR?-1:0},yr.convertSegStrings=function(t){for(var e=new ve,o=new Bt;t.hasNext();){var s=t.next(),c=e.createLineString(s.getCoordinates());o.add(c)}return e.buildGeometry(o)};var to=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[1];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var s=arguments[1],c=arguments[2],y=arguments[3];this._noder=arguments[0],this._scaleFactor=s,this._offsetX=c,this._offsetY=y,this._isScaled=!this.isIntegerPrecision()}};to.prototype.rescale=function(){if(Nt(arguments[0],pn))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],s=0;s<o.length;s++)o[s].x=o[s].x/this._scaleFactor+this._offsetX,o[s].y=o[s].y/this._scaleFactor+this._offsetY;2===o.length&&o[0].equals2D(o[1])&&Jt.out.println(o)}},to.prototype.scale=function(){if(Nt(arguments[0],pn)){for(var t=arguments[0],e=new Bt,o=t.iterator();o.hasNext();){var s=o.next();e.add(new Nn(this.scale(s.getCoordinates()),s.getData()))}return e}if(arguments[0]instanceof Array){for(var c=arguments[0],y=new Array(c.length).fill(null),x=0;x<c.length;x++)y[x]=new w(Math.round((c[x].x-this._offsetX)*this._scaleFactor),Math.round((c[x].y-this._offsetY)*this._scaleFactor),c[x].z);return pe.removeRepeatedPoints(y)}},to.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},to.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},to.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},to.prototype.interfaces_=function(){return[vo]},to.prototype.getClass=function(){return to};var si=function(){this._li=new It,this._segStrings=null,this._segStrings=arguments[0]},pu={fact:{configurable:!0}};si.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var o=arguments[0],s=arguments[1].iterator();s.hasNext();)for(var c=s.next().getCoordinates(),y=1;y<c.length-1;y++)if(c[y].equals(o))throw new D("found endpt/interior pt intersection at index "+y+" :pt "+o)},si.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),o=this._segStrings.iterator();o.hasNext();){var s=o.next();this.checkInteriorIntersections(e,s)}else if(2===arguments.length)for(var c=arguments[0],y=arguments[1],x=c.getCoordinates(),I=y.getCoordinates(),q=0;q<x.length-1;q++)for(var rt=0;rt<I.length-1;rt++)this.checkInteriorIntersections(c,q,y,rt);else if(4===arguments.length){var Et=arguments[0],Pt=arguments[1],Zt=arguments[2],Yt=arguments[3];if(Et===Zt&&Pt===Yt)return null;var $t=Et.getCoordinates()[Pt],ne=Et.getCoordinates()[Pt+1],nn=Zt.getCoordinates()[Yt],wn=Zt.getCoordinates()[Yt+1];if(this._li.computeIntersection($t,ne,nn,wn),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,$t,ne)||this.hasInteriorIntersection(this._li,nn,wn)))throw new D("found non-noded intersection at "+$t+"-"+ne+" and "+nn+"-"+wn)}},si.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},si.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var o=arguments[0].getCoordinates(),s=0;s<o.length-2;s++)this.checkCollapse(o[s],o[s+1],o[s+2])},si.prototype.hasInteriorIntersection=function(t,e,o){for(var s=0;s<t.getIntersectionNum();s++){var c=t.getIntersection(s);if(!c.equals(e)&&!c.equals(o))return!0}return!1},si.prototype.checkCollapse=function(t,e,o){if(t.equals(o))throw new D("found non-noded collapse at "+si.fact.createLineString([t,e,o]))},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si},pu.fact.get=function(){return new ve},Object.defineProperties(si,pu);var Er=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],o=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=o,e<=0)throw new C("Scale factor must be non-zero");1!==e&&(this._pt=new w(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new w,this._p1Scaled=new w),this.initCorners(this._pt)},gu={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Er.prototype.intersectsScaled=function(t,e){var o=Math.min(t.x,e.x),s=Math.max(t.x,e.x),c=Math.min(t.y,e.y),y=Math.max(t.y,e.y),x=this._maxx<o||this._minx>s||this._maxy<c||this._miny>y;if(x)return!1;var I=this.intersectsToleranceSquare(t,e);return M.isTrue(!(x&&I),"Found bad envelope test"),I},Er.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new w(this._maxx,this._maxy),this._corner[1]=new w(this._minx,this._maxy),this._corner[2]=new w(this._minx,this._miny),this._corner[3]=new w(this._maxx,this._miny)},Er.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Er.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Er.prototype.getCoordinate=function(){return this._originalPt},Er.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Er.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Er.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Gt(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Er.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Er.prototype.intersectsToleranceSquare=function(t,e){var o=!1,s=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||o&&s||t.equals(this._pt)||e.equals(this._pt)))))},Er.prototype.addSnappedNode=function(t,e){var o=t.getCoordinate(e),s=t.getCoordinate(e+1);return!!this.intersects(o,s)&&(t.addIntersection(this.getCoordinate(),e),!0)},Er.prototype.interfaces_=function(){return[]},Er.prototype.getClass=function(){return Er},gu.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Er,gu);var Es=function(){this.tempEnv1=new Gt,this.selectedSegment=new Kt};Es.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Es.prototype.interfaces_=function(){return[]},Es.prototype.getClass=function(){return Es};var qo=function(){this._index=null,this._index=arguments[0]},du={HotPixelSnapAction:{configurable:!0}};qo.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var e=arguments[0],o=arguments[1],s=arguments[2],c=e.getSafeEnvelope(),y=new ma(e,o,s);return this._index.query(c,{interfaces_:function(){return[Oi]},visitItem:function(x){x.select(c,y)}}),y.isNodeAdded()}},qo.prototype.interfaces_=function(){return[]},qo.prototype.getClass=function(){return qo},du.HotPixelSnapAction.get=function(){return ma},Object.defineProperties(qo,du);var ma=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[1],c=arguments[2];this._hotPixel=arguments[0],this._parentEdge=s,this._hotPixelVertexIndex=c}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var s=arguments[1],c=arguments[0].getContext();if(null!==this._parentEdge&&c===this._parentEdge&&s===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(c,s)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Es),eo=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new Bt};eo.prototype.processIntersections=function(t,e,o,s){if(t===o&&e===s)return null;var c=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[s],I=o.getCoordinates()[s+1];if(this._li.computeIntersection(c,y,x,I),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var q=0;q<this._li.getIntersectionNum();q++)this._interiorIntersections.add(this._li.getIntersection(q));t.addIntersections(this._li,e,0),o.addIntersections(this._li,s,1)}},eo.prototype.isDone=function(){return!1},eo.prototype.getInteriorIntersections=function(){return this._interiorIntersections},eo.prototype.interfaces_=function(){return[Eo]},eo.prototype.getClass=function(){return eo};var Ri=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new It,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Ri.prototype.checkCorrectness=function(t){var e=Nn.getNodedSubstrings(t),o=new si(e);try{o.checkValid()}catch(s){if(!(s instanceof fe))throw s;s.printStackTrace()}},Ri.prototype.getNodedSubstrings=function(){return Nn.getNodedSubstrings(this._nodedSegStrings)},Ri.prototype.snapRound=function(t,e){var o=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(o),this.computeVertexSnaps(t)},Ri.prototype.findInteriorIntersections=function(t,e){var o=new eo(e);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(t),o.getInteriorIntersections()},Ri.prototype.computeVertexSnaps=function(){if(Nt(arguments[0],pn))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Nn)for(var o=arguments[0],s=o.getCoordinates(),c=0;c<s.length;c++){var y=new Er(s[c],this._scaleFactor,this._li);this._pointSnapper.snap(y,o,c)&&o.addIntersection(s[c],c)}},Ri.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new Zs,this._pointSnapper=new qo(this._noder.getIndex()),this.snapRound(t,this._li)},Ri.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),s=new Er(o,this._scaleFactor,this._li);this._pointSnapper.snap(s)}},Ri.prototype.interfaces_=function(){return[vo]},Ri.prototype.getClass=function(){return Ri};var Gn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Ve,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var o=arguments[1];this._argGeom=arguments[0],this._bufParams=o}},ts={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Gn.prototype.bufferFixedPrecision=function(t){var e=new to(new Ri(new We(1)),t.getScale()),o=new yr(this._bufParams);o.setWorkingPrecisionModel(t),o.setNoder(e),this._resultGeometry=o.buffer(this._argGeom,this._distance)},Gn.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Gn.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(y){if(!(y instanceof Ti))throw y;t._saveException=y}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var s=Gn.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),c=new We(s);this.bufferFixedPrecision(c)}},Gn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===We.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Gn.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Gn.prototype.bufferOriginalPrecision=function(){try{var t=new yr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof D))throw e;this._saveException=e}},Gn.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Gn.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},Gn.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new Gn(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ut&&"number"==typeof arguments[1]){var s=arguments[1],c=arguments[2],y=new Gn(arguments[0]);return y.setQuadrantSegments(c),y.getResultGeometry(s)}if(arguments[2]instanceof Ve&&arguments[0]instanceof Ut&&"number"==typeof arguments[1]){var I=arguments[1];return new Gn(arguments[0],arguments[2]).getResultGeometry(I)}}else if(4===arguments.length){var Et=arguments[1],Pt=arguments[2],Zt=arguments[3],Yt=new Gn(arguments[0]);return Yt.setQuadrantSegments(Pt),Yt.setEndCapStyle(Zt),Yt.getResultGeometry(Et)}},Gn.precisionScaleFactor=function(t,e,o){var s=t.getEnvelopeInternal(),c=U.max(Math.abs(s.getMaxX()),Math.abs(s.getMaxY()),Math.abs(s.getMinX()),Math.abs(s.getMinY()))+2*(e>0?e:0),y=o-Math.trunc(Math.log(c)/Math.log(10)+1);return Math.pow(10,y)},ts.CAP_ROUND.get=function(){return Ve.CAP_ROUND},ts.CAP_BUTT.get=function(){return Ve.CAP_FLAT},ts.CAP_FLAT.get=function(){return Ve.CAP_FLAT},ts.CAP_SQUARE.get=function(){return Ve.CAP_SQUARE},ts.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Gn,ts);var ar=function(){this._pt=[new w,new w],this._distance=N.NaN,this._isNull=!0};ar.prototype.getCoordinates=function(){return this._pt},ar.prototype.getCoordinate=function(t){return this._pt[t]},ar.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s<this._distance&&this.initialize(e,o,s)}},ar.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var s=arguments[1],c=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(s),this._distance=c,this._isNull=!1}},ar.prototype.getDistance=function(){return this._distance},ar.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s>this._distance&&this.initialize(e,o,s)}},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar};var ai=function(){};ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.computeDistance=function(){if(arguments[2]instanceof ar&&arguments[0]instanceof _n&&arguments[1]instanceof w)for(var e=arguments[1],o=arguments[2],s=arguments[0].getCoordinates(),c=new Kt,y=0;y<s.length-1;y++){c.setCoordinates(s[y],s[y+1]);var x=c.closestPoint(e);o.setMinimum(x,e)}else if(arguments[2]instanceof ar&&arguments[0]instanceof Cn&&arguments[1]instanceof w){var I=arguments[0],q=arguments[1],rt=arguments[2];ai.computeDistance(I.getExteriorRing(),q,rt);for(var Et=0;Et<I.getNumInteriorRing();Et++)ai.computeDistance(I.getInteriorRingN(Et),q,rt)}else if(arguments[2]instanceof ar&&arguments[0]instanceof Ut&&arguments[1]instanceof w){var Pt=arguments[0],Zt=arguments[1],Yt=arguments[2];if(Pt instanceof _n)ai.computeDistance(Pt,Zt,Yt);else if(Pt instanceof Cn)ai.computeDistance(Pt,Zt,Yt);else if(Pt instanceof hr)for(var $t=Pt,ne=0;ne<$t.getNumGeometries();ne++){var nn=$t.getGeometryN(ne);ai.computeDistance(nn,Zt,Yt)}else Yt.setMinimum(Pt.getCoordinate(),Zt)}else if(arguments[2]instanceof ar&&arguments[0]instanceof Kt&&arguments[1]instanceof w){var lr=arguments[1],Si=arguments[2],Jr=arguments[0].closestPoint(lr);Si.setMinimum(Jr,lr)}};var zi=function(t){this._maxPtDist=new ar,this._inputGeom=t||null},es={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};zi.prototype.computeMaxMidpointDistance=function(t){var e=new no(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},zi.prototype.computeMaxVertexDistance=function(t){var e=new Go(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},zi.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},zi.prototype.getDistancePoints=function(){return this._maxPtDist},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi},es.MaxPointDistanceFilter.get=function(){return Go},es.MaxMidpointDistanceFilter.get=function(){return no},Object.defineProperties(zi,es);var Go=function(t){this._maxPtDist=new ar,this._minPtDist=new ar,this._geom=t||null};Go.prototype.filter=function(t){this._minPtDist.initialize(),ai.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Go.prototype.getMaxPointDistance=function(){return this._maxPtDist},Go.prototype.interfaces_=function(){return[we]},Go.prototype.getClass=function(){return Go};var no=function(t){this._maxPtDist=new ar,this._minPtDist=new ar,this._geom=t||null};no.prototype.filter=function(t,e){if(0===e)return null;var o=t.getCoordinate(e-1),s=t.getCoordinate(e),c=new w((o.x+s.x)/2,(o.y+s.y)/2);this._minPtDist.initialize(),ai.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},no.prototype.isDone=function(){return!1},no.prototype.isGeometryChanged=function(){return!1},no.prototype.getMaxPointDistance=function(){return this._maxPtDist},no.prototype.interfaces_=function(){return[qr]},no.prototype.getClass=function(){return no};var Yi=function(t){this._comps=t||null};Yi.prototype.filter=function(t){t instanceof Cn&&this._comps.add(t)},Yi.prototype.interfaces_=function(){return[Kr]},Yi.prototype.getClass=function(){return Yi},Yi.getPolygons=function(){if(1===arguments.length)return Yi.getPolygons(arguments[0],new Bt);if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof Cn?o.add(e):e instanceof hr&&e.apply(new Yi(o)),o}};var Qn=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var o=arguments[1];this._lines=arguments[0],this._isForcedToLineString=o}};Qn.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof yi){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof _n&&this._lines.add(t)},Qn.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Qn.prototype.interfaces_=function(){return[ge]},Qn.prototype.getClass=function(){return Qn},Qn.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Qn.getLines(t))}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().buildGeometry(Qn.getLines(e,o))}},Qn.getLines=function(){if(1===arguments.length)return Qn.getLines(arguments[0],!1);if(2===arguments.length){if(Nt(arguments[0],pn)&&Nt(arguments[1],pn)){for(var o=arguments[1],s=arguments[0].iterator();s.hasNext();){var c=s.next();Qn.getLines(c,o)}return o}if(arguments[0]instanceof Ut&&"boolean"==typeof arguments[1]){var y=arguments[0],x=arguments[1],I=new Bt;return y.apply(new Qn(I,x)),I}if(arguments[0]instanceof Ut&&Nt(arguments[1],pn)){var q=arguments[0],rt=arguments[1];return q instanceof _n?rt.add(q):q.apply(new Qn(rt)),rt}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Nt(arguments[0],pn)&&Nt(arguments[1],pn)){for(var Pt=arguments[1],Zt=arguments[2],Yt=arguments[0].iterator();Yt.hasNext();){var $t=Yt.next();Qn.getLines($t,Pt,Zt)}return Pt}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Ut&&Nt(arguments[1],pn)){var nn=arguments[1];return arguments[0].apply(new Qn(nn,arguments[2])),nn}}};var ui=function(){if(this._boundaryRule=tn.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var t=arguments[0];if(null===t)throw new C("Rule must be non-null");this._boundaryRule=t}};ui.prototype.locateInternal=function(){if(arguments[0]instanceof w&&arguments[1]instanceof Cn){var t=arguments[0],e=arguments[1];if(e.isEmpty())return R.EXTERIOR;var o=e.getExteriorRing(),s=this.locateInPolygonRing(t,o);if(s===R.EXTERIOR)return R.EXTERIOR;if(s===R.BOUNDARY)return R.BOUNDARY;for(var c=0;c<e.getNumInteriorRing();c++){var y=e.getInteriorRingN(c),x=this.locateInPolygonRing(t,y);if(x===R.INTERIOR)return R.EXTERIOR;if(x===R.BOUNDARY)return R.BOUNDARY}return R.INTERIOR}if(arguments[0]instanceof w&&arguments[1]instanceof _n){var I=arguments[0],q=arguments[1];if(!q.getEnvelopeInternal().intersects(I))return R.EXTERIOR;var rt=q.getCoordinates();return q.isClosed()||!I.equals(rt[0])&&!I.equals(rt[rt.length-1])?Mt.isOnLine(I,rt)?R.INTERIOR:R.EXTERIOR:R.BOUNDARY}if(arguments[0]instanceof w&&arguments[1]instanceof Pr){var Et=arguments[0];return arguments[1].getCoordinate().equals2D(Et)?R.INTERIOR:R.EXTERIOR}},ui.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Mt.locatePointInRing(t,e.getCoordinates()):R.EXTERIOR},ui.prototype.intersects=function(t,e){return this.locate(t,e)!==R.EXTERIOR},ui.prototype.updateLocationInfo=function(t){t===R.INTERIOR&&(this._isIn=!0),t===R.BOUNDARY&&this._numBoundaries++},ui.prototype.computeLocation=function(t,e){if(e instanceof Pr&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof _n)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Cn)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof po)for(var o=e,s=0;s<o.getNumGeometries();s++){var c=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,c))}else if(e instanceof mi)for(var y=e,x=0;x<y.getNumGeometries();x++){var I=y.getGeometryN(x);this.updateLocationInfo(this.locateInternal(t,I))}else if(e instanceof hr)for(var q=new Ei(e);q.hasNext();){var rt=q.next();rt!==e&&this.computeLocation(t,rt)}},ui.prototype.locate=function(t,e){return e.isEmpty()?R.EXTERIOR:e instanceof _n||e instanceof Cn?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?R.BOUNDARY:this._numBoundaries>0||this._isIn?R.INTERIOR:R.EXTERIOR)},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui};var mr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var c=arguments[1],y=arguments[2];this._component=arguments[0],this._segIndex=c,this._pt=y}},yu={INSIDE_AREA:{configurable:!0}};mr.prototype.isInsideArea=function(){return this._segIndex===mr.INSIDE_AREA},mr.prototype.getCoordinate=function(){return this._pt},mr.prototype.getGeometryComponent=function(){return this._component},mr.prototype.getSegmentIndex=function(){return this._segIndex},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},yu.INSIDE_AREA.get=function(){return-1},Object.defineProperties(mr,yu);var Xi=function(t){this._pts=t||null};Xi.prototype.filter=function(t){t instanceof Pr&&this._pts.add(t)},Xi.prototype.interfaces_=function(){return[Kr]},Xi.prototype.getClass=function(){return Xi},Xi.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Pr?ri.singletonList(t):Xi.getPoints(t,new Bt)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof Pr?o.add(e):e instanceof hr&&e.apply(new Xi(o)),o}};var Uo=function(){this._locations=null,this._locations=arguments[0]};Uo.prototype.filter=function(t){(t instanceof Pr||t instanceof _n||t instanceof Cn)&&this._locations.add(new mr(t,0,t.getCoordinate()))},Uo.prototype.interfaces_=function(){return[Kr]},Uo.prototype.getClass=function(){return Uo},Uo.getLocations=function(t){var e=new Bt;return t.apply(new Uo(e)),e};var Kn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ui,this._minDistanceLocation=null,this._minDistance=N.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var o=arguments[0],s=arguments[1],c=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=o,this._geom[1]=s,this._terminateDistance=c}};Kn.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],s=1-e,c=Yi.getPolygons(this._geom[e]);if(c.size()>0){var y=Uo.getLocations(this._geom[s]);if(this.computeContainmentDistance(y,c,o),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[s]=o[0],this._minDistanceLocation[e]=o[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Nt(arguments[0],Xn)&&Nt(arguments[1],Xn)){for(var x=arguments[0],I=arguments[1],q=arguments[2],rt=0;rt<x.size();rt++)for(var Et=x.get(rt),Pt=0;Pt<I.size();Pt++)if(this.computeContainmentDistance(Et,I.get(Pt),q),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof mr&&arguments[1]instanceof Cn){var Zt=arguments[0],Yt=arguments[1],$t=arguments[2],ne=Zt.getCoordinate();if(R.EXTERIOR!==this._ptLocator.locate(ne,Yt))return this._minDistance=0,$t[0]=Zt,$t[1]=new mr(Yt,ne),null}},Kn.prototype.computeMinDistanceLinesPoints=function(t,e,o){for(var s=0;s<t.size();s++)for(var c=t.get(s),y=0;y<e.size();y++){var x=e.get(y);if(this.computeMinDistance(c,x,o),this._minDistance<=this._terminateDistance)return null}},Kn.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Qn.getLines(this._geom[0]),o=Qn.getLines(this._geom[1]),s=Xi.getPoints(this._geom[0]),c=Xi.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,c,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(o,s,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(s,c,t),void this.updateMinDistance(t,!1))))},Kn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Kn.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Kn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Kn.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof _n&&arguments[1]instanceof Pr){var t=arguments[0],e=arguments[1],o=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var s=t.getCoordinates(),c=e.getCoordinate(),y=0;y<s.length-1;y++){var x=Mt.distancePointLine(c,s[y],s[y+1]);if(x<this._minDistance){this._minDistance=x;var I=new Kt(s[y],s[y+1]).closestPoint(c);o[0]=new mr(t,y,I),o[1]=new mr(e,0,c)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof _n&&arguments[1]instanceof _n){var q=arguments[0],rt=arguments[1],Et=arguments[2];if(q.getEnvelopeInternal().distance(rt.getEnvelopeInternal())>this._minDistance)return null;for(var Pt=q.getCoordinates(),Zt=rt.getCoordinates(),Yt=0;Yt<Pt.length-1;Yt++)for(var $t=0;$t<Zt.length-1;$t++){var ne=Mt.distanceLineLine(Pt[Yt],Pt[Yt+1],Zt[$t],Zt[$t+1]);if(ne<this._minDistance){this._minDistance=ne;var nn=new Kt(Pt[Yt],Pt[Yt+1]),wn=new Kt(Zt[$t],Zt[$t+1]),lr=nn.closestPoints(wn);Et[0]=new mr(q,Yt,lr[0]),Et[1]=new mr(rt,$t,lr[1])}if(this._minDistance<=this._terminateDistance)return null}}},Kn.prototype.computeMinDistancePoints=function(t,e,o){for(var s=0;s<t.size();s++)for(var c=t.get(s),y=0;y<e.size();y++){var x=e.get(y),I=c.getCoordinate().distance(x.getCoordinate());if(I<this._minDistance&&(this._minDistance=I,o[0]=new mr(c,0,c.getCoordinate()),o[1]=new mr(x,0,x.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Kn.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new C("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Kn.prototype.computeMinDistanceLines=function(t,e,o){for(var s=0;s<t.size();s++)for(var c=t.get(s),y=0;y<e.size();y++){var x=e.get(y);if(this.computeMinDistance(c,x,o),this._minDistance<=this._terminateDistance)return null}},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn},Kn.distance=function(t,e){return new Kn(t,e).distance()},Kn.isWithinDistance=function(t,e,o){return new Kn(t,e,o).distance()<=o},Kn.nearestPoints=function(t,e){return new Kn(t,e).nearestPoints()};var tr=function(){this._pt=[new w,new w],this._distance=N.NaN,this._isNull=!0};tr.prototype.getCoordinates=function(){return this._pt},tr.prototype.getCoordinate=function(t){return this._pt[t]},tr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s<this._distance&&this.initialize(e,o,s)}},tr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var s=arguments[1],c=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(s),this._distance=c,this._isNull=!1}},tr.prototype.toString=function(){return dt.toLineString(this._pt[0],this._pt[1])},tr.prototype.getDistance=function(){return this._distance},tr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s>this._distance&&this.initialize(e,o,s)}},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr};var li=function(){};li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},li.computeDistance=function(){if(arguments[2]instanceof tr&&arguments[0]instanceof _n&&arguments[1]instanceof w)for(var t=arguments[0],e=arguments[1],o=arguments[2],s=new Kt,c=t.getCoordinates(),y=0;y<c.length-1;y++){s.setCoordinates(c[y],c[y+1]);var x=s.closestPoint(e);o.setMinimum(x,e)}else if(arguments[2]instanceof tr&&arguments[0]instanceof Cn&&arguments[1]instanceof w){var I=arguments[0],q=arguments[1],rt=arguments[2];li.computeDistance(I.getExteriorRing(),q,rt);for(var Et=0;Et<I.getNumInteriorRing();Et++)li.computeDistance(I.getInteriorRingN(Et),q,rt)}else if(arguments[2]instanceof tr&&arguments[0]instanceof Ut&&arguments[1]instanceof w){var Pt=arguments[0],Zt=arguments[1],Yt=arguments[2];if(Pt instanceof _n)li.computeDistance(Pt,Zt,Yt);else if(Pt instanceof Cn)li.computeDistance(Pt,Zt,Yt);else if(Pt instanceof hr)for(var $t=Pt,ne=0;ne<$t.getNumGeometries();ne++){var nn=$t.getGeometryN(ne);li.computeDistance(nn,Zt,Yt)}else Yt.setMinimum(Pt.getCoordinate(),Zt)}else if(arguments[2]instanceof tr&&arguments[0]instanceof Kt&&arguments[1]instanceof w){var lr=arguments[1],Si=arguments[2],Jr=arguments[0].closestPoint(lr);Si.setMinimum(Jr,lr)}};var Rr=function(){this._g0=null,this._g1=null,this._ptDist=new tr,this._densifyFrac=0;var e=arguments[1];this._g0=arguments[0],this._g1=e},Xs={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Rr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Rr.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new C("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Rr.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Rr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Rr.prototype.computeOrientedDistance=function(t,e,o){var s=new bo(e);if(t.apply(s),o.setMaximum(s.getMaxPointDistance()),this._densifyFrac>0){var c=new Ji(e,this._densifyFrac);t.apply(c),o.setMaximum(c.getMaxPointDistance())}},Rr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.distance=function(){if(2===arguments.length)return new Rr(arguments[0],arguments[1]).distance();if(3===arguments.length){var c=arguments[2],y=new Rr(arguments[0],arguments[1]);return y.setDensifyFraction(c),y.distance()}},Xs.MaxPointDistanceFilter.get=function(){return bo},Xs.MaxDensifiedByFractionDistanceFilter.get=function(){return Ji},Object.defineProperties(Rr,Xs);var bo=function(){this._maxPtDist=new tr,this._minPtDist=new tr,this._euclideanDist=new li,this._geom=null,this._geom=arguments[0]};bo.prototype.filter=function(t){this._minPtDist.initialize(),li.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},bo.prototype.getMaxPointDistance=function(){return this._maxPtDist},bo.prototype.interfaces_=function(){return[we]},bo.prototype.getClass=function(){return bo};var Ji=function(){this._maxPtDist=new tr,this._minPtDist=new tr,this._geom=null,this._numSubSegs=0;var e=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/e))};Ji.prototype.filter=function(t,e){if(0===e)return null;for(var o=t.getCoordinate(e-1),s=t.getCoordinate(e),c=(s.x-o.x)/this._numSubSegs,y=(s.y-o.y)/this._numSubSegs,x=0;x<this._numSubSegs;x++){var rt=new w(o.x+x*c,o.y+x*y);this._minPtDist.initialize(),li.computeDistance(this._geom,rt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Ji.prototype.isDone=function(){return!1},Ji.prototype.isGeometryChanged=function(){return!1},Ji.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ji.prototype.interfaces_=function(){return[qr]},Ji.prototype.getClass=function(){return Ji};var wr=function(t,e,o){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=o||null},ws={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};wr.prototype.checkMaximumDistance=function(t,e,o){var s=new Rr(e,t);if(s.setDensifyFraction(.25),this._maxDistanceFound=s.orientedDistance(),this._maxDistanceFound>o){this._isValid=!1;var c=s.getCoordinates();this._errorLocation=c[1],this._errorIndicator=t.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+dt.toLineString(c[0],c[1])+")"}},wr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=wr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),wr.VERBOSE&&Jt.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},wr.prototype.checkNegativeValid=function(){if(!(this._input instanceof Cn||this._input instanceof mi||this._input instanceof hr))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},wr.prototype.getErrorIndicator=function(){return this._errorIndicator},wr.prototype.checkMinimumDistance=function(t,e,o){var s=new Kn(t,e,o);if(this._minDistanceFound=s.distance(),this._minDistanceFound<o){this._isValid=!1;var c=s.nearestPoints();this._errorLocation=s.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+dt.toLineString(c[0],c[1])+" )"}},wr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},wr.prototype.getErrorLocation=function(){return this._errorLocation},wr.prototype.getPolygonLines=function(t){for(var e=new Bt,o=new Qn(e),s=Yi.getPolygons(t).iterator();s.hasNext();)s.next().apply(o);return t.getFactory().buildGeometry(e)},wr.prototype.getErrorMessage=function(){return this._errMsg},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},ws.VERBOSE.get=function(){return!1},ws.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(wr,ws);var Un=function(t,e,o){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=o||null},Js={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Un.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Un.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Un.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Gt(this._input.getEnvelopeInternal());e.expandBy(this._distance);var o=new Gt(this._result.getEnvelopeInternal());o.expandBy(t),o.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(o)),this.report("Envelope")},Un.prototype.checkDistance=function(){var t=new wr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Un.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Un.prototype.checkPolygonal=function(){this._result instanceof Cn||this._result instanceof mi||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Un.prototype.getErrorIndicator=function(){return this._errorIndicator},Un.prototype.getErrorLocation=function(){return this._errorLocation},Un.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Un.prototype.report=function(t){if(!Un.VERBOSE)return null;Jt.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Un.prototype.getErrorMessage=function(){return this._errorMsg},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un},Un.isValidMsg=function(t,e,o){var s=new Un(t,e,o);return s.isValid()?null:s.getErrorMessage()},Un.isValid=function(t,e,o){return!!new Un(t,e,o).isValid()},Js.VERBOSE.get=function(){return!1},Js.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Un,Js);var Ii=function(){this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};Ii.prototype.getCoordinates=function(){return this._pts},Ii.prototype.size=function(){return this._pts.length},Ii.prototype.getCoordinate=function(t){return this._pts[t]},Ii.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ii.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:mo.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Ii.prototype.setData=function(t){this._data=t},Ii.prototype.getData=function(){return this._data},Ii.prototype.toString=function(){return dt.toLineString(new Sn(this._pts))},Ii.prototype.interfaces_=function(){return[xi]},Ii.prototype.getClass=function(){return Ii};var Hn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Bt,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};Hn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Hn.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Hn.prototype.getIntersectionSegments=function(){return this._intSegments},Hn.prototype.count=function(){return this._intersectionCount},Hn.prototype.getIntersections=function(){return this._intersections},Hn.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Hn.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Hn.prototype.processIntersections=function(t,e,o,s){if(!this._findAllIntersections&&this.hasIntersection()||t===o&&e===s||this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(o,s))return null;var c=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[s],I=o.getCoordinates()[s+1];this._li.computeIntersection(c,y,x,I),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=c,this._intSegments[1]=y,this._intSegments[2]=x,this._intSegments[3]=I,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Hn.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Hn.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Hn.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Hn.prototype.interfaces_=function(){return[Eo]},Hn.prototype.getClass=function(){return Hn},Hn.createAllIntersectionsFinder=function(t){var e=new Hn(t);return e.setFindAllIntersections(!0),e},Hn.createAnyIntersectionFinder=function(t){return new Hn(t)},Hn.createIntersectionCounter=function(t){var e=new Hn(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var ci=function(){this._li=new It,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};ci.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},ci.prototype.getIntersections=function(){return this._segInt.getIntersections()},ci.prototype.isValid=function(){return this.execute(),this._isValid},ci.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},ci.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Hn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new Zs;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},ci.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ti(this.getErrorMessage(),this._segInt.getInteriorIntersection())},ci.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+dt.toLineString(t[0],t[1])+" and "+dt.toLineString(t[2],t[3])},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.computeIntersections=function(t){var e=new ci(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Io=function t(){this._nv=null,this._nv=new ci(t.toSegmentStrings(arguments[0]))};Io.prototype.checkValid=function(){this._nv.checkValid()},Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io},Io.toSegmentStrings=function(t){for(var e=new Bt,o=t.iterator();o.hasNext();){var s=o.next();e.add(new Ii(s.getCoordinates(),s))}return e},Io.checkValid=function(t){new Io(t).checkValid()};var Co=function(t){this._mapOp=t};Co.prototype.map=function(t){for(var e=new Bt,o=0;o<t.getNumGeometries();o++){var s=this._mapOp.map(t.getGeometryN(o));s.isEmpty()||e.add(s)}return t.getFactory().createGeometryCollection(ve.toGeometryArray(e))},Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Co.map=function(t,e){return new Co(e).map(t)};var Ci=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Bt,this._resultLineList=new Bt;var e=arguments[1],o=arguments[2];this._op=arguments[0],this._geometryFactory=e,this._ptLocator=o};Ci.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next();this.collectLineEdge(o,t,this._lineEdgesList),this.collectBoundaryTouchEdge(o,t,this._lineEdgesList)}},Ci.prototype.labelIsolatedLine=function(t,e){var o=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,o)},Ci.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Ci.prototype.collectLineEdge=function(t,e,o){var s=t.getLabel(),c=t.getEdge();t.isLineEdge()&&(t.isVisited()||!he.isResultOfOp(s,e)||c.isCovered()||(o.add(c),t.setVisitedEdge(!0)))},Ci.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next(),s=o.getEdge();if(o.isLineEdge()&&!s.isCoveredSet()){var c=this._op.isCoveredByA(o.getCoordinate());s.setCovered(c)}}},Ci.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),s=o.getLabel();o.isIsolated()&&(s.isNull(0)?this.labelIsolatedLine(o,0):this.labelIsolatedLine(o,1))}},Ci.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var o=e.next(),s=this._geometryFactory.createLineString(o.getCoordinates());this._resultLineList.add(s),o.setInResult(!0)}},Ci.prototype.collectBoundaryTouchEdge=function(t,e,o){var s=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(M.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(he.isResultOfOp(s,e)&&e===he.INTERSECTION&&(o.add(t.getEdge()),t.setVisitedEdge(!0))))},Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci};var Zo=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Bt;var e=arguments[1];this._op=arguments[0],this._geometryFactory=e};Zo.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var o=this._geometryFactory.createPoint(e);this._resultPointList.add(o)}},Zo.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var o=e.next();if(!(o.isInResult()||o.isIncidentEdgeInResult()||0!==o.getEdges().getDegree()&&t!==he.INTERSECTION)){var s=o.getLabel();he.isResultOfOp(s,t)&&this.filterCoveredNodeToPoint(o)}}},Zo.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Zo.prototype.interfaces_=function(){return[]},Zo.prototype.getClass=function(){return Zo};var br=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};br.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},br.prototype.transformPolygon=function(t,e){var o=!0,s=this.transformLinearRing(t.getExteriorRing(),t);null!==s&&s instanceof yi&&!s.isEmpty()||(o=!1);for(var c=new Bt,y=0;y<t.getNumInteriorRing();y++){var x=this.transformLinearRing(t.getInteriorRingN(y),t);null===x||x.isEmpty()||(x instanceof yi||(o=!1),c.add(x))}if(o)return this._factory.createPolygon(s,c.toArray([]));var I=new Bt;return null!==s&&I.add(s),I.addAll(c),this._factory.buildGeometry(I)},br.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},br.prototype.getInputGeometry=function(){return this._inputGeom},br.prototype.transformMultiLineString=function(t,e){for(var o=new Bt,s=0;s<t.getNumGeometries();s++){var c=this.transformLineString(t.getGeometryN(s),t);null!==c&&(c.isEmpty()||o.add(c))}return this._factory.buildGeometry(o)},br.prototype.transformCoordinates=function(t,e){return this.copy(t)},br.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},br.prototype.transformMultiPoint=function(t,e){for(var o=new Bt,s=0;s<t.getNumGeometries();s++){var c=this.transformPoint(t.getGeometryN(s),t);null!==c&&(c.isEmpty()||o.add(c))}return this._factory.buildGeometry(o)},br.prototype.transformMultiPolygon=function(t,e){for(var o=new Bt,s=0;s<t.getNumGeometries();s++){var c=this.transformPolygon(t.getGeometryN(s),t);null!==c&&(c.isEmpty()||o.add(c))}return this._factory.buildGeometry(o)},br.prototype.copy=function(t){return t.copy()},br.prototype.transformGeometryCollection=function(t,e){for(var o=new Bt,s=0;s<t.getNumGeometries();s++){var c=this.transform(t.getGeometryN(s));null!==c&&(this._pruneEmptyGeometry&&c.isEmpty()||o.add(c))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ve.toGeometryArray(o)):this._factory.buildGeometry(o)},br.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Pr)return this.transformPoint(t,null);if(t instanceof Ro)return this.transformMultiPoint(t,null);if(t instanceof yi)return this.transformLinearRing(t,null);if(t instanceof _n)return this.transformLineString(t,null);if(t instanceof po)return this.transformMultiLineString(t,null);if(t instanceof Cn)return this.transformPolygon(t,null);if(t instanceof mi)return this.transformMultiPolygon(t,null);if(t instanceof hr)return this.transformGeometryCollection(t,null);throw new C("Unknown Geometry subtype: "+t.getClass().getName())},br.prototype.transformLinearRing=function(t,e){var o=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===o)return this._factory.createLinearRing(null);var s=o.size();return s>0&&s<4&&!this._preserveType?this._factory.createLineString(o):this._factory.createLinearRing(o)},br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br};var Di=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Kt,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof _n&&"number"==typeof arguments[1]){var o=arguments[1];t.call(this,arguments[0].getCoordinates(),o)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var s=arguments[0],c=arguments[1];this._srcPts=s,this._isClosed=t.isClosed(s),this._snapTolerance=c}};Di.prototype.snapVertices=function(t,e){for(var o=this._isClosed?t.size()-1:t.size(),s=0;s<o;s++){var c=t.get(s),y=this.findSnapForVertex(c,e);null!==y&&(t.set(s,new w(y)),0===s&&this._isClosed&&t.set(t.size()-1,new w(y)))}},Di.prototype.findSnapForVertex=function(t,e){for(var o=0;o<e.length;o++){if(t.equals2D(e[o]))return null;if(t.distance(e[o])<this._snapTolerance)return e[o]}return null},Di.prototype.snapTo=function(t){var e=new Vr(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Di.prototype.snapSegments=function(t,e){if(0===e.length)return null;var o=e.length;e[0].equals2D(e[e.length-1])&&(o=e.length-1);for(var s=0;s<o;s++){var c=e[s],y=this.findSegmentIndexToSnap(c,t);y>=0&&t.add(y+1,new w(c),!1)}},Di.prototype.findSegmentIndexToSnap=function(t,e){for(var o=N.MAX_VALUE,s=-1,c=0;c<e.size()-1;c++){if(this._seg.p0=e.get(c),this._seg.p1=e.get(c+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var y=this._seg.distance(t);y<this._snapTolerance&&y<o&&(o=y,s=c)}return s},Di.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var xn=function(t){this._srcGeom=t||null},mu={SNAP_PRECISION_FACTOR:{configurable:!0}};xn.prototype.snapTo=function(t,e){var o=this.extractTargetCoordinates(t);return new vu(e,o).transform(this._srcGeom)},xn.prototype.snapToSelf=function(t,e){var o=this.extractTargetCoordinates(this._srcGeom),s=new vu(t,o,!0).transform(this._srcGeom),c=s;return e&&Nt(c,ji)&&(c=s.buffer(0)),c},xn.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},xn.prototype.extractTargetCoordinates=function(t){for(var e=new wt,o=t.getCoordinates(),s=0;s<o.length;s++)e.add(o[s]);return e.toArray(new Array(0).fill(null))},xn.prototype.computeMinimumSegmentLength=function(t){for(var e=N.MAX_VALUE,o=0;o<t.length-1;o++){var s=t[o].distance(t[o+1]);s<e&&(e=s)}return e},xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn},xn.snap=function(t,e,o){var s=new Array(2).fill(null),c=new xn(t);s[0]=c.snapTo(e,o);var y=new xn(e);return s[1]=y.snapTo(s[0],o),s},xn.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=xn.computeSizeBasedSnapTolerance(t),o=t.getPrecisionModel();if(o.getType()===We.FIXED){var s=1/o.getScale()*2/1.415;s>e&&(e=s)}return e}if(2===arguments.length){var y=arguments[1];return Math.min(xn.computeOverlaySnapTolerance(arguments[0]),xn.computeOverlaySnapTolerance(y))}},xn.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*xn.SNAP_PRECISION_FACTOR},xn.snapToSelf=function(t,e,o){return new xn(t).snapToSelf(e,o)},mu.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(xn,mu);var vu=function(t){function e(o,s,c){t.call(this),this._snapTolerance=o||null,this._snapPts=s||null,this._isSelfSnap=void 0!==c&&c}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(o,s){var c=new Di(o,this._snapTolerance);return c.setAllowSnappingToSourceVertices(this._isSelfSnap),c.snapTo(s)},e.prototype.transformCoordinates=function(o,s){var c=o.toCoordinateArray(),y=this.snapLine(c,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(y)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(br),ur=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};ur.prototype.getCommon=function(){return N.longBitsToDouble(this._commonBits)},ur.prototype.add=function(t){var e=N.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=ur.signExpBits(this._commonBits),this._isFirst=!1,null):ur.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=ur.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=ur.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},ur.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=N.longBitsToDouble(t),o="0000000000000000000000000000000000000000000000000000000000000000"+N.toBinaryString(t),s=o.substring(o.length-64);return s.substring(0,1)+"  "+s.substring(1,12)+"(exp) "+s.substring(12)+" [ "+e+" ]"}},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur},ur.getBit=function(t,e){return 0!=(t&1<<e)?1:0},ur.signExpBits=function(t){return t>>52},ur.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},ur.numCommonMostSigMantissaBits=function(t,e){for(var o=0,s=52;s>=0;s--){if(ur.getBit(t,s)!==ur.getBit(e,s))return o;o++}return 52};var Hi=function(){this._commonCoord=null,this._ccFilter=new Po},So={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Hi.prototype.addCommonBits=function(t){var e=new Fi(this._commonCoord);t.apply(e),t.geometryChanged()},Hi.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new w(this._commonCoord);e.x=-e.x,e.y=-e.y;var o=new Fi(e);return t.apply(o),t.geometryChanged(),t},Hi.prototype.getCommonCoordinate=function(){return this._commonCoord},Hi.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi},So.CommonCoordinateFilter.get=function(){return Po},So.Translater.get=function(){return Fi},Object.defineProperties(Hi,So);var Po=function(){this._commonBitsX=new ur,this._commonBitsY=new ur};Po.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Po.prototype.getCommonCoordinate=function(){return new w(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Po.prototype.interfaces_=function(){return[we]},Po.prototype.getClass=function(){return Po};var Fi=function(){this.trans=null,this.trans=arguments[0]};Fi.prototype.filter=function(t,e){var o=t.getOrdinate(e,0)+this.trans.x,s=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,o),t.setOrdinate(e,1,s)},Fi.prototype.isDone=function(){return!1},Fi.prototype.isGeometryChanged=function(){return!0},Fi.prototype.interfaces_=function(){return[qr]},Fi.prototype.getClass=function(){return Fi};var Fn=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Fn.prototype.selfSnap=function(t){return new xn(t).snapTo(t,this._snapTolerance)},Fn.prototype.removeCommonBits=function(t){this._cbr=new Hi,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Fn.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Fn.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),o=he.overlayOp(e[0],e[1],t);return this.prepareResult(o)},Fn.prototype.checkValid=function(t){t.isValid()||Jt.out.println("Snapped geometry is invalid")},Fn.prototype.computeSnapTolerance=function(){this._snapTolerance=xn.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Fn.prototype.snap=function(t){var e=this.removeCommonBits(t);return xn.snap(e[0],e[1],this._snapTolerance)},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Fn.overlayOp=function(t,e,o){return new Fn(t,e).getResultGeometry(o)},Fn.union=function(t,e){return Fn.overlayOp(t,e,he.UNION)},Fn.intersection=function(t,e){return Fn.overlayOp(t,e,he.INTERSECTION)},Fn.symDifference=function(t,e){return Fn.overlayOp(t,e,he.SYMDIFFERENCE)},Fn.difference=function(t,e){return Fn.overlayOp(t,e,he.DIFFERENCE)};var Zn=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};Zn.prototype.getResultGeometry=function(t){var e=null,o=!1,s=null;try{e=he.overlayOp(this._geom[0],this._geom[1],t),o=!0}catch(c){if(!(c instanceof D))throw c;s=c}if(!o)try{e=Fn.overlayOp(this._geom[0],this._geom[1],t)}catch(c){throw c instanceof D?s:c}return e},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.overlayOp=function(t,e,o){return new Zn(t,e).getResultGeometry(o)},Zn.union=function(t,e){return Zn.overlayOp(t,e,he.UNION)},Zn.intersection=function(t,e){return Zn.overlayOp(t,e,he.INTERSECTION)},Zn.symDifference=function(t,e){return Zn.overlayOp(t,e,he.SYMDIFFERENCE)},Zn.difference=function(t,e){return Zn.overlayOp(t,e,he.DIFFERENCE)};var ns=function(){this.mce=null,this.chainIndex=null;var e=arguments[1];this.mce=arguments[0],this.chainIndex=e};ns.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns};var $n=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],o=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=o}else if(3===arguments.length){var s=arguments[0],c=arguments[1],y=arguments[2];this._eventType=t.INSERT,this._label=s,this._xValue=c,this._obj=y}},ro={INSERT:{configurable:!0},DELETE:{configurable:!0}};$n.prototype.isDelete=function(){return this._eventType===$n.DELETE},$n.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},$n.prototype.getObject=function(){return this._obj},$n.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},$n.prototype.getInsertEvent=function(){return this._insertEvent},$n.prototype.isInsert=function(){return this._eventType===$n.INSERT},$n.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},$n.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},$n.prototype.interfaces_=function(){return[S]},$n.prototype.getClass=function(){return $n},ro.INSERT.get=function(){return 1},ro.DELETE.get=function(){return 2},Object.defineProperties($n,ro);var bs=function(){};bs.prototype.interfaces_=function(){return[]},bs.prototype.getClass=function(){return bs};var er=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[1],o=arguments[2];this._li=arguments[0],this._includeProper=e,this._recordIsolated=o};er.prototype.isTrivialIntersection=function(t,e,o,s){if(t===o&&1===this._li.getIntersectionNum()){if(er.isAdjacentSegments(e,s))return!0;if(t.isClosed()){var c=t.getNumPoints()-1;if(0===e&&s===c||0===s&&e===c)return!0}}return!1},er.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},er.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},er.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},er.prototype.isBoundaryPointInternal=function(t,e){for(var o=e.iterator();o.hasNext();){var s=o.next().getCoordinate();if(t.isIntersection(s))return!0}return!1},er.prototype.hasProperIntersection=function(){return this._hasProper},er.prototype.hasIntersection=function(){return this._hasIntersection},er.prototype.isDone=function(){return this._isDone},er.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},er.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},er.prototype.addIntersections=function(t,e,o,s){if(t===o&&e===s)return null;this.numTests++;var c=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[s],I=o.getCoordinates()[s+1];this._li.computeIntersection(c,y,x,I),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),o.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,o,s)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),o.addIntersections(this._li,s,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er},er.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var wl=function(t){function e(){t.call(this),this.events=new Bt,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){ri.sort(this.events);for(var o=0;o<this.events.size();o++){var s=this.events.get(o);s.isDelete()&&s.getInsertEvent().setDeleteEventIndex(o)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var o=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var s=0;s<this.events.size();s++){var c=this.events.get(s);if(c.isInsert()&&this.processOverlaps(s,c.getDeleteEventIndex(),c,o),o.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof er&&Nt(arguments[0],Xn)&&Nt(arguments[1],Xn)){var y=arguments[0],x=arguments[1],I=arguments[2];this.addEdges(y,y),this.addEdges(x,x),this.computeIntersections(I)}else if("boolean"==typeof arguments[2]&&Nt(arguments[0],Xn)&&arguments[1]instanceof er){var q=arguments[0],rt=arguments[1];arguments[2]?this.addEdges(q,null):this.addEdges(q),this.computeIntersections(rt)}},e.prototype.addEdge=function(o,s){for(var c=o.getMonotoneChainEdge(),y=c.getStartIndexes(),x=0;x<y.length-1;x++){var I=new ns(c,x),q=new $n(s,c.getMinX(x),I);this.events.add(q),this.events.add(new $n(c.getMaxX(x),q))}},e.prototype.processOverlaps=function(o,s,c,y){for(var x=c.getObject(),I=o;I<s;I++){var q=this.events.get(I);if(q.isInsert()){var rt=q.getObject();c.isSameLabel(q)||(x.computeIntersections(rt,y),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var o=arguments[0].iterator();o.hasNext();){var s=o.next();this.addEdge(s,s)}else if(2===arguments.length)for(var y=arguments[1],x=arguments[0].iterator();x.hasNext();){var I=x.next();this.addEdge(I,y)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bs),fi=function(){this._min=N.POSITIVE_INFINITY,this._max=N.NEGATIVE_INFINITY},Hs={NodeComparator:{configurable:!0}};fi.prototype.getMin=function(){return this._min},fi.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},fi.prototype.getMax=function(){return this._max},fi.prototype.toString=function(){return dt.toLineString(new w(this._min,0),new w(this._max,0))},fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi},Hs.NodeComparator.get=function(){return $i},Object.defineProperties(fi,Hs);var $i=function(){};$i.prototype.compare=function(t,e){var c=(t._min+t._max)/2,y=(e._min+e._max)/2;return c<y?-1:c>y?1:0},$i.prototype.interfaces_=function(){return[A]},$i.prototype.getClass=function(){return $i};var va=function(t){function e(){t.call(this),this._item=null;var s=arguments[1],c=arguments[2];this._min=arguments[0],this._max=s,this._item=c}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(o,s,c){if(!this.intersects(o,s))return null;c.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fi),$s=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var s=arguments[1];this._node1=arguments[0],this._node2=s,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(o,s){this._min=Math.min(o._min,s._min),this._max=Math.max(o._max,s._max)},e.prototype.query=function(o,s,c){if(!this.intersects(o,s))return null;null!==this._node1&&this._node1.query(o,s,c),null!==this._node2&&this._node2.query(o,s,c)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fi),Xr=function(){this._leaves=new Bt,this._root=null,this._level=0};Xr.prototype.buildTree=function(){ri.sort(this._leaves,new fi.NodeComparator);for(var t=this._leaves,e=null,o=new Bt;;){if(this.buildLevel(t,o),1===o.size())return o.get(0);e=t,t=o,o=e}},Xr.prototype.insert=function(t,e,o){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new va(t,e,o))},Xr.prototype.query=function(t,e,o){this.init(),this._root.query(t,e,o)},Xr.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Xr.prototype.printNode=function(t){Jt.out.println(dt.toLineString(new w(t._min,this._level),new w(t._max,this._level)))},Xr.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Xr.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var o=0;o<t.size();o+=2){var s=t.get(o);if(null===(o+1<t.size()?t.get(o):null))e.add(s);else{var c=new $s(t.get(o),t.get(o+1));e.add(c)}}},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr};var rs=function(){this._items=new Bt};rs.prototype.visitItem=function(t){this._items.add(t)},rs.prototype.getItems=function(){return this._items},rs.prototype.interfaces_=function(){return[Oi]},rs.prototype.getClass=function(){return rs};var is=function(){this._index=null;var t=arguments[0];if(!Nt(t,ji))throw new C("Argument must be Polygonal");this._index=new ki(t)},_a={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};is.prototype.locate=function(t){var e=new Ft(t),o=new No(e);return this._index.query(t.y,t.y,o),e.getLocation()},is.prototype.interfaces_=function(){return[ko]},is.prototype.getClass=function(){return is},_a.SegmentVisitor.get=function(){return No},_a.IntervalIndexedGeometry.get=function(){return ki},Object.defineProperties(is,_a);var No=function(){this._counter=null,this._counter=arguments[0]};No.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},No.prototype.interfaces_=function(){return[Oi]},No.prototype.getClass=function(){return No};var ki=function(){this._index=new Xr,this.init(arguments[0])};ki.prototype.init=function(t){for(var e=Qn.getLines(t).iterator();e.hasNext();){var o=e.next().getCoordinates();this.addLine(o)}},ki.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var o=new Kt(t[e-1],t[e]),s=Math.min(o.p0.y,o.p1.y),c=Math.max(o.p0.y,o.p1.y);this._index.insert(s,c,o)}},ki.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new rs;return this._index.query(t,e,o),o.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki};var zo=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new ru,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ui,2===arguments.length){var s=arguments[1],c=tn.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=s,this._boundaryNodeRule=c,null!==s&&this.add(s)}else if(3===arguments.length){var x=arguments[1],I=arguments[2];this._argIndex=arguments[0],this._parentGeom=x,this._boundaryNodeRule=I,null!==x&&this.add(x)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(o,s){var c=this._nodes.addNode(s).getLabel(),y=1;c.getLocation(o,qt.ON)===R.BOUNDARY&&y++;var x=e.determineBoundary(this._boundaryNodeRule,y);c.setLocation(o,x)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var y=arguments[1],x=arguments[2],I=new er(arguments[0],!0,!1);return I.setIsDoneIfProperInt(x),this.createEdgeSetIntersector().computeIntersections(this._edges,I,y||!(this._parentGeom instanceof yi||this._parentGeom instanceof Cn||this._parentGeom instanceof mi)),this.addSelfIntersectionNodes(this._argIndex),I}},e.prototype.computeSplitEdges=function(o){for(var s=this._edges.iterator();s.hasNext();)s.next().eiList.addSplitEdges(o)},e.prototype.computeEdgeIntersections=function(o,s,c){var y=new er(s,c,!0);return y.setBoundaryNodes(this.getBoundaryNodes(),o.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,o._edges,y),y},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Pr){var o=arguments[0].getCoordinate();this.insertPoint(this._argIndex,o,R.INTERIOR)}else arguments[0]instanceof w&&this.insertPoint(this._argIndex,arguments[0],R.INTERIOR)},e.prototype.addPolygon=function(o){this.addPolygonRing(o.getExteriorRing(),R.EXTERIOR,R.INTERIOR);for(var s=0;s<o.getNumInteriorRing();s++){var c=o.getInteriorRingN(s);this.addPolygonRing(c,R.INTERIOR,R.EXTERIOR)}},e.prototype.addEdge=function(o){this.insertEdge(o);var s=o.getCoordinates();this.insertPoint(this._argIndex,s[0],R.BOUNDARY),this.insertPoint(this._argIndex,s[s.length-1],R.BOUNDARY)},e.prototype.addLineString=function(o){var s=pe.removeRepeatedPoints(o.getCoordinates());if(s.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=s[0],null;var c=new Bo(s,new en(this._argIndex,R.INTERIOR));this._lineEdgeMap.put(o,c),this.insertEdge(c),M.isTrue(s.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,s[0]),this.insertBoundaryPoint(this._argIndex,s[s.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var o=this.getBoundaryNodes(),s=new Array(o.size()).fill(null),c=0,y=o.iterator();y.hasNext();){var x=y.next();s[c++]=x.getCoordinate().copy()}return s},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(o,s,c){if(this.isBoundaryNode(o,s))return null;c===R.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(o,s):this.insertPoint(o,s,c)},e.prototype.addPolygonRing=function(o,s,c){if(o.isEmpty())return null;var y=pe.removeRepeatedPoints(o.getCoordinates());if(y.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=y[0],null;var x=s,I=c;Mt.isCCW(y)&&(x=c,I=s);var q=new Bo(y,new en(this._argIndex,R.BOUNDARY,x,I));this._lineEdgeMap.put(o,q),this.insertEdge(q),this.insertPoint(this._argIndex,y[0],R.BOUNDARY)},e.prototype.insertPoint=function(o,s,c){var y=this._nodes.addNode(s),x=y.getLabel();null===x?y._label=new en(o,c):x.setLocation(o,c)},e.prototype.createEdgeSetIntersector=function(){return new wl},e.prototype.addSelfIntersectionNodes=function(o){for(var s=this._edges.iterator();s.hasNext();)for(var c=s.next(),y=c.getLabel().getLocation(o),x=c.eiList.iterator();x.hasNext();){var I=x.next();this.addSelfIntersectionNode(o,I.coord,y)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var o=arguments[0];if(o.isEmpty())return null;if(o instanceof mi&&(this._useBoundaryDeterminationRule=!1),o instanceof Cn)this.addPolygon(o);else if(o instanceof _n)this.addLineString(o);else if(o instanceof Pr)this.addPoint(o);else if(o instanceof Ro)this.addCollection(o);else if(o instanceof po)this.addCollection(o);else if(o instanceof mi)this.addCollection(o);else{if(!(o instanceof hr))throw new Error(o.getClass().getName());this.addCollection(o)}},e.prototype.addCollection=function(o){for(var s=0;s<o.getNumGeometries();s++){var c=o.getGeometryN(s);this.add(c)}},e.prototype.locate=function(o){return Nt(this._parentGeom,ji)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new is(this._parentGeom)),this._areaPtLocator.locate(o)):this._ptLocator.locate(o,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(o,s){return o.isInBoundary(s)?R.BOUNDARY:R.INTERIOR},e}(dn),io=function(){if(this._li=new It,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new zo(0,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],s=tn.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new zo(0,e,s),this._arg[1]=new zo(1,o,s)}else if(3===arguments.length){var c=arguments[0],y=arguments[1],x=arguments[2];c.getPrecisionModel().compareTo(y.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(y.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new zo(0,c,x),this._arg[1]=new zo(1,y,x)}};io.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},io.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io};var Mo=function(){};Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo},Mo.map=function(){if(arguments[0]instanceof Ut&&Nt(arguments[1],Mo.MapOp)){for(var t=arguments[0],e=arguments[1],o=new Bt,s=0;s<t.getNumGeometries();s++){var c=e.map(t.getGeometryN(s));null!==c&&o.add(c)}return t.getFactory().buildGeometry(o)}if(Nt(arguments[0],pn)&&Nt(arguments[1],Mo.MapOp)){for(var y=arguments[0],x=arguments[1],I=new Bt,q=y.iterator();q.hasNext();){var rt=q.next(),Et=x.map(rt);null!==Et&&I.add(Et)}return I}},Mo.MapOp=function(){};var he=function(t){function e(){var o=arguments[0];t.call(this,o,arguments[1]),this._ptLocator=new ui,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new oi,this._resultPolyList=new Bt,this._resultLineList=new Bt,this._resultPointList=new Bt,this._graph=new dn(new hu),this._geomFact=o.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(o){var s=this._edgeList.findEqualEdge(o);if(null!==s){var c=s.getLabel(),y=o.getLabel();s.isPointwiseEqual(o)||(y=new en(o.getLabel())).flip();var x=s.getDepth();x.isNull()&&x.add(c),x.add(y),c.merge(y)}else this._edgeList.add(o)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var o=this._graph.getEdgeEnds().iterator();o.hasNext();){var s=o.next(),c=s.getSym();s.isInResult()&&c.isInResult()&&(s.setInResult(!1),c.setInResult(!1))}},e.prototype.isCoveredByLA=function(o){return!!this.isCovered(o,this._resultLineList)||!!this.isCovered(o,this._resultPolyList)},e.prototype.computeGeometry=function(o,s,c,y){var x=new Bt;return x.addAll(o),x.addAll(s),x.addAll(c),x.isEmpty()?e.createEmptyResult(y,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(x)},e.prototype.mergeSymLabels=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();)o.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(o,s){for(var c=s.iterator();c.hasNext();){var y=c.next();if(this._ptLocator.locate(o,y)!==R.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var o=new Bt,s=this._edgeList.iterator();s.hasNext();){var c=s.next();c.isCollapsed()&&(s.remove(),o.add(c.getCollapsedEdge()))}this._edgeList.addAll(o)},e.prototype.updateNodeLabelling=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var s=o.next(),c=s.getEdges().getLabel();s.getLabel().merge(c)}},e.prototype.getResultGeometry=function(o){return this.computeOverlay(o),this._resultGeom},e.prototype.insertUniqueEdges=function(o){for(var s=o.iterator();s.hasNext();){var c=s.next();this.insertUniqueEdge(c)}},e.prototype.computeOverlay=function(o){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var s=new Bt;this._arg[0].computeSplitEdges(s),this._arg[1].computeSplitEdges(s),this.insertUniqueEdges(s),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Io.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(o),this.cancelDuplicateResultEdges();var c=new rr(this._geomFact);c.add(this._graph),this._resultPolyList=c.getPolygons();var y=new Ci(this,this._geomFact,this._ptLocator);this._resultLineList=y.build(o);var x=new Zo(this,this._geomFact,this._ptLocator);this._resultPointList=x.build(o),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,o)},e.prototype.labelIncompleteNode=function(o,s){var c=this._ptLocator.locate(o.getCoordinate(),this._arg[s].getGeometry());o.getLabel().setLocation(s,c)},e.prototype.copyPoints=function(o){for(var s=this._arg[o].getNodeIterator();s.hasNext();){var c=s.next();this._graph.addNode(c.getCoordinate()).setLabel(o,c.getLabel().getLocation(o))}},e.prototype.findResultAreaEdges=function(o){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var c=s.next(),y=c.getLabel();y.isArea()&&!c.isInteriorAreaEdge()&&e.isResultOfOp(y.getLocation(0,qt.RIGHT),y.getLocation(1,qt.RIGHT),o)&&c.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var o=this._edgeList.iterator();o.hasNext();){var s=o.next(),c=s.getLabel(),y=s.getDepth();if(!y.isNull()){y.normalize();for(var x=0;x<2;x++)c.isNull(x)||!c.isArea()||y.isNull(x)||(0===y.getDelta(x)?c.toLine(x):(M.isTrue(!y.isNull(x,qt.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(x,qt.LEFT,y.getLocation(x,qt.LEFT)),M.isTrue(!y.isNull(x,qt.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(x,qt.RIGHT,y.getLocation(x,qt.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();)o.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var s=o.next(),c=s.getLabel();s.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(s,0):this.labelIncompleteNode(s,1)),s.getEdges().updateLabelling(c)}},e.prototype.isCoveredByA=function(o){return!!this.isCovered(o,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(io);he.overlayOp=function(t,e,o){return new he(t,e).getResultGeometry(o)},he.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return he.createEmptyResult(he.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var o=e;return Co.map(t,{interfaces_:function(){return[Mo.MapOp]},map:function(s){return s.intersection(o)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Zn.overlayOp(t,e,he.INTERSECTION)},he.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return he.createEmptyResult(he.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Zn.overlayOp(t,e,he.SYMDIFFERENCE)},he.resultDimension=function(t,e,o){var s=e.getDimension(),c=o.getDimension(),y=-1;switch(t){case he.INTERSECTION:y=Math.min(s,c);break;case he.UNION:y=Math.max(s,c);break;case he.DIFFERENCE:y=s;break;case he.SYMDIFFERENCE:y=Math.max(s,c)}return y},he.createEmptyResult=function(t,e,o,s){var c=null;switch(he.resultDimension(t,e,o)){case-1:c=s.createGeometryCollection(new Array(0).fill(null));break;case 0:c=s.createPoint();break;case 1:c=s.createLineString();break;case 2:c=s.createPolygon()}return c},he.difference=function(t,e){return t.isEmpty()?he.createEmptyResult(he.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Zn.overlayOp(t,e,he.DIFFERENCE))},he.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=t.getLocation(0),s=t.getLocation(1);return he.isResultOfOp(o,s,e)}if(3===arguments.length){var c=arguments[0],y=arguments[1];switch(c===R.BOUNDARY&&(c=R.INTERIOR),y===R.BOUNDARY&&(y=R.INTERIOR),arguments[2]){case he.INTERSECTION:return c===R.INTERIOR&&y===R.INTERIOR;case he.UNION:return c===R.INTERIOR||y===R.INTERIOR;case he.DIFFERENCE:return c===R.INTERIOR&&y!==R.INTERIOR;case he.SYMDIFFERENCE:return c===R.INTERIOR&&y!==R.INTERIOR||c!==R.INTERIOR&&y===R.INTERIOR}return!1}},he.INTERSECTION=1,he.UNION=2,he.DIFFERENCE=3,he.SYMDIFFERENCE=4;var Bi=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ui,this._seg=new Kt;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Bi.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var o=this._linework.getGeometryN(e).getCoordinateSequence(),s=0;s<o.size()-1;s++)if(o.getCoordinate(s,this._seg.p0),o.getCoordinate(s+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Bi.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?R.BOUNDARY:this._ptLocator.locate(t,this._g)},Bi.prototype.extractLinework=function(t){var e=new os;t.apply(e);var o=e.getLinework(),s=ve.toLineStringArray(o);return t.getFactory().createMultiLineString(s)},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi};var os=function(){this._linework=null,this._linework=new Bt};os.prototype.getLinework=function(){return this._linework},os.prototype.filter=function(t){if(t instanceof Cn){var e=t;this._linework.add(e.getExteriorRing());for(var o=0;o<e.getNumInteriorRing();o++)this._linework.add(e.getInteriorRingN(o))}},os.prototype.interfaces_=function(){return[Kr]},os.prototype.getClass=function(){return os};var oo=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};oo.prototype.extractPoints=function(t,e,o){for(var s=t.getCoordinates(),c=0;c<s.length-1;c++)this.computeOffsetPoints(s[c],s[c+1],e,o)},oo.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},oo.prototype.getPoints=function(t){for(var e=new Bt,o=Qn.getLines(this._g).iterator();o.hasNext();){var s=o.next();this.extractPoints(s,t,e)}return e},oo.prototype.computeOffsetPoints=function(t,e,o,s){var c=e.x-t.x,y=e.y-t.y,x=Math.sqrt(c*c+y*y),I=o*c/x,q=o*y/x,rt=(e.x+t.x)/2,Et=(e.y+t.y)/2;if(this._doLeft){var Pt=new w(rt-q,Et+I);s.add(Pt)}if(this._doRight){var Zt=new w(rt+q,Et-I);s.add(Zt)}},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo};var Mr=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Bt;var e=arguments[0],o=arguments[1],s=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,o),this._geom=[e,o,s],this._locFinder=[new Bi(this._geom[0],this._boundaryDistanceTolerance),new Bi(this._geom[1],this._boundaryDistanceTolerance),new Bi(this._geom[2],this._boundaryDistanceTolerance)]},Ws={TOLERANCE:{configurable:!0}};Mr.prototype.reportResult=function(t,e,o){Jt.out.println("Overlay result invalid - A:"+R.toLocationSymbol(e[0])+" B:"+R.toLocationSymbol(e[1])+" expected:"+(o?"i":"e")+" actual:"+R.toLocationSymbol(e[2]))},Mr.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Mr.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var o=this._testCoords.get(e);if(!this.checkValid(t,o))return this._invalidLocation=o,!1}return!0}if(2===arguments.length){var s=arguments[0],c=arguments[1];return this._location[0]=this._locFinder[0].getLocation(c),this._location[1]=this._locFinder[1].getLocation(c),this._location[2]=this._locFinder[2].getLocation(c),!!Mr.hasLocation(this._location,R.BOUNDARY)||this.isValidResult(s,this._location)}},Mr.prototype.addTestPts=function(t){var e=new oo(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Mr.prototype.isValidResult=function(t,e){var o=he.isResultOfOp(e[0],e[1],t),s=!(o^e[2]===R.INTERIOR);return s||this.reportResult(t,e,o),s},Mr.prototype.getInvalidLocation=function(){return this._invalidLocation},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr},Mr.hasLocation=function(t,e){for(var o=0;o<3;o++)if(t[o]===e)return!0;return!1},Mr.computeBoundaryDistanceTolerance=function(t,e){return Math.min(xn.computeSizeBasedSnapTolerance(t),xn.computeSizeBasedSnapTolerance(e))},Mr.isValid=function(t,e,o,s){return new Mr(t,e,s).isValid(o)},Ws.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Mr,Ws);var Dr=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Dr.prototype.extractElements=function(t,e){if(null===t)return null;for(var o=0;o<t.getNumGeometries();o++){var s=t.getGeometryN(o);this._skipEmpty&&s.isEmpty()||e.add(s)}},Dr.prototype.combine=function(){for(var t=new Bt,e=this._inputGeoms.iterator();e.hasNext();){var o=e.next();this.extractElements(o,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.combine=function(){return 1===arguments.length?new Dr(arguments[0]).combine():2===arguments.length?new Dr(Dr.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Dr(Dr.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Dr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Dr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new Bt;return o.add(t),o.add(e),o}if(3===arguments.length){var s=arguments[0],c=arguments[1],y=arguments[2],x=new Bt;return x.add(s),x.add(c),x.add(y),x}};var En=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new Bt)},Vs={STRTREE_NODE_CAPACITY:{configurable:!0}};En.prototype.reduceToGeometries=function(t){for(var e=new Bt,o=t.iterator();o.hasNext();){var s=o.next(),c=null;Nt(s,Xn)?c=this.unionTree(s):s instanceof Ut&&(c=s),e.add(c)}return e},En.prototype.extractByEnvelope=function(t,e,o){for(var s=new Bt,c=0;c<e.getNumGeometries();c++){var y=e.getGeometryN(c);y.getEnvelopeInternal().intersects(t)?s.add(y):o.add(y)}return this._geomFactory.buildGeometry(s)},En.prototype.unionOptimized=function(t,e){var o=t.getEnvelopeInternal(),s=e.getEnvelopeInternal();if(!o.intersects(s))return Dr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var c=o.intersection(s);return this.unionUsingEnvelopeIntersection(t,e,c)},En.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new au(En.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var o=e.next();t.insert(o.getEnvelopeInternal(),o)}this._inputPolys=null;var s=t.itemsTree();return this.unionTree(s)},En.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],o=arguments[1],s=arguments[2];if(s-o<=1){var c=En.getGeometry(e,o);return this.unionSafe(c,null)}if(s-o==2)return this.unionSafe(En.getGeometry(e,o),En.getGeometry(e,o+1));var y=Math.trunc((s+o)/2),x=this.binaryUnion(e,o,y),I=this.binaryUnion(e,y,s);return this.unionSafe(x,I)}},En.prototype.repeatedUnion=function(t){for(var e=null,o=t.iterator();o.hasNext();){var s=o.next();e=null===e?s.copy():e.union(s)}return e},En.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},En.prototype.unionActual=function(t,e){return En.restrictToPolygons(t.union(e))},En.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},En.prototype.unionUsingEnvelopeIntersection=function(t,e,o){var s=new Bt,c=this.extractByEnvelope(o,t,s),y=this.extractByEnvelope(o,e,s),x=this.unionActual(c,y);return s.add(x),Dr.combine(s)},En.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().createGeometryCollection([e,o]).buffer(0)}},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En},En.restrictToPolygons=function(t){if(Nt(t,ji))return t;var e=Yi.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ve.toPolygonArray(e))},En.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},En.union=function(t){return new En(t).union()},Vs.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(En,Vs);var ss=function(){};ss.prototype.interfaces_=function(){return[]},ss.prototype.getClass=function(){return ss},ss.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return he.createEmptyResult(he.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Zn.overlayOp(t,e,he.UNION)},Q.GeoJSONReader=ya,Q.GeoJSONWriter=ou,Q.OverlayOp=he,Q.UnionOp=ss,Q.BufferOp=Gn,Object.defineProperty(Q,"__esModule",{value:!0})}(yt)},3006:Dt=>{Dt.exports=F,Dt.exports.parse=F,Dt.exports.stringify=function j(O){function h(Ct){return Ct.join(" ")}function nt(Ct){return Ct.map(h).join(", ")}function W(Ct){return Ct.map(nt).map(ft).join(", ")}function ft(Ct){return"("+Ct+")"}switch("Feature"===O.type&&(O=O.geometry),O.type){case"Point":return"POINT ("+h(O.coordinates)+")";case"LineString":return"LINESTRING ("+nt(O.coordinates)+")";case"Polygon":return"POLYGON ("+W(O.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+nt(O.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+O.coordinates.map(W).map(ft).join(", ")+")";case"MultiLineString":return"MULTILINESTRING ("+W(O.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+O.geometries.map(j).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}};var yt=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,Q=new RegExp("^"+yt.source+"(\\s"+yt.source+"){1,}");function F(O){var S,h=O.split(";"),nt=h.pop(),W=(h.shift()||"").split("=").pop(),ot=0;function ft(S){var P=nt.substring(ot).match(S);return P?(ot+=P[0].length,P[0]):null}function Tt(){ft(/^\s*/)}function xt(){Tt();for(var st,S=0,P=[],A=[P],w=P;st=ft(/^(\()/)||ft(/^(\))/)||ft(/^(,)/)||ft(Q);){if("("===st)A.push(w),A[A.length-1].push(w=[]),S++;else if(")"===st){if(0===w.length||!(w=A.pop()))return null;if(0==--S)break}else if(","===st)A[A.length-1].push(w=[]);else{if(st.split(/\s/g).some(isNaN))return null;Array.prototype.push.apply(w,st.split(/\s/g).map(parseFloat))}Tt()}return 0!==S?null:P}function mt(){for(var P,A,S=[];A=ft(Q)||ft(/^(,)/);)","===A?(S.push(P),P=[]):A.split(/\s/g).some(isNaN)||(P||(P=[]),Array.prototype.push.apply(P,A.split(/\s/g).map(parseFloat))),Tt();return P?(S.push(P),S.length?S:null):null}return(S=function Z(){return function(){if(!ft(/^(point(\sz)?)/i)||(Tt(),!ft(/^(\()/)))return null;var S=mt();return S&&(Tt(),ft(/^(\))/))?{type:"Point",coordinates:S[0]}:null}()||function(){if(!ft(/^(linestring(\sz)?)/i)||(Tt(),!ft(/^(\()/)))return null;var S=mt();return S&&ft(/^(\))/)?{type:"LineString",coordinates:S}:null}()||function(){if(!ft(/^(polygon(\sz)?)/i))return null;Tt();var S=xt();return S?{type:"Polygon",coordinates:S}:null}()||function(){if(!ft(/^(multipoint)/i))return null;Tt();var S=nt.substring(nt.indexOf("(")+1,nt.length-1).replace(/\(/g,"").replace(/\)/g,"");nt="MULTIPOINT ("+S+")";var P=xt();return P?(Tt(),{type:"MultiPoint",coordinates:P}):null}()||function(){if(!ft(/^(multilinestring)/i))return null;Tt();var S=xt();return S?(Tt(),{type:"MultiLineString",coordinates:S}):null}()||function(){if(!ft(/^(multipolygon)/i))return null;Tt();var S=xt();return S?{type:"MultiPolygon",coordinates:S}:null}()||function(){var P,S=[];if(!ft(/^(geometrycollection)/i)||(Tt(),!ft(/^(\()/)))return null;for(;P=Z();)S.push(P),Tt(),ft(/^(,)/),Tt();return ft(/^(\))/)?{type:"GeometryCollection",geometries:S}:null}()}())&&W.match(/\d+/)&&(S.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+W}}),S}},2789:(Dt,yt,Q)=>{"use strict";Q.r(yt),Q.d(yt,{DashboardModule:()=>nd});var F=Q(8583),j=Q(6901),O=Q(2936),h=Q(639);function nt(n,r){if(1&n&&(h.TgZ(0,"div",56),h.TgZ(1,"span",57),h._UZ(2,"span",58),h.qZA(),h.TgZ(3,"span",43),h._uU(4),h.qZA(),h._UZ(5,"span",59),h.TgZ(6,"span",60),h._uU(7),h.qZA(),h.qZA()),2&n){const i=r.$implicit;h.xp6(4),h.Oqu(i.title),h.xp6(1),h.Q6J("innerHTML",i.content,h.oJD),h.xp6(2),h.Oqu(i.created_at)}}function W(n,r){1&n&&(h.TgZ(0,"div",41),h.TgZ(1,"span",43),h._uU(2,"No messages"),h.qZA(),h.qZA())}const ot=function(n,r,i){return{"fg-blue":n,"fg-amber":r,"fg-red":i}},ft=function(n,r,i){return{"mif-info":n,"mif-warning":r,"mif-notification":i}};function Ct(n,r){if(1&n&&(h.TgZ(0,"div",56),h.TgZ(1,"span",57),h._UZ(2,"span",58),h.qZA(),h.TgZ(3,"span",43),h._uU(4),h.qZA(),h.TgZ(5,"span",44),h._uU(6),h.qZA(),h.TgZ(7,"span",60),h._uU(8),h.qZA(),h.qZA()),2&n){const i=r.$implicit;h.Tol(h.kEZ(7,ot,0==i.notification_type_id,1==i.notification_type_id,2==i.notification_type_id)),h.xp6(2),h.Tol(h.kEZ(11,ft,0==i.notification_type_id,1==i.notification_type_id,2==i.notification_type_id)),h.xp6(2),h.Oqu(i.title),h.xp6(2),h.Oqu(i.description),h.xp6(2),h.Oqu(i.created_at)}}function Tt(n,r){1&n&&(h.TgZ(0,"div",41),h.TgZ(1,"span",43),h._uU(2,"No notifications"),h.qZA(),h.qZA())}function xt(n,r){1&n&&(h.TgZ(0,"li",61),h.TgZ(1,"a",62),h._uU(2,"Upload"),h.qZA(),h.qZA())}function mt(n,r){1&n&&(h.TgZ(0,"li",63),h.TgZ(1,"a",64),h._uU(2,"Standardize"),h.qZA(),h.qZA())}function wt(n,r){1&n&&(h.TgZ(0,"li",65),h.TgZ(1,"a",66),h._uU(2,"Normalize"),h.qZA(),h.qZA())}function kt(n,r){1&n&&(h.TgZ(0,"li",67),h.TgZ(1,"a",68),h._uU(2,"User-Management"),h.qZA(),h.qZA())}function et(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"div",21),h.TgZ(1,"a",69),h.TgZ(2,"span",23),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"div",70),h.TgZ(5,"div",71),h._UZ(6,"div",72),h._UZ(7,"div",73),h._UZ(8,"div",74),h.qZA(),h.TgZ(9,"div",75),h.TgZ(10,"button",76),h.NdJ("click",function(){return h.CHM(i),h.oxw().logout()}),h._UZ(11,"span",77),h.TgZ(12,"span",38),h._uU(13,"Logout"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&n){const i=h.oxw();h.xp6(3),h.AsE("",i.profile.first_name," ",i.profile.last_name,"")}}function pt(n,r){1&n&&h._UZ(0,"span",78)}function b(n,r){1&n&&h._UZ(0,"span",79)}function C(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"button",80),h.NdJ("click",function(){return h.CHM(i),h.oxw().checkPendingStatus()}),h._uU(1,"Refresh Status"),h.qZA()}}function N(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"button",81),h.NdJ("click",function(){return h.CHM(i),h.oxw().cancelPendingTransactions()}),h._uU(1,"Cancel Transaction"),h.qZA()}}let Z=(()=>{class n{constructor(i){this.data=i,this.alerts=[],this.inbox=[],this.coins=[],this.btcUsdPrice=0,this.currentSelectedCoin={},this.currentCoinPrice=0,this.currentRoute="",this.$=$,this.profile={id:-1,user_id:1,first_name:"",last_name:"",description:"",mobile:"",banner_path:null,ref_code:"",created_at:"",updated_at:"",picture:"",email:"",no_of_properties:-1,inward:-1,outward:-1,net_worth:-1,reserve:-1,pending:null},this.pendingTransaction={pay_address:"",amount:"",qrcode:"assets/coin.png",status:"pending",coin_status:"",name:"",icon:"assets/coin.png",coin_id:"",coin_amount:""},this.currentRoute=this.data.getRole(),setTimeout(()=>{const a=location.hash.split("/").pop();$(`li[routerLink="${a}"]`).click()},250)}ngOnInit(){this.getProfile(),this.data.currentMessage.subscribe(i=>{"get-settings"===i&&this.getSettings(),"cancel-pending"===i&&this.cancelPendingTransactions()})}getProfile(i=!1){i||O.F.loading("profile"),this.data.apiGetService("profile").subscribe(a=>{i||O.F.loading("profile",!0),O.F.profile=this.profile=a,this.startPendingCheck(),this.data.changeMessage("fetch-profile"),null!=this.profile.picture&&$("#dp").css("backgroundImage",`url('${O.F.server+this.profile.picture}')`)},a=>{i||O.F.loading("profile",!0)})}getSettings(){O.F.loading("settings"),this.data.apiGetService("user/settings").subscribe(i=>{O.F.loading("settings",!0),O.F.settings=i,this.data.changeMessage("fetch-settings")},i=>{O.F.loading("settings",!0)})}login(){this.data.redirect("login")}logout(){this.data.logOut()}getRates(){O.F.loading("rates"),this.data.apiGetService("rates").subscribe(i=>{O.F.loading("rates",!0),$("#coins").off("change").empty(),this.coins=[];var a=Object.keys(i.result);let u=0;a.forEach(f=>{const g=i.result[f];g.coin_id=f,"USD"!=f?"online"===g.status&&-1!==g.capabilities.indexOf("payments")&&(this.coins.push(g),$("#coins").append(`<option value="${u}" data-template="<img style='height:20px;margin-left:5px;' src='${g.image}'> $1">${g.name}</option>`),u++):this.btcUsdPrice=1/g.rate_btc}),Metro.getPlugin("#coins","select").reset(),$("#lima-to-buy").on("keyup",()=>{$("#coins").trigger("change")}),$("#coins").on("change",()=>{const f=Metro.getPlugin("#coins","select");this.currentSelectedCoin=this.coins[f.val()];const d=1/(this.currentSelectedCoin.rate_btc*this.btcUsdPrice),p=$("#lima-to-buy").val();this.currentCoinPrice=p*d,$("#coin-value").html(this.currentCoinPrice)}),$("#coins").trigger("change")},i=>{O.F.loading("rates",!0)})}buyCoins(){const i=$("#lima-to-buy").val();if(""==i.trim()||!this.currentSelectedCoin.hasOwnProperty("name"))return O.F.invalidForm("#wallet-dialog"),void O.F.fire("Please enter coin quantity",!0);const u={coin:btoa(JSON.stringify({name:this.currentSelectedCoin.name,icon:this.currentSelectedCoin.image,coin_id:this.currentSelectedCoin.coin_id})),amount:i};O.F.loading("transaction"),Metro.dialog.close("#wallet-dialog"),this.data.apiService("transaction",u).subscribe(l=>{if(O.F.loading("transaction",!0),l.status||"pending"!==l.message)l.status?(this.storePendingDetails(l.results),this.startPendingCheck(),Metro.dialog.open("#pending-dialog")):O.F.fire(l.message,!0);else{this.storePendingDetails(l.results);const f=this;Metro.dialog.create({title:"Pending Transaction",content:"You already have a ongoing transaction",clsDialog:"alert",actions:[{caption:"Cancel Pending Transaction",cls:"js-dialog-close warning",onclick:function(){f.cancelPendingTransactions()}},{caption:"View Details",cls:"js-dialog-close success",onclick:function(){Metro.dialog.open("#pending-dialog")}},{caption:"Close",cls:"js-dialog-close alert",onclick:function(){}}]})}},l=>{O.F.loading("transaction",!0),O.F.fire("Internal Error",!0)})}startPendingCheck(){clearInterval(O.F.checkPendingIntervalId),null!=this.profile.pending&&setTimeout(()=>{O.F.checkPendingIntervalId=setInterval(()=>{null!=this.profile.pending?this.data.apiGetService(`check-auto-transactions/${this.profile.pending}`).subscribe(i=>{"credited"===i.status&&(clearInterval(O.F.checkPendingIntervalId),this.storePendingDetails(i.results),this.data.changeMessage("get-profile"))},i=>{clearInterval(O.F.checkPendingIntervalId)}):clearInterval(O.F.checkPendingIntervalId)},2e4)},12e4)}storePendingDetails(i){const a=JSON.parse(atob(i.coin_name));this.pendingTransaction.status=i.status,this.pendingTransaction.coin_status=i.coin_status,this.pendingTransaction.qrcode=i.qrcode,this.pendingTransaction.amount=i.amount,this.pendingTransaction.coin_amount=i.coin_amount,this.pendingTransaction.pay_address=i.pay_address,this.pendingTransaction.name=a.name,this.pendingTransaction.icon=a.icon,this.pendingTransaction.coin_id=a.coin_id,this.profile.pending=i.order_id,"credited"===this.pendingTransaction.status&&(this.profile.pending=null)}cancelPendingTransactions(){O.F.loading("cancel-pending"),this.data.apiGetService("cancel-pending-transactions").subscribe(i=>{O.F.loading("cancel-pending",!0),O.F.fire(i.message,!i.status),i.status&&(this.data.changeMessage("get-profile"),this.data.changeMessage("cancel-pending-done"))},i=>{O.F.loading("cancel-pending",!0),O.F.fire("Internal Error",!0)})}checkPendingStatus(){O.F.loading("check-pending"),this.data.apiGetService("check-pending-transactions").subscribe(i=>{O.F.loading("check-pending",!0),i.status&&("credited"===i.results.status&&this.data.changeMessage("get-profile"),this.storePendingDetails(i.results)),O.F.fire(i.message,!i.status)},i=>{O.F.loading("check-pending",!0),O.F.fire("Internal Error",!0)})}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(O.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard"]],decls:106,vars:21,consts:[["id","inbox","data-role","panel","data-width","280","data-title-caption","Inbox","data-title-icon","<span class='mif-envelop'></span>","data-collapsible","true","data-cls-panel","shadow-3","data-cls-title","bg-darkTeal fg-white","data-cls-title-icon","fg-white","data-cls-collapse-toggle","bg-gray fg-white marker-dark",1,"w-75","z-inbox","d-none","pos-absolute",3,"collapse"],[1,"items-list",2,"max-height","480px","overflow","auto"],["class","item h-auto","style","min-height: 90px;",4,"ngFor","ngForOf"],["class","item",4,"ngIf"],["routerLink","inbox",1,"button","small","light",2,"text-decoration","none","position","sticky","bottom","5px"],["id","alerts","data-role","panel","data-width","280","data-title-caption","Notifications","data-title-icon","<span class='mif-bell'></span>","data-collapsible","true","data-cls-panel","shadow-3","data-cls-title","bg-darkTeal fg-white","data-cls-title-icon","fg-white","data-cls-collapse-toggle","bg-gray fg-white marker-dark",1,"w-75","z-inbox","d-none","pos-absolute",3,"collapse"],[1,"items-list",2,"max-height","370px","overflow","auto"],["class","item h-auto","style","min-height: 90px;",3,"class",4,"ngFor","ngForOf"],["routerLink","alerts",1,"button","small","light",2,"text-decoration","none","position","sticky","bottom","5px"],["data-role","appbar","data-expand-point","md",1,"d-flex",2,"background","#babfc1"],["href","#",1,"brand","no-hover"],["src","assets/logo.jpg",1,"img-fluid",2,"height","50px"],[1,"fg-light",2,"font-weight","200"],["id","main-menu","data-app-bar","false","data-role","materialtabs",1,"bg-transparent","fg-light"],["routerLink","map"],["href","#map"],["routerLink","upload",4,"ngIf"],["routerLink","standard",4,"ngIf"],["routerLink","normalise",4,"ngIf"],["routerLink","management",4,"ngIf"],[1,"app-bar-container","ml-auto"],[1,"app-bar-container","bg-grayBlue","fg-light",2,"z-index","100000","position","fixed","top","0","right","0"],[1,"app-bar-item","c-pointer",3,"click"],[1,"ml-2","app-bar-name"],["class","app-bar-container bg-grayBlue fg-light","style","z-index: 100000;position: fixed;top: 0; right: 0",4,"ngIf"],["id","wallet-dialog","data-role","dialog",1,"dialog","fg-amber","border-none",2,"background","rgba(0,0,0,0.8)"],[1,"dialog-title"],[1,"dialog-content"],[1,"skills","p-3"],["data-role","input","type","number","id","lima-to-buy","value","1"],["for","coins"],["id","coins","data-role","select"],[1,"d-block"],["id","coin-value"],[1,"dialog-actions"],[1,"button","js-dialog-close","alert"],[1,"image-button","dark",3,"click"],["src","assets/coin.png",1,"icon"],[1,"caption"],["id","pending-dialog","data-role","dialog",1,"dialog","fg-amber","border-none",2,"background","rgba(0,0,0,0.8)","min-width","550px"],[1,"items-list"],[1,"item"],[1,"avatar",3,"src"],[1,"label"],[1,"second-label"],["src","assets/coin.png",1,"avatar"],[1,"avatar","mif-dollars"],[1,"avatar","mif-dollar"],["class","avatar mif-hour-glass",4,"ngIf"],["class","avatar mif-done_all",4,"ngIf"],[1,"label","text-cap"],[1,"item",2,"height","290px"],[3,"src"],["class","button warning",3,"click",4,"ngIf"],["class","button alert js-dialog-close",3,"click",4,"ngIf"],["target","_blank",1,"image-button","dark",3,"href"],[1,"item","h-auto",2,"min-height","90px"],[1,"avatar"],[1,"icon","mif-envelop"],[1,"second-label",3,"innerHTML"],[1,"second-action",2,"width","60px","font-size","10px","height","50px","background","white"],["routerLink","upload"],["href","#upload"],["routerLink","standard"],["href","#standard"],["routerLink","normalise"],["href","#normalise"],["routerLink","management"],["href","#management"],["href","#",1,"app-bar-item"],["data-role","collapse","data-collapsed","true",1,"social-box","shadow-1",2,"position","absolute","top","52px","right","0","width","320px"],[1,"header","bg-darkTeal","fg-white"],["id","dp",1,"avatar",2,"background-repeat","no-repeat","background-position","center","height","90px","background-image","url('assets/logo.jpg')"],[1,"title"],[1,"subtitle"],[1,"d-flex","flex-column","flex-align-center","flex-justify-center"],["data-role","button",1,"image-button","light","w-100","mt-8",3,"click"],[1,"icon","mif-exit"],[1,"avatar","mif-hour-glass"],[1,"avatar","mif-done_all"],[1,"button","warning",3,"click"],[1,"button","alert","js-dialog-close",3,"click"]],template:function(i,a){1&i&&(h.TgZ(0,"div",0),h.NdJ("collapse",function(){return a.$("#inbox").parent().addClass("d-none"),a.$("#inbox").parent().find(".dropdown-toggle").click()}),h.TgZ(1,"div",1),h.YNc(2,nt,8,3,"div",2),h.YNc(3,W,3,0,"div",3),h.TgZ(4,"a",4),h._uU(5,"View All"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",5),h.NdJ("collapse",function(){return a.$("#alerts").parent().addClass("d-none"),a.$("#alerts").parent().find(".dropdown-toggle").click()}),h.TgZ(7,"div",6),h.YNc(8,Ct,9,15,"div",7),h.YNc(9,Tt,3,0,"div",3),h.TgZ(10,"a",8),h._uU(11,"View All"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(12,"div",9),h.TgZ(13,"a",10),h._UZ(14,"img",11),h.TgZ(15,"h3",12),h._uU(16,"EARTHIFY"),h.qZA(),h.qZA(),h.TgZ(17,"ul",13),h.TgZ(18,"li",14),h.TgZ(19,"a",15),h._uU(20,"Map"),h.qZA(),h.qZA(),h.YNc(21,xt,3,0,"li",16),h.YNc(22,mt,3,0,"li",17),h.YNc(23,wt,3,0,"li",18),h.YNc(24,kt,3,0,"li",19),h.qZA(),h.TgZ(25,"div",20),h.TgZ(26,"div",21),h.TgZ(27,"a",22),h.NdJ("click",function(){return a.login()}),h.TgZ(28,"span",23),h._uU(29,"Log Out"),h.qZA(),h.qZA(),h.qZA(),h.YNc(30,et,14,2,"div",24),h.qZA(),h.qZA(),h.TgZ(31,"div",25),h.TgZ(32,"div",26),h._uU(33,"Buy Earthify Coin"),h.qZA(),h.TgZ(34,"div",27),h.TgZ(35,"div",28),h.TgZ(36,"label"),h._uU(37,"Quantity"),h.qZA(),h._UZ(38,"input",29),h.TgZ(39,"label",30),h._uU(40,"Coins"),h.qZA(),h._UZ(41,"select",31),h.TgZ(42,"span",32),h._uU(43,"Coin converted value"),h.qZA(),h._UZ(44,"span",33),h.qZA(),h.qZA(),h.TgZ(45,"div",34),h.TgZ(46,"button",35),h._uU(47,"Close"),h.qZA(),h.TgZ(48,"button",36),h.NdJ("click",function(){return a.buyCoins()}),h._UZ(49,"img",37),h.TgZ(50,"span",38),h._uU(51,"Pay via "),h.TgZ(52,"b"),h._uU(53,"Coinpayments"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(54,"div",39),h.TgZ(55,"div",26),h._uU(56,"Pending Transaction"),h.qZA(),h.TgZ(57,"div",27),h.TgZ(58,"div",40),h.TgZ(59,"div",41),h._UZ(60,"img",42),h.TgZ(61,"span",43),h._uU(62),h.qZA(),h.TgZ(63,"span",44),h._uU(64,"Coin"),h.qZA(),h.qZA(),h.TgZ(65,"div",41),h._UZ(66,"img",45),h.TgZ(67,"span",43),h._uU(68),h.qZA(),h.TgZ(69,"span",44),h._uU(70,"Address to pay"),h.qZA(),h.qZA(),h.TgZ(71,"div",41),h._UZ(72,"span",46),h.TgZ(73,"span",43),h._uU(74),h.qZA(),h.TgZ(75,"span",44),h._uU(76,"Amount to pay"),h.qZA(),h.qZA(),h.TgZ(77,"div",41),h._UZ(78,"span",47),h.TgZ(79,"span",43),h._uU(80),h.qZA(),h.TgZ(81,"span",44),h._uU(82,"Lima Coins"),h.qZA(),h.qZA(),h.TgZ(83,"div",41),h.YNc(84,pt,1,0,"span",48),h.YNc(85,b,1,0,"span",49),h.TgZ(86,"span",50),h._uU(87),h.qZA(),h.TgZ(88,"span",44),h._uU(89,"Status"),h.qZA(),h.qZA(),h.TgZ(90,"div",51),h._UZ(91,"img",45),h.TgZ(92,"span",43),h._UZ(93,"img",52),h.qZA(),h.TgZ(94,"span",44),h._uU(95,"QR"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(96,"div",34),h.TgZ(97,"button",35),h._uU(98,"Close"),h.qZA(),h.YNc(99,C,2,0,"button",53),h.YNc(100,N,2,0,"button",54),h.TgZ(101,"a",55),h._UZ(102,"img",37),h.TgZ(103,"span",38),h._uU(104,"View Live Details"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h._UZ(105,"router-outlet")),2&i&&(h.xp6(2),h.Q6J("ngForOf",a.inbox),h.xp6(1),h.Q6J("ngIf",0==a.inbox.length),h.xp6(5),h.Q6J("ngForOf",a.alerts),h.xp6(1),h.Q6J("ngIf",0==a.alerts.length),h.xp6(12),h.Q6J("ngIf","upload"==a.currentRoute||"management"==a.currentRoute),h.xp6(1),h.Q6J("ngIf","standard"==a.currentRoute||"management"==a.currentRoute),h.xp6(1),h.Q6J("ngIf","normalise"==a.currentRoute||"management"==a.currentRoute),h.xp6(1),h.Q6J("ngIf","management"==a.currentRoute||"management"==a.currentRoute),h.xp6(6),h.Q6J("ngIf",-1!=a.profile.id),h.xp6(30),h.Q6J("src",a.pendingTransaction.icon,h.LSH),h.xp6(2),h.Oqu(a.pendingTransaction.name),h.xp6(6),h.Oqu(a.pendingTransaction.pay_address),h.xp6(6),h.Oqu(a.pendingTransaction.coin_amount),h.xp6(6),h.Oqu(a.pendingTransaction.amount),h.xp6(4),h.Q6J("ngIf","pending"==a.pendingTransaction.status),h.xp6(1),h.Q6J("ngIf","credited"==a.pendingTransaction.status),h.xp6(2),h.Oqu(a.pendingTransaction.status),h.xp6(6),h.Q6J("src",a.pendingTransaction.qrcode,h.LSH),h.xp6(6),h.Q6J("ngIf",null!=a.profile.pending),h.xp6(1),h.Q6J("ngIf",null!=a.profile.pending),h.xp6(1),h.Q6J("href",a.pendingTransaction.coin_status,h.LSH))},directives:[F.sg,F.O5,j.yS,j.rH,j.lC],styles:[""]}),n})();var S=Q(1841);function z(n,r,i){void 0===i&&(i={});var a={type:"Feature"};return(0===i.id||i.id)&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.properties=r||{},a.geometry=n,a}function R(n,r,i){if(void 0===i&&(i={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!on(n[0])||!on(n[1]))throw new Error("coordinates must contain numbers");return z({type:"Point",coordinates:n},r,i)}function Nt(n,r,i){void 0===i&&(i={});for(var a=0,u=n;a<u.length;a++){var l=u[a];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<l[l.length-1].length;f++)if(l[l.length-1][f]!==l[0][f])throw new Error("First and last Position are not equivalent.")}return z({type:"Polygon",coordinates:n},r,i)}function at(n,r){void 0===r&&(r={});var i={type:"FeatureCollection"};return r.id&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.features=n,i}function on(n){return!isNaN(n)&&null!==n&&!Array.isArray(n)}function dt(n,r,i){if(null!==n)for(var a,u,l,f,g,d,p,_,m=0,v=0,E=n.type,X="FeatureCollection"===E,B="Feature"===E,it=X?n.features.length:1,H=0;H<it;H++){g=(_=!!(p=X?n.features[H].geometry:B?n.geometry:n)&&"GeometryCollection"===p.type)?p.geometries.length:1;for(var k=0;k<g;k++){var Y=0,gt=0;if(null!==(f=_?p.geometries[k]:p)){d=f.coordinates;var ht=f.type;switch(m=!i||"Polygon"!==ht&&"MultiPolygon"!==ht?0:1,ht){case null:break;case"Point":if(!1===r(d,v,H,Y,gt))return!1;v++,Y++;break;case"LineString":case"MultiPoint":for(a=0;a<d.length;a++){if(!1===r(d[a],v,H,Y,gt))return!1;v++,"MultiPoint"===ht&&Y++}"LineString"===ht&&Y++;break;case"Polygon":case"MultiLineString":for(a=0;a<d.length;a++){for(u=0;u<d[a].length-m;u++){if(!1===r(d[a][u],v,H,Y,gt))return!1;v++}"MultiLineString"===ht&&Y++,"Polygon"===ht&&gt++}"Polygon"===ht&&Y++;break;case"MultiPolygon":for(a=0;a<d.length;a++){for(gt=0,u=0;u<d[a].length;u++){for(l=0;l<d[a][u].length-m;l++){if(!1===r(d[a][u][l],v,H,Y,gt))return!1;v++}gt++}Y++}break;case"GeometryCollection":for(a=0;a<f.geometries.length;a++)if(!1===dt(f.geometries[a],r,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Mt(n,r){!function(n,r){var i,a,u,l,f,g,d,p,m,v,_=0,E="FeatureCollection"===n.type,X="Feature"===n.type,B=E?n.features.length:1;for(i=0;i<B;i++){for(p=E?n.features[i].properties:X?n.properties:{},m=E?n.features[i].bbox:X?n.bbox:void 0,v=E?n.features[i].id:X?n.id:void 0,f=(d=!!(g=E?n.features[i].geometry:X?n.geometry:n)&&"GeometryCollection"===g.type)?g.geometries.length:1,u=0;u<f;u++)if(null!==(l=d?g.geometries[u]:g))switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(l,_,p,m,v))return!1;break;case"GeometryCollection":for(a=0;a<l.geometries.length;a++)if(!1===r(l.geometries[a],_,p,m,v))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,_,p,m,v))return!1;_++}}(n,function(i,a,u,l,f){var d,g=null===i?null:i.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return!1!==r(z(i,u,{bbox:l,id:f}),a,0)&&void 0}switch(g){case"MultiPoint":d="Point";break;case"MultiLineString":d="LineString";break;case"MultiPolygon":d="Polygon"}for(var p=0;p<i.coordinates.length;p++)if(!1===r(z({type:d,coordinates:i.coordinates[p]},u),a,p))return!1})}function hn(n){var r=[1/0,1/0,-1/0,-1/0];return dt(n,function(i){r[0]>i[0]&&(r[0]=i[0]),r[1]>i[1]&&(r[1]=i[1]),r[2]<i[0]&&(r[2]=i[0]),r[3]<i[1]&&(r[3]=i[1])}),r}hn.default=hn;const Ln=hn;function Ho(n,r,i){if(void 0===i&&(i={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var a=function(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if("Feature"===n.type&&null!==n.geometry&&"Point"===n.geometry.type)return n.geometry.coordinates;if("Point"===n.type)return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(n),u=function(n){return"Feature"===n.type?n.geometry:n}(r),l=u.type,f=r.bbox,g=u.coordinates;if(f&&!1===function(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}(a,f))return!1;"Polygon"===l&&(g=[g]);for(var d=!1,p=0;p<g.length&&!d;p++)if(Sr(a,g[p][0],i.ignoreBoundary)){for(var m=!1,v=1;v<g[p].length&&!m;)Sr(a,g[p][v],!i.ignoreBoundary)&&(m=!0),v++;m||(d=!0)}return d}function Sr(n,r,i){var a=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var u=0,l=r.length-1;u<r.length;l=u++){var f=r[u][0],g=r[u][1],d=r[l][0],p=r[l][1];if(n[1]*(f-d)+g*(d-n[0])+p*(n[0]-f)==0&&(f-n[0])*(d-n[0])<=0&&(g-n[1])*(p-n[1])<=0)return!i;g>n[1]!=p>n[1]&&n[0]<(d-f)*(n[1]-g)/(p-g)+f&&(a=!a)}return a}Q(8228),Q(6896);var Fs=new ArrayBuffer(16);new Float64Array(Fs),new Uint32Array(Fs),Q(5454),function(){function n(r){this.points=r.points||[],this.duration=r.duration||1e4,this.sharpness=r.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=r.stepLength||60,this.length=this.points.length,this.delay=0;for(var i=0;i<this.length;i++)this.points[i].z=this.points[i].z||0;for(i=0;i<this.length-1;i++){var a=this.points[i],u=this.points[i+1];this.centers.push({x:(a.x+u.x)/2,y:(a.y+u.y)/2,z:(a.z+u.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),i=0;i<this.centers.length-1;i++){var l=this.points[i+1].x-(this.centers[i].x+this.centers[i+1].x)/2,f=this.points[i+1].y-(this.centers[i].y+this.centers[i+1].y)/2,g=this.points[i+1].z-(this.centers[i].y+this.centers[i+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[i+1].x+this.sharpness*(this.centers[i].x+l),y:(1-this.sharpness)*this.points[i+1].y+this.sharpness*(this.centers[i].y+f),z:(1-this.sharpness)*this.points[i+1].z+this.sharpness*(this.centers[i].z+g)},{x:(1-this.sharpness)*this.points[i+1].x+this.sharpness*(this.centers[i+1].x+l),y:(1-this.sharpness)*this.points[i+1].y+this.sharpness*(this.centers[i+1].y+f),z:(1-this.sharpness)*this.points[i+1].z+this.sharpness*(this.centers[i+1].z+g)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}n.prototype.cacheSteps=function(r){var i=[],a=this.pos(0);i.push(0);for(var u=0;u<this.duration;u+=10){var l=this.pos(u);Math.sqrt((l.x-a.x)*(l.x-a.x)+(l.y-a.y)*(l.y-a.y)+(l.z-a.z)*(l.z-a.z))>r&&(i.push(u),a=l)}return i},n.prototype.vector=function(r){var i=this.pos(r+10),a=this.pos(r-10);return{angle:180*Math.atan2(i.y-a.y,i.x-a.x)/3.14,speed:Math.sqrt((a.x-i.x)*(a.x-i.x)+(a.y-i.y)*(a.y-i.y)+(a.z-i.z)*(a.z-i.z))}},n.prototype.pos=function(r){var i=r-this.delay;i<0&&(i=0),i>this.duration&&(i=this.duration-1);var a=i/this.duration;if(a>=1)return this.points[this.length-1];var u=Math.floor((this.points.length-1)*a);return function(n,r,i,a,u){var l=function(n){var r=n*n;return[r*n,3*r*(1-n),3*n*(1-n)*(1-n),(1-n)*(1-n)*(1-n)]}(n);return{x:u.x*l[0]+a.x*l[1]+i.x*l[2]+r.x*l[3],y:u.y*l[0]+a.y*l[1]+i.y*l[2]+r.y*l[3],z:u.z*l[0]+a.z*l[1]+i.z*l[2]+r.z*l[3]}}((this.length-1)*a-u,this.points[u],this.controls[u][1],this.controls[u+1][0],this.points[u+1])}}();const zs=function(n,r){void 0===r&&(r={});var i=Ln(n);return R([(i[0]+i[2])/2,(i[1]+i[3])/2],r.properties,r)};Q(1604),Q(2689),Q(8309);var fi=Math.PI/180,Hs=180/Math.PI,$i=function(n,r){this.lon=n,this.lat=r,this.x=fi*n,this.y=fi*r};$i.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},$i.prototype.antipode=function(){return new $i(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var va=function(){this.coords=[],this.length=0};va.prototype.move_to=function(n){this.length++,this.coords.push(n)};var $s=function(n){this.properties=n||{},this.geometries=[]};$s.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var n=[],r=0;r<this.geometries.length;r++)n.push(this.geometries[r].coords);return{geometry:{type:"MultiLineString",coordinates:n},type:"Feature",properties:this.properties}},$s.prototype.wkt=function(){for(var n="",r="LINESTRING(",i=function(l){r+=l[0]+" "+l[1]+","},a=0;a<this.geometries.length;a++){if(0===this.geometries[a].coords.length)return"LINESTRING(empty)";this.geometries[a].coords.forEach(i),n+=r.substring(0,r.length-1)+")"}return n};var Xr=function(n,r,i){if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!r||void 0===r.x||void 0===r.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new $i(n.x,n.y),this.end=new $i(r.x,r.y),this.properties=i||{};var a=this.start.x-this.end.x,l=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(l)),this.g===Math.PI)throw new Error("it appears "+n.view()+" and "+r.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+r)};Xr.prototype.interpolate=function(n){var r=Math.sin((1-n)*this.g)/Math.sin(this.g),i=Math.sin(n*this.g)/Math.sin(this.g),a=r*Math.cos(this.start.y)*Math.cos(this.start.x)+i*Math.cos(this.end.y)*Math.cos(this.end.x),u=r*Math.cos(this.start.y)*Math.sin(this.start.x)+i*Math.cos(this.end.y)*Math.sin(this.end.x),l=r*Math.sin(this.start.y)+i*Math.sin(this.end.y),f=Hs*Math.atan2(l,Math.sqrt(Math.pow(a,2)+Math.pow(u,2)));return[Hs*Math.atan2(u,a),f]},Xr.prototype.Arc=function(n,r){var i=[];if(!n||n<=2)i.push([this.start.lon,this.start.lat]),i.push([this.end.lon,this.end.lat]);else for(var a=1/(n-1),u=0;u<n;++u){var f=this.interpolate(a*u);i.push(f)}for(var g=!1,d=0,p=r&&r.offset?r.offset:10,m=180-p,v=-180+p,_=360-p,E=1;E<i.length;++E){var X=i[E-1][0],B=i[E][0],it=Math.abs(B-X);it>_&&(B>m&&X<v||X>m&&B<v)?g=!0:it>d&&(d=it)}var H=[];if(g&&d<p){var k=[];H.push(k);for(var Y=0;Y<i.length;++Y){var gt=parseFloat(i[Y][0]);if(Y>0&&Math.abs(gt-i[Y-1][0])>_){var ht=parseFloat(i[Y-1][0]),_t=parseFloat(i[Y-1][1]),vt=parseFloat(i[Y][0]),St=parseFloat(i[Y][1]);if(ht>-180&&ht<v&&180===vt&&Y+1<i.length&&i[Y-1][0]>-180&&i[Y-1][0]<v){k.push([-180,i[Y][1]]),Y++,k.push([i[Y][0],i[Y][1]]);continue}if(ht>m&&ht<180&&-180===vt&&Y+1<i.length&&i[Y-1][0]>m&&i[Y-1][0]<180){k.push([180,i[Y][1]]),Y++,k.push([i[Y][0],i[Y][1]]);continue}if(ht<v&&vt>m){var tt=ht;ht=vt,vt=tt;var se=_t;_t=St,St=se}if(ht>m&&vt<v&&(vt+=360),ht<=180&&vt>=180&&ht<vt){var Wt=(180-ht)/(vt-ht),ye=Wt*St+(1-Wt)*_t;k.push([i[Y-1][0]>m?180:-180,ye]),(k=[]).push([i[Y-1][0]>m?-180:180,ye]),H.push(k)}else H.push(k=[]);k.push([gt,i[Y][1]])}else k.push([i[Y][0],i[Y][1]])}}else{var me=[];H.push(me);for(var zt=0;zt<i.length;++zt)me.push([i[zt][0],i[zt][1]])}for(var oe=new $s(this.properties),te=0;te<H.length;++te){var an=new va;oe.geometries.push(an);for(var rn=H[te],xe=0;xe<rn.length;++xe)an.move_to(rn[xe])}return oe},Q(2978);var Ie=[],Ce=[],Se=[],Pe=[],Ne=[],Me=[],Le=[],Te=[],Oe=[],Ae=[],Re=[],De=[],Fe=[],ke=[],Be=[],qe=[],Ge=[],Ue=[],Ze=[],ze=[],Ye=[],Xe=[],Je=[],He=[];Le[85]=Ae[85]=-1,Te[85]=Re[85]=0,Oe[85]=De[85]=1,Ze[85]=Xe[85]=1,ze[85]=Je[85]=0,Ye[85]=He[85]=1,Ie[85]=Pe[85]=0,Ce[85]=Ne[85]=-1,Se[85]=Be[85]=0,qe[85]=Fe[85]=0,Ge[85]=ke[85]=1,Me[85]=Ue[85]=1,Xe[1]=Xe[169]=0,Je[1]=Je[169]=-1,He[1]=He[169]=0,Fe[1]=Fe[169]=-1,ke[1]=ke[169]=0,Be[1]=Be[169]=0,Ae[4]=Ae[166]=0,Re[4]=Re[166]=-1,De[4]=De[166]=1,qe[4]=qe[166]=1,Ge[4]=Ge[166]=0,Ue[4]=Ue[166]=0,Le[16]=Le[154]=0,Te[16]=Te[154]=1,Oe[16]=Oe[154]=1,Pe[16]=Pe[154]=1,Ne[16]=Ne[154]=0,Me[16]=Me[154]=1,Ze[64]=Ze[106]=0,ze[64]=ze[106]=1,Ye[64]=Ye[106]=0,Ie[64]=Ie[106]=-1,Ce[64]=Ce[106]=0,Se[64]=Se[106]=1,Ze[2]=Ze[168]=0,ze[2]=ze[168]=-1,Ye[2]=Ye[168]=1,Xe[2]=Xe[168]=0,Je[2]=Je[168]=-1,He[2]=He[168]=0,Fe[2]=Fe[168]=-1,ke[2]=ke[168]=0,Be[2]=Be[168]=0,qe[2]=qe[168]=-1,Ge[2]=Ge[168]=0,Ue[2]=Ue[168]=1,Le[8]=Le[162]=0,Te[8]=Te[162]=-1,Oe[8]=Oe[162]=0,Ae[8]=Ae[162]=0,Re[8]=Re[162]=-1,De[8]=De[162]=1,Fe[8]=Fe[162]=1,ke[8]=ke[162]=0,Be[8]=Be[162]=1,qe[8]=qe[162]=1,Ge[8]=Ge[162]=0,Ue[8]=Ue[162]=0,Le[32]=Le[138]=0,Te[32]=Te[138]=1,Oe[32]=Oe[138]=1,Ae[32]=Ae[138]=0,Re[32]=Re[138]=1,De[32]=De[138]=0,Ie[32]=Ie[138]=1,Ce[32]=Ce[138]=0,Se[32]=Se[138]=0,Pe[32]=Pe[138]=1,Ne[32]=Ne[138]=0,Me[32]=Me[138]=1,Xe[128]=Xe[42]=0,Je[128]=Je[42]=1,He[128]=He[42]=1,Ze[128]=Ze[42]=0,ze[128]=ze[42]=1,Ye[128]=Ye[42]=0,Ie[128]=Ie[42]=-1,Ce[128]=Ce[42]=0,Se[128]=Se[42]=1,Pe[128]=Pe[42]=-1,Ne[128]=Ne[42]=0,Me[128]=Me[42]=0,Ae[5]=Ae[165]=-1,Re[5]=Re[165]=0,De[5]=De[165]=0,Xe[5]=Xe[165]=1,Je[5]=Je[165]=0,He[5]=He[165]=0,qe[20]=qe[150]=0,Ge[20]=Ge[150]=1,Ue[20]=Ue[150]=1,Pe[20]=Pe[150]=0,Ne[20]=Ne[150]=-1,Me[20]=Me[150]=1,Le[80]=Le[90]=-1,Te[80]=Te[90]=0,Oe[80]=Oe[90]=1,Ze[80]=Ze[90]=1,ze[80]=ze[90]=0,Ye[80]=Ye[90]=1,Fe[65]=Fe[105]=0,ke[65]=ke[105]=1,Be[65]=Be[105]=0,Ie[65]=Ie[105]=0,Ce[65]=Ce[105]=-1,Se[65]=Se[105]=0,Le[160]=Le[10]=-1,Te[160]=Te[10]=0,Oe[160]=Oe[10]=1,Ae[160]=Ae[10]=-1,Re[160]=Re[10]=0,De[160]=De[10]=0,Xe[160]=Xe[10]=1,Je[160]=Je[10]=0,He[160]=He[10]=0,Ze[160]=Ze[10]=1,ze[160]=ze[10]=0,Ye[160]=Ye[10]=1,qe[130]=qe[40]=0,Ge[130]=Ge[40]=1,Ue[130]=Ue[40]=1,Fe[130]=Fe[40]=0,ke[130]=ke[40]=1,Be[130]=Be[40]=0,Ie[130]=Ie[40]=0,Ce[130]=Ce[40]=-1,Se[130]=Se[40]=0,Pe[130]=Pe[40]=0,Ne[130]=Ne[40]=-1,Me[130]=Me[40]=1,Ae[37]=Ae[133]=0,Re[37]=Re[133]=1,De[37]=De[133]=1,Xe[37]=Xe[133]=0,Je[37]=Je[133]=1,He[37]=He[133]=0,Ie[37]=Ie[133]=-1,Ce[37]=Ce[133]=0,Se[37]=Se[133]=0,Pe[37]=Pe[133]=1,Ne[37]=Ne[133]=0,Me[37]=Me[133]=0,qe[148]=qe[22]=-1,Ge[148]=Ge[22]=0,Ue[148]=Ue[22]=0,Xe[148]=Xe[22]=0,Je[148]=Je[22]=-1,He[148]=He[22]=1,Ze[148]=Ze[22]=0,ze[148]=ze[22]=1,Ye[148]=Ye[22]=1,Pe[148]=Pe[22]=-1,Ne[148]=Ne[22]=0,Me[148]=Me[22]=1,Le[82]=Le[88]=0,Te[82]=Te[88]=-1,Oe[82]=Oe[88]=1,qe[82]=qe[88]=1,Ge[82]=Ge[88]=0,Ue[82]=Ue[88]=1,Fe[82]=Fe[88]=-1,ke[82]=ke[88]=0,Be[82]=Be[88]=1,Ze[82]=Ze[88]=0,ze[82]=ze[88]=-1,Ye[82]=Ye[88]=0,Le[73]=Le[97]=0,Te[73]=Te[97]=1,Oe[73]=Oe[97]=0,Ae[73]=Ae[97]=0,Re[73]=Re[97]=-1,De[73]=De[97]=0,Fe[73]=Fe[97]=1,ke[73]=ke[97]=0,Be[73]=Be[97]=0,Ie[73]=Ie[97]=1,Ce[73]=Ce[97]=0,Se[73]=Se[97]=1,Le[145]=Le[25]=0,Te[145]=Te[25]=-1,Oe[145]=Oe[25]=0,Fe[145]=Fe[25]=1,ke[145]=ke[25]=0,Be[145]=Be[25]=1,Xe[145]=Xe[25]=0,Je[145]=Je[25]=1,He[145]=He[25]=1,Pe[145]=Pe[25]=-1,Ne[145]=Ne[25]=0,Me[145]=Me[25]=0,Ae[70]=Ae[100]=0,Re[70]=Re[100]=1,De[70]=De[100]=0,qe[70]=qe[100]=-1,Ge[70]=Ge[100]=0,Ue[70]=Ue[100]=1,Ze[70]=Ze[100]=0,ze[70]=ze[100]=-1,Ye[70]=Ye[100]=1,Ie[70]=Ie[100]=1,Ce[70]=Ce[100]=0,Se[70]=Se[100]=0,Ae[101]=Ae[69]=0,Re[101]=Re[69]=1,De[101]=De[69]=0,Ie[101]=Ie[69]=1,Ce[101]=Ce[69]=0,Se[101]=Se[69]=0,Xe[149]=Xe[21]=0,Je[149]=Je[21]=1,He[149]=He[21]=1,Pe[149]=Pe[21]=-1,Ne[149]=Ne[21]=0,Me[149]=Me[21]=0,qe[86]=qe[84]=-1,Ge[86]=Ge[84]=0,Ue[86]=Ue[84]=1,Ze[86]=Ze[84]=0,ze[86]=ze[84]=-1,Ye[86]=Ye[84]=1,Le[89]=Le[81]=0,Te[89]=Te[81]=-1,Oe[89]=Oe[81]=0,Fe[89]=Fe[81]=1,ke[89]=ke[81]=0,Be[89]=Be[81]=1,Le[96]=Le[74]=0,Te[96]=Te[74]=1,Oe[96]=Oe[74]=0,Ae[96]=Ae[74]=-1,Re[96]=Re[74]=0,De[96]=De[74]=1,Ze[96]=Ze[74]=1,ze[96]=ze[74]=0,Ye[96]=Ye[74]=0,Ie[96]=Ie[74]=1,Ce[96]=Ce[74]=0,Se[96]=Se[74]=1,Le[24]=Le[146]=0,Te[24]=Te[146]=-1,Oe[24]=Oe[146]=1,qe[24]=qe[146]=1,Ge[24]=Ge[146]=0,Ue[24]=Ue[146]=1,Fe[24]=Fe[146]=0,ke[24]=ke[146]=1,Be[24]=Be[146]=1,Pe[24]=Pe[146]=0,Ne[24]=Ne[146]=-1,Me[24]=Me[146]=0,Ae[6]=Ae[164]=-1,Re[6]=Re[164]=0,De[6]=De[164]=1,qe[6]=qe[164]=-1,Ge[6]=Ge[164]=0,Ue[6]=Ue[164]=0,Xe[6]=Xe[164]=0,Je[6]=Je[164]=-1,He[6]=He[164]=1,Ze[6]=Ze[164]=1,ze[6]=ze[164]=0,Ye[6]=Ye[164]=0,Fe[129]=Fe[41]=0,ke[129]=ke[41]=1,Be[129]=Be[41]=1,Xe[129]=Xe[41]=0,Je[129]=Je[41]=1,He[129]=He[41]=0,Ie[129]=Ie[41]=-1,Ce[129]=Ce[41]=0,Se[129]=Se[41]=0,Pe[129]=Pe[41]=0,Ne[129]=Ne[41]=-1,Me[129]=Me[41]=0,qe[66]=qe[104]=0,Ge[66]=Ge[104]=1,Ue[66]=Ue[104]=0,Fe[66]=Fe[104]=-1,ke[66]=ke[104]=0,Be[66]=Be[104]=1,Ze[66]=Ze[104]=0,ze[66]=ze[104]=-1,Ye[66]=Ye[104]=0,Ie[66]=Ie[104]=0,Ce[66]=Ce[104]=-1,Se[66]=Se[104]=1,Le[144]=Le[26]=-1,Te[144]=Te[26]=0,Oe[144]=Oe[26]=0,Xe[144]=Xe[26]=1,Je[144]=Je[26]=0,He[144]=He[26]=1,Ze[144]=Ze[26]=0,ze[144]=ze[26]=1,Ye[144]=Ye[26]=1,Pe[144]=Pe[26]=-1,Ne[144]=Ne[26]=0,Me[144]=Me[26]=1,Ae[36]=Ae[134]=0,Re[36]=Re[134]=1,De[36]=De[134]=1,qe[36]=qe[134]=0,Ge[36]=Ge[134]=1,Ue[36]=Ue[134]=0,Ie[36]=Ie[134]=0,Ce[36]=Ce[134]=-1,Se[36]=Se[134]=1,Pe[36]=Pe[134]=1,Ne[36]=Ne[134]=0,Me[36]=Me[134]=0,Le[9]=Le[161]=-1,Te[9]=Te[161]=0,Oe[9]=Oe[161]=0,Ae[9]=Ae[161]=0,Re[9]=Re[161]=-1,De[9]=De[161]=0,Fe[9]=Fe[161]=1,ke[9]=ke[161]=0,Be[9]=Be[161]=0,Xe[9]=Xe[161]=1,Je[9]=Je[161]=0,He[9]=He[161]=1,Le[136]=0,Te[136]=1,Oe[136]=1,Ae[136]=0,Re[136]=1,De[136]=0,qe[136]=-1,Ge[136]=0,Ue[136]=1,Fe[136]=-1,ke[136]=0,Be[136]=0,Xe[136]=0,Je[136]=-1,He[136]=0,Ze[136]=0,ze[136]=-1,Ye[136]=1,Ie[136]=1,Ce[136]=0,Se[136]=0,Pe[136]=1,Ne[136]=0,Me[136]=1,Le[34]=0,Te[34]=-1,Oe[34]=0,Ae[34]=0,Re[34]=-1,De[34]=1,qe[34]=1,Ge[34]=0,Ue[34]=0,Fe[34]=1,ke[34]=0,Be[34]=1,Xe[34]=0,Je[34]=1,He[34]=1,Ze[34]=0,ze[34]=1,Ye[34]=0,Ie[34]=-1,Ce[34]=0,Se[34]=1,Pe[34]=-1,Ne[34]=0,Me[34]=0,Le[35]=0,Te[35]=1,Oe[35]=1,Ae[35]=0,Re[35]=-1,De[35]=1,qe[35]=1,Ge[35]=0,Ue[35]=0,Fe[35]=-1,ke[35]=0,Be[35]=0,Xe[35]=0,Je[35]=-1,He[35]=0,Ze[35]=0,ze[35]=1,Ye[35]=0,Ie[35]=-1,Ce[35]=0,Se[35]=1,Pe[35]=1,Ne[35]=0,Me[35]=1,Le[153]=0,Te[153]=1,Oe[153]=1,Fe[153]=-1,ke[153]=0,Be[153]=0,Xe[153]=0,Je[153]=-1,He[153]=0,Pe[153]=1,Ne[153]=0,Me[153]=1,Ae[102]=0,Re[102]=-1,De[102]=1,qe[102]=1,Ge[102]=0,Ue[102]=0,Ze[102]=0,ze[102]=1,Ye[102]=0,Ie[102]=-1,Ce[102]=0,Se[102]=1,Le[155]=0,Te[155]=-1,Oe[155]=0,Fe[155]=1,ke[155]=0,Be[155]=1,Xe[155]=0,Je[155]=1,He[155]=1,Pe[155]=-1,Ne[155]=0,Me[155]=0,Ae[103]=0,Re[103]=1,De[103]=0,qe[103]=-1,Ge[103]=0,Ue[103]=1,Ze[103]=0,ze[103]=-1,Ye[103]=1,Ie[103]=1,Ce[103]=0,Se[103]=0,Le[152]=0,Te[152]=1,Oe[152]=1,qe[152]=-1,Ge[152]=0,Ue[152]=1,Fe[152]=-1,ke[152]=0,Be[152]=0,Xe[152]=0,Je[152]=-1,He[152]=0,Ze[152]=0,ze[152]=-1,Ye[152]=1,Pe[152]=1,Ne[152]=0,Me[152]=1,Le[156]=0,Te[156]=-1,Oe[156]=1,qe[156]=1,Ge[156]=0,Ue[156]=1,Fe[156]=-1,ke[156]=0,Be[156]=0,Xe[156]=0,Je[156]=-1,He[156]=0,Ze[156]=0,ze[156]=1,Ye[156]=1,Pe[156]=-1,Ne[156]=0,Me[156]=1,Le[137]=0,Te[137]=1,Oe[137]=1,Ae[137]=0,Re[137]=1,De[137]=0,Fe[137]=-1,ke[137]=0,Be[137]=0,Xe[137]=0,Je[137]=-1,He[137]=0,Ie[137]=1,Ce[137]=0,Se[137]=0,Pe[137]=1,Ne[137]=0,Me[137]=1,Le[139]=0,Te[139]=1,Oe[139]=1,Ae[139]=0,Re[139]=-1,De[139]=0,Fe[139]=1,ke[139]=0,Be[139]=0,Xe[139]=0,Je[139]=1,He[139]=0,Ie[139]=-1,Ce[139]=0,Se[139]=0,Pe[139]=1,Ne[139]=0,Me[139]=1,Le[98]=0,Te[98]=-1,Oe[98]=0,Ae[98]=0,Re[98]=-1,De[98]=1,qe[98]=1,Ge[98]=0,Ue[98]=0,Fe[98]=1,ke[98]=0,Be[98]=1,Ze[98]=0,ze[98]=1,Ye[98]=0,Ie[98]=-1,Ce[98]=0,Se[98]=1,Le[99]=0,Te[99]=1,Oe[99]=0,Ae[99]=0,Re[99]=-1,De[99]=1,qe[99]=1,Ge[99]=0,Ue[99]=0,Fe[99]=-1,ke[99]=0,Be[99]=1,Ze[99]=0,ze[99]=-1,Ye[99]=0,Ie[99]=1,Ce[99]=0,Se[99]=1,Ae[38]=0,Re[38]=-1,De[38]=1,qe[38]=1,Ge[38]=0,Ue[38]=0,Xe[38]=0,Je[38]=1,He[38]=1,Ze[38]=0,ze[38]=1,Ye[38]=0,Ie[38]=-1,Ce[38]=0,Se[38]=1,Pe[38]=-1,Ne[38]=0,Me[38]=0,Ae[39]=0,Re[39]=1,De[39]=1,qe[39]=-1,Ge[39]=0,Ue[39]=0,Xe[39]=0,Je[39]=-1,He[39]=1,Ze[39]=0,ze[39]=1,Ye[39]=0,Ie[39]=-1,Ce[39]=0,Se[39]=1,Pe[39]=1,Ne[39]=0,Me[39]=0;var _u=function(n){return[[n.bottomleft,0],[0,0],[0,n.leftbottom]]},xu=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0]]},Eu=function(n){return[[n.topright,1],[1,1],[1,n.righttop]]},wu=function(n){return[[0,n.lefttop],[0,1],[n.topleft,1]]},bu=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop]]},Iu=function(n){return[[n.bottomright,0],[n.bottomleft,0],[1,n.righttop],[1,n.rightbottom]]},Cu=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.topleft,1],[n.topright,1]]},Su=function(n){return[[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Qt=[],jt=[],re=[],ee=[],ce=[],le=[],$e=[],Qe=[];ee[1]=ce[1]=18,ee[169]=ce[169]=18,re[4]=jt[4]=12,re[166]=jt[166]=12,Qt[16]=Qe[16]=4,Qt[154]=Qe[154]=4,le[64]=$e[64]=22,le[106]=$e[106]=22,re[2]=le[2]=17,ee[2]=ce[2]=18,re[168]=le[168]=17,ee[168]=ce[168]=18,Qt[8]=ee[8]=9,jt[8]=re[8]=12,Qt[162]=ee[162]=9,jt[162]=re[162]=12,Qt[32]=Qe[32]=4,jt[32]=$e[32]=1,Qt[138]=Qe[138]=4,jt[138]=$e[138]=1,ce[128]=Qe[128]=21,le[128]=$e[128]=22,ce[42]=Qe[42]=21,le[42]=$e[42]=22,jt[5]=ce[5]=14,jt[165]=ce[165]=14,re[20]=Qe[20]=6,re[150]=Qe[150]=6,Qt[80]=le[80]=11,Qt[90]=le[90]=11,ee[65]=$e[65]=3,ee[105]=$e[105]=3,Qt[160]=le[160]=11,jt[160]=ce[160]=14,Qt[10]=le[10]=11,jt[10]=ce[10]=14,re[130]=Qe[130]=6,ee[130]=$e[130]=3,re[40]=Qe[40]=6,ee[40]=$e[40]=3,jt[101]=$e[101]=1,jt[69]=$e[69]=1,ce[149]=Qe[149]=21,ce[21]=Qe[21]=21,re[86]=le[86]=17,re[84]=le[84]=17,Qt[89]=ee[89]=9,Qt[81]=ee[81]=9,Qt[96]=$e[96]=0,jt[96]=le[96]=15,Qt[74]=$e[74]=0,jt[74]=le[74]=15,Qt[24]=re[24]=8,ee[24]=Qe[24]=7,Qt[146]=re[146]=8,ee[146]=Qe[146]=7,jt[6]=le[6]=15,re[6]=ce[6]=16,jt[164]=le[164]=15,re[164]=ce[164]=16,ee[129]=Qe[129]=7,ce[129]=$e[129]=20,ee[41]=Qe[41]=7,ce[41]=$e[41]=20,re[66]=$e[66]=2,ee[66]=le[66]=19,re[104]=$e[104]=2,ee[104]=le[104]=19,Qt[144]=ce[144]=10,le[144]=Qe[144]=23,Qt[26]=ce[26]=10,le[26]=Qe[26]=23,jt[36]=Qe[36]=5,re[36]=$e[36]=2,jt[134]=Qe[134]=5,re[134]=$e[134]=2,Qt[9]=ce[9]=10,jt[9]=ee[9]=13,Qt[161]=ce[161]=10,jt[161]=ee[161]=13,jt[37]=Qe[37]=5,ce[37]=$e[37]=20,jt[133]=Qe[133]=5,ce[133]=$e[133]=20,re[148]=ce[148]=16,le[148]=Qe[148]=23,re[22]=ce[22]=16,le[22]=Qe[22]=23,Qt[82]=re[82]=8,ee[82]=le[82]=19,Qt[88]=re[88]=8,ee[88]=le[88]=19,Qt[73]=$e[73]=0,jt[73]=ee[73]=13,Qt[97]=$e[97]=0,jt[97]=ee[97]=13,Qt[145]=ee[145]=9,ce[145]=Qe[145]=21,Qt[25]=ee[25]=9,ce[25]=Qe[25]=21,jt[70]=$e[70]=1,re[70]=le[70]=17,jt[100]=$e[100]=1,re[100]=le[100]=17,Qt[34]=ee[34]=9,jt[34]=re[34]=12,ce[34]=Qe[34]=21,le[34]=$e[34]=22,Qt[136]=Qe[136]=4,jt[136]=$e[136]=1,re[136]=le[136]=17,ee[136]=ce[136]=18,Qt[35]=Qe[35]=4,jt[35]=re[35]=12,ee[35]=ce[35]=18,le[35]=$e[35]=22,Qt[153]=Qe[153]=4,ee[153]=ce[153]=18,jt[102]=re[102]=12,le[102]=$e[102]=22,Qt[155]=ee[155]=9,ce[155]=Qe[155]=23,jt[103]=$e[103]=1,re[103]=le[103]=17,Qt[152]=Qe[152]=4,re[152]=le[152]=17,ee[152]=ce[152]=18,Qt[156]=re[156]=8,ee[156]=ce[156]=18,le[156]=Qe[156]=23,Qt[137]=Qe[137]=4,jt[137]=$e[137]=1,ee[137]=ce[137]=18,Qt[139]=Qe[139]=4,jt[139]=ee[139]=13,ce[139]=$e[139]=20,Qt[98]=ee[98]=9,jt[98]=re[98]=12,le[98]=$e[98]=22,Qt[99]=$e[99]=0,jt[99]=re[99]=12,ee[99]=le[99]=19,jt[38]=re[38]=12,ce[38]=Qe[38]=21,le[38]=$e[38]=22,jt[39]=Qe[39]=5,re[39]=ce[39]=16,le[39]=$e[39]=22;var Ht=[];function Mu(n,r,i){return function(n){return(n>0)-(n<0)||+n}((r[0]-n[0])*(i[1]-r[1])-(i[0]-r[0])*(r[1]-n[1]))}function Nl(n,r){return r.geometry.coordinates[0].every(function(i){return Ho(R(i),n)})}Ht[1]=Ht[169]=_u,Ht[4]=Ht[166]=xu,Ht[16]=Ht[154]=Eu,Ht[64]=Ht[106]=wu,Ht[168]=Ht[2]=bu,Ht[162]=Ht[8]=Iu,Ht[138]=Ht[32]=Cu,Ht[42]=Ht[128]=Su,Ht[5]=Ht[165]=function(n){return[[0,0],[0,n.leftbottom],[1,n.rightbottom],[1,0]]},Ht[20]=Ht[150]=function(n){return[[1,0],[n.bottomright,0],[n.topright,1],[1,1]]},Ht[80]=Ht[90]=function(n){return[[1,1],[1,n.righttop],[0,n.lefttop],[0,1]]},Ht[65]=Ht[105]=function(n){return[[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Ht[160]=Ht[10]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.leftbottom],[0,n.lefttop]]},Ht[130]=Ht[40]=function(n){return[[n.topleft,1],[n.topright,1],[n.bottomright,0],[n.bottomleft,0]]},Ht[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Ht[101]=Ht[69]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,1],[n.topleft,1]]},Ht[149]=Ht[21]=function(n){return[[n.topright,1],[1,1],[1,0],[0,0],[0,n.leftbottom]]},Ht[86]=Ht[84]=function(n){return[[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[1,1]]},Ht[89]=Ht[81]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,1]]},Ht[96]=Ht[74]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[24]=Ht[146]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[n.topright,1]]},Ht[6]=Ht[164]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop]]},Ht[129]=Ht[41]=function(n){return[[n.topright,1],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1]]},Ht[66]=Ht[104]=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[144]=Ht[26]=function(n){return[[1,1],[1,n.righttop],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Ht[36]=Ht[134]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[n.topleft,1],[n.topright,1]]},Ht[9]=Ht[161]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom]]},Ht[37]=Ht[133]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Ht[148]=Ht[22]=function(n){return[[1,1],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Ht[82]=Ht[88]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1]]},Ht[73]=Ht[97]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Ht[145]=Ht[25]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Ht[70]=Ht[100]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[34]=function(n){return[Su(n),Iu(n)]},Ht[35]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Ht[136]=function(n){return[Cu(n),bu(n)]},Ht[153]=function(n){return[Eu(n),_u(n)]},Ht[102]=function(n){return[xu(n),wu(n)]},Ht[155]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Ht[103]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[152]=function(n){return[Eu(n),bu(n)]},Ht[156]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Ht[137]=function(n){return[Cu(n),_u(n)]},Ht[139]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Ht[98]=function(n){return[Iu(n),wu(n)]},Ht[99]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[38]=function(n){return[xu(n),Su(n)]},Ht[39]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]};const Ml=function(){function n(r){this.id=n.buildId(r),this.coordinates=r,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return n.buildId=function(r){return r.join(",")},n.prototype.removeInnerEdge=function(r){this.innerEdges=this.innerEdges.filter(function(i){return i.from.id!==r.from.id})},n.prototype.removeOuterEdge=function(r){this.outerEdges=this.outerEdges.filter(function(i){return i.to.id!==r.to.id})},n.prototype.addOuterEdge=function(r){this.outerEdges.push(r),this.outerEdgesSorted=!1},n.prototype.sortOuterEdges=function(){var r=this;this.outerEdgesSorted||(this.outerEdges.sort(function(i,a){var u=i.to,l=a.to;if(u.coordinates[0]-r.coordinates[0]>=0&&l.coordinates[0]-r.coordinates[0]<0)return 1;if(u.coordinates[0]-r.coordinates[0]<0&&l.coordinates[0]-r.coordinates[0]>=0)return-1;if(u.coordinates[0]-r.coordinates[0]==0&&l.coordinates[0]-r.coordinates[0]==0)return u.coordinates[1]-r.coordinates[1]>=0||l.coordinates[1]-r.coordinates[1]>=0?u.coordinates[1]-l.coordinates[1]:l.coordinates[1]-u.coordinates[1];var f=Mu(r.coordinates,u.coordinates,l.coordinates);return f<0?1:f>0?-1:Math.pow(u.coordinates[0]-r.coordinates[0],2)+Math.pow(u.coordinates[1]-r.coordinates[1],2)-(Math.pow(l.coordinates[0]-r.coordinates[0],2)+Math.pow(l.coordinates[1]-r.coordinates[1],2))}),this.outerEdgesSorted=!0)},n.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},n.prototype.getOuterEdge=function(r){return this.sortOuterEdges(),this.outerEdges[r]},n.prototype.addInnerEdge=function(r){this.innerEdges.push(r)},n}(),Ch=function(){function n(r,i){this.from=r,this.to=i,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return n.prototype.getSymetric=function(){return this.symetric||(this.symetric=new n(this.to,this.from),this.symetric.symetric=this),this.symetric},n.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},n.prototype.isEqual=function(r){return this.from.id===r.from.id&&this.to.id===r.to.id},n.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},n.prototype.toLineString=function(){return function(n,r,i){if(void 0===i&&(i={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return z({type:"LineString",coordinates:n},r,i)}([this.from.coordinates,this.to.coordinates])},n.prototype.compareTo=function(r){return Mu(r.from.coordinates,r.to.coordinates,this.to.coordinates)},n}(),Ph=function(){function n(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return n.prototype.push=function(r){this.edges.push(r),this.polygon=this.envelope=void 0},n.prototype.get=function(r){return this.edges[r]},Object.defineProperty(n.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),n.prototype.forEach=function(r){this.edges.forEach(r)},n.prototype.map=function(r){return this.edges.map(r)},n.prototype.some=function(r){return this.edges.some(r)},n.prototype.isValid=function(){return!0},n.prototype.isHole=function(){var r=this,i=this.edges.reduce(function(f,g,d){return g.from.coordinates[1]>r.edges[f].from.coordinates[1]&&(f=d),f},0),a=(0===i?this.length:i)-1,u=(i+1)%this.length,l=Mu(this.edges[a].from.coordinates,this.edges[i].from.coordinates,this.edges[u].from.coordinates);return 0===l?this.edges[a].from.coordinates[0]>this.edges[u].from.coordinates[0]:l>0},n.prototype.toMultiPoint=function(){return function(n,r,i){return void 0===i&&(i={}),z({type:"MultiPoint",coordinates:n},r,i)}(this.edges.map(function(r){return r.from.coordinates}))},n.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var r=this.edges.map(function(i){return i.from.coordinates});return r.push(this.edges[0].from.coordinates),this.polygon=Nt([r])},n.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function(n){return function(n,r){void 0===r&&(r={});var i=Number(n[0]),a=Number(n[1]),u=Number(n[2]),l=Number(n[3]);if(6===n.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var f=[i,a];return Nt([[f,[u,a],[u,l],[i,l],f]],r.properties,{bbox:n,id:r.id})}(Ln(n))}(this.toPolygon())},n.findEdgeRingContaining=function(r,i){var u,l,a=r.getEnvelope();return i.forEach(function(f){var g=f.getEnvelope();if(l&&(u=l.getEnvelope()),!function(n,r){var i=n.geometry.coordinates[0].map(function(f){return f[0]}),a=n.geometry.coordinates[0].map(function(f){return f[1]}),u=r.geometry.coordinates[0].map(function(f){return f[0]}),l=r.geometry.coordinates[0].map(function(f){return f[1]});return Math.max.apply(null,i)===Math.max.apply(null,u)&&Math.max.apply(null,a)===Math.max.apply(null,l)&&Math.min.apply(null,i)===Math.min.apply(null,u)&&Math.min.apply(null,a)===Math.min.apply(null,l)}(g,a)&&Nl(g,a)){for(var d=r.map(function(X){return X.from.coordinates}),p=void 0,m=function(X){f.some(function(B){return function(n,r){return n[0]===r[0]&&n[1]===r[1]}(X,B.from.coordinates)})||(p=X)},v=0,_=d;v<_.length;v++)m(_[v]);p&&f.inside(R(p))&&(!l||Nl(u,g))&&(l=f)}}),l},n.prototype.inside=function(r){return Ho(r,this.toPolygon())},n}();function Bl(n){for(var r=n,i=[];r.parent;)i.unshift(r),r=r.parent;return i}!function(){function n(){this.edges=[],this.nodes={}}n.fromGeoJson=function(r){!function(n){if(!n)throw new Error("No geojson passed");if("FeatureCollection"!==n.type&&"GeometryCollection"!==n.type&&"MultiLineString"!==n.type&&"LineString"!==n.type&&"Feature"!==n.type)throw new Error("Invalid input type '"+n.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(r);var i=new n;return Mt(r,function(a){(function(n,r,i){if(!n)throw new Error("No feature passed");if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!n.geometry||n.geometry.type!==r)throw new Error("Invalid input to "+i+": must be a "+r+", given "+n.geometry.type)})(a,"LineString","Graph::fromGeoJson"),function(n,r,i,a){var u=i;dt(n,function(l,f,g,d,p){u=0===f?l:r(u,l)},void 0)}(a,function(u,l){if(u){var f=i.getNode(u),g=i.getNode(l);i.addEdge(f,g)}return l})}),i},n.prototype.getNode=function(r){var i=Ml.buildId(r),a=this.nodes[i];return a||(a=this.nodes[i]=new Ml(r)),a},n.prototype.addEdge=function(r,i){var a=new Ch(r,i),u=a.getSymetric();this.edges.push(a),this.edges.push(u)},n.prototype.deleteDangles=function(){var r=this;Object.keys(this.nodes).map(function(i){return r.nodes[i]}).forEach(function(i){return r._removeIfDangle(i)})},n.prototype._removeIfDangle=function(r){var i=this;if(r.innerEdges.length<=1){var a=r.getOuterEdges().map(function(u){return u.to});this.removeNode(r),a.forEach(function(u){return i._removeIfDangle(u)})}},n.prototype.deleteCutEdges=function(){var r=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(i){i.label===i.symetric.label&&(r.removeEdge(i.symetric),r.removeEdge(i))})},n.prototype._computeNextCWEdges=function(r){var i=this;void 0===r?Object.keys(this.nodes).forEach(function(a){return i._computeNextCWEdges(i.nodes[a])}):r.getOuterEdges().forEach(function(a,u){r.getOuterEdge((0===u?r.getOuterEdges().length:u)-1).symetric.next=a})},n.prototype._computeNextCCWEdges=function(r,i){for(var u,l,a=r.getOuterEdges(),f=a.length-1;f>=0;--f){var g=a[f],d=g.symetric,p=void 0,m=void 0;g.label===i&&(p=g),d.label===i&&(m=d),p&&m&&(m&&(l=m),p&&(l&&(l.next=p,l=void 0),u||(u=p)))}l&&(l.next=u)},n.prototype._findLabeledEdgeRings=function(){var r=[],i=0;return this.edges.forEach(function(a){if(!(a.label>=0)){r.push(a);var u=a;do{u.label=i,u=u.next}while(!a.isEqual(u));i++}}),r},n.prototype.getEdgeRings=function(){var r=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){r._findIntersectionNodes(a).forEach(function(u){r._computeNextCCWEdges(u,a.label)})});var i=[];return this.edges.forEach(function(a){a.ring||i.push(r._findEdgeRing(a))}),i},n.prototype._findIntersectionNodes=function(r){var i=[],a=r,u=function(){var l=0;a.from.getOuterEdges().forEach(function(f){f.label===r.label&&++l}),l>1&&i.push(a.from),a=a.next};do{u()}while(!r.isEqual(a));return i},n.prototype._findEdgeRing=function(r){var i=r,a=new Ph;do{a.push(i),i.ring=a,i=i.next}while(!r.isEqual(i));return a},n.prototype.removeNode=function(r){var i=this;r.getOuterEdges().forEach(function(a){return i.removeEdge(a)}),r.innerEdges.forEach(function(a){return i.removeEdge(a)}),delete this.nodes[r.id]},n.prototype.removeEdge=function(r){this.edges=this.edges.filter(function(i){return!i.isEqual(r)}),r.deleteEdge()}}(),Q(9331),Q(6882),Q(3212);var ba={search:function(n,r,i,a){n.cleanDirty();var u=(a=a||{}).heuristic||ba.heuristics.manhattan,l=a.closest||!1,f=new ql(function(n){return n.f}),g=r;for(r.h=u(r,i),f.push(r);f.size()>0;){var d=f.pop();if(d===i)return Bl(d);d.closed=!0;for(var p=n.neighbors(d),m=0,v=p.length;m<v;++m){var _=p[m];if(!_.closed&&!_.isWall()){var E=d.g+_.getCost(d),X=_.visited;(!X||E<_.g)&&(_.visited=!0,_.parent=d,_.h=_.h||u(_,i),_.g=E,_.f=_.g+_.h,n.markDirty(_),l&&(_.h<g.h||_.h===g.h&&_.g<g.g)&&(g=_),X?f.rescoreElement(_):f.push(_))}}}return l?Bl(g):[]},heuristics:{manhattan:function(n,r){return Math.abs(r.x-n.x)+Math.abs(r.y-n.y)},diagonal:function(n,r){var a=Math.sqrt(2),u=Math.abs(r.x-n.x),l=Math.abs(r.y-n.y);return 1*(u+l)+(a-2)*Math.min(u,l)}},cleanNode:function(n){n.f=0,n.g=0,n.h=0,n.visited=!1,n.closed=!1,n.parent=null}};function Is(n,r){r=r||{},this.nodes=[],this.diagonal=!!r.diagonal,this.grid=[];for(var i=0;i<n.length;i++){this.grid[i]=[];for(var a=0,u=n[i];a<u.length;a++){var l=new Ia(i,a,u[a]);this.grid[i][a]=l,this.nodes.push(l)}}this.init()}function Ia(n,r,i){this.x=n,this.y=r,this.weight=i}function ql(n){this.content=[],this.scoreFunction=n}function Tu(){this._=null}function Ca(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function js(n,r){var i=r,a=r.R,u=i.U;u?u.L===i?u.L=a:u.R=a:n._=a,a.U=u,i.U=a,i.R=a.L,i.R&&(i.R.U=i),a.L=i}function Qs(n,r){var i=r,a=r.L,u=i.U;u?u.L===i?u.L=a:u.R=a:n._=a,a.U=u,i.U=a,i.L=a.R,i.L&&(i.L.U=i),a.R=i}function Gl(n){for(;n.L;)n=n.L;return n}Is.prototype.init=function(){this.dirtyNodes=[];for(var n=0;n<this.nodes.length;n++)ba.cleanNode(this.nodes[n])},Is.prototype.cleanDirty=function(){for(var n=0;n<this.dirtyNodes.length;n++)ba.cleanNode(this.dirtyNodes[n]);this.dirtyNodes=[]},Is.prototype.markDirty=function(n){this.dirtyNodes.push(n)},Is.prototype.neighbors=function(n){var r=[],i=n.x,a=n.y,u=this.grid;return u[i-1]&&u[i-1][a]&&r.push(u[i-1][a]),u[i+1]&&u[i+1][a]&&r.push(u[i+1][a]),u[i]&&u[i][a-1]&&r.push(u[i][a-1]),u[i]&&u[i][a+1]&&r.push(u[i][a+1]),this.diagonal&&(u[i-1]&&u[i-1][a-1]&&r.push(u[i-1][a-1]),u[i+1]&&u[i+1][a-1]&&r.push(u[i+1][a-1]),u[i-1]&&u[i-1][a+1]&&r.push(u[i-1][a+1]),u[i+1]&&u[i+1][a+1]&&r.push(u[i+1][a+1])),r},Is.prototype.toString=function(){for(var i,a,u,l,n=[],r=this.grid,f=0,g=r.length;f<g;f++){for(i=[],u=0,l=(a=r[f]).length;u<l;u++)i.push(a[u].weight);n.push(i.join(" "))}return n.join("\n")},Ia.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Ia.prototype.getCost=function(n){return n&&n.x!==this.x&&n.y!==this.y?1.41421*this.weight:this.weight},Ia.prototype.isWall=function(){return 0===this.weight},ql.prototype={push:function(n){this.content.push(n),this.sinkDown(this.content.length-1)},pop:function(){var n=this.content[0],r=this.content.pop();return this.content.length>0&&(this.content[0]=r,this.bubbleUp(0)),n},remove:function(n){var r=this.content.indexOf(n),i=this.content.pop();r!==this.content.length-1&&(this.content[r]=i,this.scoreFunction(i)<this.scoreFunction(n)?this.sinkDown(r):this.bubbleUp(r))},size:function(){return this.content.length},rescoreElement:function(n){this.sinkDown(this.content.indexOf(n))},sinkDown:function(n){for(var r=this.content[n];n>0;){var i=(n+1>>1)-1,a=this.content[i];if(!(this.scoreFunction(r)<this.scoreFunction(a)))break;this.content[i]=r,this.content[n]=a,n=i}},bubbleUp:function(n){for(var r=this.content.length,i=this.content[n],a=this.scoreFunction(i);;){var g,u=n+1<<1,l=u-1,f=null;if(l<r&&(g=this.scoreFunction(this.content[l]))<a&&(f=l),u<r&&this.scoreFunction(this.content[u])<(null===f?a:g)&&(f=u),null===f)break;this.content[n]=this.content[f],this.content[f]=i,n=f}}},Tu.prototype={constructor:Tu,insert:function(n,r){var i,a,u;if(n){if(r.P=n,r.N=n.N,n.N&&(n.N.P=r),n.N=r,n.R){for(n=n.R;n.L;)n=n.L;n.L=r}else n.R=r;i=n}else this._?(n=Gl(this._),r.P=null,r.N=n,n.P=n.L=r,i=n):(r.P=r.N=null,this._=r,i=null);for(r.L=r.R=null,r.U=i,r.C=!0,n=r;i&&i.C;)i===(a=i.U).L?(u=a.R)&&u.C?(i.C=u.C=!1,a.C=!0,n=a):(n===i.R&&(js(this,i),i=(n=i).U),i.C=!1,a.C=!0,Qs(this,a)):(u=a.L)&&u.C?(i.C=u.C=!1,a.C=!0,n=a):(n===i.L&&(Qs(this,i),i=(n=i).U),i.C=!1,a.C=!0,js(this,a)),i=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var i,l,f,r=n.U,a=n.L,u=n.R;if(l=a?u?Gl(u):a:u,r?r.L===n?r.L=l:r.R=l:this._=l,a&&u?(f=l.C,l.C=n.C,l.L=a,a.U=l,l!==u?(r=l.U,l.U=n.U,r.L=n=l.R,l.R=u,u.U=l):(l.U=r,r=l,n=l.R)):(f=n.C,n=l),n&&(n.U=r),!f){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===r.L){if((i=r.R).C&&(i.C=!1,r.C=!0,js(this,r),i=r.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,Qs(this,i),i=r.R),i.C=r.C,r.C=i.R.C=!1,js(this,r),n=this._;break}}else if((i=r.L).C&&(i.C=!1,r.C=!0,Qs(this,r),i=r.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,js(this,i),i=r.L),i.C=r.C,r.C=i.L.C=!1,Qs(this,r),n=this._;break}i.C=!0,n=r,r=r.U}while(!n.C);n&&(n.C=!1)}}};const Ul=Tu;function Ks(n,r,i,a){var u=[null,null],l=Fr.push(u)-1;return u.left=n,u.right=r,i&&Sa(u,n,r,i),a&&Sa(u,r,n,a),Pi[n.index].halfedges.push(l),Pi[r.index].halfedges.push(l),u}function ta(n,r,i){var a=[r,i];return a.left=n,a}function Sa(n,r,i,a){n[0]||n[1]?n.left===i?n[1]=a:n[0]=a:(n[0]=a,n.left=r,n.right=i)}function Jh(n,r,i,a,u){var B,l=n[0],f=n[1],g=l[0],d=l[1],v=0,_=1,E=f[0]-g,X=f[1]-d;if(B=r-g,E||!(B>0)){if(B/=E,E<0){if(B<v)return;B<_&&(_=B)}else if(E>0){if(B>_)return;B>v&&(v=B)}if(B=a-g,E||!(B<0)){if(B/=E,E<0){if(B>_)return;B>v&&(v=B)}else if(E>0){if(B<v)return;B<_&&(_=B)}if(B=i-d,X||!(B>0)){if(B/=X,X<0){if(B<v)return;B<_&&(_=B)}else if(X>0){if(B>_)return;B>v&&(v=B)}if(B=u-d,X||!(B<0)){if(B/=X,X<0){if(B>_)return;B>v&&(v=B)}else if(X>0){if(B<v)return;B<_&&(_=B)}return!(v>0)&&!(_<1)||(v>0&&(n[0]=[g+v*E,d+v*X]),_<1&&(n[1]=[g+_*E,d+_*X])),!0}}}}}function Hh(n,r,i,a,u){var l=n[1];if(l)return!0;var B,it,f=n[0],g=n.left,d=n.right,p=g[0],m=g[1],v=d[0],_=d[1],E=(p+v)/2;if(_===m){if(E<r||E>=a)return;if(p>v){if(f){if(f[1]>=u)return}else f=[E,i];l=[E,u]}else{if(f){if(f[1]<i)return}else f=[E,u];l=[E,i]}}else if(it=(m+_)/2-(B=(p-v)/(_-m))*E,B<-1||B>1)if(p>v){if(f){if(f[1]>=u)return}else f=[(i-it)/B,i];l=[(u-it)/B,u]}else{if(f){if(f[1]<i)return}else f=[(u-it)/B,u];l=[(i-it)/B,i]}else if(m<_){if(f){if(f[0]>=a)return}else f=[r,B*r+it];l=[a,B*a+it]}else{if(f){if(f[0]<r)return}else f=[a,B*a+it];l=[r,B*r+it]}return n[0]=f,n[1]=l,!0}function Vh(n,r){var i=n.site,a=r.left,u=r.right;return i===u&&(u=a,a=i),u?Math.atan2(u[1]-a[1],u[0]-a[0]):(i===a?(a=r[1],u=r[0]):(a=r[0],u=r[1]),Math.atan2(a[0]-u[0],u[1]-a[1]))}function Zl(n,r){return r[+(r.left!==n.site)]}function jh(n,r){return r[+(r.left===n.site)]}var Ou,zl=[];function tp(){Ca(this),this.x=this.y=this.arc=this.site=this.cy=null}function Cs(n){var r=n.P,i=n.N;if(r&&i){var a=r.site,u=n.site,l=i.site;if(a!==l){var f=u[0],g=u[1],d=a[0]-f,p=a[1]-g,m=l[0]-f,v=l[1]-g,_=2*(d*v-p*m);if(!(_>=-op)){var E=d*d+p*p,X=m*m+v*v,B=(v*E-p*X)/_,it=(d*X-m*E)/_,H=zl.pop()||new tp;H.arc=n,H.site=u,H.x=B+f,H.y=(H.cy=it+g)+Math.sqrt(B*B+it*it),n.circle=H;for(var k=null,Y=ea._;Y;)if(H.y<Y.y||H.y===Y.y&&H.x<=Y.x){if(!Y.L){k=Y.P;break}Y=Y.L}else{if(!Y.R){k=Y;break}Y=Y.R}ea.insert(k,H),k||(Ou=H)}}}}function Ss(n){var r=n.circle;r&&(r.P||(Ou=r.N),ea.remove(r),zl.push(r),Ca(r),n.circle=null)}var Yl=[];function ep(){Ca(this),this.edge=this.site=this.circle=null}function Xl(n){var r=Yl.pop()||new ep;return r.site=n,r}function Au(n){Ss(n),Ps.remove(n),Yl.push(n),Ca(n)}function np(n){var r=n.circle,i=r.x,a=r.cy,u=[i,a],l=n.P,f=n.N,g=[n];Au(n);for(var d=l;d.circle&&Math.abs(i-d.circle.x)<kn&&Math.abs(a-d.circle.cy)<kn;)l=d.P,g.unshift(d),Au(d),d=l;g.unshift(d),Ss(d);for(var p=f;p.circle&&Math.abs(i-p.circle.x)<kn&&Math.abs(a-p.circle.cy)<kn;)f=p.N,g.push(p),Au(p),p=f;g.push(p),Ss(p);var v,m=g.length;for(v=1;v<m;++v)Sa((p=g[v]).edge,(d=g[v-1]).site,p.site,u);(p=g[m-1]).edge=Ks((d=g[0]).site,p.site,null,u),Cs(d),Cs(p)}function rp(n){for(var a,u,l,f,r=n[0],i=n[1],g=Ps._;g;)if((l=Jl(g,i)-r)>kn)g=g.L;else{if(!((f=r-ip(g,i))>kn)){l>-kn?(a=g.P,u=g):f>-kn?(a=g,u=g.N):a=u=g;break}if(!g.R){a=g;break}g=g.R}!function(n){Pi[n.index]={site:n,halfedges:[]}}(n);var d=Xl(n);if(Ps.insert(a,d),a||u){if(a===u)return Ss(a),u=Xl(a.site),Ps.insert(d,u),d.edge=u.edge=Ks(a.site,d.site),Cs(a),void Cs(u);if(!u)return void(d.edge=Ks(a.site,d.site));Ss(a),Ss(u);var p=a.site,m=p[0],v=p[1],_=n[0]-m,E=n[1]-v,X=u.site,B=X[0]-m,it=X[1]-v,H=2*(_*it-E*B),k=_*_+E*E,Y=B*B+it*it,gt=[(it*k-E*Y)/H+m,(_*Y-B*k)/H+v];Sa(u.edge,p,X,gt),d.edge=Ks(p,n,null,gt),u.edge=Ks(n,X,null,gt),Cs(a),Cs(u)}}function Jl(n,r){var i=n.site,a=i[0],u=i[1],l=u-r;if(!l)return a;var f=n.P;if(!f)return-1/0;var g=(i=f.site)[0],d=i[1],p=d-r;if(!p)return g;var m=g-a,v=1/l-1/p,_=m/p;return v?(-_+Math.sqrt(_*_-2*v*(m*m/(-2*p)-d+p/2+u-l/2)))/v+a:(a+g)/2}function ip(n,r){var i=n.N;if(i)return Jl(i,r);var a=n.site;return a[1]===r?a[0]:1/0}var Ps,Pi,ea,Fr,kn=1e-6,op=1e-12;function sp(n,r,i){return(n[0]-i[0])*(r[1]-n[1])-(n[0]-r[0])*(i[1]-n[1])}function ap(n,r){return r[1]-n[1]||r[0]-n[0]}function Hl(n,r){var a,u,l,i=n.sort(ap).pop();for(Fr=[],Pi=new Array(n.length),Ps=new Ul,ea=new Ul;;)if(l=Ou,i&&(!l||i[1]<l.y||i[1]===l.y&&i[0]<l.x))(i[0]!==a||i[1]!==u)&&(rp(i),a=i[0],u=i[1]),i=n.pop();else{if(!l)break;np(l.arc)}if(function(){for(var i,a,u,l,n=0,r=Pi.length;n<r;++n)if((i=Pi[n])&&(l=(a=i.halfedges).length)){var f=new Array(l),g=new Array(l);for(u=0;u<l;++u)f[u]=u,g[u]=Vh(i,Fr[a[u]]);for(f.sort(function(d,p){return g[p]-g[d]}),u=0;u<l;++u)g[u]=a[f[u]];for(u=0;u<l;++u)a[u]=g[u]}}(),r){var f=+r[0][0],g=+r[0][1],d=+r[1][0],p=+r[1][1];(function(n,r,i,a){for(var l,u=Fr.length;u--;)Hh(l=Fr[u],n,r,i,a)&&Jh(l,n,r,i,a)&&(Math.abs(l[0][0]-l[1][0])>kn||Math.abs(l[0][1]-l[1][1])>kn)||delete Fr[u]})(f,g,d,p),function(n,r,i,a){var l,f,g,d,p,m,v,_,E,X,B,it,u=Pi.length,H=!0;for(l=0;l<u;++l)if(f=Pi[l]){for(g=f.site,d=(p=f.halfedges).length;d--;)Fr[p[d]]||p.splice(d,1);for(d=0,m=p.length;d<m;)B=(X=jh(f,Fr[p[d]]))[0],it=X[1],_=(v=Zl(f,Fr[p[++d%m]]))[0],E=v[1],(Math.abs(B-_)>kn||Math.abs(it-E)>kn)&&(p.splice(d,0,Fr.push(ta(g,X,Math.abs(B-n)<kn&&a-it>kn?[n,Math.abs(_-n)<kn?E:a]:Math.abs(it-a)<kn&&i-B>kn?[Math.abs(E-a)<kn?_:i,a]:Math.abs(B-i)<kn&&it-r>kn?[i,Math.abs(_-i)<kn?E:r]:Math.abs(it-r)<kn&&B-n>kn?[Math.abs(E-r)<kn?_:n,r]:null))-1),++m);m&&(H=!1)}if(H){var k,Y,gt,ht=1/0;for(l=0,H=null;l<u;++l)(f=Pi[l])&&(gt=(k=(g=f.site)[0]-n)*k+(Y=g[1]-r)*Y)<ht&&(ht=gt,H=f);if(H){var _t=[n,r],vt=[n,a],St=[i,a],tt=[i,r];H.halfedges.push(Fr.push(ta(g=H.site,_t,vt))-1,Fr.push(ta(g,vt,St))-1,Fr.push(ta(g,St,tt))-1,Fr.push(ta(g,tt,_t))-1)}}for(l=0;l<u;++l)(f=Pi[l])&&(f.halfedges.length||delete Pi[l])}(f,g,d,p)}this.edges=Fr,this.cells=Pi,Ps=ea=Fr=Pi=null}function Yo(){return new Pa}function Pa(){this.reset()}Hl.prototype={constructor:Hl,polygons:function(){var n=this.edges;return this.cells.map(function(r){var i=r.halfedges.map(function(a){return Zl(r,n[a])});return i.data=r.site.data,i})},triangles:function(){var n=[],r=this.edges;return this.cells.forEach(function(i,a){if(g=(l=i.halfedges).length)for(var l,g,d,u=i.site,f=-1,p=r[l[g-1]],m=p.left===u?p.right:p.left;++f<g;)d=m,m=(p=r[l[f]]).left===u?p.right:p.left,d&&m&&a<d.index&&a<m.index&&sp(u,d,m)<0&&n.push([u.data,d.data,m.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,r,i){for(var u,g,a=this,l=a._found||0,f=a.cells.length;!(g=a.cells[l]);)if(++l>=f)return null;var d=n-g.site[0],p=r-g.site[1],m=d*d+p*p;do{g=a.cells[u=l],l=null,g.halfedges.forEach(function(v){var _=a.edges[v],E=_.left;if(E!==g.site&&E||(E=_.right)){var X=n-E[0],B=r-E[1],it=X*X+B*B;it<m&&(m=it,l=E.index)}})}while(null!==l);return a._found=u,null==i||m<=i*i?g.site:null}},Q(171),Q(7299),Pa.prototype={constructor:Pa,reset:function(){this.s=this.t=0},add:function(n){ic(Na,n,this.t),ic(this,Na.s,this.s),this.s?this.t+=Na.t:this.s=Na.t},valueOf:function(){return this.s}};var Na=new Pa;function ic(n,r,i){var a=n.s=r+i,u=a-r;n.t=r-(a-u)+(i-u)}var n,zn=Math.PI,hi=zn/2,Ns=2*zn,On=zn/180,na=(Math,Math.atan),Ms=Math.atan2,un=Math.cos,Ke=(Math,Math,Math,Math,Math,Math.sin),Lo=(Math,Math.sqrt);Math;function Ls(n){return n>1?hi:n<-1?-hi:Math.asin(n)}function Hu(n,r){return[n>zn?n-Ns:n<-zn?n+Ns:n,r]}function Tc(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}Yo(),Yo(),Yo(),Hu.invert=Hu,1===(n=Tc).length&&(n=function(n){return function(r,i){return Tc(n(r),i)}}(n)),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Yo();function hl(){}function rf(n){return function(r,i){var a=un(r),u=un(i),l=n(a*u);return[l*u*Ke(r),l*Ke(i)]}}function ha(n){return function(r,i){var a=Lo(r*r+i*i),u=n(a),l=Ke(u),f=un(u);return[Ms(r*l,a*f),Ls(a&&i*l/a)]}}function gl(n,r){return[n,r]}Yo(),Yo(),Yo(),Yo(),hl.prototype={constructor:hl,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},un(30*On),rf(function(n){return Lo(2/(1+n))}).invert=ha(function(n){return 2*Ls(n/2)}),rf(function(n){return(n=function(n){return n>1?0:n<-1?zn:Math.acos(n)}(n))&&n/Ke(n)}).invert=ha(function(n){return n}),gl.invert=gl,ha(na),ha(Ls),ha(function(n){return 2*na(n)});var Ag=Q(3006);const Rg=function(n){return{"bg-darkGrayBlue":n}};function Dg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"li",38),h.NdJ("click",function(){const l=h.CHM(i).$implicit;return h.oxw().changeBaseMap(l.url)}),h.TgZ(1,"a",39),h._UZ(2,"img",40),h.TgZ(3,"span",41),h._uU(4),h.qZA(),h.qZA(),h.qZA()}if(2&n){const i=r.$implicit,a=h.oxw();h.Tol(h.VKq(4,Rg,i.url==a.currentView)),h.xp6(2),h.MGl("src","assets/",i.icon,".png",h.LSH),h.xp6(2),h.Oqu(i.view)}}function Fg(n,r){if(1&n&&(h.TgZ(0,"div",15),h.TgZ(1,"div",16),h._UZ(2,"span",42),h.qZA(),h.TgZ(3,"span",18),h._uU(4),h.qZA(),h.TgZ(5,"span",19),h._uU(6,"Deed name"),h.qZA(),h.qZA()),2&n){const i=h.oxw();h.xp6(4),h.Oqu(i.bidDetails.sale_text)}}function kg(n,r){if(1&n&&(h.TgZ(0,"li"),h._UZ(1,"span",43),h._uU(2,"Sale For "),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.qZA()),2&n){const i=h.oxw();h.xp6(4),h.hij("L$",i.bidDetails.sale_price,"")}}function Bg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"li",26),h.NdJ("click",function(){return h.CHM(i),h.oxw().doBid()}),h._UZ(1,"span",44),h._uU(2,"Bid"),h.qZA()}}function qg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"li",45),h.NdJ("click",function(){return h.CHM(i),h.oxw().cancelBid()}),h._UZ(1,"span",46),h._uU(2),h.qZA()}if(2&n){const i=h.oxw();h.xp6(2),h.hij("Cancel your Bid of $L",i.currentBidDetails.data.price,"")}}const dl=function(n,r){return{info:n,light:r}};let Gg=(()=>{class n{constructor(i){this.data=i,this.isGridVisible=!1,this.is3D=!1,this.isTerrain=!1,this.deedId="",this.deedAvailableForBid=!1,this.currentGroupCenter={lat:0,lng:0},this.ownProperty=!1,this.allBidIds=[],this.bidDetails={banner_path:"assets/logo.jpg",picture:"assets/logo.jpg",code:"no-flag",country_name:"",first_name:"",last_name:"",price:"0",sale_price:"0",sale_text:"",for_sale:!1,location_name:null},this.currentBidDetails={status:!1,data:null},this.userSaveIds=[],this.tempUserIds=[],this.newGridClick=!1,this.userPointCenters={},this.sideInfoExpand=!1,this.settings={settings:{country_flag_id:null,id:-1,is_allowed_bid_low_price:!1,is_send_email:!1,is_shown_profile_for_activity:!1,map_view:-1,user_id:-1,google2fa_enable:!1,google2fa:!1},mapViews:[{id:1,url:"mapbox://styles/mapbox/streets-v11",view:"Mapbox Streets",icon:"street"},{id:2,url:"mapbox://styles/mapbox/outdoors-v11",view:"Mapbox Outdoors",icon:"outdoors"},{id:3,url:"mapbox://styles/mapbox/light-v10",view:"Mapbox Light",icon:"light"},{id:4,url:"mapbox://styles/mapbox/dark-v10",view:"Mapbox Dark",icon:"dark"},{id:5,url:"mapbox://styles/mapbox/satellite-streets-v11",view:"Mapbox Satellite Streets",icon:"satellite"},{id:6,url:"mapbox://styles/mapbox/navigation-day-v1",view:"Mapbox Navigation Day",icon:"day"},{id:7,url:"mapbox://styles/mapbox/navigation-night-v1",view:"Mapbox Navigation Night",icon:"night"}]},this.currentView="mapbox://styles/mapbox/satellite-streets-v11",this.tileUrl=""}ngOnInit(){setTimeout(()=>{this.initMap()},2e3),this.data.checkLogin()&&-1===O.F.settings.settings.id?this.data.currentMessage.subscribe(i=>{"fetch-settings"===i&&$("#map").length>0&&setTimeout(()=>{this.initMap()},2e3)}):setTimeout(()=>{this.initMap()},2e3)}changeBaseMap(i){this.currentView=i,this.map.setStyle(this.currentView)}setGridVisibility(){"none"==this.map.getLayoutProperty("sub-sub-maine","visibility")?(this.map.setLayoutProperty("sub-sub-maine","visibility","visible"),this.map.setLayoutProperty("sub-sub-grid-highlighted","visibility","visible"),this.isGridVisible=!0):(this.map.setLayoutProperty("sub-sub-maine","visibility","none"),this.map.setLayoutProperty("sub-sub-grid-highlighted","visibility","none"),this.isGridVisible=!1)}set3D(){"none"==this.map.getLayoutProperty("add-3d-buildings","visibility")?(this.map.setLayoutProperty("add-3d-buildings","visibility","visible"),this.is3D=!0):(this.map.setLayoutProperty("add-3d-buildings","visibility","none"),this.is3D=!1)}setTerrain(){null==this.map.getTerrain()?(this.map.setTerrain({source:"mapbox-dem",exaggeration:1.5}),this.isTerrain=!0):(this.map.setTerrain(null),this.isTerrain=!1)}initMap(){this.settings=O.F.settings;let i=this.settings.mapViews.filter(l=>l.id==this.settings.settings.map_view);if(i.length>0&&(this.currentView=i[0].url),this.map=new mapboxgl.Map({container:"map",center:[26,5],zoom:5,accessToken:O.F.accessToken,style:this.currentView}),this.map.addControl(new MapboxGeocoder({accessToken:O.F.accessToken,mapboxgl}),"top-left"),""===O.F.getCookie("userTiles")||""===O.F.getCookie("userTilesLatLngs"))O.F.setCookie("userTiles",JSON.stringify({data:[]}),1),O.F.setCookie("userTilesLatLngs",JSON.stringify({data:{}}),1);else{var a=JSON.parse(O.F.getCookie("userTiles")),u=JSON.parse(O.F.getCookie("userTilesLatLngs"));a.data.length>0&&Object.keys(u.data).length>0?(this.userSaveIds=a.data,this.userPointCenters=u.data):(O.F.setCookie("userTiles",JSON.stringify({data:[]}),1),O.F.setCookie("userTilesLatLngs",JSON.stringify({data:{}}),1))}this.map.on("styleimagemissing",l=>{this.map.loadImage(`assets/countries/${l.id}.png`,(f,g)=>{f||this.map.addImage(l.id,g)})}),this.map.on("style.load",l=>{const g=this.map.getStyle().layers.find(p=>"symbol"===p.type&&p.layout["text-field"]),d=this.is3D?"visible":"none";void 0!==g?this.map.addLayer({id:"add-3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.9},layout:{visibility:d}},g.id):this.map.addLayer({id:"add-3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.9},layout:{visibility:d}}),this.map.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),this.isTerrain&&this.map.setTerrain({source:"mapbox-dem",exaggeration:1.5})})}saveSelections(){O.F.setCookie("userTiles",JSON.stringify({data:this.userSaveIds}),1),O.F.setCookie("userTilesLatLngs",JSON.stringify({data:this.userPointCenters}),1),this.map.setFilter("sub-sub-grid-highlighted",this.buildFilter())}buildFilter(){const i=["in","id"];for(let a=0;a<this.userSaveIds.length;a+=1)i.push(this.userSaveIds[a]);for(let a=0;a<this.tempUserIds.length;a+=1)i.push(this.tempUserIds[a]);return i}buildFilterForBid(){const i=["in","id"];if(0===this.allBidIds.length)return i;for(let a=0;a<this.allBidIds.length;a+=1)i.push(this.allBidIds[a].grid_id);return i}buyLand(){if(!this.data.checkLogin())return void this.data.redirect("login");const i=this;Metro.dialog.create({title:"Please enter this property name",content:'<div id="property-error-div"></div><div class="form-group">\n<input type="text" id="property-name" data-role="materialinput"\n       placeholder="Enter property name"\n       data-icon="<span class=\'mif-info\'>"\n       data-label="Property name"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n></div>',clsDialog:"buy-land-dialog",actions:[{caption:"Buy",cls:"success",onclick:function(){const u=$("#property-name").val();if(u.length<2)return $("#property-error-div").empty().append("Property name must be at least 2 characters"),void O.F.invalidForm("#property-error-div");Metro.dialog.close(".buy-land-dialog"),i.buyLandRequest(u)}},{caption:"No",cls:"js-dialog-close light",onclick:function(){}}]})}buyLandRequest(i){const a=[],u=[];this.userSaveIds.forEach(g=>{const d=z((0,Ag.parse)(this.userPointCenters[g]));u.push(d),a.push({id:g,latlng:this.userPointCenters[g]})});const l=zs(at(u)),f_lat=l.geometry.coordinates[1],f_lng=l.geometry.coordinates[0];O.F.loading("location"),this.data.apiGetService(`https://api.mapbox.com/geocoding/v5/mapbox.places/${f_lng},${f_lat}.json?access_token=${O.F.accessToken}&limit=1&types=address`,!0,new S.LE).subscribe(g=>{O.F.loading("location",!0);try{const d={fts:a,center:l.geometry.coordinates.join(","),name:i,location:g.features[0].place_name};O.F.loading("land"),this.data.apiService("buy/land",d).subscribe(p=>{O.F.loading("land",!0),p.hasOwnProperty("status")&&(O.F.fire(p.message,!p.status),p.status&&(this.clearSelection(),this.data.changeMessage("get-profile"),this.tileUrl=`${O.F.server}grids/{z}/{x}/{y}?dt=${Date.now()}&token=`+O.F.getCookie("access_token"),this.map.getSource("grid-source").setTiles([this.tileUrl])))},p=>{O.F.fire("Unable to process. Internal Error",!0),O.F.loading("land",!0)})}catch(d){O.F.loading("land",!0)}},g=>{O.F.loading("location",!0)})}clearSelection(){O.F.setCookie("userTiles",JSON.stringify({data:[]}),1),O.F.setCookie("userTilesLatLngs",JSON.stringify({data:[]}),1),this.userSaveIds=[],this.tempUserIds=[],this.userPointCenters={},this.map.setFilter("sub-sub-grid-highlighted",this.buildFilter())}clearBidSelection(){this.currentGroupCenter={lat:0,lng:0},this.allBidIds=[],this.bidDetails={banner_path:"assets/logo.jpg",picture:"assets/logo.jpg",code:"no-flag",country_name:"",first_name:"",last_name:"",price:"0",sale_price:"0",sale_text:""},this.map.setFilter("grids-for-bid",this.buildFilterForBid()),Metro.bottomsheet.close("#group-view","list")}getPropertInfo(i){this.clearBidSelection(),O.F.loading("bid"),this.deedId=i,this.deedAvailableForBid=!1,this.data.apiGetService(O.F.server+`get/property/${i}`,!0).subscribe(a=>{if(O.F.loading("bid",!0),a.grids.length>0){const u=[];a.grids=a.grids.map(d=>(d.point=JSON.parse(d.point),u.push(z(d.point)),d));const l=at(u),f=zs(l);this.currentGroupCenter={lat:f.geometry.coordinates[1],lng:f.geometry.coordinates[0]},this.allBidIds=a.grids,this.map.setFilter("grids-for-bid",this.buildFilterForBid())}null!=a.detail.picture&&(a.detail.picture=O.F.server+a.detail.picture),null!=a.detail.banner_path&&(a.detail.banner_path=O.F.server+a.detail.banner_path),this.bidDetails=a.detail,this.currentBidDetails=a.bid_details,null==this.bidDetails.location_name?this.data.updateLocationName(this.currentGroupCenter,this.deedId).then(u=>{this.bidDetails.location_name=u,Metro.bottomsheet.open("#group-view","list")}):Metro.bottomsheet.open("#group-view","list")},a=>{O.F.fire("Unable to fetch. Internal Error",!0),O.F.loading("bid",!0)})}viewProperty(){this.data.redirect("dashboard/app/property",this.deedId)}openBidDialog(){const i=this;Metro.dialog.create({title:"Enter Bid Details",content:'<div id="bid-error-div" class="fg-red text-small"></div><div class="form-group">\n<input type="number" id="bid-price" value="0.0" data-role="materialinput"\n                       placeholder="Enter your bid price"\n                       data-icon="<span class=\'mif-dollars\'>"\n                       data-label="Bid Price"\n                       data-cls-line="bg-cyan"\n                       data-cls-label="fg-cyan"\n                       data-cls-informer="fg-lightCyan"\n                       data-cls-icon="fg-darkCyan"\n                ></div>',clsDialog:"bid-dialog fg-amber",actions:[{caption:"Submit",cls:"warning",onclick:function(){let u=$("#bid-price").val();if(!isNaN(u)&&(u=Number(u),u>0))return i.submitBid(u),void Metro.dialog.close(".bid-dialog");$("#bid-error-div").empty().append("Invalid bid details. It should be valid digit or number"),setTimeout(()=>{$("#bid-error-div").empty()},3e3),O.F.invalidForm("#bid-error-div")}},{caption:"Cancel",cls:"js-dialog-close alert",onclick:function(){}}]})}submitBid(i){const a=new FormData;a.append("gid",this.deedId),a.append("price",i),O.F.loading("biddo"),this.data.apiService("bid/do",a).subscribe(u=>{O.F.loading("biddo",!0),u.hasOwnProperty("status")?(O.F.fire(u.message,!u.status),u.status&&this.data.changeMessage("get-profile")):O.F.fire("Invalid request. Please try again later",!0)},u=>{O.F.loading("biddo",!0),O.F.fire("Invalid request. Please try again later",!0)})}doBid(){this.data.checkLogin()?this.openBidDialog():this.data.redirect("login")}cancelBid(){const i=this;Metro.dialog.create({title:"Bid",content:"Do you want to cancel your bid?",actions:[{caption:"Yes cancel",cls:"js-dialog-close alert",onclick:function(){i.cancelBidRequest()}},{caption:"No",cls:"js-dialog-close success",onclick:function(){}}]})}cancelBidRequest(){O.F.loading("bidcancel"),this.data.apiGetService("bid/cancel/"+this.currentBidDetails.data.id).subscribe(i=>{O.F.loading("bidcancel",!0),i.hasOwnProperty("status")?(O.F.fire(i.message,!i.status),i.status&&this.data.changeMessage("get-profile")):O.F.fire("Invalid request. Please try again later",!0)},i=>{O.F.loading("bidcancel",!0),O.F.fire("Invalid request. Please try again later",!0)})}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(O.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-map"]],decls:56,vars:28,consts:[["id","map",1,"w-100","h-100",2,"z-index","0","top","50px"],[1,"pos-fixed","z-1",2,"bottom","30px","left","10px"],["id","basemaps_toggle",1,"button","cycle","light"],[1,"mif-map"],["data-role","dropdown","data-toggle-element","#basemaps_toggle",1,"d-menu","drop-up","shadowed","fg-black",2,"width","230px","background","rgba(255,255,255,0.7)","margin-left","0","border-radius","7px"],["class","c-pointer bg-transparent p-2",3,"class","click",4,"ngFor","ngForOf"],["data-role","bottomsheet","id","group-view",2,"min-width","650px"],[1,"p-0",2,"height","200px"],[1,"d-flex","flex-align-center"],[1,"d-flex","flex-column"],["onError","this.src='assets/logo.jpg'",2,"width","200px","height","130px",3,"src"],[1,"invalid_feedback","d-block",2,"height","20px"],[1,"invalid_feedback","d-block"],[1,"items-list"],["class","item",4,"ngIf"],[1,"item"],[1,"avatar"],[1,"icon","mif-pin"],[1,"label"],[1,"second-label"],["onError","this.src='assets/logo.jpg'",2,"width","40px","height","40px","border-radius","50%",3,"src"],[1,"icon","mif-apps"],[1,"text-bold"],[4,"ngIf"],["class","button d-flex dark flex-justify-between",3,"click",4,"ngIf"],["class","button d-flex alert flex-justify-between",3,"click",4,"ngIf"],[1,"button","d-flex","dark","flex-justify-between",3,"click"],[1,"icon","mif-paragraph-center"],["onclick","Metro.bottomsheet.close('#group-view', 'list')",1,"button","d-flex","alert","flex-justify-between",3,"click"],[1,"icon","mif-cross-light"],[1,"pos-absolute","d-flex","flex-column","z-1",2,"right","10px","bottom","70px"],[1,"button","light","cycle","shadowed","m-1",3,"click"],[1,"mif-plus"],[1,"button","cycle","shadowed","m-1",3,"click"],[1,"mif-apps"],[1,"mif-location-city"],[1,"mif-traffic-cone"],[1,"mif-minus"],[1,"c-pointer","bg-transparent","p-2",3,"click"],[1,"d-flex",2,"font-size","15px","color","black"],[1,"circle","shadowed",2,"width","35px","height","35px","border-radius","17px","margin","-17px -3px",3,"src"],[1,"pos-absolute",2,"left","45px","white-space","nowrap"],[1,"icon","mif-info"],[1,"icon","mif-dollars"],[1,"icon","mif-cart"],[1,"button","d-flex","alert","flex-justify-between",3,"click"],[1,"icon","mif-backspace1"]],template:function(i,a){1&i&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"button",2),h._UZ(3,"span",3),h.qZA(),h.TgZ(4,"ul",4),h.YNc(5,Dg,5,6,"li",5),h.qZA(),h.qZA(),h.TgZ(6,"ul",6),h.TgZ(7,"li",7),h.TgZ(8,"div",8),h.TgZ(9,"div",9),h._UZ(10,"img",10),h.TgZ(11,"span",11),h._uU(12),h.qZA(),h.TgZ(13,"span",12),h._uU(14),h.qZA(),h.qZA(),h.TgZ(15,"div",13),h.YNc(16,Fg,7,1,"div",14),h.TgZ(17,"div",15),h.TgZ(18,"div",16),h._UZ(19,"span",17),h.qZA(),h.TgZ(20,"span",18),h._uU(21),h.qZA(),h.TgZ(22,"span",19),h._uU(23,"Located at"),h.qZA(),h.qZA(),h.TgZ(24,"div",15),h.TgZ(25,"div",16),h._UZ(26,"img",20),h.qZA(),h.TgZ(27,"span",18),h._uU(28),h.qZA(),h.TgZ(29,"span",19),h._uU(30,"Owner"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(31,"li"),h._UZ(32,"span",21),h._uU(33,"Tiles "),h.TgZ(34,"span",22),h._uU(35),h.qZA(),h.qZA(),h.YNc(36,kg,5,1,"li",23),h.YNc(37,Bg,3,0,"li",24),h.YNc(38,qg,3,1,"li",25),h.TgZ(39,"li",26),h.NdJ("click",function(){return a.viewProperty()}),h._UZ(40,"span",27),h._uU(41,"Details"),h.qZA(),h.TgZ(42,"li",28),h.NdJ("click",function(){return a.clearBidSelection()}),h._UZ(43,"span",29),h._uU(44,"Close"),h.qZA(),h.qZA(),h.TgZ(45,"div",30),h.TgZ(46,"button",31),h.NdJ("click",function(){return a.map.zoomIn()}),h._UZ(47,"span",32),h.qZA(),h.TgZ(48,"button",33),h.NdJ("click",function(){return a.setGridVisibility()}),h._UZ(49,"span",34),h.qZA(),h.TgZ(50,"button",33),h.NdJ("click",function(){return a.set3D()}),h._UZ(51,"span",35),h.qZA(),h.TgZ(52,"button",33),h.NdJ("click",function(){return a.setTerrain()}),h._UZ(53,"span",36),h.qZA(),h.TgZ(54,"button",31),h.NdJ("click",function(){return a.map.zoomOut()}),h._UZ(55,"span",37),h.qZA(),h.qZA(),h.qZA()),2&i&&(h.xp6(5),h.Q6J("ngForOf",a.settings.mapViews),h.xp6(5),h.s9C("src",a.bidDetails.banner_path,h.LSH),h.xp6(2),h.hij("Lat ",a.currentGroupCenter.lat,""),h.xp6(2),h.hij("Lng ",a.currentGroupCenter.lng,""),h.xp6(2),h.Q6J("ngIf",a.bidDetails.for_sale),h.xp6(5),h.hij("",a.bidDetails.location_name," "),h.xp6(5),h.s9C("src",a.bidDetails.picture,h.LSH),h.xp6(2),h.AsE("",a.bidDetails.first_name," ",a.bidDetails.last_name,""),h.xp6(7),h.Oqu(a.allBidIds.length),h.xp6(1),h.Q6J("ngIf",a.bidDetails.for_sale),h.xp6(1),h.Q6J("ngIf",a.bidDetails.for_sale&&!a.currentBidDetails.status&&0==a.ownProperty),h.xp6(1),h.Q6J("ngIf",a.bidDetails.for_sale&&a.currentBidDetails.status&&0==a.ownProperty),h.xp6(10),h.Tol(h.WLB(19,dl,a.isGridVisible,!a.isGridVisible)),h.xp6(2),h.Tol(h.WLB(22,dl,a.is3D,!a.is3D)),h.xp6(2),h.Tol(h.WLB(25,dl,a.isTerrain,!a.isTerrain)))},directives:[F.sg,F.O5],styles:[""]}),n})(),Ug=(()=>{class n{constructor(i){this.data=i}canActivate(i,a){const u=this.data.checkLogin();return u||-1===location.hash.indexOf("login")&&window.location.assign(window.location.origin+"/#/login"),u}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(O.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zg(n,r){if(1&n&&(h.TgZ(0,"div",27),h._UZ(1,"span",28),h.TgZ(2,"span",29),h._uU(3),h.qZA(),h.TgZ(4,"span",30),h.TgZ(5,"label"),h._uU(6),h.qZA(),h.TgZ(7,"label"),h._uU(8),h.qZA(),h.qZA(),h.TgZ(9,"span",31),h._uU(10),h.qZA(),h.qZA()),2&n){const i=r.$implicit,a=h.oxw();h.xp6(3),h.Oqu(i.file_name),h.xp6(3),h.hij("Time: ",i.start_time,""),h.xp6(2),h.hij("ID: ",i.job_id,""),h.xp6(2),h.hij(" ",a.getStatus(i.status)," ")}}const yf=function(n){return{"d-none":n}};let zg=(()=>{class n{constructor(i){this.data=i,this.file=null,this.jobs=[],this.processReady=!1}ngOnInit(){this.getJobs()}getJobs(){O.F.loading("getJob",!1),this.data.apiGetService("jobs/user").subscribe(i=>{O.F.loading("getJob",!0),this.jobs=i},i=>{O.F.loading("getJob",!0)})}getFile(i){this.file=i.target.files[0],console.log(this.file)}checkForInvalid(i){const a=this;setTimeout(()=>{console.log("checking"),$(".invalid").length>0?O.F.invalidForm("#data-form"):a.processFile(i)},200)}processFile(i){i.stopPropagation();const a=new FormData;a.append("file",this.file),O.F.loading("create_job",!1),this.data.apiService("create_job",a).subscribe(u=>{this.file=null,O.F.loading("create_job",!0),O.F.fire(u.message,!u.status),u.status&&this.processJobDetails(u.job_id)},u=>{this.file=null,O.F.loading("create_job",!0)})}processJobDetails(i){const a=$("#data-form").serializeArray(),u={job_id:i};a.forEach(l=>{u[l.name]=l.value}),O.F.loading("create_job",!1),this.data.apiService("create_job_details",u).subscribe(l=>{O.F.loading("create_job",!0),O.F.fire("Job created successfully",!1),this.getJobs()},l=>{O.F.loading("create_job",!0)})}getStatus(i){let a="Unknown";switch(i){case 0:a="Submitted";break;case 1:a="Processed"}return a}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(O.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-upload"]],decls:59,vars:8,consts:[[1,"container","h-100","p-0",2,"background","rgba(255,255,255,0.75)","overflow","auto"],[1,"mt-8","pb-5","pl-3","pr-3","pt-20","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"header","fg-white",2,"background","rgba(138, 162, 174,0.7)"],[1,"avatar"],[1,"icon","mif-2x","mif-chart-line"],[1,"title"],[3,"ngClass"],["type","file","data-role","file","data-mode","drop","accept",".geojson,.kml,.shp,.gpkg",3,"change"],[1,"form-group",3,"ngClass"],["id","data-form","data-clear-invalid","3000","data-role","validator","action","javascript:",3,"submit"],[1,"form-group","d-flex","flex-column"],["type","text","name","description","data-role","input","placeholder","Enter description","data-prepend","<span class='mif-info'>","data-label","Description","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required minlength=6"],[1,"invalid_feedback"],["type","text","name","country","data-role","input","placeholder","Enter country name","data-prepend","<span class='mif-info'>","data-label","Country","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","state","data-role","input","placeholder","Enter state name","data-prepend","<span class='mif-info'>","data-label","State","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","county","data-role","input","placeholder","Enter county name","data-prepend","<span class='mif-info'>","data-label","County","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","open_data_url","data-role","input","placeholder","Enter open data url","data-prepend","<span class='mif-info'>","data-label","Open Data URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","download_url","data-role","input","placeholder","Enter download url","data-prepend","<span class='mif-info'>","data-label","Download URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","mapping_service_url","data-role","input","placeholder","Enter mapping service url","data-prepend","<span class='mif-info'>","data-label","Mapping Service URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","text","name","property_search_url","data-role","input","placeholder","Enter property search url","data-prepend","<span class='mif-info'>","data-label","Property Search URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],[1,"form-group","d-flex","flex-column","mb-3"],["type","text","name","tax_collect_url","data-role","input","placeholder","tax collect url","data-prepend","<span class='mif-info'>","data-label","Tax Collect URL","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","data-validate","required"],["type","submit",1,"button","small","success"],[1,"button","small","alert",3,"click"],[1,"mt-2","pb-5","pl-3","pr-3","pt-2","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"items-list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"avatar","mif-chart-line","fg-amber"],[1,"label"],[1,"second-label","d-flex","flex-column","pt-1"],[1,"second-action",2,"font-size","11px","width","70px"]],template:function(i,a){1&i&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h._UZ(4,"span",4),h.qZA(),h.TgZ(5,"div",5),h._uU(6,"Upload data"),h.qZA(),h.qZA(),h.TgZ(7,"div",6),h.TgZ(8,"input",7),h.NdJ("change",function(l){return a.getFile(l)}),h.qZA(),h.qZA(),h.TgZ(9,"div",8),h.TgZ(10,"form",9),h.NdJ("submit",function(l){return a.checkForInvalid(l)}),h.TgZ(11,"div",10),h._UZ(12,"input",11),h.TgZ(13,"span",12),h._uU(14," Description is required and must be at least of 6 characters "),h.qZA(),h.qZA(),h.TgZ(15,"div",10),h._UZ(16,"input",13),h.TgZ(17,"span",12),h._uU(18," Country is required "),h.qZA(),h.qZA(),h.TgZ(19,"div",10),h._UZ(20,"input",14),h.TgZ(21,"span",12),h._uU(22," State is required "),h.qZA(),h.qZA(),h.TgZ(23,"div",10),h._UZ(24,"input",15),h.TgZ(25,"span",12),h._uU(26," County is required "),h.qZA(),h.qZA(),h.TgZ(27,"div",10),h._UZ(28,"input",16),h.TgZ(29,"span",12),h._uU(30," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(31,"div",10),h._UZ(32,"input",17),h.TgZ(33,"span",12),h._uU(34," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(35,"div",10),h._UZ(36,"input",18),h.TgZ(37,"span",12),h._uU(38," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(39,"div",10),h._UZ(40,"input",19),h.TgZ(41,"span",12),h._uU(42," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(43,"div",20),h._UZ(44,"input",21),h.TgZ(45,"span",12),h._uU(46," Invalid URL "),h.qZA(),h.qZA(),h.TgZ(47,"button",22),h._uU(48),h.qZA(),h.TgZ(49,"button",23),h.NdJ("click",function(){return a.file=null}),h._uU(50,"Cancel"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(51,"div",24),h.TgZ(52,"div",2),h.TgZ(53,"div",3),h._UZ(54,"span",4),h.qZA(),h.TgZ(55,"div",5),h._uU(56,"Jobs"),h.qZA(),h.qZA(),h.TgZ(57,"div",25),h.YNc(58,Zg,11,4,"div",26),h.qZA(),h.qZA(),h.qZA()),2&i&&(h.xp6(7),h.Q6J("ngClass",h.VKq(4,yf,null!=a.file)),h.xp6(2),h.Q6J("ngClass",h.VKq(6,yf,null==a.file)),h.xp6(39),h.hij("Submit (",null!=a.file?a.file.name:"",")"),h.xp6(10),h.Q6J("ngForOf",a.jobs))},directives:[F.mk,F.sg],styles:[""]}),n})();function Yg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){return h.CHM(i),h.oxw().processJob()}),h._uU(1,"Process"),h.qZA()}}const Xg=function(n){return{"bg-gray":n}};function Jg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"div",13),h.NdJ("click",function(){const l=h.CHM(i).$implicit;return h.oxw().getJobColumn(l.job_id)}),h._UZ(1,"span",14),h.TgZ(2,"span",15),h._uU(3),h.qZA(),h.TgZ(4,"span",16),h._uU(5),h.qZA(),h.qZA()}if(2&n){const i=r.$implicit,a=h.oxw();h.Q6J("ngClass",h.VKq(3,Xg,a.currentJob==i.job_id)),h.xp6(3),h.Oqu(i.file_name),h.xp6(2),h.Oqu(i.job_id)}}function Hg(n,r){1&n&&(h.TgZ(0,"div",17),h.TgZ(1,"div",18),h.TgZ(2,"ul",19),h.TgZ(3,"li"),h._uU(4,"Col 1"),h.qZA(),h.TgZ(5,"li"),h._uU(6,"Col 2"),h.qZA(),h.TgZ(7,"li"),h._uU(8,"Col 3"),h.qZA(),h.qZA(),h._UZ(9,"ul",20),h.qZA(),h.qZA())}let mf=(()=>{class n{constructor(i){this.data=i,this.jobs=[],this.columns=[],this.currentJob=""}ngOnInit(){this.getJobs()}getJobs(){O.F.loading("getJob",!1),this.data.apiGetService("jobs").subscribe(i=>{O.F.loading("getJob",!0),this.jobs=i},i=>{O.F.loading("getJob",!0)})}getJobColumn(i){this.currentJob=i,O.F.loading("getJobCol",!1),this.data.apiGetService("jobs/"+i).subscribe(a=>{O.F.loading("getJobCol",!0),$("#job-col").empty(),a.forEach(u=>{$("#job-col").append(`<li>${u}</li>`)})},a=>{O.F.loading("getJobCol",!0)})}processJob(){}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(O.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-quality-check"]],decls:13,vars:3,consts:[[1,"container","h-100","p-0",2,"background","rgba(255,255,255,0.75)","overflow","auto"],[1,"mt-8","pb-5","pl-3","pr-3","pt-20","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"header","fg-white",2,"background","rgba(138, 162, 174,0.7)"],[1,"avatar"],[1,"icon","mif-2x","mif-chart-line"],["style","top:30px;right: 10px;","class","button light pos-absolute small",3,"click",4,"ngIf"],[1,"title"],[1,"row"],[1,"col-6","mr-0","p-0"],[1,"items-list","p-0"],["class","item c-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],["class","col-6 bg-gray ml-0 pl-0",4,"ngIf"],[1,"button","light","pos-absolute","small",2,"top","30px","right","10px",3,"click"],[1,"item","c-pointer",3,"ngClass","click"],[1,"avatar","mif-chart-line","fg-amber"],[1,"label"],[1,"second-label"],[1,"col-6","bg-gray","ml-0","pl-0"],[1,"d-flex"],[1,"items-list"],["data-role","drag-items","id","job-col",1,"items-list"]],template:function(i,a){1&i&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h._UZ(4,"span",4),h.qZA(),h.YNc(5,Yg,2,0,"button",5),h.TgZ(6,"div",6),h._uU(7,"Quality checking"),h.qZA(),h.qZA(),h.TgZ(8,"div",7),h.TgZ(9,"div",8),h.TgZ(10,"div",9),h.YNc(11,Jg,6,5,"div",10),h.qZA(),h.qZA(),h.YNc(12,Hg,10,0,"div",11),h.qZA(),h.qZA(),h.qZA()),2&i&&(h.xp6(5),h.Q6J("ngIf",""!=a.currentJob),h.xp6(6),h.Q6J("ngForOf",a.jobs),h.xp6(1),h.Q6J("ngIf",""!=a.currentJob))},directives:[F.O5,F.sg,F.mk],styles:[""]}),n})(),$g=(()=>{class n{constructor(i,a){this.http=i,this.data=a}canActivate(i,a){return new Promise((u,l)=>this.http.get(O.F.server+"check/user/upload").subscribe(f=>{u(!0)},f=>{403==f.status&&this.data.logOut(),u(!1)}))}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(S.eN),h.LFG(O.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wg=(()=>{class n{constructor(i,a){this.http=i,this.data=a}canActivate(i,a){return new Promise((u,l)=>this.http.get(O.F.server+"check/user/standard").subscribe(f=>{console.log(f),u(!0)},f=>{403==f.status&&this.data.logOut(),u(!1)}))}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(S.eN),h.LFG(O.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vg=(()=>{class n{constructor(i,a){this.http=i,this.data=a}canActivate(i,a){return new Promise((u,l)=>this.http.get(O.F.server+"check/user/normalize").subscribe(f=>{console.log(f),u(!0)},f=>{403==f.status&&this.data.logOut(),u(!1)}))}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(S.eN),h.LFG(O.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jg=(()=>{class n{constructor(i,a){this.http=i,this.data=a}canActivate(i,a){return new Promise((u,l)=>this.http.get(O.F.server+"check/user/admin").subscribe(f=>{u(!0)},f=>{403==f.status&&this.data.logOut(),u(!1)}))}}return n.\u0275fac=function(i){return new(i||n)(h.LFG(S.eN),h.LFG(O.F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qg=function(n,r){return{active:n,"no-link":r}};function Kg(n,r){if(1&n){const i=h.EpF();h.TgZ(0,"li",19),h.NdJ("click",function(){const l=h.CHM(i).$implicit;return h.oxw().getMarketData(l.url)}),h._UZ(1,"a",20),h.qZA()}if(2&n){const i=r.$implicit;h.Tol(h.WLB(3,Qg,i.active,null==i.url)),h.xp6(1),h.Q6J("innerHTML",i.label,h.oJD)}}const td=[{path:"",redirectTo:"/dashboard/app/map",pathMatch:"full"},{path:"app",component:Z,children:[{path:"map",component:Gg,canActivate:[Ug]},{path:"upload",component:zg,canActivate:[$g]},{path:"standard",component:mf,canActivate:[Wg]},{path:"normalise",component:mf,canActivate:[Vg]},{path:"management",component:(()=>{class n{constructor(i){this.data=i,this.searchDelayId=-1,this.market={items:[],links:[]}}ngOnInit(){this.getMarketData();const i=this;$(document).on("click",".edit-user",a=>{const u=a.target.getAttribute("value");i.editUser(this.market.items[u])}),$(document).on("click",".del-user",a=>{const u=a.target.getAttribute("value");i.delUser(this.market.items[u])})}getMarketData(i="?page=1"){let a=i.split("="),u=Number($("#per-page").val());a=a[a.length-1];let l=$("#search").val();l=0===l.trim().length?"%":`%${l}%`,O.F.loading("marketplace"),this.data.apiGetService(`users?page=${a}&size=${u}`).subscribe(f=>{O.F.loading("marketplace",!0),this.market=f,$("#per-page").off("change"),Metro.getPlugin("#per-page","select").val(f.per_page),$("#per-page").on("change",()=>{$("#per-page").off("change"),this.getMarketData()}),$("#user-table tbody").empty();const g=$("#user-table").data("table");let d=[];const p=["email","first_name","last_name","time_created","role_id"],m=["Email","First Name","Last Name","Created On","Role"];if(p.forEach((v,_)=>{d.push({name:v,title:m[_],sortable:!1})}),d.push({name:"Actions",title:"Actions",sortable:!1}),f.items.length>0){const v=$("#user-table").data("table"),_=[];f.items.forEach((E,X)=>{let B=[];p.forEach(it=>{if("role_id"==it)switch(E[it]){case 0:B.push("Admin");break;case 1:B.push("Data");break;case 2:B.push("Standardize");break;case 3:B.push("Normalize");break;case 4:B.push("Viewer")}else B.push(`${E[it]}`)}),0!==E.role_id&&B.push(`\n<button value="${X}" class="edit-user button small light">Edit</button>\n<button value="${X}" class="del-user button small alert">Delete</button>\n`),_.push(B)}),v.setData({header:d,data:_}),v.draw()}else g.setData({header:d,data:[]}),g.draw()},f=>{O.F.loading("marketplace",!0)})}onSearch(i){const a=$("#search").val();13!=i.keyCode&&null!=i.keyCode?(clearTimeout(this.searchDelayId),this.searchDelayId=setTimeout(()=>{const u=$("#search").val();(a==u&&u.length>0||0==this.market.items.length)&&this.getMarketData()},1e3)):this.getMarketData()}openProperty(i){}buyGrid(i){}logout(){this.data.logOut()}editUser(i){Metro.dialog.create({title:"Edit User",content:`<div id="property-error-div"></div><div class="form-group">\n<input type="text" id="first-name" data-role="materialinput" value="${i.first_name}"\n       placeholder="Enter first name"\n       data-icon="<span class='mif-info'>"\n       data-label="First name"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n><input type="text" id="last-name" data-role="materialinput" value="${i.last_name}"\n       placeholder="Enter first name"\n       data-icon="<span class='mif-info'>"\n       data-label="First name"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n><select type="text" id="role" data-role="select" value="${i.role_id}"\n       data-icon="<span class='mif-info'>"\n       data-label="Role"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n>\n<option value="1">Data</option>\n<option value="2">Standardize</option>\n<option value="3">Normalize</option>\n<option value="4">Viewer</option>\n</select></div>`,clsDialog:"buy-land-dialog",actions:[{caption:"Update",cls:"success",onclick:function(){if($("#property-name").val().length<2)return $("#property-error-div").empty().append("Property name must be at least 2 characters"),void O.F.invalidForm("#property-error-div");Metro.dialog.close(".buy-land-dialog")}},{caption:"Cancel",cls:"js-dialog-close light",onclick:function(){}}]})}delUser(i){Metro.dialog.create({title:"Delete User",content:"Do you want to delete user "+i.email+"?",clsDialog:"buy-land-dialog",actions:[{caption:"Yes, Delete!",cls:"alert",onclick:function(){Metro.dialog.close(".buy-land-dialog")}},{caption:"No",cls:"js-dialog-close success",onclick:function(){}}]})}}return n.\u0275fac=function(i){return new(i||n)(h.Y36(O.F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-admin"]],decls:25,vars:1,consts:[[1,"container","h-100","p-0",2,"background","rgba(255,255,255,0.75)","overflow","auto"],[1,"mt-8","pb-5","pl-3","pr-3","pt-20","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"header","fg-white",2,"background","rgba(138, 162, 174,0.7)"],[1,"avatar"],[1,"icon","mif-2x","mif-cart"],[1,"title"],[1,"row","flex-align-center","flex-justify-between"],[1,"ml-1",2,"width","130px"],["type","text","data-role","materialinput","placeholder","Search","data-icon","<span class='mif-search'>","data-label","Search","data-informer","","data-cls-line","bg-cyan","data-cls-label","fg-cyan","data-cls-informer","fg-lightCyan","data-cls-icon","fg-darkCyan","id","search",3,"keyup"],[1,"mr-1",2,"width","200px"],["id","per-page","data-role","select"],["value","5","data-template","<span class='mif-list-numbered icon'></span> $1"],["value","10","selected","","data-template","<span class='mif-list-numbered icon'></span> $1"],["value","15","data-template","<span class='mif-list-numbered icon'></span> $1"],["value","20","data-template","<span class='mif-list-numbered icon'></span> $1"],["value","25","data-template","<span class='mif-list-numbered icon'></span> $1"],["id","user-table","data-role","table","data-show-search","false","data-show-rows-steps","false","data-show-table-info","false","data-show-pagination","false",1,"table"],[1,"pagination"],["class","page-item",3,"class","click",4,"ngFor","ngForOf"],[1,"page-item",3,"click"],[1,"page-link","c-pointer",3,"innerHTML"]],template:function(i,a){1&i&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h._UZ(4,"span",4),h.qZA(),h.TgZ(5,"div",5),h._uU(6,"Users"),h.qZA(),h.qZA(),h.TgZ(7,"div",6),h.TgZ(8,"div",7),h.TgZ(9,"input",8),h.NdJ("keyup",function(l){return a.onSearch(l)}),h.qZA(),h.qZA(),h.TgZ(10,"div",9),h.TgZ(11,"select",10),h.TgZ(12,"option",11),h._uU(13,"5"),h.qZA(),h.TgZ(14,"option",12),h._uU(15,"10"),h.qZA(),h.TgZ(16,"option",13),h._uU(17,"15"),h.qZA(),h.TgZ(18,"option",14),h._uU(19,"20"),h.qZA(),h.TgZ(20,"option",15),h._uU(21,"25"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h._UZ(22,"table",16),h.TgZ(23,"ul",17),h.YNc(24,Kg,2,6,"li",18),h.qZA(),h.qZA(),h.qZA()),2&i&&(h.xp6(24),h.Q6J("ngForOf",a.market.links))},directives:[F.sg],styles:[""]}),n})(),canActivate:[jg]}]}];let ed=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[j.Bz.forChild(td)],j.Bz]}),n})(),nd=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[F.ez,ed]]}),n})()}}]);