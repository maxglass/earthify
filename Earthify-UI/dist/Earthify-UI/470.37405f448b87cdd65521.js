(self.webpackChunkEarthify_UI=self.webpackChunkEarthify_UI||[]).push([[470],{185:(Rt,yt,Q)=>{"use strict";var j=Q(3033);function R(d){var nt=[1/0,1/0,-1/0,-1/0];return j.coordEach(d,function(W){nt[0]>W[0]&&(nt[0]=W[0]),nt[1]>W[1]&&(nt[1]=W[1]),nt[2]<W[0]&&(nt[2]=W[0]),nt[3]<W[1]&&(nt[3]=W[1])}),nt}R.default=R,yt.Z=R},483:function(Rt){Rt.exports=function(){"use strict";function Q(R,d,nt,W,it){for(;W>nt;){if(W-nt>600){var ft=W-nt+1,Ct=d-nt+1,Tt=Math.log(ft),xt=.5*Math.exp(2*Tt/3),mt=.5*Math.sqrt(Tt*xt*(ft-xt)/ft)*(Ct-ft/2<0?-1:1);Q(R,d,Math.max(nt,Math.floor(d-Ct*xt/ft+mt)),Math.min(W,Math.floor(d+(ft-Ct)*xt/ft+mt)),it)}var et=R[d],pt=nt,I=W;for(B(R,nt,d),it(R[W],et)>0&&B(R,nt,W);pt<I;){for(B(R,pt,I),pt++,I--;it(R[pt],et)<0;)pt++;for(;it(R[I],et)>0;)I--}0===it(R[nt],et)?B(R,nt,I):B(R,++I,W),I<=d&&(nt=I+1),d<=I&&(W=I-1)}}function B(R,d,nt){var W=R[d];R[d]=R[nt],R[nt]=W}function j(R,d){return R<d?-1:R>d?1:0}return function(R,d,nt,W,it){Q(R,d,nt||0,W||R.length-1,it||j)}}()},5454:(Rt,yt,Q)=>{"use strict";Rt.exports=j,Rt.exports.default=j;var B=Q(483);function j(I,C){if(!(this instanceof j))return new j(I,C);this._maxEntries=Math.max(4,I||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),C&&this._initFormat(C),this.clear()}function R(I,C,N){if(!N)return C.indexOf(I);for(var z=0;z<C.length;z++)if(N(I,C[z]))return z;return-1}function d(I,C){nt(I,0,I.children.length,C,I)}function nt(I,C,N,z,S){S||(S=et(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var O,P=C;P<N;P++)O=I.children[P],W(S,I.leaf?z(O):O);return S}function W(I,C){return I.minX=Math.min(I.minX,C.minX),I.minY=Math.min(I.minY,C.minY),I.maxX=Math.max(I.maxX,C.maxX),I.maxY=Math.max(I.maxY,C.maxY),I}function it(I,C){return I.minX-C.minX}function ft(I,C){return I.minY-C.minY}function Ct(I){return(I.maxX-I.minX)*(I.maxY-I.minY)}function Tt(I){return I.maxX-I.minX+(I.maxY-I.minY)}function xt(I,C){return(Math.max(C.maxX,I.maxX)-Math.min(C.minX,I.minX))*(Math.max(C.maxY,I.maxY)-Math.min(C.minY,I.minY))}function mt(I,C){var N=Math.max(I.minX,C.minX),z=Math.max(I.minY,C.minY),S=Math.min(I.maxX,C.maxX),P=Math.min(I.maxY,C.maxY);return Math.max(0,S-N)*Math.max(0,P-z)}function It(I,C){return I.minX<=C.minX&&I.minY<=C.minY&&C.maxX<=I.maxX&&C.maxY<=I.maxY}function Bt(I,C){return C.minX<=I.maxX&&C.minY<=I.maxY&&C.maxX>=I.minX&&C.maxY>=I.minY}function et(I){return{children:I,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function pt(I,C,N,z,S){for(var O,P=[C,N];P.length;)!((N=P.pop())-(C=P.pop())<=z)&&(O=C+Math.ceil((N-C)/z/2)*z,B(I,O,C,N,S),P.push(C,O,O,N))}j.prototype={all:function(){return this._all(this.data,[])},search:function(I){var C=this.data,N=[],z=this.toBBox;if(!Bt(I,C))return N;for(var P,O,w,st,S=[];C;){for(P=0,O=C.children.length;P<O;P++)w=C.children[P],Bt(I,st=C.leaf?z(w):w)&&(C.leaf?N.push(w):It(I,st)?this._all(w,N):S.push(w));C=S.pop()}return N},collides:function(I){var C=this.data,N=this.toBBox;if(!Bt(I,C))return!1;for(var S,P,O,w,z=[];C;){for(S=0,P=C.children.length;S<P;S++)if(O=C.children[S],Bt(I,w=C.leaf?N(O):O)){if(C.leaf||It(I,w))return!0;z.push(O)}C=z.pop()}return!1},load:function(I){if(!I||!I.length)return this;if(I.length<this._minEntries){for(var C=0,N=I.length;C<N;C++)this.insert(I[C]);return this}var z=this._build(I.slice(),0,I.length-1,0);if(this.data.children.length)if(this.data.height===z.height)this._splitRoot(this.data,z);else{if(this.data.height<z.height){var S=this.data;this.data=z,z=S}this._insert(z,this.data.height-z.height-1,!0)}else this.data=z;return this},insert:function(I){return I&&this._insert(I,this.data.height-1),this},clear:function(){return this.data=et([]),this},remove:function(I,C){if(!I)return this;for(var O,w,st,X,N=this.data,z=this.toBBox(I),S=[],P=[];N||S.length;){if(N||(N=S.pop(),w=S[S.length-1],O=P.pop(),X=!0),N.leaf&&-1!==(st=R(I,N.children,C)))return N.children.splice(st,1),S.push(N),this._condense(S),this;X||N.leaf||!It(N,z)?w?(O++,N=w.children[O],X=!1):N=null:(S.push(N),P.push(O),O=0,w=N,N=N.children[0])}return this},toBBox:function(I){return I},compareMinX:it,compareMinY:ft,toJSON:function(){return this.data},fromJSON:function(I){return this.data=I,this},_all:function(I,C){for(var N=[];I;)I.leaf?C.push.apply(C,I.children):N.push.apply(N,I.children),I=N.pop();return C},_build:function(I,C,N,z){var O,S=N-C+1,P=this._maxEntries;if(S<=P)return d(O=et(I.slice(C,N+1)),this.toBBox),O;z||(z=Math.ceil(Math.log(S)/Math.log(P)),P=Math.ceil(S/Math.pow(P,z-1))),(O=et([])).leaf=!1,O.height=z;var X,K,A,At,w=Math.ceil(S/P),st=w*Math.ceil(Math.sqrt(P));for(pt(I,C,N,st,this.compareMinX),X=C;X<=N;X+=st)for(pt(I,X,A=Math.min(X+st-1,N),w,this.compareMinY),K=X;K<=A;K+=w)At=Math.min(K+w-1,A),O.children.push(this._build(I,K,At,z-1));return d(O,this.toBBox),O},_chooseSubtree:function(I,C,N,z){for(var S,P,O,w,st,X,K,A;z.push(C),!C.leaf&&z.length-1!==N;){for(K=A=1/0,S=0,P=C.children.length;S<P;S++)st=Ct(O=C.children[S]),(X=xt(I,O)-st)<A?(A=X,K=st<K?st:K,w=O):X===A&&st<K&&(K=st,w=O);C=w||C.children[0]}return C},_insert:function(I,C,N){var S=N?I:(0,this.toBBox)(I),P=[],O=this._chooseSubtree(S,this.data,C,P);for(O.children.push(I),W(O,S);C>=0&&P[C].children.length>this._maxEntries;)this._split(P,C),C--;this._adjustParentBBoxes(S,P,C)},_split:function(I,C){var N=I[C],z=N.children.length,S=this._minEntries;this._chooseSplitAxis(N,S,z);var P=this._chooseSplitIndex(N,S,z),O=et(N.children.splice(P,N.children.length-P));O.height=N.height,O.leaf=N.leaf,d(N,this.toBBox),d(O,this.toBBox),C?I[C-1].children.push(O):this._splitRoot(N,O)},_splitRoot:function(I,C){this.data=et([I,C]),this.data.height=I.height+1,this.data.leaf=!1,d(this.data,this.toBBox)},_chooseSplitIndex:function(I,C,N){var z,S,P,O,w,st,X,K;for(st=X=1/0,z=C;z<=N-C;z++)O=mt(S=nt(I,0,z,this.toBBox),P=nt(I,z,N,this.toBBox)),w=Ct(S)+Ct(P),O<st?(st=O,K=z,X=w<X?w:X):O===st&&w<X&&(X=w,K=z);return K},_chooseSplitAxis:function(I,C,N){var z=I.leaf?this.compareMinX:it,S=I.leaf?this.compareMinY:ft;this._allDistMargin(I,C,N,z)<this._allDistMargin(I,C,N,S)&&I.children.sort(z)},_allDistMargin:function(I,C,N,z){I.children.sort(z);var st,X,S=this.toBBox,P=nt(I,0,C,S),O=nt(I,N-C,N,S),w=Tt(P)+Tt(O);for(st=C;st<N-C;st++)X=I.children[st],W(P,I.leaf?S(X):X),w+=Tt(P);for(st=N-C-1;st>=C;st--)X=I.children[st],W(O,I.leaf?S(X):X),w+=Tt(O);return w},_adjustParentBBoxes:function(I,C,N){for(var z=N;z>=0;z--)W(C[z],I)},_condense:function(I){for(var N,C=I.length-1;C>=0;C--)0===I[C].children.length?C>0?(N=I[C-1].children).splice(N.indexOf(I[C]),1):this.clear():d(I[C],this.toBBox)},_initFormat:function(I){var C=["return a"," - b",";"];this.compareMinX=new Function("a","b",C.join(I[0])),this.compareMinY=new Function("a","b",C.join(I[1])),this.toBBox=new Function("a","return {minX: a"+I[0]+", minY: a"+I[1]+", maxX: a"+I[2]+", maxY: a"+I[3]+"};")}}},8410:(Rt,yt)=>{"use strict";function Q(X,K,A){void 0===A&&(A={});var At={type:"Feature"};return(0===A.id||A.id)&&(At.id=A.id),A.bbox&&(At.bbox=A.bbox),At.properties=K||{},At.geometry=X,At}function j(X,K,A){if(void 0===A&&(A={}),!X)throw new Error("coordinates is required");if(!Array.isArray(X))throw new Error("coordinates must be an Array");if(X.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!P(X[0])||!P(X[1]))throw new Error("coordinates must contain numbers");return Q({type:"Point",coordinates:X},K,A)}function d(X,K,A){void 0===A&&(A={});for(var At=0,Pt=X;At<Pt.length;At++){var U=Pt[At];if(U.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var lt=0;lt<U[U.length-1].length;lt++)if(U[U.length-1][lt]!==U[0][lt])throw new Error("First and last Position are not equivalent.")}return Q({type:"Polygon",coordinates:X},K,A)}function W(X,K,A){if(void 0===A&&(A={}),X.length<2)throw new Error("coordinates must be an array of two or more positions");return Q({type:"LineString",coordinates:X},K,A)}function ft(X,K){void 0===K&&(K={});var A={type:"FeatureCollection"};return K.id&&(A.id=K.id),K.bbox&&(A.bbox=K.bbox),A.features=X,A}function Ct(X,K,A){return void 0===A&&(A={}),Q({type:"MultiLineString",coordinates:X},K,A)}function Tt(X,K,A){return void 0===A&&(A={}),Q({type:"MultiPoint",coordinates:X},K,A)}function xt(X,K,A){return void 0===A&&(A={}),Q({type:"MultiPolygon",coordinates:X},K,A)}function Bt(X,K){void 0===K&&(K="kilometers");var A=yt.factors[K];if(!A)throw new Error(K+" units is invalid");return X*A}function et(X,K){void 0===K&&(K="kilometers");var A=yt.factors[K];if(!A)throw new Error(K+" units is invalid");return X/A}function C(X){return X%(2*Math.PI)*180/Math.PI}function P(X){return!isNaN(X)&&null!==X&&!Array.isArray(X)}Object.defineProperty(yt,"__esModule",{value:!0}),yt.earthRadius=6371008.8,yt.factors={centimeters:100*yt.earthRadius,centimetres:100*yt.earthRadius,degrees:yt.earthRadius/111325,feet:3.28084*yt.earthRadius,inches:39.37*yt.earthRadius,kilometers:yt.earthRadius/1e3,kilometres:yt.earthRadius/1e3,meters:yt.earthRadius,metres:yt.earthRadius,miles:yt.earthRadius/1609.344,millimeters:1e3*yt.earthRadius,millimetres:1e3*yt.earthRadius,nauticalmiles:yt.earthRadius/1852,radians:1,yards:1.0936*yt.earthRadius},yt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/yt.earthRadius,yards:1.0936133},yt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},yt.feature=Q,yt.geometry=function(X,K,A){switch(void 0===A&&(A={}),X){case"Point":return j(K).geometry;case"LineString":return W(K).geometry;case"Polygon":return d(K).geometry;case"MultiPoint":return Tt(K).geometry;case"MultiLineString":return Ct(K).geometry;case"MultiPolygon":return xt(K).geometry;default:throw new Error(X+" is invalid")}},yt.point=j,yt.points=function(X,K,A){return void 0===A&&(A={}),ft(X.map(function(At){return j(At,K)}),A)},yt.polygon=d,yt.polygons=function(X,K,A){return void 0===A&&(A={}),ft(X.map(function(At){return d(At,K)}),A)},yt.lineString=W,yt.lineStrings=function(X,K,A){return void 0===A&&(A={}),ft(X.map(function(At){return W(At,K)}),A)},yt.featureCollection=ft,yt.multiLineString=Ct,yt.multiPoint=Tt,yt.multiPolygon=xt,yt.geometryCollection=function(X,K,A){return void 0===A&&(A={}),Q({type:"GeometryCollection",geometries:X},K,A)},yt.round=function(X,K){if(void 0===K&&(K=0),K&&!(K>=0))throw new Error("precision must be a positive number");var A=Math.pow(10,K||0);return Math.round(X*A)/A},yt.radiansToLength=Bt,yt.lengthToRadians=et,yt.lengthToDegrees=function(X,K){return C(et(X,K))},yt.bearingToAzimuth=function(X){var K=X%360;return K<0&&(K+=360),K},yt.radiansToDegrees=C,yt.degreesToRadians=function(X){return X%360*Math.PI/180},yt.convertLength=function(X,K,A){if(void 0===K&&(K="kilometers"),void 0===A&&(A="kilometers"),!(X>=0))throw new Error("length must be a positive number");return Bt(et(X,K),A)},yt.convertArea=function(X,K,A){if(void 0===K&&(K="meters"),void 0===A&&(A="kilometers"),!(X>=0))throw new Error("area must be a positive number");var At=yt.areaFactors[K];if(!At)throw new Error("invalid original units");var Pt=yt.areaFactors[A];if(!Pt)throw new Error("invalid final units");return X/At*Pt},yt.isNumber=P,yt.isObject=function(X){return!!X&&X.constructor===Object},yt.validateBBox=function(X){if(!X)throw new Error("bbox is required");if(!Array.isArray(X))throw new Error("bbox must be an Array");if(4!==X.length&&6!==X.length)throw new Error("bbox must be an Array of 4 or 6 numbers");X.forEach(function(K){if(!P(K))throw new Error("bbox must only contain numbers")})},yt.validateId=function(X){if(!X)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof X))throw new Error("id must be a number or a string")}},3033:(Rt,yt,Q)=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});var B=Q(8410);function j(N,z,S){if(null!==N)for(var P,O,w,st,X,K,A,U,At=0,Pt=0,lt=N.type,J="FeatureCollection"===lt,ut="Feature"===lt,ct=J?N.features.length:1,G=0;G<ct;G++){X=(U=!!(A=J?N.features[G].geometry:ut?N.geometry:N)&&"GeometryCollection"===A.type)?A.geometries.length:1;for(var wt=0;wt<X;wt++){var Lt=0,Yt=0;if(null!==(st=U?A.geometries[wt]:A)){K=st.coordinates;var Ot=st.type;switch(At=!S||"Polygon"!==Ot&&"MultiPolygon"!==Ot?0:1,Ot){case null:break;case"Point":if(!1===z(K,Pt,G,Lt,Yt))return!1;Pt++,Lt++;break;case"LineString":case"MultiPoint":for(P=0;P<K.length;P++){if(!1===z(K[P],Pt,G,Lt,Yt))return!1;Pt++,"MultiPoint"===Ot&&Lt++}"LineString"===Ot&&Lt++;break;case"Polygon":case"MultiLineString":for(P=0;P<K.length;P++){for(O=0;O<K[P].length-At;O++){if(!1===z(K[P][O],Pt,G,Lt,Yt))return!1;Pt++}"MultiLineString"===Ot&&Lt++,"Polygon"===Ot&&Yt++}"Polygon"===Ot&&Lt++;break;case"MultiPolygon":for(P=0;P<K.length;P++){for(Yt=0,O=0;O<K[P].length;O++){for(w=0;w<K[P][O].length-At;w++){if(!1===z(K[P][O][w],Pt,G,Lt,Yt))return!1;Pt++}Yt++}Lt++}break;case"GeometryCollection":for(P=0;P<st.geometries.length;P++)if(!1===j(st.geometries[P],z,S))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d(N,z){var S;switch(N.type){case"FeatureCollection":for(S=0;S<N.features.length&&!1!==z(N.features[S].properties,S);S++);break;case"Feature":z(N.properties,0)}}function W(N,z){if("Feature"===N.type)z(N,0);else if("FeatureCollection"===N.type)for(var S=0;S<N.features.length&&!1!==z(N.features[S],S);S++);}function Ct(N,z){var S,P,O,w,st,X,K,A,At,Pt,U=0,lt="FeatureCollection"===N.type,J="Feature"===N.type,ut=lt?N.features.length:1;for(S=0;S<ut;S++){for(A=lt?N.features[S].properties:J?N.properties:{},At=lt?N.features[S].bbox:J?N.bbox:void 0,Pt=lt?N.features[S].id:J?N.id:void 0,st=(K=!!(X=lt?N.features[S].geometry:J?N.geometry:N)&&"GeometryCollection"===X.type)?X.geometries.length:1,O=0;O<st;O++)if(null!==(w=K?X.geometries[O]:X))switch(w.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===z(w,U,A,At,Pt))return!1;break;case"GeometryCollection":for(P=0;P<w.geometries.length;P++)if(!1===z(w.geometries[P],U,A,At,Pt))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===z(null,U,A,At,Pt))return!1;U++}}function xt(N,z){Ct(N,function(S,P,O,w,st){var K,X=null===S?null:S.type;switch(X){case null:case"Point":case"LineString":case"Polygon":return!1!==z(B.feature(S,O,{bbox:w,id:st}),P,0)&&void 0}switch(X){case"MultiPoint":K="Point";break;case"MultiLineString":K="LineString";break;case"MultiPolygon":K="Polygon"}for(var A=0;A<S.coordinates.length;A++)if(!1===z(B.feature({type:K,coordinates:S.coordinates[A]},O),P,A))return!1})}function It(N,z){xt(N,function(S,P,O){var w=0;if(S.geometry){var st=S.geometry.type;if("Point"!==st&&"MultiPoint"!==st){var X,K=0,A=0,At=0;if(!1===j(S,function(Pt,U,lt,J,ut){if(void 0===X||P>K||J>A||ut>At)return X=Pt,K=P,A=J,At=ut,void(w=0);var ct=B.lineString([X,Pt],S.properties);if(!1===z(ct,P,O,ut,w))return!1;w++,X=Pt}))return!1}}})}function et(N,z){if(!N)throw new Error("geojson is required");xt(N,function(S,P,O){if(null!==S.geometry){var st=S.geometry.coordinates;switch(S.geometry.type){case"LineString":if(!1===z(S,P,O,0,0))return!1;break;case"Polygon":for(var X=0;X<st.length;X++)if(!1===z(B.lineString(st[X],S.properties),P,O,X))return!1}}})}yt.coordAll=function(N){var z=[];return j(N,function(S){z.push(S)}),z},yt.coordEach=j,yt.coordReduce=function(N,z,S,P){var O=S;return j(N,function(w,st,X,K,A){O=0===st&&void 0===S?w:z(O,w,st,X,K,A)},P),O},yt.featureEach=W,yt.featureReduce=function(N,z,S){var P=S;return W(N,function(O,w){P=0===w&&void 0===S?O:z(P,O,w)}),P},yt.findPoint=function(N,z){if(!B.isObject(z=z||{}))throw new Error("options is invalid");var X,S=z.featureIndex||0,P=z.multiFeatureIndex||0,O=z.geometryIndex||0,w=z.coordIndex||0,st=z.properties;switch(N.type){case"FeatureCollection":S<0&&(S=N.features.length+S),st=st||N.features[S].properties,X=N.features[S].geometry;break;case"Feature":st=st||N.properties,X=N.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":X=N;break;default:throw new Error("geojson is invalid")}if(null===X)return null;var K=X.coordinates;switch(X.type){case"Point":return B.point(K,st,z);case"MultiPoint":return P<0&&(P=K.length+P),B.point(K[P],st,z);case"LineString":return w<0&&(w=K.length+w),B.point(K[w],st,z);case"Polygon":return O<0&&(O=K.length+O),w<0&&(w=K[O].length+w),B.point(K[O][w],st,z);case"MultiLineString":return P<0&&(P=K.length+P),w<0&&(w=K[P].length+w),B.point(K[P][w],st,z);case"MultiPolygon":return P<0&&(P=K.length+P),O<0&&(O=K[P].length+O),w<0&&(w=K[P][O].length-w),B.point(K[P][O][w],st,z)}throw new Error("geojson is invalid")},yt.findSegment=function(N,z){if(!B.isObject(z=z||{}))throw new Error("options is invalid");var X,S=z.featureIndex||0,P=z.multiFeatureIndex||0,O=z.geometryIndex||0,w=z.segmentIndex||0,st=z.properties;switch(N.type){case"FeatureCollection":S<0&&(S=N.features.length+S),st=st||N.features[S].properties,X=N.features[S].geometry;break;case"Feature":st=st||N.properties,X=N.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":X=N;break;default:throw new Error("geojson is invalid")}if(null===X)return null;var K=X.coordinates;switch(X.type){case"Point":case"MultiPoint":return null;case"LineString":return w<0&&(w=K.length+w-1),B.lineString([K[w],K[w+1]],st,z);case"Polygon":return O<0&&(O=K.length+O),w<0&&(w=K[O].length+w-1),B.lineString([K[O][w],K[O][w+1]],st,z);case"MultiLineString":return P<0&&(P=K.length+P),w<0&&(w=K[P].length+w-1),B.lineString([K[P][w],K[P][w+1]],st,z);case"MultiPolygon":return P<0&&(P=K.length+P),O<0&&(O=K[P].length+O),w<0&&(w=K[P][O].length-w-1),B.lineString([K[P][O][w],K[P][O][w+1]],st,z)}throw new Error("geojson is invalid")},yt.flattenEach=xt,yt.flattenReduce=function(N,z,S){var P=S;return xt(N,function(O,w,st){P=0===w&&0===st&&void 0===S?O:z(P,O,w,st)}),P},yt.geomEach=Ct,yt.geomReduce=function(N,z,S){var P=S;return Ct(N,function(O,w,st,X,K){P=0===w&&void 0===S?O:z(P,O,w,st,X,K)}),P},yt.lineEach=et,yt.lineReduce=function(N,z,S){var P=S;return et(N,function(O,w,st,X){P=0===w&&void 0===S?O:z(P,O,w,st,X)}),P},yt.propEach=d,yt.propReduce=function(N,z,S){var P=S;return d(N,function(O,w){P=0===w&&void 0===S?O:z(P,O,w)}),P},yt.segmentEach=It,yt.segmentReduce=function(N,z,S){var P=S,O=!1;return It(N,function(w,st,X,K,A){P=!1===O&&void 0===S?w:z(P,w,st,X,K,A),O=!0}),P}},9336:function(Rt){Rt.exports=function(){"use strict";function Q(R,d,nt,W,it){for(;W>nt;){if(W-nt>600){var ft=W-nt+1,Ct=d-nt+1,Tt=Math.log(ft),xt=.5*Math.exp(2*Tt/3),mt=.5*Math.sqrt(Tt*xt*(ft-xt)/ft)*(Ct-ft/2<0?-1:1);Q(R,d,Math.max(nt,Math.floor(d-Ct*xt/ft+mt)),Math.min(W,Math.floor(d+(ft-Ct)*xt/ft+mt)),it)}var et=R[d],pt=nt,I=W;for(B(R,nt,d),it(R[W],et)>0&&B(R,nt,W);pt<I;){for(B(R,pt,I),pt++,I--;it(R[pt],et)<0;)pt++;for(;it(R[I],et)>0;)I--}0===it(R[nt],et)?B(R,nt,I):B(R,++I,W),I<=d&&(nt=I+1),d<=I&&(W=I-1)}}function B(R,d,nt){var W=R[d];R[d]=R[nt],R[nt]=W}function j(R,d){return R<d?-1:R>d?1:0}return function(R,d,nt,W,it){Q(R,d,nt||0,W||R.length-1,it||j)}}()},8309:(Rt,yt,Q)=>{"use strict";Rt.exports=j,Rt.exports.default=j;var B=Q(9336);function j(I,C){if(!(this instanceof j))return new j(I,C);this._maxEntries=Math.max(4,I||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),C&&this._initFormat(C),this.clear()}function R(I,C,N){if(!N)return C.indexOf(I);for(var z=0;z<C.length;z++)if(N(I,C[z]))return z;return-1}function d(I,C){nt(I,0,I.children.length,C,I)}function nt(I,C,N,z,S){S||(S=et(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var O,P=C;P<N;P++)O=I.children[P],W(S,I.leaf?z(O):O);return S}function W(I,C){return I.minX=Math.min(I.minX,C.minX),I.minY=Math.min(I.minY,C.minY),I.maxX=Math.max(I.maxX,C.maxX),I.maxY=Math.max(I.maxY,C.maxY),I}function it(I,C){return I.minX-C.minX}function ft(I,C){return I.minY-C.minY}function Ct(I){return(I.maxX-I.minX)*(I.maxY-I.minY)}function Tt(I){return I.maxX-I.minX+(I.maxY-I.minY)}function xt(I,C){return(Math.max(C.maxX,I.maxX)-Math.min(C.minX,I.minX))*(Math.max(C.maxY,I.maxY)-Math.min(C.minY,I.minY))}function mt(I,C){var N=Math.max(I.minX,C.minX),z=Math.max(I.minY,C.minY),S=Math.min(I.maxX,C.maxX),P=Math.min(I.maxY,C.maxY);return Math.max(0,S-N)*Math.max(0,P-z)}function It(I,C){return I.minX<=C.minX&&I.minY<=C.minY&&C.maxX<=I.maxX&&C.maxY<=I.maxY}function Bt(I,C){return C.minX<=I.maxX&&C.minY<=I.maxY&&C.maxX>=I.minX&&C.maxY>=I.minY}function et(I){return{children:I,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function pt(I,C,N,z,S){for(var O,P=[C,N];P.length;)!((N=P.pop())-(C=P.pop())<=z)&&(O=C+Math.ceil((N-C)/z/2)*z,B(I,O,C,N,S),P.push(C,O,O,N))}j.prototype={all:function(){return this._all(this.data,[])},search:function(I){var C=this.data,N=[],z=this.toBBox;if(!Bt(I,C))return N;for(var P,O,w,st,S=[];C;){for(P=0,O=C.children.length;P<O;P++)w=C.children[P],Bt(I,st=C.leaf?z(w):w)&&(C.leaf?N.push(w):It(I,st)?this._all(w,N):S.push(w));C=S.pop()}return N},collides:function(I){var C=this.data,N=this.toBBox;if(!Bt(I,C))return!1;for(var S,P,O,w,z=[];C;){for(S=0,P=C.children.length;S<P;S++)if(O=C.children[S],Bt(I,w=C.leaf?N(O):O)){if(C.leaf||It(I,w))return!0;z.push(O)}C=z.pop()}return!1},load:function(I){if(!I||!I.length)return this;if(I.length<this._minEntries){for(var C=0,N=I.length;C<N;C++)this.insert(I[C]);return this}var z=this._build(I.slice(),0,I.length-1,0);if(this.data.children.length)if(this.data.height===z.height)this._splitRoot(this.data,z);else{if(this.data.height<z.height){var S=this.data;this.data=z,z=S}this._insert(z,this.data.height-z.height-1,!0)}else this.data=z;return this},insert:function(I){return I&&this._insert(I,this.data.height-1),this},clear:function(){return this.data=et([]),this},remove:function(I,C){if(!I)return this;for(var O,w,st,X,N=this.data,z=this.toBBox(I),S=[],P=[];N||S.length;){if(N||(N=S.pop(),w=S[S.length-1],O=P.pop(),X=!0),N.leaf&&-1!==(st=R(I,N.children,C)))return N.children.splice(st,1),S.push(N),this._condense(S),this;X||N.leaf||!It(N,z)?w?(O++,N=w.children[O],X=!1):N=null:(S.push(N),P.push(O),O=0,w=N,N=N.children[0])}return this},toBBox:function(I){return I},compareMinX:it,compareMinY:ft,toJSON:function(){return this.data},fromJSON:function(I){return this.data=I,this},_all:function(I,C){for(var N=[];I;)I.leaf?C.push.apply(C,I.children):N.push.apply(N,I.children),I=N.pop();return C},_build:function(I,C,N,z){var O,S=N-C+1,P=this._maxEntries;if(S<=P)return d(O=et(I.slice(C,N+1)),this.toBBox),O;z||(z=Math.ceil(Math.log(S)/Math.log(P)),P=Math.ceil(S/Math.pow(P,z-1))),(O=et([])).leaf=!1,O.height=z;var X,K,A,At,w=Math.ceil(S/P),st=w*Math.ceil(Math.sqrt(P));for(pt(I,C,N,st,this.compareMinX),X=C;X<=N;X+=st)for(pt(I,X,A=Math.min(X+st-1,N),w,this.compareMinY),K=X;K<=A;K+=w)At=Math.min(K+w-1,A),O.children.push(this._build(I,K,At,z-1));return d(O,this.toBBox),O},_chooseSubtree:function(I,C,N,z){for(var S,P,O,w,st,X,K,A;z.push(C),!C.leaf&&z.length-1!==N;){for(K=A=1/0,S=0,P=C.children.length;S<P;S++)st=Ct(O=C.children[S]),(X=xt(I,O)-st)<A?(A=X,K=st<K?st:K,w=O):X===A&&st<K&&(K=st,w=O);C=w||C.children[0]}return C},_insert:function(I,C,N){var S=N?I:(0,this.toBBox)(I),P=[],O=this._chooseSubtree(S,this.data,C,P);for(O.children.push(I),W(O,S);C>=0&&P[C].children.length>this._maxEntries;)this._split(P,C),C--;this._adjustParentBBoxes(S,P,C)},_split:function(I,C){var N=I[C],z=N.children.length,S=this._minEntries;this._chooseSplitAxis(N,S,z);var P=this._chooseSplitIndex(N,S,z),O=et(N.children.splice(P,N.children.length-P));O.height=N.height,O.leaf=N.leaf,d(N,this.toBBox),d(O,this.toBBox),C?I[C-1].children.push(O):this._splitRoot(N,O)},_splitRoot:function(I,C){this.data=et([I,C]),this.data.height=I.height+1,this.data.leaf=!1,d(this.data,this.toBBox)},_chooseSplitIndex:function(I,C,N){var z,S,P,O,w,st,X,K;for(st=X=1/0,z=C;z<=N-C;z++)O=mt(S=nt(I,0,z,this.toBBox),P=nt(I,z,N,this.toBBox)),w=Ct(S)+Ct(P),O<st?(st=O,K=z,X=w<X?w:X):O===st&&w<X&&(X=w,K=z);return K},_chooseSplitAxis:function(I,C,N){var z=I.leaf?this.compareMinX:it,S=I.leaf?this.compareMinY:ft;this._allDistMargin(I,C,N,z)<this._allDistMargin(I,C,N,S)&&I.children.sort(z)},_allDistMargin:function(I,C,N,z){I.children.sort(z);var st,X,S=this.toBBox,P=nt(I,0,C,S),O=nt(I,N-C,N,S),w=Tt(P)+Tt(O);for(st=C;st<N-C;st++)X=I.children[st],W(P,I.leaf?S(X):X),w+=Tt(P);for(st=N-C-1;st>=C;st--)X=I.children[st],W(O,I.leaf?S(X):X),w+=Tt(O);return w},_adjustParentBBoxes:function(I,C,N){for(var z=N;z>=0;z--)W(C[z],I)},_condense:function(I){for(var N,C=I.length-1;C>=0;C--)0===I[C].children.length?C>0?(N=I[C-1].children).splice(N.indexOf(I[C]),1):this.clear():d(I[C],this.toBBox)},_initFormat:function(I){var C=["return a"," - b",";"];this.compareMinX=new Function("a","b",C.join(I[0])),this.compareMinY=new Function("a","b",C.join(I[1])),this.toBBox=new Function("a","return {minX: a"+I[0]+", minY: a"+I[1]+", maxX: a"+I[2]+", maxY: a"+I[3]+"};")}}},9568:(Rt,yt,Q)=>{"use strict";var B=Q(8540),j=Q(44),R=j(B("String.prototype.indexOf"));Rt.exports=function(nt,W){var it=B(nt,!!W);return"function"==typeof it&&R(nt,".prototype.")>-1?j(it):it}},44:(Rt,yt,Q)=>{"use strict";var B=Q(5396),j=Q(8540),R=j("%Function.prototype.apply%"),d=j("%Function.prototype.call%"),nt=j("%Reflect.apply%",!0)||B.call(d,R),W=j("%Object.getOwnPropertyDescriptor%",!0),it=j("%Object.defineProperty%",!0),ft=j("%Math.max%");if(it)try{it({},"a",{value:1})}catch(Tt){it=null}Rt.exports=function(xt){var mt=nt(B,d,arguments);if(W&&it){var It=W(mt,"length");It.configurable&&it(mt,"length",{value:1+ft(0,xt.length-(arguments.length-1))})}return mt};var Ct=function(){return nt(B,R,arguments)};it?it(Rt.exports,"apply",{value:Ct}):Rt.exports.apply=Ct},6896:(Rt,yt,Q)=>{"use strict";var B=Q(3036),j=Q(54),R=Q(5503),d=Q(5322).orient2d;function nt(S,P,O){P=Math.max(0,void 0===P?2:P),O=O||0;var w=function(S){for(var P=S[0],O=S[0],w=S[0],st=S[0],X=0;X<S.length;X++){var K=S[X];K[0]<P[0]&&(P=K),K[0]>w[0]&&(w=K),K[1]<O[1]&&(O=K),K[1]>st[1]&&(st=K)}var A=[P,O,w,st],At=A.slice();for(X=0;X<S.length;X++)R(S[X],A)||At.push(S[X]);return function(S){S.sort(N);for(var P=[],O=0;O<S.length;O++){for(;P.length>=2&&xt(P[P.length-2],P[P.length-1],S[O])<=0;)P.pop();P.push(S[O])}for(var w=[],st=S.length-1;st>=0;st--){for(;w.length>=2&&xt(w[w.length-2],w[w.length-1],S[st])<=0;)w.pop();w.push(S[st])}return w.pop(),P.pop(),P.concat(w)}(At)}(S),st=new B(16);st.toBBox=function(Yt){return{minX:Yt[0],minY:Yt[1],maxX:Yt[0],maxY:Yt[1]}},st.compareMinX=function(Yt,Ot){return Yt[0]-Ot[0]},st.compareMinY=function(Yt,Ot){return Yt[1]-Ot[1]},st.load(S);for(var A,X=[],K=0;K<w.length;K++){var At=w[K];st.remove(At),A=et(At,A),X.push(A)}var Pt=new B(16);for(K=0;K<X.length;K++)Pt.insert(It(X[K]));for(var U=P*P,lt=O*O;X.length;){var J=X.shift(),ut=J.p,ct=J.next.p,G=pt(ut,ct);if(!(G<lt)){var wt=G/U;(At=W(st,J.prev.p,ut,ct,J.next.next.p,wt,Pt))&&Math.min(pt(At,ut),pt(At,ct))<=wt&&(X.push(J),X.push(et(At,J)),st.remove(At),Pt.remove(J),Pt.insert(It(J)),Pt.insert(It(J.next)))}}J=A;var Lt=[];do{Lt.push(J.p),J=J.next}while(J!==A);return Lt.push(J.p),Lt}function W(S,P,O,w,st,X,K){for(var A=new j([],it),At=S.data;At;){for(var Pt=0;Pt<At.children.length;Pt++){var U=At.children[Pt],lt=At.leaf?I(U,O,w):ft(O,w,U);lt>X||A.push({node:U,dist:lt})}for(;A.length&&!A.peek().node.children;){var J=A.pop(),ut=J.node,ct=I(ut,P,O),G=I(ut,w,st);if(J.dist<ct&&J.dist<G&&Tt(O,ut,K)&&Tt(w,ut,K))return ut}(At=A.pop())&&(At=At.node)}return null}function it(S,P){return S.dist-P.dist}function ft(S,P,O){if(Ct(S,O)||Ct(P,O))return 0;var w=C(S[0],S[1],P[0],P[1],O.minX,O.minY,O.maxX,O.minY);if(0===w)return 0;var st=C(S[0],S[1],P[0],P[1],O.minX,O.minY,O.minX,O.maxY);if(0===st)return 0;var X=C(S[0],S[1],P[0],P[1],O.maxX,O.minY,O.maxX,O.maxY);if(0===X)return 0;var K=C(S[0],S[1],P[0],P[1],O.minX,O.maxY,O.maxX,O.maxY);return 0===K?0:Math.min(w,st,X,K)}function Ct(S,P){return S[0]>=P.minX&&S[0]<=P.maxX&&S[1]>=P.minY&&S[1]<=P.maxY}function Tt(S,P,O){for(var w=Math.min(S[0],P[0]),st=Math.min(S[1],P[1]),X=Math.max(S[0],P[0]),K=Math.max(S[1],P[1]),A=O.search({minX:w,minY:st,maxX:X,maxY:K}),At=0;At<A.length;At++)if(mt(A[At].p,A[At].next.p,S,P))return!1;return!0}function xt(S,P,O){return d(S[0],S[1],P[0],P[1],O[0],O[1])}function mt(S,P,O,w){return S!==w&&P!==O&&xt(S,P,O)>0!=xt(S,P,w)>0&&xt(O,w,S)>0!=xt(O,w,P)>0}function It(S){var P=S.p,O=S.next.p;return S.minX=Math.min(P[0],O[0]),S.minY=Math.min(P[1],O[1]),S.maxX=Math.max(P[0],O[0]),S.maxY=Math.max(P[1],O[1]),S}function et(S,P){var O={p:S,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return P?(O.next=P.next,O.prev=P,P.next.prev=O,P.next=O):(O.prev=O,O.next=O),O}function pt(S,P){var O=S[0]-P[0],w=S[1]-P[1];return O*O+w*w}function I(S,P,O){var w=P[0],st=P[1],X=O[0]-w,K=O[1]-st;if(0!==X||0!==K){var A=((S[0]-w)*X+(S[1]-st)*K)/(X*X+K*K);A>1?(w=O[0],st=O[1]):A>0&&(w+=X*A,st+=K*A)}return(X=S[0]-w)*X+(K=S[1]-st)*K}function C(S,P,O,w,st,X,K,A){var se,he,ue,Jt,At=O-S,Pt=w-P,U=K-st,lt=A-X,J=S-st,ut=P-X,ct=At*At+Pt*Pt,G=At*U+Pt*lt,wt=U*U+lt*lt,Lt=At*J+Pt*ut,Yt=U*J+lt*ut,Ot=ct*wt-G*G,$t=Ot,Gt=Ot;0===Ot?(he=0,$t=1,Jt=Yt,Gt=wt):(Jt=ct*Yt-G*Lt,(he=G*Yt-wt*Lt)<0?(he=0,Jt=Yt,Gt=wt):he>$t&&(he=$t,Jt=Yt+G,Gt=wt)),Jt<0?(Jt=0,-Lt<0?he=0:-Lt>ct?he=$t:(he=-Lt,$t=ct)):Jt>Gt&&(Jt=Gt,-Lt+G<0?he=0:-Lt+G>ct?he=$t:(he=-Lt+G,$t=ct));var Rn=(1-(ue=0===Jt?0:Jt/Gt))*st+ue*K-((1-(se=0===he?0:he/$t))*S+se*O),dt=(1-ue)*X+ue*A-((1-se)*P+se*w);return Rn*Rn+dt*dt}function N(S,P){return S[0]===P[0]?S[1]-P[1]:S[0]-P[0]}j.default&&(j=j.default),Rt.exports=nt,Rt.exports.default=nt},2978:(Rt,yt,Q)=>{var B=Q(8507),j=Q(7316),R=Q(4269),d=Q(5544),nt=Q(437),W=Q(3105),it=Date.prototype.getTime;function Ct(mt){return null==mt}function Tt(mt){return!(!mt||"object"!=typeof mt||"number"!=typeof mt.length||"function"!=typeof mt.copy||"function"!=typeof mt.slice||mt.length>0&&"number"!=typeof mt[0])}Rt.exports=function ft(mt,It,Bt){var et=Bt||{};return!!(et.strict?R(mt,It):mt===It)||(!mt||!It||"object"!=typeof mt&&"object"!=typeof It?et.strict?R(mt,It):mt==It:function(mt,It,Bt){var et,pt;if(typeof mt!=typeof It||Ct(mt)||Ct(It)||mt.prototype!==It.prototype||j(mt)!==j(It))return!1;var I=d(mt),C=d(It);if(I!==C)return!1;if(I||C)return mt.source===It.source&&nt(mt)===nt(It);if(W(mt)&&W(It))return it.call(mt)===it.call(It);var N=Tt(mt),z=Tt(It);if(N!==z)return!1;if(N||z){if(mt.length!==It.length)return!1;for(et=0;et<mt.length;et++)if(mt[et]!==It[et])return!1;return!0}if(typeof mt!=typeof It)return!1;try{var S=B(mt),P=B(It)}catch(O){return!1}if(S.length!==P.length)return!1;for(S.sort(),P.sort(),et=S.length-1;et>=0;et--)if(S[et]!=P[et])return!1;for(et=S.length-1;et>=0;et--)if(!ft(mt[pt=S[et]],It[pt],Bt))return!1;return!0}(mt,It,et))}},6886:(Rt,yt,Q)=>{"use strict";var B=Q(8507),j="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),R=Object.prototype.toString,d=Array.prototype.concat,nt=Object.defineProperty,ft=nt&&function(){var xt={};try{for(var mt in nt(xt,"x",{enumerable:!1,value:xt}),xt)return!1;return xt.x===xt}catch(It){return!1}}(),Ct=function(xt,mt,It,Bt){mt in xt&&(!function(xt){return"function"==typeof xt&&"[object Function]"===R.call(xt)}(Bt)||!Bt())||(ft?nt(xt,mt,{configurable:!0,enumerable:!1,value:It,writable:!0}):xt[mt]=It)},Tt=function(xt,mt){var It=arguments.length>2?arguments[2]:{},Bt=B(mt);j&&(Bt=d.call(Bt,Object.getOwnPropertySymbols(mt)));for(var et=0;et<Bt.length;et+=1)Ct(xt,Bt[et],mt[Bt[et]],It[Bt[et]])};Tt.supportsDescriptors=!!ft,Rt.exports=Tt},5810:Rt=>{function yt(Q,B,j,R){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(Q,B,j,R)}yt.prototype.run=function(Q,B,j,R){this._init(Q,B,j,R);for(var d=0;d<this._datasetLength;d++)if(1!==this._visited[d]){this._visited[d]=1;var nt=this._regionQuery(d);if(nt.length<this.minPts)this.noise.push(d);else{var W=this.clusters.length;this.clusters.push([]),this._addToCluster(d,W),this._expandCluster(W,nt)}}return this.clusters},yt.prototype._init=function(Q,B,j,R){if(Q){if(!(Q instanceof Array))throw Error("Dataset must be of type array, "+typeof Q+" given");this.dataset=Q,this.clusters=[],this.noise=[],this._datasetLength=Q.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}B&&(this.epsilon=B),j&&(this.minPts=j),R&&(this.distance=R)},yt.prototype._expandCluster=function(Q,B){for(var j=0;j<B.length;j++){var R=B[j];if(1!==this._visited[R]){this._visited[R]=1;var d=this._regionQuery(R);d.length>=this.minPts&&(B=this._mergeArrays(B,d))}1!==this._assigned[R]&&this._addToCluster(R,Q)}},yt.prototype._addToCluster=function(Q,B){this.clusters[B].push(Q),this._assigned[Q]=1},yt.prototype._regionQuery=function(Q){for(var B=[],j=0;j<this._datasetLength;j++)this.distance(this.dataset[Q],this.dataset[j])<this.epsilon&&B.push(j);return B},yt.prototype._mergeArrays=function(Q,B){for(var j=B.length,R=0;R<j;R++){var d=B[R];Q.indexOf(d)<0&&Q.push(d)}return Q},yt.prototype._euclideanDistance=function(Q,B){for(var j=0,R=Math.min(Q.length,B.length);R--;)j+=(Q[R]-B[R])*(Q[R]-B[R]);return Math.sqrt(j)},Rt.exports&&(Rt.exports=yt)},1955:Rt=>{function yt(Q,B,j){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(Q,B,j)}yt.prototype.init=function(Q,B,j){this.assignments=[],this.centroids=[],void 0!==Q&&(this.dataset=Q),void 0!==B&&(this.k=B),void 0!==j&&(this.distance=j)},yt.prototype.run=function(Q,B){this.init(Q,B);for(var j=this.dataset.length,R=0;R<this.k;R++)this.centroids[R]=this.randomCentroid();for(var d=!0;d;){d=this.assign();for(var nt=0;nt<this.k;nt++){for(var W=new Array(Tt),it=0,ft=0;ft<Tt;ft++)W[ft]=0;for(var Ct=0;Ct<j;Ct++){var Tt=this.dataset[Ct].length;if(nt===this.assignments[Ct]){for(ft=0;ft<Tt;ft++)W[ft]+=this.dataset[Ct][ft];it++}}if(it>0){for(ft=0;ft<Tt;ft++)W[ft]/=it;this.centroids[nt]=W}else this.centroids[nt]=this.randomCentroid(),d=!0}}return this.getClusters()},yt.prototype.randomCentroid=function(){var B,j,Q=this.dataset.length-1;do{j=Math.round(Math.random()*Q),B=this.dataset[j]}while(this.centroids.indexOf(B)>=0);return B},yt.prototype.assign=function(){for(var j,Q=!1,B=this.dataset.length,R=0;R<B;R++)(j=this.argmin(this.dataset[R],this.centroids,this.distance))!=this.assignments[R]&&(this.assignments[R]=j,Q=!0);return Q},yt.prototype.getClusters=function(){for(var B,Q=new Array(this.k),j=0;j<this.assignments.length;j++)void 0===Q[B=this.assignments[j]]&&(Q[B]=[]),Q[B].push(j);return Q},yt.prototype.argmin=function(Q,B,j){for(var W,R=Number.MAX_VALUE,d=0,nt=B.length,it=0;it<nt;it++)(W=j(Q,B[it]))<R&&(R=W,d=it);return d},yt.prototype.distance=function(Q,B){for(var j=0,R=Math.min(Q.length,B.length);R--;){var d=Q[R]-B[R];j+=d*d}return Math.sqrt(j)},Rt.exports&&(Rt.exports=yt)},5e3:(Rt,yt,Q)=>{if(Rt.exports)var B=Q(571);function j(R,d,nt,W){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(R,d,nt,W)}j.prototype.run=function(R,d,nt,W){this._init(R,d,nt,W);for(var it=0,ft=this.dataset.length;it<ft;it++)if(1!==this._processed[it]){this._processed[it]=1,this.clusters.push([it]);var Ct=this.clusters.length-1;this._orderedList.push(it);var Tt=new B(null,null,"asc"),xt=this._regionQuery(it);void 0!==this._distanceToCore(it)&&(this._updateQueue(it,xt,Tt),this._expandCluster(Ct,Tt))}return this.clusters},j.prototype.getReachabilityPlot=function(){for(var R=[],d=0,nt=this._orderedList.length;d<nt;d++){var W=this._orderedList[d];R.push([W,this._reachability[W]])}return R},j.prototype._init=function(R,d,nt,W){if(R){if(!(R instanceof Array))throw Error("Dataset must be of type array, "+typeof R+" given");this.dataset=R,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}d&&(this.epsilon=d),nt&&(this.minPts=nt),W&&(this.distance=W)},j.prototype._updateQueue=function(R,d,nt){var W=this;this._coreDistance=this._distanceToCore(R),d.forEach(function(it){if(void 0===W._processed[it]){var ft=W.distance(W.dataset[R],W.dataset[it]),Ct=Math.max(W._coreDistance,ft);void 0===W._reachability[it]?(W._reachability[it]=Ct,nt.insert(it,Ct)):Ct<W._reachability[it]&&(W._reachability[it]=Ct,nt.remove(it),nt.insert(it,Ct))}})},j.prototype._expandCluster=function(R,d){for(var nt=d.getElements(),W=0,it=nt.length;W<it;W++){var ft=nt[W];if(void 0===this._processed[ft]){var Ct=this._regionQuery(ft);this._processed[ft]=1,this.clusters[R].push(ft),this._orderedList.push(ft),void 0!==this._distanceToCore(ft)&&(this._updateQueue(ft,Ct,d),this._expandCluster(R,d))}}},j.prototype._distanceToCore=function(R){for(var d=this.epsilon,nt=0;nt<d;nt++)if(this._regionQuery(R,nt).length>=this.minPts)return nt},j.prototype._regionQuery=function(R,d){d=d||this.epsilon;for(var nt=[],W=0,it=this.dataset.length;W<it;W++)this.distance(this.dataset[R],this.dataset[W])<d&&nt.push(W);return nt},j.prototype._euclideanDistance=function(R,d){for(var nt=0,W=Math.min(R.length,d.length);W--;)nt+=(R[W]-d[W])*(R[W]-d[W]);return Math.sqrt(nt)},Rt.exports&&(Rt.exports=j)},571:Rt=>{function yt(Q,B,j){this._queue=[],this._priorities=[],this._sorting="desc",this._init(Q,B,j)}yt.prototype.insert=function(Q,B){for(var j=this._queue.length,R=j;R--;){var d=this._priorities[R];"desc"===this._sorting?B>d&&(j=R):B<d&&(j=R)}this._insertAt(Q,B,j)},yt.prototype.remove=function(Q){for(var B=this._queue.length;B--;)if(Q===this._queue[B]){this._queue.splice(B,1),this._priorities.splice(B,1);break}},yt.prototype.forEach=function(Q){this._queue.forEach(Q)},yt.prototype.getElements=function(){return this._queue},yt.prototype.getElementPriority=function(Q){return this._priorities[Q]},yt.prototype.getPriorities=function(){return this._priorities},yt.prototype.getElementsWithPriorities=function(){for(var Q=[],B=0,j=this._queue.length;B<j;B++)Q.push([this._queue[B],this._priorities[B]]);return Q},yt.prototype._init=function(Q,B,j){if(Q&&B){if(this._queue=[],this._priorities=[],Q.length!==B.length)throw new Error("Arrays must have the same length");for(var R=0;R<Q.length;R++)this.insert(Q[R],B[R])}j&&(this._sorting=j)},yt.prototype._insertAt=function(Q,B,j){this._queue.length===j?(this._queue.push(Q),this._priorities.push(B)):(this._queue.splice(j,0,Q),this._priorities.splice(j,0,B))},Rt.exports&&(Rt.exports=yt)},6882:(Rt,yt,Q)=>{Rt.exports&&(Rt.exports={DBSCAN:Q(5810),KMEANS:Q(1955),OPTICS:Q(5e3),PriorityQueue:Q(571)})},1604:Rt=>{"use strict";function yt(U,lt,J){J=J||2;var Lt,Yt,Ot,se,he,ue,Jt,ut=lt&&lt.length,ct=ut?lt[0]*J:U.length,G=Q(U,0,ct,J,!0),wt=[];if(!G||G.next===G.prev)return wt;if(ut&&(G=function(U,lt,J,ut){var G,wt,Ot,ct=[];for(G=0,wt=lt.length;G<wt;G++)(Ot=Q(U,lt[G]*ut,G<wt-1?lt[G+1]*ut:U.length,ut,!1))===Ot.next&&(Ot.steiner=!0),ct.push(et(Ot));for(ct.sort(ft),G=0;G<ct.length;G++)J=B(J=Ct(ct[G],J),J.next);return J}(U,lt,G,J)),U.length>80*J){Lt=Ot=U[0],Yt=se=U[1];for(var $t=J;$t<ct;$t+=J)(he=U[$t])<Lt&&(Lt=he),(ue=U[$t+1])<Yt&&(Yt=ue),he>Ot&&(Ot=he),ue>se&&(se=ue);Jt=0!==(Jt=Math.max(Ot-Lt,se-Yt))?1/Jt:0}return j(G,wt,J,Lt,Yt,Jt),wt}function Q(U,lt,J,ut,ct){var G,wt;if(ct===Pt(U,lt,J,ut)>0)for(G=lt;G<J;G+=ut)wt=K(G,U[G],U[G+1],wt);else for(G=J-ut;G>=lt;G-=ut)wt=K(G,U[G],U[G+1],wt);return wt&&N(wt,wt.next)&&(A(wt),wt=wt.next),wt}function B(U,lt){if(!U)return U;lt||(lt=U);var ut,J=U;do{if(ut=!1,J.steiner||!N(J,J.next)&&0!==C(J.prev,J,J.next))J=J.next;else{if(A(J),(J=lt=J.prev)===J.next)break;ut=!0}}while(ut||J!==lt);return lt}function j(U,lt,J,ut,ct,G,wt){if(U){!wt&&G&&function(U,lt,J,ut){var ct=U;do{null===ct.z&&(ct.z=Bt(ct.x,ct.y,lt,J,ut)),ct.prevZ=ct.prev,ct.nextZ=ct.next,ct=ct.next}while(ct!==U);ct.prevZ.nextZ=null,ct.prevZ=null,function(U){var lt,J,ut,ct,G,wt,Lt,Yt,Ot=1;do{for(J=U,U=null,G=null,wt=0;J;){for(wt++,ut=J,Lt=0,lt=0;lt<Ot&&(Lt++,ut=ut.nextZ);lt++);for(Yt=Ot;Lt>0||Yt>0&&ut;)0!==Lt&&(0===Yt||!ut||J.z<=ut.z)?(ct=J,J=J.nextZ,Lt--):(ct=ut,ut=ut.nextZ,Yt--),G?G.nextZ=ct:U=ct,ct.prevZ=G,G=ct;J=ut}G.nextZ=null,Ot*=2}while(wt>1)}(ct)}(U,ut,ct,G);for(var Yt,Ot,Lt=U;U.prev!==U.next;)if(Yt=U.prev,Ot=U.next,G?d(U,ut,ct,G):R(U))lt.push(Yt.i/J),lt.push(U.i/J),lt.push(Ot.i/J),A(U),U=Ot.next,Lt=Ot.next;else if((U=Ot)===Lt){wt?1===wt?j(U=nt(B(U),lt,J),lt,J,ut,ct,G,2):2===wt&&W(U,lt,J,ut,ct,G):j(B(U),lt,J,ut,ct,G,1);break}}}function R(U){var lt=U.prev,J=U,ut=U.next;if(C(lt,J,ut)>=0)return!1;for(var ct=U.next.next;ct!==U.prev;){if(pt(lt.x,lt.y,J.x,J.y,ut.x,ut.y,ct.x,ct.y)&&C(ct.prev,ct,ct.next)>=0)return!1;ct=ct.next}return!0}function d(U,lt,J,ut){var ct=U.prev,G=U,wt=U.next;if(C(ct,G,wt)>=0)return!1;for(var Ot=ct.x>G.x?ct.x>wt.x?ct.x:wt.x:G.x>wt.x?G.x:wt.x,se=ct.y>G.y?ct.y>wt.y?ct.y:wt.y:G.y>wt.y?G.y:wt.y,he=Bt(ct.x<G.x?ct.x<wt.x?ct.x:wt.x:G.x<wt.x?G.x:wt.x,ct.y<G.y?ct.y<wt.y?ct.y:wt.y:G.y<wt.y?G.y:wt.y,lt,J,ut),ue=Bt(Ot,se,lt,J,ut),Jt=U.prevZ,$t=U.nextZ;Jt&&Jt.z>=he&&$t&&$t.z<=ue;){if(Jt!==U.prev&&Jt!==U.next&&pt(ct.x,ct.y,G.x,G.y,wt.x,wt.y,Jt.x,Jt.y)&&C(Jt.prev,Jt,Jt.next)>=0||(Jt=Jt.prevZ,$t!==U.prev&&$t!==U.next&&pt(ct.x,ct.y,G.x,G.y,wt.x,wt.y,$t.x,$t.y)&&C($t.prev,$t,$t.next)>=0))return!1;$t=$t.nextZ}for(;Jt&&Jt.z>=he;){if(Jt!==U.prev&&Jt!==U.next&&pt(ct.x,ct.y,G.x,G.y,wt.x,wt.y,Jt.x,Jt.y)&&C(Jt.prev,Jt,Jt.next)>=0)return!1;Jt=Jt.prevZ}for(;$t&&$t.z<=ue;){if($t!==U.prev&&$t!==U.next&&pt(ct.x,ct.y,G.x,G.y,wt.x,wt.y,$t.x,$t.y)&&C($t.prev,$t,$t.next)>=0)return!1;$t=$t.nextZ}return!0}function nt(U,lt,J){var ut=U;do{var ct=ut.prev,G=ut.next.next;!N(ct,G)&&z(ct,ut,ut.next,G)&&w(ct,G)&&w(G,ct)&&(lt.push(ct.i/J),lt.push(ut.i/J),lt.push(G.i/J),A(ut),A(ut.next),ut=U=G),ut=ut.next}while(ut!==U);return B(ut)}function W(U,lt,J,ut,ct,G){var wt=U;do{for(var Lt=wt.next.next;Lt!==wt.prev;){if(wt.i!==Lt.i&&I(wt,Lt)){var Yt=X(wt,Lt);return wt=B(wt,wt.next),Yt=B(Yt,Yt.next),j(wt,lt,J,ut,ct,G),void j(Yt,lt,J,ut,ct,G)}Lt=Lt.next}wt=wt.next}while(wt!==U)}function ft(U,lt){return U.x-lt.x}function Ct(U,lt){var J=function(U,lt){var wt,J=lt,ut=U.x,ct=U.y,G=-1/0;do{if(ct<=J.y&&ct>=J.next.y&&J.next.y!==J.y){var Lt=J.x+(ct-J.y)*(J.next.x-J.x)/(J.next.y-J.y);if(Lt<=ut&&Lt>G){if(G=Lt,Lt===ut){if(ct===J.y)return J;if(ct===J.next.y)return J.next}wt=J.x<J.next.x?J:J.next}}J=J.next}while(J!==lt);if(!wt)return null;if(ut===G)return wt;var ue,Yt=wt,Ot=wt.x,se=wt.y,he=1/0;J=wt;do{ut>=J.x&&J.x>=Ot&&ut!==J.x&&pt(ct<se?ut:G,ct,Ot,se,ct<se?G:ut,ct,J.x,J.y)&&(ue=Math.abs(ct-J.y)/(ut-J.x),w(J,U)&&(ue<he||ue===he&&(J.x>wt.x||J.x===wt.x&&xt(wt,J)))&&(wt=J,he=ue)),J=J.next}while(J!==Yt);return wt}(U,lt);if(!J)return lt;var ut=X(J,U),ct=B(J,J.next);return B(ut,ut.next),lt===J?ct:lt}function xt(U,lt){return C(U.prev,U,lt.prev)<0&&C(lt.next,U,U.next)<0}function Bt(U,lt,J,ut,ct){return(U=1431655765&((U=858993459&((U=252645135&((U=16711935&((U=32767*(U-J)*ct)|U<<8))|U<<4))|U<<2))|U<<1))|(lt=1431655765&((lt=858993459&((lt=252645135&((lt=16711935&((lt=32767*(lt-ut)*ct)|lt<<8))|lt<<4))|lt<<2))|lt<<1))<<1}function et(U){var lt=U,J=U;do{(lt.x<J.x||lt.x===J.x&&lt.y<J.y)&&(J=lt),lt=lt.next}while(lt!==U);return J}function pt(U,lt,J,ut,ct,G,wt,Lt){return(ct-wt)*(lt-Lt)-(U-wt)*(G-Lt)>=0&&(U-wt)*(ut-Lt)-(J-wt)*(lt-Lt)>=0&&(J-wt)*(G-Lt)-(ct-wt)*(ut-Lt)>=0}function I(U,lt){return U.next.i!==lt.i&&U.prev.i!==lt.i&&!function(U,lt){var J=U;do{if(J.i!==U.i&&J.next.i!==U.i&&J.i!==lt.i&&J.next.i!==lt.i&&z(J,J.next,U,lt))return!0;J=J.next}while(J!==U);return!1}(U,lt)&&(w(U,lt)&&w(lt,U)&&function(U,lt){var J=U,ut=!1,ct=(U.x+lt.x)/2,G=(U.y+lt.y)/2;do{J.y>G!=J.next.y>G&&J.next.y!==J.y&&ct<(J.next.x-J.x)*(G-J.y)/(J.next.y-J.y)+J.x&&(ut=!ut),J=J.next}while(J!==U);return ut}(U,lt)&&(C(U.prev,U,lt.prev)||C(U,lt.prev,lt))||N(U,lt)&&C(U.prev,U,U.next)>0&&C(lt.prev,lt,lt.next)>0)}function C(U,lt,J){return(lt.y-U.y)*(J.x-lt.x)-(lt.x-U.x)*(J.y-lt.y)}function N(U,lt){return U.x===lt.x&&U.y===lt.y}function z(U,lt,J,ut){var ct=P(C(U,lt,J)),G=P(C(U,lt,ut)),wt=P(C(J,ut,U)),Lt=P(C(J,ut,lt));return!!(ct!==G&&wt!==Lt||0===ct&&S(U,J,lt)||0===G&&S(U,ut,lt)||0===wt&&S(J,U,ut)||0===Lt&&S(J,lt,ut))}function S(U,lt,J){return lt.x<=Math.max(U.x,J.x)&&lt.x>=Math.min(U.x,J.x)&&lt.y<=Math.max(U.y,J.y)&&lt.y>=Math.min(U.y,J.y)}function P(U){return U>0?1:U<0?-1:0}function w(U,lt){return C(U.prev,U,U.next)<0?C(U,lt,U.next)>=0&&C(U,U.prev,lt)>=0:C(U,lt,U.prev)<0||C(U,U.next,lt)<0}function X(U,lt){var J=new At(U.i,U.x,U.y),ut=new At(lt.i,lt.x,lt.y),ct=U.next,G=lt.prev;return U.next=lt,lt.prev=U,J.next=ct,ct.prev=J,ut.next=J,J.prev=ut,G.next=ut,ut.prev=G,ut}function K(U,lt,J,ut){var ct=new At(U,lt,J);return ut?(ct.next=ut.next,ct.prev=ut,ut.next.prev=ct,ut.next=ct):(ct.prev=ct,ct.next=ct),ct}function A(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function At(U,lt,J){this.i=U,this.x=lt,this.y=J,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Pt(U,lt,J,ut){for(var ct=0,G=lt,wt=J-ut;G<J;G+=ut)ct+=(U[wt]-U[G])*(U[G+1]+U[wt+1]),wt=G;return ct}Rt.exports=yt,Rt.exports.default=yt,yt.deviation=function(U,lt,J,ut){var ct=lt&&lt.length,wt=Math.abs(Pt(U,0,ct?lt[0]*J:U.length,J));if(ct)for(var Lt=0,Yt=lt.length;Lt<Yt;Lt++)wt-=Math.abs(Pt(U,lt[Lt]*J,Lt<Yt-1?lt[Lt+1]*J:U.length,J));var he=0;for(Lt=0;Lt<ut.length;Lt+=3){var ue=ut[Lt]*J,Jt=ut[Lt+1]*J,$t=ut[Lt+2]*J;he+=Math.abs((U[ue]-U[$t])*(U[Jt+1]-U[ue+1])-(U[ue]-U[Jt])*(U[$t+1]-U[ue+1]))}return 0===wt&&0===he?0:Math.abs((he-wt)/wt)},yt.flatten=function(U){for(var lt=U[0][0].length,J={vertices:[],holes:[],dimensions:lt},ut=0,ct=0;ct<U.length;ct++){for(var G=0;G<U[ct].length;G++)for(var wt=0;wt<lt;wt++)J.vertices.push(U[ct][G][wt]);ct>0&&J.holes.push(ut+=U[ct-1].length)}return J}},1609:Rt=>{"use strict";var yt="Function.prototype.bind called on incompatible ",Q=Array.prototype.slice,B=Object.prototype.toString,j="[object Function]";Rt.exports=function(d){var nt=this;if("function"!=typeof nt||B.call(nt)!==j)throw new TypeError(yt+nt);for(var it,W=Q.call(arguments,1),ft=function(){if(this instanceof it){var It=nt.apply(this,W.concat(Q.call(arguments)));return Object(It)===It?It:this}return nt.apply(d,W.concat(Q.call(arguments)))},Ct=Math.max(0,nt.length-W.length),Tt=[],xt=0;xt<Ct;xt++)Tt.push("$"+xt);if(it=Function("binder","return function ("+Tt.join(",")+"){ return binder.apply(this,arguments); }")(ft),nt.prototype){var mt=function(){};mt.prototype=nt.prototype,it.prototype=new mt,mt.prototype=null}return it}},5396:(Rt,yt,Q)=>{"use strict";var B=Q(1609);Rt.exports=Function.prototype.bind||B},9331:(Rt,yt,Q)=>{var B=Q(2978),j=function(W){this.precision=W&&W.precision?W.precision:17,this.direction=!(!W||!W.direction)&&W.direction,this.pseudoNode=!(!W||!W.pseudoNode)&&W.pseudoNode,this.objectComparator=W&&W.objectComparator?W.objectComparator:nt};function R(W){return W.coordinates.map(function(it){return{type:W.type.replace("Multi",""),coordinates:it}})}function d(W,it){return W.hasOwnProperty("coordinates")?W.coordinates.length===it.coordinates.length:W.length===it.length}function nt(W,it){return B(W,it,{strict:!0})}j.prototype.compare=function(W,it){if(W.type!==it.type||!d(W,it))return!1;switch(W.type){case"Point":return this.compareCoord(W.coordinates,it.coordinates);case"LineString":return this.compareLine(W.coordinates,it.coordinates,0,!1);case"Polygon":return this.comparePolygon(W,it);case"Feature":return this.compareFeature(W,it);default:if(0===W.type.indexOf("Multi")){var ft=this,Ct=R(W),Tt=R(it);return Ct.every(function(xt){return this.some(function(mt){return ft.compare(xt,mt)})},Tt)}}return!1},j.prototype.compareCoord=function(W,it){if(W.length!==it.length)return!1;for(var ft=0;ft<W.length;ft++)if(W[ft].toFixed(this.precision)!==it[ft].toFixed(this.precision))return!1;return!0},j.prototype.compareLine=function(W,it,ft,Ct){if(!d(W,it))return!1;var Tt=this.pseudoNode?W:this.removePseudo(W),xt=this.pseudoNode?it:this.removePseudo(it);if(!Ct||this.compareCoord(Tt[0],xt[0])||(xt=this.fixStartIndex(xt,Tt))){var mt=this.compareCoord(Tt[ft],xt[ft]);return this.direction||mt?this.comparePath(Tt,xt):!!this.compareCoord(Tt[ft],xt[xt.length-(1+ft)])&&this.comparePath(Tt.slice().reverse(),xt)}},j.prototype.fixStartIndex=function(W,it){for(var ft,Ct=-1,Tt=0;Tt<W.length;Tt++)if(this.compareCoord(W[Tt],it[0])){Ct=Tt;break}return Ct>=0&&(ft=[].concat(W.slice(Ct,W.length),W.slice(1,Ct+1))),ft},j.prototype.comparePath=function(W,it){var ft=this;return W.every(function(Ct,Tt){return ft.compareCoord(Ct,this[Tt])},it)},j.prototype.comparePolygon=function(W,it){if(this.compareLine(W.coordinates[0],it.coordinates[0],1,!0)){var ft=W.coordinates.slice(1,W.coordinates.length),Ct=it.coordinates.slice(1,it.coordinates.length),Tt=this;return ft.every(function(xt){return this.some(function(mt){return Tt.compareLine(xt,mt,1,!0)})},Ct)}return!1},j.prototype.compareFeature=function(W,it){return!(W.id!==it.id||!this.objectComparator(W.properties,it.properties)||!this.compareBBox(W,it))&&this.compare(W.geometry,it.geometry)},j.prototype.compareBBox=function(W,it){return!!(!W.bbox&&!it.bbox||W.bbox&&it.bbox&&this.compareCoord(W.bbox,it.bbox))},j.prototype.removePseudo=function(W){return W},Rt.exports=j},2689:(Rt,yt,Q)=>{var B=Q(3036),j=Q(8410),R=Q(3033),d=Q(185).Z,nt=R.featureEach,ft=j.featureCollection;function Ct(Tt){var xt=new B(Tt);return xt.insert=function(mt){if("Feature"!==mt.type)throw new Error("invalid feature");return mt.bbox=mt.bbox?mt.bbox:d(mt),B.prototype.insert.call(this,mt)},xt.load=function(mt){var It=[];return Array.isArray(mt)?mt.forEach(function(Bt){if("Feature"!==Bt.type)throw new Error("invalid features");Bt.bbox=Bt.bbox?Bt.bbox:d(Bt),It.push(Bt)}):nt(mt,function(Bt){if("Feature"!==Bt.type)throw new Error("invalid features");Bt.bbox=Bt.bbox?Bt.bbox:d(Bt),It.push(Bt)}),B.prototype.load.call(this,It)},xt.remove=function(mt,It){if("Feature"!==mt.type)throw new Error("invalid feature");return mt.bbox=mt.bbox?mt.bbox:d(mt),B.prototype.remove.call(this,mt,It)},xt.clear=function(){return B.prototype.clear.call(this)},xt.search=function(mt){var It=B.prototype.search.call(this,this.toBBox(mt));return ft(It)},xt.collides=function(mt){return B.prototype.collides.call(this,this.toBBox(mt))},xt.all=function(){var mt=B.prototype.all.call(this);return ft(mt)},xt.toJSON=function(){return B.prototype.toJSON.call(this)},xt.fromJSON=function(mt){return B.prototype.fromJSON.call(this,mt)},xt.toBBox=function(mt){var It;if(mt.bbox)It=mt.bbox;else if(Array.isArray(mt)&&4===mt.length)It=mt;else if(Array.isArray(mt)&&6===mt.length)It=[mt[0],mt[1],mt[3],mt[4]];else if("Feature"===mt.type)It=d(mt);else{if("FeatureCollection"!==mt.type)throw new Error("invalid geojson");It=d(mt)}return{minX:It[0],minY:It[1],maxX:It[2],maxY:It[3]}},xt}Rt.exports=Ct,Rt.exports.default=Ct},8540:(Rt,yt,Q)=>{"use strict";var B,j=SyntaxError,R=Function,d=TypeError,nt=function(X){try{return R('"use strict"; return ('+X+").constructor;")()}catch(K){}},W=Object.getOwnPropertyDescriptor;if(W)try{W({},"")}catch(X){W=null}var it=function(){throw new d},ft=W?function(){try{return it}catch(X){try{return W(arguments,"callee").get}catch(K){return it}}}():it,Ct=Q(9326)(),Tt=Object.getPrototypeOf||function(X){return X.__proto__},xt={},mt="undefined"==typeof Uint8Array?B:Tt(Uint8Array),It={"%AggregateError%":"undefined"==typeof AggregateError?B:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?B:ArrayBuffer,"%ArrayIteratorPrototype%":Ct?Tt([][Symbol.iterator]()):B,"%AsyncFromSyncIteratorPrototype%":B,"%AsyncFunction%":xt,"%AsyncGenerator%":xt,"%AsyncGeneratorFunction%":xt,"%AsyncIteratorPrototype%":xt,"%Atomics%":"undefined"==typeof Atomics?B:Atomics,"%BigInt%":"undefined"==typeof BigInt?B:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?B:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?B:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?B:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?B:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":xt,"%Int8Array%":"undefined"==typeof Int8Array?B:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?B:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?B:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ct?Tt(Tt([][Symbol.iterator]())):B,"%JSON%":"object"==typeof JSON?JSON:B,"%Map%":"undefined"==typeof Map?B:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Ct?Tt((new Map)[Symbol.iterator]()):B,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?B:Promise,"%Proxy%":"undefined"==typeof Proxy?B:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?B:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?B:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Ct?Tt((new Set)[Symbol.iterator]()):B,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?B:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ct?Tt(""[Symbol.iterator]()):B,"%Symbol%":Ct?Symbol:B,"%SyntaxError%":j,"%ThrowTypeError%":ft,"%TypedArray%":mt,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?B:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?B:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?B:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?B:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?B:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?B:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?B:WeakSet},Bt=function X(K){var A;if("%AsyncFunction%"===K)A=nt("async function () {}");else if("%GeneratorFunction%"===K)A=nt("function* () {}");else if("%AsyncGeneratorFunction%"===K)A=nt("async function* () {}");else if("%AsyncGenerator%"===K){var At=X("%AsyncGeneratorFunction%");At&&(A=At.prototype)}else if("%AsyncIteratorPrototype%"===K){var Pt=X("%AsyncGenerator%");Pt&&(A=Tt(Pt.prototype))}return It[K]=A,A},et={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pt=Q(5396),I=Q(6558),C=pt.call(Function.call,Array.prototype.concat),N=pt.call(Function.apply,Array.prototype.splice),z=pt.call(Function.call,String.prototype.replace),S=pt.call(Function.call,String.prototype.slice),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,w=function(K){var A=S(K,0,1),At=S(K,-1);if("%"===A&&"%"!==At)throw new j("invalid intrinsic syntax, expected closing `%`");if("%"===At&&"%"!==A)throw new j("invalid intrinsic syntax, expected opening `%`");var Pt=[];return z(K,P,function(U,lt,J,ut){Pt[Pt.length]=J?z(ut,O,"$1"):lt||U}),Pt},st=function(K,A){var Pt,At=K;if(I(et,At)&&(At="%"+(Pt=et[At])[0]+"%"),I(It,At)){var U=It[At];if(U===xt&&(U=Bt(At)),void 0===U&&!A)throw new d("intrinsic "+K+" exists, but is not available. Please file an issue!");return{alias:Pt,name:At,value:U}}throw new j("intrinsic "+K+" does not exist!")};Rt.exports=function(K,A){if("string"!=typeof K||0===K.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof A)throw new d('"allowMissing" argument must be a boolean');var At=w(K),Pt=At.length>0?At[0]:"",U=st("%"+Pt+"%",A),lt=U.name,J=U.value,ut=!1,ct=U.alias;ct&&(Pt=ct[0],N(At,C([0,1],ct)));for(var G=1,wt=!0;G<At.length;G+=1){var Lt=At[G],Yt=S(Lt,0,1),Ot=S(Lt,-1);if(('"'===Yt||"'"===Yt||"`"===Yt||'"'===Ot||"'"===Ot||"`"===Ot)&&Yt!==Ot)throw new j("property names with quotes must have matching quotes");if(("constructor"===Lt||!wt)&&(ut=!0),I(It,lt="%"+(Pt+="."+Lt)+"%"))J=It[lt];else if(null!=J){if(!(Lt in J)){if(!A)throw new d("base intrinsic for "+K+" exists, but the property is not available.");return}if(W&&G+1>=At.length){var se=W(J,Lt);J=(wt=!!se)&&"get"in se&&!("originalValue"in se.get)?se.get:J[Lt]}else wt=I(J,Lt),J=J[Lt];wt&&!ut&&(It[lt]=J)}}return J}},9326:(Rt,yt,Q)=>{"use strict";var B="undefined"!=typeof Symbol&&Symbol,j=Q(9045);Rt.exports=function(){return"function"==typeof B&&"function"==typeof Symbol&&"symbol"==typeof B("foo")&&"symbol"==typeof Symbol("bar")&&j()}},9045:Rt=>{"use strict";Rt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var Q={},B=Symbol("test"),j=Object(B);if("string"==typeof B||"[object Symbol]"!==Object.prototype.toString.call(B)||"[object Symbol]"!==Object.prototype.toString.call(j))return!1;for(B in Q[B]=42,Q)return!1;if("function"==typeof Object.keys&&0!==Object.keys(Q).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(Q).length)return!1;var d=Object.getOwnPropertySymbols(Q);if(1!==d.length||d[0]!==B||!Object.prototype.propertyIsEnumerable.call(Q,B))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var nt=Object.getOwnPropertyDescriptor(Q,B);if(42!==nt.value||!0!==nt.enumerable)return!1}return!0}},1407:(Rt,yt,Q)=>{"use strict";var B=Q(9045);Rt.exports=function(){return B()&&!!Symbol.toStringTag}},6558:(Rt,yt,Q)=>{"use strict";var B=Q(5396);Rt.exports=B.call(Function.call,Object.prototype.hasOwnProperty)},7316:(Rt,yt,Q)=>{"use strict";var B=Q(1407)(),R=Q(9568)("Object.prototype.toString"),d=function(ft){return!(B&&ft&&"object"==typeof ft&&Symbol.toStringTag in ft)&&"[object Arguments]"===R(ft)},nt=function(ft){return!!d(ft)||null!==ft&&"object"==typeof ft&&"number"==typeof ft.length&&ft.length>=0&&"[object Array]"!==R(ft)&&"[object Function]"===R(ft.callee)},W=function(){return d(arguments)}();d.isLegacyArguments=nt,Rt.exports=W?d:nt},3105:(Rt,yt,Q)=>{"use strict";var B=Date.prototype.getDay,R=Object.prototype.toString,nt=Q(1407)();Rt.exports=function(it){return"object"==typeof it&&null!==it&&(nt?function(it){try{return B.call(it),!0}catch(ft){return!1}}(it):"[object Date]"===R.call(it))}},5544:(Rt,yt,Q)=>{"use strict";var R,d,nt,W,B=Q(9568),j=Q(1407)();if(j){R=B("Object.prototype.hasOwnProperty"),d=B("RegExp.prototype.exec"),nt={};var it=function(){throw nt};W={toString:it,valueOf:it},"symbol"==typeof Symbol.toPrimitive&&(W[Symbol.toPrimitive]=it)}var ft=B("Object.prototype.toString"),Ct=Object.getOwnPropertyDescriptor;Rt.exports=j?function(mt){if(!mt||"object"!=typeof mt)return!1;var It=Ct(mt,"lastIndex");if(!It||!R(It,"value"))return!1;try{d(mt,W)}catch(et){return et===nt}}:function(mt){return!(!mt||"object"!=typeof mt&&"function"!=typeof mt)&&"[object RegExp]"===ft(mt)}},8228:Rt=>{"use strict";var yt=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;function j(d){if(null==d)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}Rt.exports=function(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de","5"===Object.getOwnPropertyNames(d)[0])return!1;for(var nt={},W=0;W<10;W++)nt["_"+String.fromCharCode(W)]=W;if("0123456789"!==Object.getOwnPropertyNames(nt).map(function(Ct){return nt[Ct]}).join(""))return!1;var ft={};return"abcdefghijklmnopqrst".split("").forEach(function(Ct){ft[Ct]=Ct}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},ft)).join("")}catch(Ct){return!1}}()?Object.assign:function(d,nt){for(var W,ft,it=j(d),Ct=1;Ct<arguments.length;Ct++){for(var Tt in W=Object(arguments[Ct]))Q.call(W,Tt)&&(it[Tt]=W[Tt]);if(yt){ft=yt(W);for(var xt=0;xt<ft.length;xt++)B.call(W,ft[xt])&&(it[ft[xt]]=W[ft[xt]])}}return it}},7859:Rt=>{"use strict";var yt=function(Q){return Q!=Q};Rt.exports=function(B,j){return 0===B&&0===j?1/B==1/j:!!(B===j||yt(B)&&yt(j))}},4269:(Rt,yt,Q)=>{"use strict";var B=Q(6886),j=Q(44),R=Q(7859),d=Q(8593),nt=Q(6343),W=j(d(),Object);B(W,{getPolyfill:d,implementation:R,shim:nt}),Rt.exports=W},8593:(Rt,yt,Q)=>{"use strict";var B=Q(7859);Rt.exports=function(){return"function"==typeof Object.is?Object.is:B}},6343:(Rt,yt,Q)=>{"use strict";var B=Q(8593),j=Q(6886);Rt.exports=function(){var d=B();return j(Object,{is:d},{is:function(){return Object.is!==d}}),d}},6068:(Rt,yt,Q)=>{"use strict";var B;if(!Object.keys){var j=Object.prototype.hasOwnProperty,R=Object.prototype.toString,d=Q(2666),nt=Object.prototype.propertyIsEnumerable,W=!nt.call({toString:null},"toString"),it=nt.call(function(){},"prototype"),ft=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ct=function(It){var Bt=It.constructor;return Bt&&Bt.prototype===It},Tt={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},xt=function(){if("undefined"==typeof window)return!1;for(var It in window)try{if(!Tt["$"+It]&&j.call(window,It)&&null!==window[It]&&"object"==typeof window[It])try{Ct(window[It])}catch(Bt){return!0}}catch(Bt){return!0}return!1}();B=function(Bt){var et=null!==Bt&&"object"==typeof Bt,pt="[object Function]"===R.call(Bt),I=d(Bt),C=et&&"[object String]"===R.call(Bt),N=[];if(!et&&!pt&&!I)throw new TypeError("Object.keys called on a non-object");var z=it&&pt;if(C&&Bt.length>0&&!j.call(Bt,0))for(var S=0;S<Bt.length;++S)N.push(String(S));if(I&&Bt.length>0)for(var P=0;P<Bt.length;++P)N.push(String(P));else for(var O in Bt)(!z||"prototype"!==O)&&j.call(Bt,O)&&N.push(String(O));if(W)for(var w=function(It){if("undefined"==typeof window||!xt)return Ct(It);try{return Ct(It)}catch(Bt){return!1}}(Bt),st=0;st<ft.length;++st)(!w||"constructor"!==ft[st])&&j.call(Bt,ft[st])&&N.push(ft[st]);return N}}Rt.exports=B},8507:(Rt,yt,Q)=>{"use strict";var B=Array.prototype.slice,j=Q(2666),R=Object.keys,d=R?function(it){return R(it)}:Q(6068),nt=Object.keys;d.shim=function(){return Object.keys?function(){var ft=Object.keys(arguments);return ft&&ft.length===arguments.length}(1,2)||(Object.keys=function(Ct){return j(Ct)?nt(B.call(Ct)):nt(Ct)}):Object.keys=d,Object.keys||d},Rt.exports=d},2666:Rt=>{"use strict";var yt=Object.prototype.toString;Rt.exports=function(B){var j=yt.call(B),R="[object Arguments]"===j;return R||(R="[object Array]"!==j&&null!==B&&"object"==typeof B&&"number"==typeof B.length&&B.length>=0&&"[object Function]"===yt.call(B.callee)),R}},5751:Rt=>{Rt.exports=function(Q,B,j,R){var d=Q[0],nt=Q[1],W=!1;void 0===j&&(j=0),void 0===R&&(R=B.length);for(var it=(R-j)/2,ft=0,Ct=it-1;ft<it;Ct=ft++){var Tt=B[j+2*ft+0],xt=B[j+2*ft+1],It=B[j+2*Ct+1];xt>nt!=It>nt&&d<(B[j+2*Ct+0]-Tt)*(nt-xt)/(It-xt)+Tt&&(W=!W)}return W}},5503:(Rt,yt,Q)=>{var B=Q(5751),j=Q(5891);Rt.exports=function(d,nt,W,it){return nt.length>0&&Array.isArray(nt[0])?j(d,nt,W,it):B(d,nt,W,it)},Rt.exports.nested=j,Rt.exports.flat=B},5891:Rt=>{Rt.exports=function(Q,B,j,R){var d=Q[0],nt=Q[1],W=!1;void 0===j&&(j=0),void 0===R&&(R=B.length);for(var it=R-j,ft=0,Ct=it-1;ft<it;Ct=ft++){var Tt=B[ft+j][0],xt=B[ft+j][1],It=B[Ct+j][1];xt>nt!=It>nt&&d<(B[Ct+j][0]-Tt)*(nt-xt)/(It-xt)+Tt&&(W=!W)}return W}},171:function(Rt){Rt.exports=function(){"use strict";function yt(dt,D){if(!(dt instanceof D))throw new TypeError("Cannot call a class as a function")}function Q(dt,D){for(var T=0;T<D.length;T++){var M=D[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(dt,M.key,M)}}function B(dt,D,T){return D&&Q(dt.prototype,D),T&&Q(dt,T),dt}var j=function(D,T){this.next=null,this.key=D,this.data=T,this.left=null,this.right=null};function R(dt,D){return dt>D?1:dt<D?-1:0}function d(dt,D,T){for(var M=new j(null,null),V=M,at=M;;){var bt=T(dt,D.key);if(bt<0){if(null===D.left)break;if(T(dt,D.left.key)<0&&(D.left=(Dt=D.left).right,Dt.right=D,null===(D=Dt).left))break;at.left=D,at=D,D=D.left}else{if(!(bt>0))break;if(null===D.right)break;var Dt;if(T(dt,D.right.key)>0&&(D.right=(Dt=D.right).left,Dt.left=D,null===(D=Dt).right))break;V.right=D,V=D,D=D.right}}return V.right=D.left,at.left=D.right,D.left=M.right,D.right=M.left,D}function nt(dt,D,T,M){var V=new j(dt,D);if(null===T)return V.left=V.right=null,V;var at=M(dt,(T=d(dt,T,M)).key);return at<0?(V.left=T.left,V.right=T,T.left=null):at>=0&&(V.right=T.right,V.left=T,T.right=null),V}function W(dt,D,T){var M=null,V=null;if(D){var at=T((D=d(dt,D,T)).key,dt);0===at?(M=D.left,V=D.right):at<0?(V=D.right,D.right=null,M=D):(M=D.left,D.left=null,V=D)}return{left:M,right:V}}function ft(dt,D,T,M,V){if(dt){M(D+(T?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+V(dt)+"\n");var at=D+(T?"    ":"\u2502   ");dt.left&&ft(dt.left,at,!1,M,V),dt.right&&ft(dt.right,at,!0,M,V)}}var Ct=function(){function dt(D){void 0===D&&(D=R),this._root=null,this._size=0,this._comparator=D}return dt.prototype.insert=function(D,T){return this._size++,this._root=nt(D,T,this._root,this._comparator)},dt.prototype.add=function(D,T){var M=new j(D,T);null===this._root&&(M.left=M.right=null,this._size++,this._root=M);var V=this._comparator,at=d(D,this._root,V),bt=V(D,at.key);return 0===bt?this._root=at:(bt<0?(M.left=at.left,M.right=at,at.left=null):bt>0&&(M.right=at.right,M.left=at,at.right=null),this._size++,this._root=M),this._root},dt.prototype.remove=function(D){this._root=this._remove(D,this._root,this._comparator)},dt.prototype._remove=function(D,T,M){var V;return null===T?null:0===M(D,(T=d(D,T,M)).key)?(null===T.left?V=T.right:(V=d(D,T.left,M)).right=T.right,this._size--,V):T},dt.prototype.pop=function(){var D=this._root;if(D){for(;D.left;)D=D.left;return this._root=d(D.key,this._root,this._comparator),this._root=this._remove(D.key,this._root,this._comparator),{key:D.key,data:D.data}}return null},dt.prototype.findStatic=function(D){for(var T=this._root,M=this._comparator;T;){var V=M(D,T.key);if(0===V)return T;T=V<0?T.left:T.right}return null},dt.prototype.find=function(D){return this._root&&(this._root=d(D,this._root,this._comparator),0!==this._comparator(D,this._root.key))?null:this._root},dt.prototype.contains=function(D){for(var T=this._root,M=this._comparator;T;){var V=M(D,T.key);if(0===V)return!0;T=V<0?T.left:T.right}return!1},dt.prototype.forEach=function(D,T){for(var M=this._root,V=[],at=!1;!at;)null!==M?(V.push(M),M=M.left):0!==V.length?(M=V.pop(),D.call(T,M),M=M.right):at=!0;return this},dt.prototype.range=function(D,T,M,V){for(var at=[],bt=this._comparator,Dt=this._root;0!==at.length||Dt;)if(Dt)at.push(Dt),Dt=Dt.left;else{if(bt((Dt=at.pop()).key,T)>0)break;if(bt(Dt.key,D)>=0&&M.call(V,Dt))return this;Dt=Dt.right}return this},dt.prototype.keys=function(){var D=[];return this.forEach(function(T){return D.push(T.key)}),D},dt.prototype.values=function(){var D=[];return this.forEach(function(T){return D.push(T.data)}),D},dt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},dt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},dt.prototype.minNode=function(D){if(void 0===D&&(D=this._root),D)for(;D.left;)D=D.left;return D},dt.prototype.maxNode=function(D){if(void 0===D&&(D=this._root),D)for(;D.right;)D=D.right;return D},dt.prototype.at=function(D){for(var T=this._root,M=!1,V=0,at=[];!M;)if(T)at.push(T),T=T.left;else if(at.length>0){if(T=at.pop(),V===D)return T;V++,T=T.right}else M=!0;return null},dt.prototype.next=function(D){var T=this._root,M=null;if(D.right){for(M=D.right;M.left;)M=M.left;return M}for(var V=this._comparator;T;){var at=V(D.key,T.key);if(0===at)break;at<0?(M=T,T=T.left):T=T.right}return M},dt.prototype.prev=function(D){var T=this._root,M=null;if(null!==D.left){for(M=D.left;M.right;)M=M.right;return M}for(var V=this._comparator;T;){var at=V(D.key,T.key);if(0===at)break;at<0?T=T.left:(M=T,T=T.right)}return M},dt.prototype.clear=function(){return this._root=null,this._size=0,this},dt.prototype.toList=function(){return function(dt){for(var D=dt,T=[],M=!1,V=new j(null,null),at=V;!M;)D?(T.push(D),D=D.left):T.length>0?D=(D=at=at.next=T.pop()).right:M=!0;return at.next=null,V.next}(this._root)},dt.prototype.load=function(D,T,M){void 0===T&&(T=[]),void 0===M&&(M=!1);var V=D.length,at=this._comparator;if(M&&et(D,T,0,V-1,at),null===this._root)this._root=Tt(D,T,0,V),this._size=V;else{var bt=function(dt,D,T){for(var M=new j(null,null),V=M,at=dt,bt=D;null!==at&&null!==bt;)T(at.key,bt.key)<0?(V.next=at,at=at.next):(V.next=bt,bt=bt.next),V=V.next;return null!==at?V.next=at:null!==bt&&(V.next=bt),M.next}(this.toList(),function(dt,D){for(var T=new j(null,null),M=T,V=0;V<dt.length;V++)M=M.next=new j(dt[V],D[V]);return M.next=null,T.next}(D,T),at);this._root=It({head:bt},0,V=this._size+V)}return this},dt.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(dt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(dt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),dt.prototype.toString=function(D){void 0===D&&(D=function(V){return String(V.key)});var T=[];return ft(this._root,"",!0,function(M){return T.push(M)},D),T.join("")},dt.prototype.update=function(D,T,M){var V=this._comparator,at=W(D,this._root,V),bt=at.left,Dt=at.right;V(D,T)<0?Dt=nt(T,M,Dt,V):bt=nt(T,M,bt,V),this._root=function(dt,D,T){return null===D?dt:(null===dt||((D=d(dt.key,D,T)).left=dt),D)}(bt,Dt,V)},dt.prototype.split=function(D){return W(D,this._root,this._comparator)},dt}();function Tt(dt,D,T,M){var V=M-T;if(V>0){var at=T+Math.floor(V/2),Ft=new j(dt[at],D[at]);return Ft.left=Tt(dt,D,T,at),Ft.right=Tt(dt,D,at+1,M),Ft}return null}function It(dt,D,T){var M=T-D;if(M>0){var V=D+Math.floor(M/2),at=It(dt,D,V),bt=dt.head;return bt.left=at,dt.head=dt.head.next,bt.right=It(dt,V+1,T),bt}return null}function et(dt,D,T,M,V){if(!(T>=M)){for(var at=dt[T+M>>1],bt=T-1,Dt=M+1;;){do{bt++}while(V(dt[bt],at)<0);do{Dt--}while(V(dt[Dt],at)>0);if(bt>=Dt)break;var Ft=dt[bt];dt[bt]=dt[Dt],dt[Dt]=Ft,Ft=D[bt],D[bt]=D[Dt],D[Dt]=Ft}et(dt,D,T,Dt,V),et(dt,D,Dt+1,M,V)}}var pt=function(D,T){return D.ll.x<=T.x&&T.x<=D.ur.x&&D.ll.y<=T.y&&T.y<=D.ur.y},I=function(D,T){return T.ur.x<D.ll.x||D.ur.x<T.ll.x||T.ur.y<D.ll.y||D.ur.y<T.ll.y?null:{ll:{x:D.ll.x<T.ll.x?T.ll.x:D.ll.x,y:D.ll.y<T.ll.y?T.ll.y:D.ll.y},ur:{x:D.ur.x<T.ur.x?D.ur.x:T.ur.x,y:D.ur.y<T.ur.y?D.ur.y:T.ur.y}}},C=Number.EPSILON;void 0===C&&(C=Math.pow(2,-52));var N=C*C,z=function(D,T){if(-C<D&&D<C&&-C<T&&T<C)return 0;var M=D-T;return M*M<N*D*T?0:D<T?-1:1},S=function(){function dt(){yt(this,dt),this.reset()}return B(dt,[{key:"reset",value:function(){this.xRounder=new P,this.yRounder=new P}},{key:"round",value:function(T,M){return{x:this.xRounder.round(T),y:this.yRounder.round(M)}}}]),dt}(),P=function(){function dt(){yt(this,dt),this.tree=new Ct,this.round(0)}return B(dt,[{key:"round",value:function(T){var M=this.tree.add(T),V=this.tree.prev(M);if(null!==V&&0===z(M.key,V.key))return this.tree.remove(T),V.key;var at=this.tree.next(M);return null!==at&&0===z(M.key,at.key)?(this.tree.remove(T),at.key):T}}]),dt}(),O=new S,w=function(D,T){return D.x*T.y-D.y*T.x},st=function(D,T){return D.x*T.x+D.y*T.y},X=function(D,T,M){var bt=w({x:T.x-D.x,y:T.y-D.y},{x:M.x-D.x,y:M.y-D.y});return z(bt,0)},K=function(D){return Math.sqrt(st(D,D))},A=function(D,T,M){var V={x:T.x-D.x,y:T.y-D.y},at={x:M.x-D.x,y:M.y-D.y};return w(at,V)/K(at)/K(V)},At=function(D,T,M){var V={x:T.x-D.x,y:T.y-D.y},at={x:M.x-D.x,y:M.y-D.y};return st(at,V)/K(at)/K(V)},Pt=function(D,T,M){return 0===T.y?null:{x:D.x+T.x/T.y*(M-D.y),y:M}},U=function(D,T,M){return 0===T.x?null:{x:M,y:D.y+T.y/T.x*(M-D.x)}},J=function(){function dt(D,T){yt(this,dt),void 0===D.events?D.events=[this]:D.events.push(this),this.point=D,this.isLeft=T}return B(dt,null,[{key:"compare",value:function(T,M){var V=dt.comparePoints(T.point,M.point);return 0!==V?V:(T.point!==M.point&&T.link(M),T.isLeft!==M.isLeft?T.isLeft?1:-1:ct.compare(T.segment,M.segment))}},{key:"comparePoints",value:function(T,M){return T.x<M.x?-1:T.x>M.x?1:T.y<M.y?-1:T.y>M.y?1:0}}]),B(dt,[{key:"link",value:function(T){if(T.point===this.point)throw new Error("Tried to link already linked events");for(var M=T.point.events,V=0,at=M.length;V<at;V++){var bt=M[V];this.point.events.push(bt),bt.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var T=this.point.events.length,M=0;M<T;M++){var V=this.point.events[M];if(void 0===V.segment.consumedBy)for(var at=M+1;at<T;at++){var bt=this.point.events[at];void 0===bt.consumedBy&&V.otherSE.point.events===bt.otherSE.point.events&&V.segment.consume(bt.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var T=[],M=0,V=this.point.events.length;M<V;M++){var at=this.point.events[M];at!==this&&!at.segment.ringOut&&at.segment.isInResult()&&T.push(at)}return T}},{key:"getLeftmostComparator",value:function(T){var M=this,V=new Map,at=function(Dt){var Ft=Dt.otherSE;V.set(Dt,{sine:A(M.point,T.point,Ft.point),cosine:At(M.point,T.point,Ft.point)})};return function(bt,Dt){V.has(bt)||at(bt),V.has(Dt)||at(Dt);var Ft=V.get(bt),Mt=Ft.sine,ae=Ft.cosine,ye=V.get(Dt),Ut=ye.sine,pe=ye.cosine;return Mt>=0&&Ut>=0?ae<pe?1:ae>pe?-1:0:Mt<0&&Ut<0?ae<pe?-1:ae>pe?1:0:Ut<Mt?-1:Ut>Mt?1:0}}}]),dt}(),ut=0,ct=function(){function dt(D,T,M,V){yt(this,dt),this.id=++ut,this.leftSE=D,D.segment=this,D.otherSE=T,this.rightSE=T,T.segment=this,T.otherSE=D,this.rings=M,this.windings=V}return B(dt,null,[{key:"compare",value:function(T,M){var V=T.leftSE.point.x,at=M.leftSE.point.x,bt=T.rightSE.point.x,Dt=M.rightSE.point.x;if(Dt<V)return 1;if(bt<at)return-1;var Ft=T.leftSE.point.y,Mt=M.leftSE.point.y,ae=T.rightSE.point.y,ye=M.rightSE.point.y;if(V<at){if(Mt<Ft&&Mt<ae)return 1;if(Mt>Ft&&Mt>ae)return-1;var Ut=T.comparePoint(M.leftSE.point);if(Ut<0)return 1;if(Ut>0)return-1;var pe=M.comparePoint(T.rightSE.point);return 0!==pe?pe:-1}if(V>at){if(Ft<Mt&&Ft<ye)return-1;if(Ft>Mt&&Ft>ye)return 1;var hn=M.comparePoint(T.leftSE.point);if(0!==hn)return hn;var we=T.comparePoint(M.rightSE.point);return we<0?1:we>0?-1:1}if(Ft<Mt)return-1;if(Ft>Mt)return 1;if(bt<Dt){var nn=M.comparePoint(T.rightSE.point);if(0!==nn)return nn}if(bt>Dt){var vn=T.comparePoint(M.rightSE.point);if(vn<0)return 1;if(vn>0)return-1}if(bt!==Dt){var Gn=ae-Ft,$n=bt-V,Dn=ye-Mt,sr=Dt-at;if(Gn>$n&&Dn<sr)return 1;if(Gn<$n&&Dn>sr)return-1}return bt>Dt?1:bt<Dt||ae<ye?-1:ae>ye?1:T.id<M.id?-1:T.id>M.id?1:0}}]),B(dt,[{key:"replaceRightSE",value:function(T){this.rightSE=T,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var T=this.leftSE.point.y,M=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:T<M?T:M},ur:{x:this.rightSE.point.x,y:T>M?T:M}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(T){return T.x===this.leftSE.point.x&&T.y===this.leftSE.point.y||T.x===this.rightSE.point.x&&T.y===this.rightSE.point.y}},{key:"comparePoint",value:function(T){if(this.isAnEndpoint(T))return 0;var M=this.leftSE.point,V=this.rightSE.point,at=this.vector();if(M.x===V.x)return T.x===M.x?0:T.x<M.x?1:-1;if(T.x===M.x+(T.y-M.y)/at.y*at.x)return 0;var Mt=M.y+(T.x-M.x)/at.x*at.y;return T.y===Mt?0:T.y<Mt?-1:1}},{key:"getIntersection",value:function(T){var M=this.bbox(),V=T.bbox(),at=I(M,V);if(null===at)return null;var bt=this.leftSE.point,Dt=this.rightSE.point,Ft=T.leftSE.point,Mt=T.rightSE.point,ae=pt(M,Ft)&&0===this.comparePoint(Ft),ye=pt(V,bt)&&0===T.comparePoint(bt),Ut=pt(M,Mt)&&0===this.comparePoint(Mt),pe=pt(V,Dt)&&0===T.comparePoint(Dt);if(ye&&ae)return pe&&!Ut?Dt:!pe&&Ut?Mt:null;if(ye)return Ut&&bt.x===Mt.x&&bt.y===Mt.y?null:bt;if(ae)return pe&&Dt.x===Ft.x&&Dt.y===Ft.y?null:Ft;if(pe&&Ut)return null;if(pe)return Dt;if(Ut)return Mt;var hn=function(D,T,M,V){if(0===T.x)return U(M,V,D.x);if(0===V.x)return U(D,T,M.x);if(0===T.y)return Pt(M,V,D.y);if(0===V.y)return Pt(D,T,M.y);var at=w(T,V);if(0==at)return null;var bt={x:M.x-D.x,y:M.y-D.y},Dt=w(bt,T)/at,Ft=w(bt,V)/at;return{x:(D.x+Ft*T.x+(M.x+Dt*V.x))/2,y:(D.y+Ft*T.y+(M.y+Dt*V.y))/2}}(bt,this.vector(),Ft,T.vector());return null!==hn&&pt(at,hn)?O.round(hn.x,hn.y):null}},{key:"split",value:function(T){var M=[],V=void 0!==T.events,at=new J(T,!0),bt=new J(T,!1),Dt=this.rightSE;this.replaceRightSE(bt),M.push(bt),M.push(at);var Ft=new dt(at,Dt,this.rings.slice(),this.windings.slice());return J.comparePoints(Ft.leftSE.point,Ft.rightSE.point)>0&&Ft.swapEvents(),J.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),V&&(at.checkForConsuming(),bt.checkForConsuming()),M}},{key:"swapEvents",value:function(){var T=this.rightSE;this.rightSE=this.leftSE,this.leftSE=T,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var M=0,V=this.windings.length;M<V;M++)this.windings[M]*=-1}},{key:"consume",value:function(T){for(var M=this,V=T;M.consumedBy;)M=M.consumedBy;for(;V.consumedBy;)V=V.consumedBy;var at=dt.compare(M,V);if(0!==at){if(at>0){var bt=M;M=V,V=bt}if(M.prev===V){var Dt=M;M=V,V=Dt}for(var Ft=0,Mt=V.rings.length;Ft<Mt;Ft++){var ae=V.rings[Ft],ye=V.windings[Ft],Ut=M.rings.indexOf(ae);-1===Ut?(M.rings.push(ae),M.windings.push(ye)):M.windings[Ut]+=ye}V.rings=null,V.windings=null,V.consumedBy=M,V.leftSE.consumedBy=M.leftSE,V.rightSE.consumedBy=M.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var T=this.beforeState();this._afterState={rings:T.rings.slice(0),windings:T.windings.slice(0),multiPolys:[]};for(var M=this._afterState.rings,V=this._afterState.windings,at=this._afterState.multiPolys,bt=0,Dt=this.rings.length;bt<Dt;bt++){var Ft=this.rings[bt],Mt=this.windings[bt],ae=M.indexOf(Ft);-1===ae?(M.push(Ft),V.push(Mt)):V[ae]+=Mt}for(var ye=[],Ut=[],pe=0,hn=M.length;pe<hn;pe++)if(0!==V[pe]){var we=M[pe],nn=we.poly;if(-1===Ut.indexOf(nn))if(we.isExterior)ye.push(nn);else{-1===Ut.indexOf(nn)&&Ut.push(nn);var vn=ye.indexOf(we.poly);-1!==vn&&ye.splice(vn,1)}}for(var Gn=0,$n=ye.length;Gn<$n;Gn++){var Dn=ye[Gn].multiPoly;-1===at.indexOf(Dn)&&at.push(Dn)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var T=this.beforeState().multiPolys,M=this.afterState().multiPolys;switch(Gt.type){case"union":this._isInResult=0===T.length!=(0===M.length);break;case"intersection":var bt,Dt;T.length<M.length?(bt=T.length,Dt=M.length):(bt=M.length,Dt=T.length),this._isInResult=Dt===Gt.numMultiPolys&&bt<Dt;break;case"xor":var Ft=Math.abs(T.length-M.length);this._isInResult=Ft%2==1;break;case"difference":var Mt=function(ye){return 1===ye.length&&ye[0].isSubject};this._isInResult=Mt(T)!==Mt(M);break;default:throw new Error("Unrecognized operation type found ".concat(Gt.type))}return this._isInResult}}],[{key:"fromRing",value:function(T,M,V){var at,bt,Dt,Ft=J.comparePoints(T,M);if(Ft<0)at=T,bt=M,Dt=1;else{if(!(Ft>0))throw new Error("Tried to create degenerate segment at [".concat(T.x,", ").concat(T.y,"]"));at=M,bt=T,Dt=-1}return new dt(new J(at,!0),new J(bt,!1),[V],[Dt])}}]),dt}(),G=function(){function dt(D,T,M){if(yt(this,dt),!Array.isArray(D)||0===D.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=T,this.isExterior=M,this.segments=[],"number"!=typeof D[0][0]||"number"!=typeof D[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var V=O.round(D[0][0],D[0][1]);this.bbox={ll:{x:V.x,y:V.y},ur:{x:V.x,y:V.y}};for(var at=V,bt=1,Dt=D.length;bt<Dt;bt++){if("number"!=typeof D[bt][0]||"number"!=typeof D[bt][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ft=O.round(D[bt][0],D[bt][1]);Ft.x===at.x&&Ft.y===at.y||(this.segments.push(ct.fromRing(at,Ft,this)),Ft.x<this.bbox.ll.x&&(this.bbox.ll.x=Ft.x),Ft.y<this.bbox.ll.y&&(this.bbox.ll.y=Ft.y),Ft.x>this.bbox.ur.x&&(this.bbox.ur.x=Ft.x),Ft.y>this.bbox.ur.y&&(this.bbox.ur.y=Ft.y),at=Ft)}(V.x!==at.x||V.y!==at.y)&&this.segments.push(ct.fromRing(at,V,this))}return B(dt,[{key:"getSweepEvents",value:function(){for(var T=[],M=0,V=this.segments.length;M<V;M++){var at=this.segments[M];T.push(at.leftSE),T.push(at.rightSE)}return T}}]),dt}(),wt=function(){function dt(D,T){if(yt(this,dt),!Array.isArray(D))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new G(D[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var M=1,V=D.length;M<V;M++){var at=new G(D[M],this,!1);at.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=at.bbox.ll.x),at.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=at.bbox.ll.y),at.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=at.bbox.ur.x),at.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=at.bbox.ur.y),this.interiorRings.push(at)}this.multiPoly=T}return B(dt,[{key:"getSweepEvents",value:function(){for(var T=this.exteriorRing.getSweepEvents(),M=0,V=this.interiorRings.length;M<V;M++)for(var at=this.interiorRings[M].getSweepEvents(),bt=0,Dt=at.length;bt<Dt;bt++)T.push(at[bt]);return T}}]),dt}(),Lt=function(){function dt(D,T){if(yt(this,dt),!Array.isArray(D))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof D[0][0][0]&&(D=[D])}catch(bt){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var M=0,V=D.length;M<V;M++){var at=new wt(D[M],this);at.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=at.bbox.ll.x),at.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=at.bbox.ll.y),at.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=at.bbox.ur.x),at.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=at.bbox.ur.y),this.polys.push(at)}this.isSubject=T}return B(dt,[{key:"getSweepEvents",value:function(){for(var T=[],M=0,V=this.polys.length;M<V;M++)for(var at=this.polys[M].getSweepEvents(),bt=0,Dt=at.length;bt<Dt;bt++)T.push(at[bt]);return T}}]),dt}(),Yt=function(){function dt(D){yt(this,dt),this.events=D;for(var T=0,M=D.length;T<M;T++)D[T].segment.ringOut=this;this.poly=null}return B(dt,null,[{key:"factory",value:function(T){for(var M=[],V=0,at=T.length;V<at;V++){var bt=T[V];if(bt.isInResult()&&!bt.ringOut){for(var Dt=null,Ft=bt.leftSE,Mt=bt.rightSE,ae=[Ft],ye=Ft.point,Ut=[];Dt=Ft,ae.push(Ft=Mt),Ft.point!==ye;)for(;;){var pe=Ft.getAvailableLinkedEvents();if(0===pe.length){var hn=ae[0].point,we=ae[ae.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(hn.x,",")+" ".concat(hn.y,"]. Last matching segment found ends at")+" [".concat(we.x,", ").concat(we.y,"]."))}if(1===pe.length){Mt=pe[0].otherSE;break}for(var nn=null,vn=0,Gn=Ut.length;vn<Gn;vn++)if(Ut[vn].point===Ft.point){nn=vn;break}if(null===nn){Ut.push({index:ae.length,point:Ft.point});var sr=Ft.getLeftmostComparator(Dt);Mt=pe.sort(sr)[0].otherSE;break}var $n=Ut.splice(nn)[0],Dn=ae.splice($n.index);Dn.unshift(Dn[0].otherSE),M.push(new dt(Dn.reverse()))}M.push(new dt(ae))}}return M}}]),B(dt,[{key:"getGeom",value:function(){for(var T=this.events[0].point,M=[T],V=1,at=this.events.length-1;V<at;V++){var bt=this.events[V].point;0!==X(bt,T,this.events[V+1].point)&&(M.push(bt),T=bt)}if(1===M.length)return null;0===X(M[0],T,M[1])&&M.shift(),M.push(M[0]);for(var ae=this.isExteriorRing()?1:-1,ye=this.isExteriorRing()?0:M.length-1,Ut=this.isExteriorRing()?M.length:-1,pe=[],hn=ye;hn!=Ut;hn+=ae)pe.push([M[hn].x,M[hn].y]);return pe}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var T=this.enclosingRing();this._isExteriorRing=!T||!T.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var T=this.events[0],M=1,V=this.events.length;M<V;M++){var at=this.events[M];J.compare(T,at)>0&&(T=at)}for(var bt=T.segment.prevInResult(),Dt=bt?bt.prevInResult():null;;){if(!bt)return null;if(!Dt)return bt.ringOut;if(Dt.ringOut!==bt.ringOut)return Dt.ringOut.enclosingRing()!==bt.ringOut?bt.ringOut:bt.ringOut.enclosingRing();bt=Dt.prevInResult(),Dt=bt?bt.prevInResult():null}}}]),dt}(),Ot=function(){function dt(D){yt(this,dt),this.exteriorRing=D,D.poly=this,this.interiorRings=[]}return B(dt,[{key:"addInterior",value:function(T){this.interiorRings.push(T),T.poly=this}},{key:"getGeom",value:function(){var T=[this.exteriorRing.getGeom()];if(null===T[0])return null;for(var M=0,V=this.interiorRings.length;M<V;M++){var at=this.interiorRings[M].getGeom();null!==at&&T.push(at)}return T}}]),dt}(),se=function(){function dt(D){yt(this,dt),this.rings=D,this.polys=this._composePolys(D)}return B(dt,[{key:"getGeom",value:function(){for(var T=[],M=0,V=this.polys.length;M<V;M++){var at=this.polys[M].getGeom();null!==at&&T.push(at)}return T}},{key:"_composePolys",value:function(T){for(var M=[],V=0,at=T.length;V<at;V++){var bt=T[V];if(!bt.poly)if(bt.isExteriorRing())M.push(new Ot(bt));else{var Dt=bt.enclosingRing();Dt.poly||M.push(new Ot(Dt)),Dt.poly.addInterior(bt)}}return M}}]),dt}(),he=function(){function dt(D){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct.compare;yt(this,dt),this.queue=D,this.tree=new Ct(T),this.segments=[]}return B(dt,[{key:"process",value:function(T){var M=T.segment,V=[];if(T.consumedBy)return T.isLeft?this.queue.remove(T.otherSE):this.tree.remove(M),V;var at=T.isLeft?this.tree.insert(M):this.tree.find(M);if(!at)throw new Error("Unable to find segment #".concat(M.id," ")+"[".concat(M.leftSE.point.x,", ").concat(M.leftSE.point.y,"] -> ")+"[".concat(M.rightSE.point.x,", ").concat(M.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var bt=at,Dt=at,Ft=void 0,Mt=void 0;void 0===Ft;)null===(bt=this.tree.prev(bt))?Ft=null:void 0===bt.key.consumedBy&&(Ft=bt.key);for(;void 0===Mt;)null===(Dt=this.tree.next(Dt))?Mt=null:void 0===Dt.key.consumedBy&&(Mt=Dt.key);if(T.isLeft){var ae=null;if(Ft){var ye=Ft.getIntersection(M);if(null!==ye&&(M.isAnEndpoint(ye)||(ae=ye),!Ft.isAnEndpoint(ye)))for(var Ut=this._splitSafely(Ft,ye),pe=0,hn=Ut.length;pe<hn;pe++)V.push(Ut[pe])}var we=null;if(Mt){var nn=Mt.getIntersection(M);if(null!==nn&&(M.isAnEndpoint(nn)||(we=nn),!Mt.isAnEndpoint(nn)))for(var vn=this._splitSafely(Mt,nn),Gn=0,$n=vn.length;Gn<$n;Gn++)V.push(vn[Gn])}if(null!==ae||null!==we){var Dn;Dn=null===ae?we:null===we||J.comparePoints(ae,we)<=0?ae:we,this.queue.remove(M.rightSE),V.push(M.rightSE);for(var pn=M.split(Dn),Br=0,Fn=pn.length;Br<Fn;Br++)V.push(pn[Br])}V.length>0?(this.tree.remove(M),V.push(T)):(this.segments.push(M),M.prev=Ft)}else{if(Ft&&Mt){var kt=Ft.getIntersection(Mt);if(null!==kt){if(!Ft.isAnEndpoint(kt))for(var yo=this._splitSafely(Ft,kt),me=0,ge=yo.length;me<ge;me++)V.push(yo[me]);if(!Mt.isAnEndpoint(kt))for(var bi=this._splitSafely(Mt,kt),Vr=0,gi=bi.length;Vr<gi;Vr++)V.push(bi[Vr])}}this.tree.remove(M)}return V}},{key:"_splitSafely",value:function(T,M){this.tree.remove(T);var V=T.rightSE;this.queue.remove(V);var at=T.split(M);return at.push(V),void 0===T.consumedBy&&this.tree.insert(T),at}}]),dt}(),ue="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Jt="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Gt=new(function(){function dt(){yt(this,dt)}return B(dt,[{key:"run",value:function(T,M,V){Gt.type=T,O.reset();for(var at=[new Lt(M,!0)],bt=0,Dt=V.length;bt<Dt;bt++)at.push(new Lt(V[bt],!1));if(Gt.numMultiPolys=at.length,"difference"===Gt.type)for(var Ft=at[0],Mt=1;Mt<at.length;)null!==I(at[Mt].bbox,Ft.bbox)?Mt++:at.splice(Mt,1);if("intersection"===Gt.type)for(var ae=0,ye=at.length;ae<ye;ae++)for(var Ut=at[ae],pe=ae+1,hn=at.length;pe<hn;pe++)if(null===I(Ut.bbox,at[pe].bbox))return[];for(var we=new Ct(J.compare),nn=0,vn=at.length;nn<vn;nn++)for(var Gn=at[nn].getSweepEvents(),$n=0,Dn=Gn.length;$n<Dn;$n++)if(we.insert(Gn[$n]),we.size>ue)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var sr=new he(we),pn=we.size,Br=we.pop();Br;){var Fn=Br.key;if(we.size===pn){var kt=Fn.segment;throw new Error("Unable to pop() ".concat(Fn.isLeft?"left":"right"," SweepEvent ")+"[".concat(Fn.point.x,", ").concat(Fn.point.y,"] from segment #").concat(kt.id," ")+"[".concat(kt.leftSE.point.x,", ").concat(kt.leftSE.point.y,"] -> ")+"[".concat(kt.rightSE.point.x,", ").concat(kt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(we.size>ue)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(sr.segments.length>Jt)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var yo=sr.process(Fn),me=0,ge=yo.length;me<ge;me++){var bi=yo[me];void 0===bi.consumedBy&&we.insert(bi)}pn=we.size,Br=we.pop()}O.reset();var Vr=Yt.factory(sr.segments);return new se(Vr).getGeom()}}]),dt}());return{union:function(D){for(var T=arguments.length,M=new Array(T>1?T-1:0),V=1;V<T;V++)M[V-1]=arguments[V];return Gt.run("union",D,M)},intersection:function(D){for(var T=arguments.length,M=new Array(T>1?T-1:0),V=1;V<T;V++)M[V-1]=arguments[V];return Gt.run("intersection",D,M)},xor:function(D){for(var T=arguments.length,M=new Array(T>1?T-1:0),V=1;V<T;V++)M[V-1]=arguments[V];return Gt.run("xor",D,M)},difference:function(D){for(var T=arguments.length,M=new Array(T>1?T-1:0),V=1;V<T;V++)M[V-1]=arguments[V];return Gt.run("difference",D,M)}}}()},3036:function(Rt){Rt.exports=function(){"use strict";function yt(et,pt,I,C,N){!function z(S,P,O,w,st){for(;w>O;){if(w-O>600){var X=w-O+1,K=P-O+1,A=Math.log(X),At=.5*Math.exp(2*A/3),Pt=.5*Math.sqrt(A*At*(X-At)/X)*(K-X/2<0?-1:1);z(S,P,Math.max(O,Math.floor(P-K*At/X+Pt)),Math.min(w,Math.floor(P+(X-K)*At/X+Pt)),st)}var J=S[P],ut=O,ct=w;for(Q(S,O,P),st(S[w],J)>0&&Q(S,O,w);ut<ct;){for(Q(S,ut,ct),ut++,ct--;st(S[ut],J)<0;)ut++;for(;st(S[ct],J)>0;)ct--}0===st(S[O],J)?Q(S,O,ct):Q(S,++ct,w),ct<=P&&(O=ct+1),P<=ct&&(w=ct-1)}}(et,pt,I||0,C||et.length-1,N||B)}function Q(et,pt,I){var C=et[pt];et[pt]=et[I],et[I]=C}function B(et,pt){return et<pt?-1:et>pt?1:0}var j=function(et){void 0===et&&(et=9),this._maxEntries=Math.max(4,et),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function R(et,pt,I){if(!I)return pt.indexOf(et);for(var C=0;C<pt.length;C++)if(I(et,pt[C]))return C;return-1}function d(et,pt){nt(et,0,et.children.length,pt,et)}function nt(et,pt,I,C,N){N||(N=It(null)),N.minX=1/0,N.minY=1/0,N.maxX=-1/0,N.maxY=-1/0;for(var z=pt;z<I;z++){var S=et.children[z];W(N,et.leaf?C(S):S)}return N}function W(et,pt){return et.minX=Math.min(et.minX,pt.minX),et.minY=Math.min(et.minY,pt.minY),et.maxX=Math.max(et.maxX,pt.maxX),et.maxY=Math.max(et.maxY,pt.maxY),et}function it(et,pt){return et.minX-pt.minX}function ft(et,pt){return et.minY-pt.minY}function Ct(et){return(et.maxX-et.minX)*(et.maxY-et.minY)}function Tt(et){return et.maxX-et.minX+(et.maxY-et.minY)}function xt(et,pt){return et.minX<=pt.minX&&et.minY<=pt.minY&&pt.maxX<=et.maxX&&pt.maxY<=et.maxY}function mt(et,pt){return pt.minX<=et.maxX&&pt.minY<=et.maxY&&pt.maxX>=et.minX&&pt.maxY>=et.minY}function It(et){return{children:et,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Bt(et,pt,I,C,N){for(var z=[pt,I];z.length;)if(!((I=z.pop())-(pt=z.pop())<=C)){var S=pt+Math.ceil((I-pt)/C/2)*C;yt(et,S,pt,I,N),z.push(pt,S,S,I)}}return j.prototype.all=function(){return this._all(this.data,[])},j.prototype.search=function(et){var pt=this.data,I=[];if(!mt(et,pt))return I;for(var C=this.toBBox,N=[];pt;){for(var z=0;z<pt.children.length;z++){var S=pt.children[z],P=pt.leaf?C(S):S;mt(et,P)&&(pt.leaf?I.push(S):xt(et,P)?this._all(S,I):N.push(S))}pt=N.pop()}return I},j.prototype.collides=function(et){var pt=this.data;if(!mt(et,pt))return!1;for(var I=[];pt;){for(var C=0;C<pt.children.length;C++){var N=pt.children[C],z=pt.leaf?this.toBBox(N):N;if(mt(et,z)){if(pt.leaf||xt(et,z))return!0;I.push(N)}}pt=I.pop()}return!1},j.prototype.load=function(et){if(!et||!et.length)return this;if(et.length<this._minEntries){for(var pt=0;pt<et.length;pt++)this.insert(et[pt]);return this}var I=this._build(et.slice(),0,et.length-1,0);if(this.data.children.length)if(this.data.height===I.height)this._splitRoot(this.data,I);else{if(this.data.height<I.height){var C=this.data;this.data=I,I=C}this._insert(I,this.data.height-I.height-1,!0)}else this.data=I;return this},j.prototype.insert=function(et){return et&&this._insert(et,this.data.height-1),this},j.prototype.clear=function(){return this.data=It([]),this},j.prototype.remove=function(et,pt){if(!et)return this;for(var I,C,N,z=this.data,S=this.toBBox(et),P=[],O=[];z||P.length;){if(z||(z=P.pop(),C=P[P.length-1],I=O.pop(),N=!0),z.leaf){var w=R(et,z.children,pt);if(-1!==w)return z.children.splice(w,1),P.push(z),this._condense(P),this}N||z.leaf||!xt(z,S)?C?(I++,z=C.children[I],N=!1):z=null:(P.push(z),O.push(I),I=0,C=z,z=z.children[0])}return this},j.prototype.toBBox=function(et){return et},j.prototype.compareMinX=function(et,pt){return et.minX-pt.minX},j.prototype.compareMinY=function(et,pt){return et.minY-pt.minY},j.prototype.toJSON=function(){return this.data},j.prototype.fromJSON=function(et){return this.data=et,this},j.prototype._all=function(et,pt){for(var I=[];et;)et.leaf?pt.push.apply(pt,et.children):I.push.apply(I,et.children),et=I.pop();return pt},j.prototype._build=function(et,pt,I,C){var N,z=I-pt+1,S=this._maxEntries;if(z<=S)return d(N=It(et.slice(pt,I+1)),this.toBBox),N;C||(C=Math.ceil(Math.log(z)/Math.log(S)),S=Math.ceil(z/Math.pow(S,C-1))),(N=It([])).leaf=!1,N.height=C;var P=Math.ceil(z/S),O=P*Math.ceil(Math.sqrt(S));Bt(et,pt,I,O,this.compareMinX);for(var w=pt;w<=I;w+=O){var st=Math.min(w+O-1,I);Bt(et,w,st,P,this.compareMinY);for(var X=w;X<=st;X+=P){var K=Math.min(X+P-1,st);N.children.push(this._build(et,X,K,C-1))}}return d(N,this.toBBox),N},j.prototype._chooseSubtree=function(et,pt,I,C){for(;C.push(pt),!pt.leaf&&C.length-1!==I;){for(var N=1/0,z=1/0,S=void 0,P=0;P<pt.children.length;P++){var O=pt.children[P],w=Ct(O),st=(X=et,K=O,(Math.max(K.maxX,X.maxX)-Math.min(K.minX,X.minX))*(Math.max(K.maxY,X.maxY)-Math.min(K.minY,X.minY))-w);st<z?(z=st,N=w<N?w:N,S=O):st===z&&w<N&&(N=w,S=O)}pt=S||pt.children[0]}var X,K;return pt},j.prototype._insert=function(et,pt,I){var C=I?et:this.toBBox(et),N=[],z=this._chooseSubtree(C,this.data,pt,N);for(z.children.push(et),W(z,C);pt>=0&&N[pt].children.length>this._maxEntries;)this._split(N,pt),pt--;this._adjustParentBBoxes(C,N,pt)},j.prototype._split=function(et,pt){var I=et[pt],C=I.children.length,N=this._minEntries;this._chooseSplitAxis(I,N,C);var z=this._chooseSplitIndex(I,N,C),S=It(I.children.splice(z,I.children.length-z));S.height=I.height,S.leaf=I.leaf,d(I,this.toBBox),d(S,this.toBBox),pt?et[pt-1].children.push(S):this._splitRoot(I,S)},j.prototype._splitRoot=function(et,pt){this.data=It([et,pt]),this.data.height=et.height+1,this.data.leaf=!1,d(this.data,this.toBBox)},j.prototype._chooseSplitIndex=function(et,pt,I){for(var C,N,z,S,P,O,w,st=1/0,X=1/0,K=pt;K<=I-pt;K++){var A=nt(et,0,K,this.toBBox),At=nt(et,K,I,this.toBBox),Pt=(N=A,z=At,void 0,void 0,void 0,void 0,S=Math.max(N.minX,z.minX),P=Math.max(N.minY,z.minY),O=Math.min(N.maxX,z.maxX),w=Math.min(N.maxY,z.maxY),Math.max(0,O-S)*Math.max(0,w-P)),U=Ct(A)+Ct(At);Pt<st?(st=Pt,C=K,X=U<X?U:X):Pt===st&&U<X&&(X=U,C=K)}return C||I-pt},j.prototype._chooseSplitAxis=function(et,pt,I){var C=et.leaf?this.compareMinX:it,N=et.leaf?this.compareMinY:ft;this._allDistMargin(et,pt,I,C)<this._allDistMargin(et,pt,I,N)&&et.children.sort(C)},j.prototype._allDistMargin=function(et,pt,I,C){et.children.sort(C);for(var N=this.toBBox,z=nt(et,0,pt,N),S=nt(et,I-pt,I,N),P=Tt(z)+Tt(S),O=pt;O<I-pt;O++){var w=et.children[O];W(z,et.leaf?N(w):w),P+=Tt(z)}for(var st=I-pt-1;st>=pt;st--){var X=et.children[st];W(S,et.leaf?N(X):X),P+=Tt(S)}return P},j.prototype._adjustParentBBoxes=function(et,pt,I){for(var C=I;C>=0;C--)W(pt[C],et)},j.prototype._condense=function(et){for(var pt=et.length-1,I=void 0;pt>=0;pt--)0===et[pt].children.length?pt>0?(I=et[pt-1].children).splice(I.indexOf(et[pt]),1):this.clear():d(et[pt],this.toBBox)},j}()},565:Rt=>{"use strict";var yt=Object,Q=TypeError;Rt.exports=function(){if(null!=this&&this!==yt(this))throw new Q("RegExp.prototype.flags getter called on non-object");var j="";return this.hasIndices&&(j+="d"),this.global&&(j+="g"),this.ignoreCase&&(j+="i"),this.multiline&&(j+="m"),this.dotAll&&(j+="s"),this.unicode&&(j+="u"),this.sticky&&(j+="y"),j}},437:(Rt,yt,Q)=>{"use strict";var B=Q(6886),j=Q(44),R=Q(565),d=Q(3880),nt=Q(9129),W=j(d());B(W,{getPolyfill:d,implementation:R,shim:nt}),Rt.exports=W},3880:(Rt,yt,Q)=>{"use strict";var B=Q(565),j=Q(6886).supportsDescriptors,R=Object.getOwnPropertyDescriptor;Rt.exports=function(){if(j&&"gim"===/a/gim.flags){var nt=R(RegExp.prototype,"flags");if(nt&&"function"==typeof nt.get&&"boolean"==typeof/a/.dotAll)return nt.get}return B}},9129:(Rt,yt,Q)=>{"use strict";var B=Q(6886).supportsDescriptors,j=Q(3880),R=Object.getOwnPropertyDescriptor,d=Object.defineProperty,nt=TypeError,W=Object.getPrototypeOf,it=/a/;Rt.exports=function(){if(!B||!W)throw new nt("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Ct=j(),Tt=W(it),xt=R(Tt,"flags");return(!xt||xt.get!==Ct)&&d(Tt,"flags",{configurable:!0,enumerable:!1,get:Ct}),Ct}},5322:function(Rt,yt){!function(Q){"use strict";const B=134217729;function R(It,Bt,et,pt,I){let C,N,z,S,P=Bt[0],O=pt[0],w=0,st=0;O>P==O>-P?(C=P,P=Bt[++w]):(C=O,O=pt[++st]);let X=0;if(w<It&&st<et)for(O>P==O>-P?(z=C-((N=P+C)-P),P=Bt[++w]):(z=C-((N=O+C)-O),O=pt[++st]),C=N,0!==z&&(I[X++]=z);w<It&&st<et;)O>P==O>-P?(z=C-((N=C+P)-(S=N-C))+(P-S),P=Bt[++w]):(z=C-((N=C+O)-(S=N-C))+(O-S),O=pt[++st]),C=N,0!==z&&(I[X++]=z);for(;w<It;)z=C-((N=C+P)-(S=N-C))+(P-S),P=Bt[++w],C=N,0!==z&&(I[X++]=z);for(;st<et;)z=C-((N=C+O)-(S=N-C))+(O-S),O=pt[++st],C=N,0!==z&&(I[X++]=z);return 0===C&&0!==X||(I[X++]=C),X}function d(It){return new Float64Array(It)}const ft=d(4),Ct=d(8),Tt=d(12),xt=d(16),mt=d(4);Q.orient2d=function(It,Bt,et,pt,I,C){const N=(Bt-C)*(et-I),z=(It-I)*(pt-C),S=N-z;if(0===N||0===z||N>0!=z>0)return S;const P=Math.abs(N+z);return Math.abs(S)>=33306690738754716e-32*P?S:-function(O,w,st,X,K,A,At){let Pt,U,lt,J,ut,ct,G,wt,Lt,Yt,Ot,se,he,ue,Jt,$t,Gt,Nn;const on=O-K,mn=st-K,un=w-A,Rn=X-A;ut=(Jt=(wt=on-(G=(ct=B*on)-(ct-on)))*(Yt=Rn-(Lt=(ct=B*Rn)-(ct-Rn)))-((ue=on*Rn)-G*Lt-wt*Lt-G*Yt))-(Ot=Jt-(Gt=(wt=un-(G=(ct=B*un)-(ct-un)))*(Yt=mn-(Lt=(ct=B*mn)-(ct-mn)))-(($t=un*mn)-G*Lt-wt*Lt-G*Yt))),ft[0]=Jt-(Ot+ut)+(ut-Gt),ut=(he=ue-((se=ue+Ot)-(ut=se-ue))+(Ot-ut))-(Ot=he-$t),ft[1]=he-(Ot+ut)+(ut-$t),ut=(Nn=se+Ot)-se,ft[2]=se-(Nn-ut)+(Ot-ut),ft[3]=Nn;let dt=function(at,bt){let Dt=bt[0];for(let Ft=1;Ft<4;Ft++)Dt+=bt[Ft];return Dt}(0,ft),D=22204460492503146e-32*At;if(dt>=D||-dt>=D||(Pt=O-(on+(ut=O-on))+(ut-K),lt=st-(mn+(ut=st-mn))+(ut-K),U=w-(un+(ut=w-un))+(ut-A),J=X-(Rn+(ut=X-Rn))+(ut-A),0===Pt&&0===U&&0===lt&&0===J)||(D=11093356479670487e-47*At+33306690738754706e-32*Math.abs(dt),(dt+=on*J+Rn*Pt-(un*lt+mn*U))>=D||-dt>=D))return dt;ut=(Jt=(wt=Pt-(G=(ct=B*Pt)-(ct-Pt)))*(Yt=Rn-(Lt=(ct=B*Rn)-(ct-Rn)))-((ue=Pt*Rn)-G*Lt-wt*Lt-G*Yt))-(Ot=Jt-(Gt=(wt=U-(G=(ct=B*U)-(ct-U)))*(Yt=mn-(Lt=(ct=B*mn)-(ct-mn)))-(($t=U*mn)-G*Lt-wt*Lt-G*Yt))),mt[0]=Jt-(Ot+ut)+(ut-Gt),ut=(he=ue-((se=ue+Ot)-(ut=se-ue))+(Ot-ut))-(Ot=he-$t),mt[1]=he-(Ot+ut)+(ut-$t),ut=(Nn=se+Ot)-se,mt[2]=se-(Nn-ut)+(Ot-ut),mt[3]=Nn;const T=R(4,ft,4,mt,Ct);ut=(Jt=(wt=on-(G=(ct=B*on)-(ct-on)))*(Yt=J-(Lt=(ct=B*J)-(ct-J)))-((ue=on*J)-G*Lt-wt*Lt-G*Yt))-(Ot=Jt-(Gt=(wt=un-(G=(ct=B*un)-(ct-un)))*(Yt=lt-(Lt=(ct=B*lt)-(ct-lt)))-(($t=un*lt)-G*Lt-wt*Lt-G*Yt))),mt[0]=Jt-(Ot+ut)+(ut-Gt),ut=(he=ue-((se=ue+Ot)-(ut=se-ue))+(Ot-ut))-(Ot=he-$t),mt[1]=he-(Ot+ut)+(ut-$t),ut=(Nn=se+Ot)-se,mt[2]=se-(Nn-ut)+(Ot-ut),mt[3]=Nn;const M=R(T,Ct,4,mt,Tt);ut=(Jt=(wt=Pt-(G=(ct=B*Pt)-(ct-Pt)))*(Yt=J-(Lt=(ct=B*J)-(ct-J)))-((ue=Pt*J)-G*Lt-wt*Lt-G*Yt))-(Ot=Jt-(Gt=(wt=U-(G=(ct=B*U)-(ct-U)))*(Yt=lt-(Lt=(ct=B*lt)-(ct-lt)))-(($t=U*lt)-G*Lt-wt*Lt-G*Yt))),mt[0]=Jt-(Ot+ut)+(ut-Gt),ut=(he=ue-((se=ue+Ot)-(ut=se-ue))+(Ot-ut))-(Ot=he-$t),mt[1]=he-(Ot+ut)+(ut-$t),ut=(Nn=se+Ot)-se,mt[2]=se-(Nn-ut)+(Ot-ut),mt[3]=Nn;const V=R(M,Tt,4,mt,xt);return xt[V-1]}(It,Bt,et,pt,I,C,P)},Q.orient2dfast=function(It,Bt,et,pt,I,C){return(Bt-C)*(et-I)-(It-I)*(pt-C)},Object.defineProperty(Q,"__esModule",{value:!0})}(yt)},6257:Rt=>{"use strict";Rt.exports={eudist:function(Q,B,j){for(var R=Q.length,d=0,nt=0;nt<R;nt++){var W=(Q[nt]||0)-(B[nt]||0);d+=W*W}return j?Math.sqrt(d):d},mandist:function(Q,B,j){for(var R=Q.length,d=0,nt=0;nt<R;nt++)d+=Math.abs((Q[nt]||0)-(B[nt]||0));return j?Math.sqrt(d):d},dist:function(Q,B,j){var R=Math.abs(Q-B);return j?R:R*R}}},6019:(Rt,yt,Q)=>{"use strict";var B=Q(6257),j=B.eudist,R=B.dist;Rt.exports={kmrand:function(nt,W){for(var it={},ft=[],Ct=W<<2,Tt=nt.length,xt=nt[0].length>0;ft.length<W&&Ct-- >0;){var mt=nt[Math.floor(Math.random()*Tt)],It=xt?mt.join("_"):""+mt;it[It]||(it[It]=!0,ft.push(mt))}if(ft.length<W)throw new Error("Error initializating clusters");return ft},kmpp:function(nt,W){var it=nt[0].length?j:R,ft=[],Ct=nt.length,Tt=nt[0].length>0,mt=nt[Math.floor(Math.random()*Ct)];for(Tt&&mt.join("_"),ft.push(mt);ft.length<W;){for(var Bt=[],et=ft.length,pt=0,I=[],C=0;C<Ct;C++){for(var N=1/0,z=0;z<et;z++){var S=it(nt[C],ft[z]);S<=N&&(N=S)}Bt[C]=N}for(var P=0;P<Ct;P++)pt+=Bt[P];for(var O=0;O<Ct;O++)I[O]={i:O,v:nt[O],pr:Bt[O]/pt,cs:0};I.sort(function(K,A){return K.pr-A.pr}),I[0].cs=I[0].pr;for(var w=1;w<Ct;w++)I[w].cs=I[w-1].cs+I[w].pr;for(var st=Math.random(),X=0;X<Ct-1&&I[X++].cs<st;);ft.push(I[X-1].v)}return ft}}},3212:(Rt,yt,Q)=>{"use strict";var B=Q(6257),j=Q(6019),R=B.eudist,W=j.kmrand,it=j.kmpp;function Ct(xt,mt,It){It=It||[];for(var Bt=0;Bt<xt;Bt++)It[Bt]=mt;return It}Rt.exports=function(xt,mt,It,Bt){var et=[],pt=[],I=[],C=[],N=!1,z=Bt||1e4,S=xt.length,P=xt[0].length,O=P>0,w=[];if(It)et="kmrand"==It?W(xt,mt):"kmpp"==It?it(xt,mt):It;else for(var st={};et.length<mt;){var X=Math.floor(Math.random()*S);st[X]||(st[X]=!0,et.push(xt[X]))}do{Ct(mt,0,w);for(var K=0;K<S;K++){for(var A=1/0,At=0,Pt=0;Pt<mt;Pt++)(C=O?R(xt[K],et[Pt]):Math.abs(xt[K]-et[Pt]))<=A&&(A=C,At=Pt);I[K]=At,w[At]++}for(var U=[],J=(pt=[],0);J<mt;J++)U[J]=O?Ct(P,0,U[J]):0,pt[J]=et[J];if(O){for(var ut=0;ut<mt;ut++)et[ut]=[];for(var ct=0;ct<S;ct++)for(var wt=U[I[ct]],Lt=xt[ct],Yt=0;Yt<P;Yt++)wt[Yt]+=Lt[Yt];N=!0;for(var Ot=0;Ot<mt;Ot++){for(var se=et[Ot],he=U[Ot],ue=pt[Ot],Jt=w[Ot],$t=0;$t<P;$t++)se[$t]=he[$t]/Jt||0;if(N)for(var Gt=0;Gt<P;Gt++)if(ue[Gt]!=se[Gt]){N=!1;break}}}else{for(var Nn=0;Nn<S;Nn++)U[I[Nn]]+=xt[Nn];for(var mn=0;mn<mt;mn++)et[mn]=U[mn]/w[mn]||0;N=!0;for(var un=0;un<mt;un++)if(pt[un]!=et[un]){N=!1;break}}N=N||--z<=0}while(!N);return{it:1e4-z,k:mt,idxs:I,centroids:et}}},54:(Rt,yt,Q)=>{"use strict";Q.r(yt),Q.d(yt,{default:()=>B});class B{constructor(d=[],nt=j){if(this.data=d,this.length=this.data.length,this.compare=nt,this.length>0)for(let W=(this.length>>1)-1;W>=0;W--)this._down(W)}push(d){this.data.push(d),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const d=this.data[0],nt=this.data.pop();return this.length--,this.length>0&&(this.data[0]=nt,this._down(0)),d}peek(){return this.data[0]}_up(d){const{data:nt,compare:W}=this,it=nt[d];for(;d>0;){const ft=d-1>>1,Ct=nt[ft];if(W(it,Ct)>=0)break;nt[d]=Ct,d=ft}nt[d]=it}_down(d){const{data:nt,compare:W}=this,it=this.length>>1,ft=nt[d];for(;d<it;){let Ct=1+(d<<1),Tt=nt[Ct];const xt=Ct+1;if(xt<this.length&&W(nt[xt],Tt)<0&&(Ct=xt,Tt=nt[xt]),W(Tt,ft)>=0)break;nt[d]=Tt,d=Ct}nt[d]=ft}}function j(R,d){return R<d?-1:R>d?1:0}},7299:function(Rt,yt){!function(Q){"use strict";function B(){}function j(t){this.message=t||""}function R(t){this.message=t||""}function d(t){this.message=t||""}function nt(){}function W(t){return null===t?Ci:t.color}function it(t){return null===t?null:t.parent}function ft(t,e){null!==t&&(t.color=e)}function Ct(t){return null===t?null:t.left}function Tt(t){return null===t?null:t.right}function xt(){this.root_=null,this.size_=0}function mt(){}function It(){this.array_=[],arguments[0]instanceof pn&&this.addAll(arguments[0])}function Bt(){}function et(t){this.message=t||""}function pt(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),o=Math.max(Math.min(e.length,9007199254740991),0)||0,s=1 in arguments&&parseInt(Number(arguments[1]),10)||0;s=s<0?Math.max(o+s,0):Math.min(s,o);var l=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:o;for(l=l<0?Math.max(o+arguments[2],0):Math.min(l,o);s<l;)e[s]=t,++s;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var I=function(){};I.prototype.interfaces_=function(){return[]},I.prototype.getClass=function(){return I},I.prototype.equalsWithTolerance=function(t,e,o){return Math.abs(t-e)<=o};var C=function(t){function e(o){t.call(this,o),this.name="IllegalArgumentException",this.message=o,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),N=function(){},z={MAX_VALUE:{configurable:!0}};N.isNaN=function(t){return Number.isNaN(t)},N.doubleToLongBits=function(t){return t},N.longBitsToDouble=function(t){return t},N.isInfinite=function(t){return!Number.isFinite(t)},z.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(N,z);var S=function(){},P=function(){},O=function(){},w=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},st={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};w.prototype.setOrdinate=function(t,e){switch(t){case w.X:this.x=e;break;case w.Y:this.y=e;break;case w.Z:this.z=e;break;default:throw new C("Invalid ordinate index: "+t)}},w.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],o=arguments[1];return!!I.equalsWithTolerance(this.x,e.x,o)&&!!I.equalsWithTolerance(this.y,e.y,o)}},w.prototype.getOrdinate=function(t){switch(t){case w.X:return this.x;case w.Y:return this.y;case w.Z:return this.z}throw new C("Invalid ordinate index: "+t)},w.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||N.isNaN(this.z))&&N.isNaN(t.z)},w.prototype.equals=function(t){return t instanceof w&&this.equals2D(t)},w.prototype.equalInZ=function(t,e){return I.equalsWithTolerance(this.z,t.z,e)},w.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},w.prototype.clone=function(){},w.prototype.copy=function(){return new w(this)},w.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},w.prototype.distance3D=function(t){var e=this.x-t.x,o=this.y-t.y,s=this.z-t.z;return Math.sqrt(e*e+o*o+s*s)},w.prototype.distance=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},w.prototype.hashCode=function(){var t=17;return 37*(t=37*t+w.hashCode(this.x))+w.hashCode(this.y)},w.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},w.prototype.interfaces_=function(){return[S,P,B]},w.prototype.getClass=function(){return w},w.hashCode=function(){if(1===arguments.length){var e=N.doubleToLongBits(arguments[0]);return Math.trunc((e^e)>>>32)}},st.DimensionalComparator.get=function(){return X},st.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},st.NULL_ORDINATE.get=function(){return N.NaN},st.X.get=function(){return 0},st.Y.get=function(){return 1},st.Z.get=function(){return 2},Object.defineProperties(w,st);var X=function(t){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new C("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};X.prototype.compare=function(t,e){var o=t,s=e,l=X.compare(o.x,s.x);if(0!==l)return l;var y=X.compare(o.y,s.y);return 0!==y?y:this._dimensionsToTest<=2?0:X.compare(o.z,s.z)},X.prototype.interfaces_=function(){return[O]},X.prototype.getClass=function(){return X},X.compare=function(t,e){return t<e?-1:t>e?1:N.isNaN(t)?N.isNaN(e)?0:-1:N.isNaN(e)?1:0};var K=function(){};K.prototype.create=function(){},K.prototype.interfaces_=function(){return[]},K.prototype.getClass=function(){return K};var A=function(){},At={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};A.prototype.interfaces_=function(){return[]},A.prototype.getClass=function(){return A},A.toLocationSymbol=function(t){switch(t){case A.EXTERIOR:return"e";case A.BOUNDARY:return"b";case A.INTERIOR:return"i";case A.NONE:return"-"}throw new C("Unknown location value: "+t)},At.INTERIOR.get=function(){return 0},At.BOUNDARY.get=function(){return 1},At.EXTERIOR.get=function(){return 2},At.NONE.get=function(){return-1},Object.defineProperties(A,At);var Pt=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},U=function(){},lt={LOG_10:{configurable:!0}};U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.log10=function(t){var e=Math.log(t);return N.isInfinite(e)||N.isNaN(e)?e:e/U.LOG_10},U.min=function(t,e,o,s){var l=t;return e<l&&(l=e),o<l&&(l=o),s<l&&(l=s),l},U.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],o=arguments[2];return t<e?e:t>o?o:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],l=arguments[1],y=arguments[2];return s<l?l:s>y?y:s}},U.wrap=function(t,e){return t<0?e- -t%e:t%e},U.max=function(){if(3===arguments.length){var e=arguments[1],o=arguments[2],s=arguments[0];return e>s&&(s=e),o>s&&(s=o),s}if(4===arguments.length){var y=arguments[1],x=arguments[2],b=arguments[3],q=arguments[0];return y>q&&(q=y),x>q&&(q=x),b>q&&(q=b),q}},U.average=function(t,e){return(t+e)/2},lt.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(U,lt);var J=function(t){this.str=t};J.prototype.append=function(t){this.str+=t},J.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},J.prototype.toString=function(t){return this.str};var ut=function(t){this.value=t};ut.prototype.intValue=function(){return this.value},ut.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},ut.isNaN=function(t){return Number.isNaN(t)};var ct=function(){};ct.isWhitespace=function(t){return t<=32&&t>=0||127===t},ct.toUpperCase=function(t){return t.toUpperCase()};var G=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},wt={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};G.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},G.prototype.extractSignificantDigits=function(t,e){var o=this.abs(),s=G.magnitude(o._hi),l=G.TEN.pow(s);(o=o.divide(l)).gt(G.TEN)?(o=o.divide(G.TEN),s+=1):o.lt(G.ONE)&&(o=o.multiply(G.TEN),s-=1);for(var y=s+1,x=new J,b=G.MAX_PRINT_DIGITS-1,q=0;q<=b;q++){t&&q===y&&x.append(".");var rt=Math.trunc(o._hi);if(rt<0)break;var Et=!1,Nt=0;rt>9?(Et=!0,Nt="9"):Nt="0"+rt,x.append(Nt),o=o.subtract(G.valueOf(rt)).multiply(G.TEN),Et&&o.selfAdd(G.TEN);var zt=!0,Zt=G.magnitude(o._hi);if(Zt<0&&Math.abs(Zt)>=b-q&&(zt=!1),!zt)break}return e[0]=s,x.toString()},G.prototype.sqr=function(){return this.multiply(this)},G.prototype.doubleValue=function(){return this._hi+this._lo},G.prototype.subtract=function(){return arguments[0]instanceof G?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},G.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},G.prototype.isZero=function(){return 0===this._hi&&0===this._lo},G.prototype.selfSubtract=function(){if(arguments[0]instanceof G){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},G.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},G.prototype.min=function(t){return this.le(t)?this:t},G.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var o=arguments[0],l=null,y=null,x=null,b=null,q=null,rt=null,Et=null,Nt=null;return this._hi=Nt=(q=this._hi/o)+(rt=(this._hi-(Et=q*o)-(Nt=(l=(rt=G.SPLIT*q)-(l=rt-q))*(x=(Nt=G.SPLIT*o)-(x=Nt-o))-Et+l*(b=o-x)+(y=q-l)*x+y*b)+this._lo-q*arguments[1])/o),this._lo=q-Nt+rt,this}},G.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},G.prototype.divide=function(){if(arguments[0]instanceof G){var t=arguments[0],e=null,o=null,s=null,l=null,y=null,x=null,b=null,q=null;return o=(y=this._hi/t._hi)-(e=(x=G.SPLIT*y)-(e=x-y)),q=e*(s=(q=G.SPLIT*t._hi)-(s=q-t._hi))-(b=y*t._hi)+e*(l=t._hi-s)+o*s+o*l,new G(q=y+(x=(this._hi-b-q+this._lo-y*t._lo)/t._hi),y-q+x)}if("number"==typeof arguments[0]){var rt=arguments[0];return N.isNaN(rt)?G.createNaN():G.copy(this).selfDivide(rt,0)}},G.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},G.prototype.pow=function(t){if(0===t)return G.valueOf(1);var e=new G(this),o=G.valueOf(1),s=Math.abs(t);if(s>1)for(;s>0;)s%2==1&&o.selfMultiply(e),(s/=2)>0&&(e=e.sqr());else o=e;return t<0?o.reciprocal():o},G.prototype.ceil=function(){if(this.isNaN())return G.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new G(t,e)},G.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},G.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},G.prototype.setValue=function(){return arguments[0]instanceof G||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},G.prototype.max=function(t){return this.ge(t)?this:t},G.prototype.sqrt=function(){if(this.isZero())return G.valueOf(0);if(this.isNegative())return G.NaN;var t=1/Math.sqrt(this._hi),o=G.valueOf(this._hi*t),s=this.subtract(o.sqr())._hi*(.5*t);return o.add(s)},G.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],o=null,s=null,l=null,x=null,b=null;return this._hi=(o=(l=this._hi+e)+(b=e-(x=l-this._hi)+(this._hi-(l-x))+this._lo))+(s=b+(l-o)),this._lo=s+(o-this._hi),this}}else if(2===arguments.length){var q=arguments[0],rt=arguments[1],Et=null,Nt=null,zt=null,Zt=null,Wt=null,ee=null,Ie=null;Wt=(Zt=this._hi+q)-(ee=Zt-this._hi),zt=(Nt=this._lo+rt)-(Ie=Nt-this._lo);var On=(Et=Zt+(ee=(Wt=q-ee+(this._hi-Wt))+Nt))+(ee=(zt=rt-Ie+(this._lo-zt))+(ee+(Zt-Et))),gr=ee+(Et-On);return this._hi=On,this._lo=gr,this}},G.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var o=arguments[0],l=null,y=null,x=null,b=null,q=null,rt=null;l=(q=G.SPLIT*this._hi)-this._hi,l=q-l;var Et=(q=this._hi*o)+(rt=l*(x=(rt=G.SPLIT*o)-(x=rt-o))-q+l*(b=o-x)+(y=this._hi-l)*x+y*b+(this._hi*arguments[1]+this._lo*o)),Nt=rt+(l=q-Et);return this._hi=Et,this._lo=Nt,this}},G.prototype.selfSqr=function(){return this.selfMultiply(this)},G.prototype.floor=function(){if(this.isNaN())return G.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new G(t,e)},G.prototype.negate=function(){return this.isNaN()?this:new G(-this._hi,-this._lo)},G.prototype.clone=function(){},G.prototype.multiply=function(){if(arguments[0]instanceof G){var t=arguments[0];return t.isNaN()?G.createNaN():G.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return N.isNaN(e)?G.createNaN():G.copy(this).selfMultiply(e,0)}},G.prototype.isNaN=function(){return N.isNaN(this._hi)},G.prototype.intValue=function(){return Math.trunc(this._hi)},G.prototype.toString=function(){var t=G.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},G.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!0,e),s=e[0]+1,l=o;return"."===o.charAt(0)?l="0"+o:s<0?l="0."+G.stringOfChar("0",-s)+o:-1===o.indexOf(".")&&(l=o+G.stringOfChar("0",s-o.length)+".0"),this.isNegative()?"-"+l:l},G.prototype.reciprocal=function(){var e,s,l,x,t=null,o=null,y=null,b=null;e=(l=1/this._hi)-(t=(y=G.SPLIT*l)-(t=y-l)),o=(b=G.SPLIT*this._hi)-this._hi;var q=l+(y=(1-(x=l*this._hi)-(b=t*(o=b-o)-x+t*(s=this._hi-o)+e*o+e*s)-l*this._lo)/this._hi);return new G(q,l-q+y)},G.prototype.toSciNotation=function(){if(this.isZero())return G.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!1,e),s=G.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===o.charAt(0))throw new Error("Found leading zero: "+o);var l="";o.length>1&&(l=o.substring(1));var y=o.charAt(0)+"."+l;return this.isNegative()?"-"+y+s:y+s},G.prototype.abs=function(){return this.isNaN()?G.NaN:this.isNegative()?this.negate():new G(this)},G.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},G.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},G.prototype.add=function(){if(arguments[0]instanceof G){var t=arguments[0];return G.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return G.copy(this).selfAdd(e)}},G.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof G){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var s=arguments[1];this._hi=arguments[0],this._lo=s}},G.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},G.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},G.prototype.trunc=function(){return this.isNaN()?G.NaN:this.isPositive()?this.floor():this.ceil()},G.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},G.prototype.interfaces_=function(){return[B,S,P]},G.prototype.getClass=function(){return G},G.sqr=function(t){return G.valueOf(t).selfMultiply(t)},G.valueOf=function(){return"string"==typeof arguments[0]?G.parse(arguments[0]):"number"==typeof arguments[0]?new G(arguments[0]):void 0},G.sqrt=function(t){return G.valueOf(t).sqrt()},G.parse=function(t){for(var e=0,o=t.length;ct.isWhitespace(t.charAt(e));)e++;var s=!1;if(e<o){var l=t.charAt(e);"-"!==l&&"+"!==l||(e++,"-"===l&&(s=!0))}for(var y=new G,x=0,b=0,q=0;!(e>=o);){var rt=t.charAt(e);if(e++,ct.isDigit(rt)){var Et=rt-"0";y.selfMultiply(G.TEN),y.selfAdd(Et),x++}else{if("."!==rt){if("e"===rt||"E"===rt){var Nt=t.substring(e);try{q=ut.parseInt(Nt)}catch(Ie){throw Ie instanceof Error?new Error("Invalid exponent "+Nt+" in string "+t):Ie}break}throw new Error("Unexpected character '"+rt+"' at position "+e+" in string "+t)}b=x}}var zt=y,Zt=x-b-q;if(0===Zt)zt=y;else if(Zt>0){var Wt=G.TEN.pow(Zt);zt=y.divide(Wt)}else if(Zt<0){var ee=G.TEN.pow(-Zt);zt=y.multiply(ee)}return s?zt.negate():zt},G.createNaN=function(){return new G(N.NaN,N.NaN)},G.copy=function(t){return new G(t)},G.magnitude=function(t){var e=Math.abs(t),o=Math.log(e)/Math.log(10),s=Math.trunc(Math.floor(o));return 10*Math.pow(10,s)<=e&&(s+=1),s},G.stringOfChar=function(t,e){for(var o=new J,s=0;s<e;s++)o.append(t);return o.toString()},wt.PI.get=function(){return new G(3.141592653589793,12246467991473532e-32)},wt.TWO_PI.get=function(){return new G(6.283185307179586,24492935982947064e-32)},wt.PI_2.get=function(){return new G(1.5707963267948966,6123233995736766e-32)},wt.E.get=function(){return new G(2.718281828459045,14456468917292502e-32)},wt.NaN.get=function(){return new G(N.NaN,N.NaN)},wt.EPS.get=function(){return 123259516440783e-46},wt.SPLIT.get=function(){return 134217729},wt.MAX_PRINT_DIGITS.get=function(){return 32},wt.TEN.get=function(){return G.valueOf(10)},wt.ONE.get=function(){return G.valueOf(1)},wt.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},wt.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(G,wt);var Lt=function(){},Yt={DP_SAFE_EPSILON:{configurable:!0}};Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt},Lt.orientationIndex=function(t,e,o){var s=Lt.orientationIndexFilter(t,e,o);if(s<=1)return s;var l=G.valueOf(e.x).selfAdd(-t.x),y=G.valueOf(e.y).selfAdd(-t.y),x=G.valueOf(o.x).selfAdd(-e.x),b=G.valueOf(o.y).selfAdd(-e.y);return l.selfMultiply(b).selfSubtract(y.selfMultiply(x)).signum()},Lt.signOfDet2x2=function(t,e,o,s){return t.multiply(s).selfSubtract(e.multiply(o)).signum()},Lt.intersection=function(t,e,o,s){var l=G.valueOf(s.y).selfSubtract(o.y).selfMultiply(G.valueOf(e.x).selfSubtract(t.x)),y=G.valueOf(s.x).selfSubtract(o.x).selfMultiply(G.valueOf(e.y).selfSubtract(t.y)),x=l.subtract(y),b=G.valueOf(s.x).selfSubtract(o.x).selfMultiply(G.valueOf(t.y).selfSubtract(o.y)),q=G.valueOf(s.y).selfSubtract(o.y).selfMultiply(G.valueOf(t.x).selfSubtract(o.x)),rt=b.subtract(q).selfDivide(x).doubleValue(),Et=G.valueOf(t.x).selfAdd(G.valueOf(e.x).selfSubtract(t.x).selfMultiply(rt)).doubleValue(),Nt=G.valueOf(e.x).selfSubtract(t.x).selfMultiply(G.valueOf(t.y).selfSubtract(o.y)),zt=G.valueOf(e.y).selfSubtract(t.y).selfMultiply(G.valueOf(t.x).selfSubtract(o.x)),Zt=Nt.subtract(zt).selfDivide(x).doubleValue(),Wt=G.valueOf(o.y).selfAdd(G.valueOf(s.y).selfSubtract(o.y).selfMultiply(Zt)).doubleValue();return new w(Et,Wt)},Lt.orientationIndexFilter=function(t,e,o){var s=null,l=(t.x-o.x)*(e.y-o.y),y=(t.y-o.y)*(e.x-o.x),x=l-y;if(l>0){if(y<=0)return Lt.signum(x);s=l+y}else{if(!(l<0)||y>=0)return Lt.signum(x);s=-l-y}var b=Lt.DP_SAFE_EPSILON*s;return x>=b||-x>=b?Lt.signum(x):2},Lt.signum=function(t){return t>0?1:t<0?-1:0},Yt.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Lt,Yt);var Ot=function(){},se={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};se.X.get=function(){return 0},se.Y.get=function(){return 1},se.Z.get=function(){return 2},se.M.get=function(){return 3},Ot.prototype.setOrdinate=function(t,e,o){},Ot.prototype.size=function(){},Ot.prototype.getOrdinate=function(t,e){},Ot.prototype.getCoordinate=function(){},Ot.prototype.getCoordinateCopy=function(t){},Ot.prototype.getDimension=function(){},Ot.prototype.getX=function(t){},Ot.prototype.clone=function(){},Ot.prototype.expandEnvelope=function(t){},Ot.prototype.copy=function(){},Ot.prototype.getY=function(t){},Ot.prototype.toCoordinateArray=function(){},Ot.prototype.interfaces_=function(){return[P]},Ot.prototype.getClass=function(){return Ot},Object.defineProperties(Ot,se);var he=function(){},ue=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(he),Jt=function(){};Jt.arraycopy=function(t,e,o,s,l){for(var y=0,x=e;x<e+l;x++)o[s+y]=t[x],y++},Jt.getProperty=function(t){return{"line.separator":"\n"}[t]};var $t=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[1];this.x=arguments[0],this.y=s,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var l=arguments[0],y=arguments[1];this.x=l.y*y.w-y.y*l.w,this.y=y.x*l.w-l.x*y.w,this.w=l.x*y.y-y.x*l.y}else if(arguments[0]instanceof w&&arguments[1]instanceof w){var x=arguments[0],b=arguments[1];this.x=x.y-b.y,this.y=b.x-x.x,this.w=x.x*b.y-b.x*x.y}}else if(3===arguments.length){var rt=arguments[1],Et=arguments[2];this.x=arguments[0],this.y=rt,this.w=Et}else if(4===arguments.length){var Nt=arguments[0],zt=arguments[1],Zt=arguments[2],Wt=arguments[3],ee=Nt.y-zt.y,Ie=zt.x-Nt.x,On=Nt.x*zt.y-zt.x*Nt.y,gr=Zt.y-Wt.y,Ri=Wt.x-Zt.x,ci=Zt.x*Wt.y-Wt.x*Zt.y;this.x=Ie*ci-Ri*On,this.y=gr*On-ee*ci,this.w=ee*Ri-gr*Ie}};$t.prototype.getY=function(){var t=this.y/this.w;if(N.isNaN(t)||N.isInfinite(t))throw new ue;return t},$t.prototype.getX=function(){var t=this.x/this.w;if(N.isNaN(t)||N.isInfinite(t))throw new ue;return t},$t.prototype.getCoordinate=function(){var t=new w;return t.x=this.getX(),t.y=this.getY(),t},$t.prototype.interfaces_=function(){return[]},$t.prototype.getClass=function(){return $t},$t.intersection=function(t,e,o,s){var l=t.y-e.y,y=e.x-t.x,x=t.x*e.y-e.x*t.y,b=o.y-s.y,q=s.x-o.x,rt=o.x*s.y-s.x*o.y,Et=l*q-b*y,Nt=(y*rt-q*x)/Et,zt=(b*x-l*rt)/Et;if(N.isNaN(Nt)||N.isInfinite(Nt)||N.isNaN(zt)||N.isInfinite(zt))throw new ue;return new w(Nt,zt)};var Gt=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof w){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var s=arguments[0],l=arguments[1];this.init(s.x,l.x,s.y,l.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Nn={serialVersionUID:{configurable:!0}};Gt.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Gt.prototype.equals=function(t){if(!(t instanceof Gt))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Gt.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new Gt:new Gt(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},Gt.prototype.isNull=function(){return this._maxx<this._minx},Gt.prototype.getMaxX=function(){return this._maxx},Gt.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Gt){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];return!this.isNull()&&o>=this._minx&&o<=this._maxx&&s>=this._miny&&s<=this._maxy}},Gt.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Gt){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof w){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];return!this.isNull()&&!(o>this._maxx||o<this._minx||s>this._maxy||s<this._miny)}},Gt.prototype.getMinY=function(){return this._miny},Gt.prototype.getMinX=function(){return this._minx},Gt.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Gt){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];this.isNull()?(this._minx=o,this._maxx=o,this._miny=s,this._maxy=s):(o<this._minx&&(this._minx=o),o>this._maxx&&(this._maxx=o),s<this._miny&&(this._miny=s),s>this._maxy&&(this._maxy=s))}},Gt.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Gt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Gt.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Gt.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Gt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Gt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Gt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Gt.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Gt.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=o,this._maxy+=o,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Gt.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Gt)return this.covers(arguments[0]);if(arguments[0]instanceof w)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Gt.prototype.centre=function(){return this.isNull()?null:new w((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Gt.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Gt){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];this.init(o.x,s.x,o.y,s.y)}else if(4===arguments.length){var l=arguments[0],y=arguments[1],x=arguments[2],b=arguments[3];l<y?(this._minx=l,this._maxx=y):(this._minx=y,this._maxx=l),x<b?(this._miny=x,this._maxy=b):(this._miny=b,this._maxy=x)}},Gt.prototype.getMaxY=function(){return this._maxy},Gt.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var o=0;return this._maxy<t._miny?o=t._miny-this._maxy:this._miny>t._maxy&&(o=this._miny-t._maxy),0===e?o:0===o?e:Math.sqrt(e*e+o*o)},Gt.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+w.hashCode(this._minx))+w.hashCode(this._maxx))+w.hashCode(this._miny))+w.hashCode(this._maxy)},Gt.prototype.interfaces_=function(){return[S,B]},Gt.prototype.getClass=function(){return Gt},Gt.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2];return o.x>=(t.x<e.x?t.x:e.x)&&o.x<=(t.x>e.x?t.x:e.x)&&o.y>=(t.y<e.y?t.y:e.y)&&o.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var s=arguments[0],l=arguments[1],y=arguments[2],x=arguments[3],b=Math.min(y.x,x.x),q=Math.max(y.x,x.x),rt=Math.min(s.x,l.x),Et=Math.max(s.x,l.x);return!(rt>q||Et<b||(b=Math.min(y.y,x.y),q=Math.max(y.y,x.y),rt=Math.min(s.y,l.y),Et=Math.max(s.y,l.y),rt>q||Et<b))}},Nn.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Gt,Nn);var on={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},mn=function(t){this.geometryFactory=t||new ve};mn.prototype.read=function(t){var e,o;t=t.replace(/[\n\r]/g," ");var l=on.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((l=on.emptyTypeStr.exec(t))[2]=void 0),l&&(o=l[1].toLowerCase(),Rn[o]&&(e=Rn[o].apply(this,[l[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},mn.prototype.write=function(t){return this.extractGeometry(t)},mn.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!un[e])return null;var o=e.toUpperCase();return t.isEmpty()?o+" EMPTY":o+"("+un[e].apply(this,[t])+")"};var un={coordinate:function(t){return t.x+" "+t.y},point:function(t){return un.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push("("+un.point.apply(this,[t._geometries[o]])+")");return e.join(",")},linestring:function(t){for(var e=[],o=0,s=t._points._coordinates.length;o<s;++o)e.push(un.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},linearring:function(t){for(var e=[],o=0,s=t._points._coordinates.length;o<s;++o)e.push(un.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},multilinestring:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push("("+un.linestring.apply(this,[t._geometries[o]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+un.linestring.apply(this,[t._shell])+")");for(var o=0,s=t._holes.length;o<s;++o)e.push("("+un.linestring.apply(this,[t._holes[o]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push("("+un.polygon.apply(this,[t._geometries[o]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push(this.extractGeometry(t._geometries[o]));return e.join(",")}},Rn={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(on.spaces);return this.geometryFactory.createPoint(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,o=t.trim().split(","),s=[],l=0,y=o.length;l<y;++l)e=o[l].replace(on.trimParens,"$1"),s.push(Rn.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(s)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,o=t.trim().split(","),s=[],l=0,y=o.length;l<y;++l)e=o[l].trim().split(on.spaces),s.push(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(s)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,o=t.trim().split(","),s=[],l=0,y=o.length;l<y;++l)e=o[l].trim().split(on.spaces),s.push(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(s)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,o=t.trim().split(on.parenComma),s=[],l=0,y=o.length;l<y;++l)e=o[l].replace(on.trimParens,"$1"),s.push(Rn.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(s)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,o,s,l,y=t.trim().split(on.parenComma),x=[],b=0,q=y.length;b<q;++b)e=y[b].replace(on.trimParens,"$1"),o=Rn.linestring.apply(this,[e]),s=this.geometryFactory.createLinearRing(o._points),0===b?l=s:x.push(s);return this.geometryFactory.createPolygon(l,x)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,o=t.trim().split(on.doubleParenComma),s=[],l=0,y=o.length;l<y;++l)e=o[l].replace(on.trimParens,"$1"),s.push(Rn.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(s)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),o=[],s=0,l=e.length;s<l;++s)o.push(this.read(e[s]));return this.geometryFactory.createGeometryCollection(o)}},dt=function(t){this.parser=new mn(t)};dt.prototype.write=function(t){return this.parser.write(t)},dt.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var D=function(t){function e(o){t.call(this,o),this.name="RuntimeException",this.message=o,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),T=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(D),M=function(){};M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.shouldNeverReachHere=function(){if(0===arguments.length)M.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new T("Should never reach here"+(null!==t?": "+t:""))}},M.isTrue=function(){var e;if(1===arguments.length)M.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new T:new T(e)},M.equals=function(){var t,e,o;if(2===arguments.length)M.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(o=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new T("Expected "+t+" but encountered "+e+(null!==o?": "+o:""))};var V=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new w,this._intPt[1]=new w,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},at={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};V.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},V.prototype.getTopologySummary=function(){var t=new J;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},V.prototype.computeIntersection=function(t,e,o,s){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=o,this._inputLines[1][1]=s,this._result=this.computeIntersect(t,e,o,s)},V.prototype.getIntersectionNum=function(){return this._result},V.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},V.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},V.prototype.setPrecisionModel=function(t){this._precisionModel=t},V.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},V.prototype.getIntersection=function(t){return this._intPt[t]},V.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},V.prototype.hasIntersection=function(){return this._result!==V.NO_INTERSECTION},V.prototype.getEdgeDistance=function(t,e){return V.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},V.prototype.isCollinear=function(){return this._result===V.COLLINEAR_INTERSECTION},V.prototype.toString=function(){return dt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+dt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},V.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},V.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},V.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},V.prototype.interfaces_=function(){return[]},V.prototype.getClass=function(){return V},V.computeEdgeDistance=function(t,e,o){var s=Math.abs(o.x-e.x),l=Math.abs(o.y-e.y),y=-1;if(t.equals(e))y=0;else if(t.equals(o))y=s>l?s:l;else{var x=Math.abs(t.x-e.x),b=Math.abs(t.y-e.y);0!==(y=s>l?x:b)||t.equals(e)||(y=Math.max(x,b))}return M.isTrue(!(0===y&&!t.equals(e)),"Bad distance calculation"),y},V.nonRobustComputeEdgeDistance=function(t,e,o){var s=t.x-e.x,l=t.y-e.y,y=Math.sqrt(s*s+l*l);return M.isTrue(!(0===y&&!t.equals(e)),"Invalid distance calculation"),y},at.DONT_INTERSECT.get=function(){return 0},at.DO_INTERSECT.get=function(){return 1},at.COLLINEAR.get=function(){return 2},at.NO_INTERSECTION.get=function(){return 0},at.POINT_INTERSECTION.get=function(){return 1},at.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(V,at);var bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(o){var s=new Gt(this._inputLines[0][0],this._inputLines[0][1]),l=new Gt(this._inputLines[1][0],this._inputLines[1][1]);return s.contains(o)&&l.contains(o)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var o=arguments[0],s=arguments[1],l=arguments[2];if(this._isProper=!1,Gt.intersects(s,l,o)&&0===Mt.orientationIndex(s,l,o)&&0===Mt.orientationIndex(l,s,o))return this._isProper=!0,(o.equals(s)||o.equals(l))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(o,s,l,y,x){x.x=this.smallestInAbsValue(o.x,s.x,l.x,y.x),x.y=this.smallestInAbsValue(o.y,s.y,l.y,y.y),o.x-=x.x,o.y-=x.y,s.x-=x.x,s.y-=x.y,l.x-=x.x,l.y-=x.y,y.x-=x.x,y.y-=x.y},e.prototype.safeHCoordinateIntersection=function(o,s,l,y){var x=null;try{x=$t.intersection(o,s,l,y)}catch(b){if(!(b instanceof ue))throw b;x=e.nearestEndpoint(o,s,l,y)}return x},e.prototype.intersection=function(o,s,l,y){var x=this.intersectionWithNormalization(o,s,l,y);return this.isInSegmentEnvelopes(x)||(x=new w(e.nearestEndpoint(o,s,l,y))),null!==this._precisionModel&&this._precisionModel.makePrecise(x),x},e.prototype.smallestInAbsValue=function(o,s,l,y){var x=o,b=Math.abs(x);return Math.abs(s)<b&&(x=s,b=Math.abs(s)),Math.abs(l)<b&&(x=l,b=Math.abs(l)),Math.abs(y)<b&&(x=y),x},e.prototype.checkDD=function(o,s,l,y,x){var b=Lt.intersection(o,s,l,y),q=this.isInSegmentEnvelopes(b);Jt.out.println("DD in env = "+q+"  --------------------- "+b),x.distance(b)>1e-4&&Jt.out.println("Distance = "+x.distance(b))},e.prototype.intersectionWithNormalization=function(o,s,l,y){var x=new w(o),b=new w(s),q=new w(l),rt=new w(y),Et=new w;this.normalizeToEnvCentre(x,b,q,rt,Et);var Nt=this.safeHCoordinateIntersection(x,b,q,rt);return Nt.x+=Et.x,Nt.y+=Et.y,Nt},e.prototype.computeCollinearIntersection=function(o,s,l,y){var x=Gt.intersects(o,s,l),b=Gt.intersects(o,s,y),q=Gt.intersects(l,y,o),rt=Gt.intersects(l,y,s);return x&&b?(this._intPt[0]=l,this._intPt[1]=y,t.COLLINEAR_INTERSECTION):q&&rt?(this._intPt[0]=o,this._intPt[1]=s,t.COLLINEAR_INTERSECTION):x&&q?(this._intPt[0]=l,this._intPt[1]=o,!l.equals(o)||b||rt?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):x&&rt?(this._intPt[0]=l,this._intPt[1]=s,!l.equals(s)||b||q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):b&&q?(this._intPt[0]=y,this._intPt[1]=o,!y.equals(o)||x||rt?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):b&&rt?(this._intPt[0]=y,this._intPt[1]=s,!y.equals(s)||x||q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(o,s,l,y,x){var b=o.x<s.x?o.x:s.x,q=o.y<s.y?o.y:s.y,rt=o.x>s.x?o.x:s.x,Et=o.y>s.y?o.y:s.y,Nt=l.x<y.x?l.x:y.x,zt=l.y<y.y?l.y:y.y,Zt=l.x>y.x?l.x:y.x,Wt=l.y>y.y?l.y:y.y,Ie=((q>zt?q:zt)+(Et<Wt?Et:Wt))/2;x.x=((b>Nt?b:Nt)+(rt<Zt?rt:Zt))/2,x.y=Ie,o.x-=x.x,o.y-=x.y,s.x-=x.x,s.y-=x.y,l.x-=x.x,l.y-=x.y,y.x-=x.x,y.y-=x.y},e.prototype.computeIntersect=function(o,s,l,y){if(this._isProper=!1,!Gt.intersects(o,s,l,y))return t.NO_INTERSECTION;var x=Mt.orientationIndex(o,s,l),b=Mt.orientationIndex(o,s,y);if(x>0&&b>0||x<0&&b<0)return t.NO_INTERSECTION;var q=Mt.orientationIndex(l,y,o),rt=Mt.orientationIndex(l,y,s);return q>0&&rt>0||q<0&&rt<0?t.NO_INTERSECTION:0===x&&0===b&&0===q&&0===rt?this.computeCollinearIntersection(o,s,l,y):(0===x||0===b||0===q||0===rt?(this._isProper=!1,o.equals2D(l)||o.equals2D(y)?this._intPt[0]=o:s.equals2D(l)||s.equals2D(y)?this._intPt[0]=s:0===x?this._intPt[0]=new w(l):0===b?this._intPt[0]=new w(y):0===q?this._intPt[0]=new w(o):0===rt&&(this._intPt[0]=new w(s))):(this._isProper=!0,this._intPt[0]=this.intersection(o,s,l,y)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(o,s,l,y){var x=o,b=Mt.distancePointLine(o,l,y),q=Mt.distancePointLine(s,l,y);return q<b&&(b=q,x=s),(q=Mt.distancePointLine(l,o,s))<b&&(b=q,x=l),(q=Mt.distancePointLine(y,o,s))<b&&(b=q,x=y),x},e}(V),Dt=function(){};Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt},Dt.orientationIndex=function(t,e,o){return Dt.signOfDet2x2(e.x-t.x,e.y-t.y,o.x-e.x,o.y-e.y)},Dt.signOfDet2x2=function(t,e,o,s){var l=null,y=null,x=null;if(l=1,0===t||0===s)return 0===e||0===o?0:e>0?o>0?-l:l:o>0?l:-l;if(0===e||0===o)return s>0?t>0?l:-l:t>0?-l:l;if(e>0?s>0?e<=s||(l=-l,y=t,t=o,o=y,y=e,e=s,s=y):e<=-s?(l=-l,o=-o,s=-s):(y=t,t=-o,o=y,y=e,e=-s,s=y):s>0?-e<=s?(l=-l,t=-t,e=-e):(y=-t,t=o,o=y,y=-e,e=s,s=y):e>=s?(t=-t,e=-e,o=-o,s=-s):(l=-l,y=-t,t=-o,o=y,y=-e,e=-s,s=y),t>0){if(!(o>0&&t<=o))return l}else{if(o>0||!(t>=o))return-l;l=-l,t=-t,o=-o}for(;;){if((s-=(x=Math.floor(o/t))*e)<0)return-l;if(s>e)return l;if(t>(o-=x*t)+o){if(e<s+s)return l}else{if(e>s+s)return-l;o=t-o,s=e-s,l=-l}if(0===s)return 0===o?0:-l;if(0===o||(t-=(x=Math.floor(t/o))*o,(e-=x*s)<0))return l;if(e>s)return-l;if(o>t+t){if(s<e+e)return-l}else{if(s>e+e)return l;t=o-t,e=s-e,l=-l}if(0===e)return 0===t?0:l;if(0===t)return-l}};var Ft=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Ft.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var o=t.x,s=e.x;return o>s&&(o=e.x,s=t.x),this._p.x>=o&&this._p.x<=s&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var y=t.y-this._p.y,b=e.y-this._p.y,q=Dt.signOfDet2x2(t.x-this._p.x,y,e.x-this._p.x,b);if(0===q)return this._isPointOnSegment=!0,null;b<y&&(q=-q),q>0&&this._crossingCount++}},Ft.prototype.isPointInPolygon=function(){return this.getLocation()!==A.EXTERIOR},Ft.prototype.getLocation=function(){return this._isPointOnSegment?A.BOUNDARY:this._crossingCount%2==1?A.INTERIOR:A.EXTERIOR},Ft.prototype.isOnSegment=function(){return this._isPointOnSegment},Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft},Ft.locatePointInRing=function(){if(arguments[0]instanceof w&&Pt(arguments[1],Ot)){for(var e=arguments[1],o=new Ft(arguments[0]),s=new w,l=new w,y=1;y<e.size();y++)if(e.getCoordinate(y,s),e.getCoordinate(y-1,l),o.countSegment(s,l),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof w&&arguments[1]instanceof Array){for(var b=arguments[1],q=new Ft(arguments[0]),rt=1;rt<b.length;rt++)if(q.countSegment(b[rt],b[rt-1]),q.isOnSegment())return q.getLocation();return q.getLocation()}};var Mt=function(){},ae={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt},Mt.orientationIndex=function(t,e,o){return Lt.orientationIndex(t,e,o)},Mt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,o=t[0].x,s=1;s<t.length-1;s++)e+=(t[s].x-o)*(t[s-1].y-t[s+1].y);return e/2}if(Pt(arguments[0],Ot)){var x=arguments[0],b=x.size();if(b<3)return 0;var q=new w,rt=new w,Et=new w;x.getCoordinate(0,rt),x.getCoordinate(1,Et);var Nt=rt.x;Et.x-=Nt;for(var zt=0,Zt=1;Zt<b-1;Zt++)q.y=rt.y,rt.x=Et.x,rt.y=Et.y,x.getCoordinate(Zt+1,Et),Et.x-=Nt,zt+=rt.x*(q.y-Et.y);return zt/2}},Mt.distanceLineLine=function(t,e,o,s){if(t.equals(e))return Mt.distancePointLine(t,o,s);if(o.equals(s))return Mt.distancePointLine(s,t,e);var l=!1;if(Gt.intersects(t,e,o,s)){var y=(e.x-t.x)*(s.y-o.y)-(e.y-t.y)*(s.x-o.x);if(0===y)l=!0;else{var b=((t.y-o.y)*(e.x-t.x)-(t.x-o.x)*(e.y-t.y))/y,q=((t.y-o.y)*(s.x-o.x)-(t.x-o.x)*(s.y-o.y))/y;(q<0||q>1||b<0||b>1)&&(l=!0)}}else l=!0;return l?U.min(Mt.distancePointLine(t,o,s),Mt.distancePointLine(e,o,s),Mt.distancePointLine(o,t,e),Mt.distancePointLine(s,t,e)):0},Mt.isPointInRing=function(t,e){return Mt.locatePointInRing(t,e)!==A.EXTERIOR},Mt.computeLength=function(t){var e=t.size();if(e<=1)return 0;var o=0,s=new w;t.getCoordinate(0,s);for(var l=s.x,y=s.y,x=1;x<e;x++){t.getCoordinate(x,s);var b=s.x,q=s.y,rt=b-l,Et=q-y;o+=Math.sqrt(rt*rt+Et*Et),l=b,y=q}return o},Mt.isCCW=function(t){var e=t.length-1;if(e<3)throw new C("Ring has fewer than 4 points, so orientation cannot be determined");for(var o=t[0],s=0,l=1;l<=e;l++){var y=t[l];y.y>o.y&&(o=y,s=l)}var x=s;do{(x-=1)<0&&(x=e)}while(t[x].equals2D(o)&&x!==s);var b=s;do{b=(b+1)%e}while(t[b].equals2D(o)&&b!==s);var q=t[x],rt=t[b];if(q.equals2D(o)||rt.equals2D(o)||q.equals2D(rt))return!1;var Et=Mt.computeOrientation(q,o,rt);return 0===Et?q.x>rt.x:Et>0},Mt.locatePointInRing=function(t,e){return Ft.locatePointInRing(t,e)},Mt.distancePointLinePerpendicular=function(t,e,o){var s=(o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y);return Math.abs(((e.y-t.y)*(o.x-e.x)-(e.x-t.x)*(o.y-e.y))/s)*Math.sqrt(s)},Mt.computeOrientation=function(t,e,o){return Mt.orientationIndex(t,e,o)},Mt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new C("Line array must contain at least one vertex");for(var o=t.distance(e[0]),s=0;s<e.length-1;s++){var l=Mt.distancePointLine(t,e[s],e[s+1]);l<o&&(o=l)}return o}if(3===arguments.length){var y=arguments[0],x=arguments[1],b=arguments[2];if(x.x===b.x&&x.y===b.y)return y.distance(x);var q=(b.x-x.x)*(b.x-x.x)+(b.y-x.y)*(b.y-x.y),rt=((y.x-x.x)*(b.x-x.x)+(y.y-x.y)*(b.y-x.y))/q;return rt<=0?y.distance(x):rt>=1?y.distance(b):Math.abs(((x.y-y.y)*(b.x-x.x)-(x.x-y.x)*(b.y-x.y))/q)*Math.sqrt(q)}},Mt.isOnLine=function(t,e){for(var o=new bt,s=1;s<e.length;s++)if(o.computeIntersection(t,e[s-1],e[s]),o.hasIntersection())return!0;return!1},ae.CLOCKWISE.get=function(){return-1},ae.RIGHT.get=function(){return Mt.CLOCKWISE},ae.COUNTERCLOCKWISE.get=function(){return 1},ae.LEFT.get=function(){return Mt.COUNTERCLOCKWISE},ae.COLLINEAR.get=function(){return 0},ae.STRAIGHT.get=function(){return Mt.COLLINEAR},Object.defineProperties(Mt,ae);var ye=function(){};ye.prototype.filter=function(t){},ye.prototype.interfaces_=function(){return[]},ye.prototype.getClass=function(){return ye};var Ut=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},pe={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Ut.prototype.isGeometryCollection=function(){return this.getSortIndex()===Ut.SORTINDEX_GEOMETRYCOLLECTION},Ut.prototype.getFactory=function(){return this._factory},Ut.prototype.getGeometryN=function(t){return this},Ut.prototype.getArea=function(){return 0},Ut.prototype.isRectangle=function(){return!1},Ut.prototype.equals=function(){if(arguments[0]instanceof Ut){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof Ut&&this.equalsExact(e)}},Ut.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Ut.prototype.geometryChanged=function(){this.apply(Ut.geometryChangedFilter)},Ut.prototype.geometryChangedAction=function(){this._envelope=null},Ut.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Ut.prototype.getLength=function(){return 0},Ut.prototype.getNumGeometries=function(){return 1},Ut.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var o=arguments[0],s=arguments[1];return this.getSortIndex()!==o.getSortIndex()?this.getSortIndex()-o.getSortIndex():this.isEmpty()&&o.isEmpty()?0:this.isEmpty()?-1:o.isEmpty()?1:this.compareToSameClass(o,s)}},Ut.prototype.getUserData=function(){return this._userData},Ut.prototype.getSRID=function(){return this._SRID},Ut.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Ut.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Ut.SORTINDEX_GEOMETRYCOLLECTION)throw new C("This method does not support GeometryCollection arguments")},Ut.prototype.equal=function(t,e,o){return 0===o?t.equals(e):t.distance(e)<=o},Ut.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Ut.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Ut.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Gt(this._envelope)},Ut.prototype.setSRID=function(t){this._SRID=t},Ut.prototype.setUserData=function(t){this._userData=t},Ut.prototype.compare=function(t,e){for(var o=t.iterator(),s=e.iterator();o.hasNext()&&s.hasNext();){var l=o.next(),y=s.next(),x=l.compareTo(y);if(0!==x)return x}return o.hasNext()?1:s.hasNext()?-1:0},Ut.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Ut.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Ut.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Ut.SORTINDEX_MULTIPOINT||this.getSortIndex()===Ut.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Ut.SORTINDEX_MULTIPOLYGON},Ut.prototype.interfaces_=function(){return[P,S,B]},Ut.prototype.getClass=function(){return Ut},Ut.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Ut.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},pe.serialVersionUID.get=function(){return 0x799ea46522854c00},pe.SORTINDEX_POINT.get=function(){return 0},pe.SORTINDEX_MULTIPOINT.get=function(){return 1},pe.SORTINDEX_LINESTRING.get=function(){return 2},pe.SORTINDEX_LINEARRING.get=function(){return 3},pe.SORTINDEX_MULTILINESTRING.get=function(){return 4},pe.SORTINDEX_POLYGON.get=function(){return 5},pe.SORTINDEX_MULTIPOLYGON.get=function(){return 6},pe.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},pe.geometryChangedFilter.get=function(){return hn},Object.defineProperties(Ut,pe);var hn=function(){};hn.interfaces_=function(){return[ye]},hn.filter=function(t){t.geometryChangedAction()};var we=function(){};we.prototype.filter=function(t){},we.prototype.interfaces_=function(){return[]},we.prototype.getClass=function(){return we};var nn=function(){},vn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};nn.prototype.isInBoundary=function(t){},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn},vn.Mod2BoundaryNodeRule.get=function(){return Gn},vn.EndPointBoundaryNodeRule.get=function(){return $n},vn.MultiValentEndPointBoundaryNodeRule.get=function(){return Dn},vn.MonoValentEndPointBoundaryNodeRule.get=function(){return sr},vn.MOD2_BOUNDARY_RULE.get=function(){return new Gn},vn.ENDPOINT_BOUNDARY_RULE.get=function(){return new $n},vn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Dn},vn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new sr},vn.OGC_SFS_BOUNDARY_RULE.get=function(){return nn.MOD2_BOUNDARY_RULE},Object.defineProperties(nn,vn);var Gn=function(){};Gn.prototype.isInBoundary=function(t){return t%2==1},Gn.prototype.interfaces_=function(){return[nn]},Gn.prototype.getClass=function(){return Gn};var $n=function(){};$n.prototype.isInBoundary=function(t){return t>0},$n.prototype.interfaces_=function(){return[nn]},$n.prototype.getClass=function(){return $n};var Dn=function(){};Dn.prototype.isInBoundary=function(t){return t>1},Dn.prototype.interfaces_=function(){return[nn]},Dn.prototype.getClass=function(){return Dn};var sr=function(){};sr.prototype.isInBoundary=function(t){return 1===t},sr.prototype.interfaces_=function(){return[nn]},sr.prototype.getClass=function(){return sr};var pn=function(){};pn.prototype.add=function(){},pn.prototype.addAll=function(){},pn.prototype.isEmpty=function(){},pn.prototype.iterator=function(){},pn.prototype.size=function(){},pn.prototype.toArray=function(){},pn.prototype.remove=function(){},(j.prototype=new Error).name="IndexOutOfBoundsException";var Br=function(){};Br.prototype.hasNext=function(){},Br.prototype.next=function(){},Br.prototype.remove=function(){};var Fn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(pn);(R.prototype=new Error).name="NoSuchElementException";var kt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof pn&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,pn]},e.prototype.add=function(o){return 1===arguments.length?this.array_.push(o):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(o){for(var s=o.iterator();s.hasNext();)this.add(s.next());return!0},e.prototype.set=function(o,s){var l=this.array_[o];return this.array_[o]=s,l},e.prototype.iterator=function(){return new yo(this)},e.prototype.get=function(o){if(o<0||o>=this.size())throw new j;return this.array_[o]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var o=[],s=0,l=this.array_.length;s<l;s++)o.push(this.array_[s]);return o},e.prototype.remove=function(o){for(var s=!1,l=0,y=this.array_.length;l<y;l++)if(this.array_[l]===o){this.array_.splice(l,1),s=!0;break}return s},e}(Fn),yo=function(t){function e(o){t.call(this),this.arrayList_=o,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new R;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(o){return this.arrayList_.set(this.position_-1,o)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Br),me=function(t){function e(){if(t.call(this),0!==arguments.length)if(1===arguments.length){var s=arguments[0];this.ensureCapacity(s.length),this.add(s,!0)}else if(2===arguments.length){var l=arguments[0],y=arguments[1];this.ensureCapacity(l.length),this.add(l,y)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={coordArrayType:{configurable:!0}};return o.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(s){return this.get(s)},e.prototype.addAll=function(){if(2===arguments.length){for(var l=arguments[1],y=!1,x=arguments[0].iterator();x.hasNext();)this.add(x.next(),l),y=!0;return y}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var s=t.prototype.clone.call(this),l=0;l<this.size();l++)s.add(l,this.get(l).copy());return s},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof w&&"boolean"==typeof arguments[1]){var x=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(x))return null;t.prototype.add.call(this,x)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var rt=arguments[0],Et=arguments[1];if(arguments[2])for(var Nt=0;Nt<rt.length;Nt++)this.add(rt[Nt],Et);else for(var zt=rt.length-1;zt>=0;zt--)this.add(rt[zt],Et);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof w){var Zt=arguments[0],Wt=arguments[1];if(!arguments[2]){var ee=this.size();if(ee>0&&(Zt>0&&this.get(Zt-1).equals2D(Wt)||Zt<ee&&this.get(Zt).equals2D(Wt)))return null}t.prototype.add.call(this,Zt,Wt)}}else if(4===arguments.length){var Ie=arguments[0],On=arguments[1],gr=arguments[2],Ri=arguments[3],ci=1;gr>Ri&&(ci=-1);for(var Es=gr;Es!==Ri;Es+=ci)this.add(Ie[Es],On);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new w(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,o),e}(kt),ge=function(){},bi={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};bi.ForwardComparator.get=function(){return Vr},bi.BidirectionalComparator.get=function(){return gi},bi.coordArrayType.get=function(){return new Array(0).fill(null)},ge.prototype.interfaces_=function(){return[]},ge.prototype.getClass=function(){return ge},ge.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},ge.ptNotInList=function(t,e){for(var o=0;o<t.length;o++){var s=t[o];if(ge.indexOf(s,e)<0)return s}return null},ge.scroll=function(t,e){var o=ge.indexOf(e,t);if(o<0)return null;var s=new Array(t.length).fill(null);Jt.arraycopy(t,o,s,0,t.length-o),Jt.arraycopy(t,0,s,t.length-o,o),Jt.arraycopy(s,0,t,0,t.length)},ge.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e||t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!t[o].equals(e[o]))return!1;return!0}if(3===arguments.length){var s=arguments[0],l=arguments[1],y=arguments[2];if(s===l)return!0;if(null===s||null===l||s.length!==l.length)return!1;for(var x=0;x<s.length;x++)if(0!==y.compare(s[x],l[x]))return!1;return!0}},ge.intersection=function(t,e){for(var o=new me,s=0;s<t.length;s++)e.intersects(t[s])&&o.add(t[s],!0);return o.toCoordinateArray()},ge.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},ge.removeRepeatedPoints=function(t){return ge.hasRepeatedPoints(t)?new me(t,!1).toCoordinateArray():t},ge.reverse=function(t){for(var e=t.length-1,o=Math.trunc(e/2),s=0;s<=o;s++){var l=t[s];t[s]=t[e-s],t[e-s]=l}},ge.removeNull=function(t){for(var e=0,o=0;o<t.length;o++)null!==t[o]&&e++;var s=new Array(e).fill(null);if(0===e)return s;for(var l=0,y=0;y<t.length;y++)null!==t[y]&&(s[l++]=t[y]);return s},ge.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),o=0;o<t.length;o++)e[o]=new w(t[o]);return e}if(5===arguments.length)for(var s=arguments[0],l=arguments[1],y=arguments[2],x=arguments[3],b=arguments[4],q=0;q<b;q++)y[x+q]=new w(s[l+q])},ge.isEqualReversed=function(t,e){for(var o=0;o<t.length;o++)if(0!==t[o].compareTo(e[t.length-o-1]))return!1;return!0},ge.envelope=function(t){for(var e=new Gt,o=0;o<t.length;o++)e.expandToInclude(t[o]);return e},ge.toCoordinateArray=function(t){return t.toArray(ge.coordArrayType)},ge.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},ge.indexOf=function(t,e){for(var o=0;o<e.length;o++)if(t.equals(e[o]))return o;return-1},ge.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var s=t[e].compareTo(t[t.length-1-e]);if(0!==s)return s}return 1},ge.compare=function(t,e){for(var o=0;o<t.length&&o<e.length;){var s=t[o].compareTo(e[o]);if(0!==s)return s;o++}return o<e.length?-1:o<t.length?1:0},ge.minCoordinate=function(t){for(var e=null,o=0;o<t.length;o++)(null===e||e.compareTo(t[o])>0)&&(e=t[o]);return e},ge.extract=function(t,e,o){e=U.clamp(e,0,t.length);var s=(o=U.clamp(o,-1,t.length))-e+1;o<0&&(s=0),e>=t.length&&(s=0),o<e&&(s=0);var l=new Array(s).fill(null);if(0===s)return l;for(var y=0,x=e;x<=o;x++)l[y++]=t[x];return l},Object.defineProperties(ge,bi);var Vr=function(){};Vr.prototype.compare=function(t,e){return ge.compare(t,e)},Vr.prototype.interfaces_=function(){return[O]},Vr.prototype.getClass=function(){return Vr};var gi=function(){};gi.prototype.compare=function(t,e){var o=t,s=e;if(o.length<s.length)return-1;if(o.length>s.length)return 1;if(0===o.length)return 0;var l=ge.compare(o,s);return ge.isEqualReversed(o,s)?0:l},gi.prototype.OLDcompare=function(t,e){var o=t,s=e;if(o.length<s.length)return-1;if(o.length>s.length)return 1;if(0===o.length)return 0;for(var l=ge.increasingDirection(o),y=ge.increasingDirection(s),x=l>0?0:o.length-1,b=y>0?0:o.length-1,q=0;q<o.length;q++){var rt=o[x].compareTo(s[b]);if(0!==rt)return rt;x+=l,b+=y}return 0},gi.prototype.interfaces_=function(){return[O]},gi.prototype.getClass=function(){return gi};var Bi=function(){};Bi.prototype.get=function(){},Bi.prototype.put=function(){},Bi.prototype.size=function(){},Bi.prototype.values=function(){},Bi.prototype.entrySet=function(){};var lu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Bi);(d.prototype=new Error).name="OperationNotSupported",(nt.prototype=new pn).contains=function(){};var As=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof pn&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(o){for(var s=0,l=this.array_.length;s<l;s++)if(this.array_[s]===o)return!0;return!1},e.prototype.add=function(o){return!this.contains(o)&&(this.array_.push(o),!0)},e.prototype.addAll=function(o){for(var s=o.iterator();s.hasNext();)this.add(s.next());return!0},e.prototype.remove=function(o){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var o=[],s=0,l=this.array_.length;s<l;s++)o.push(this.array_[s]);return o},e.prototype.iterator=function(){return new cu(this)},e}(nt),cu=function(t){function e(o){t.call(this),this.hashSet_=o,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new R;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new d},e}(Br),Ci=0;(xt.prototype=new lu).get=function(t){for(var e=this.root_;null!==e;){var o=t.compareTo(e.key);if(o<0)e=e.left;else{if(!(o>0))return e.value;e=e.right}}return null},xt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Ci,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var o,s,l=this.root_;do{if(o=l,(s=t.compareTo(l.key))<0)l=l.left;else{if(!(s>0)){var y=l.value;return l.value=e,y}l=l.right}}while(null!==l);var x={key:t,left:null,right:null,value:e,parent:o,color:Ci,getValue:function(){return this.value},getKey:function(){return this.key}};return s<0?o.left=x:o.right=x,this.fixAfterInsertion(x),this.size_++,null},xt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(it(t)===Ct(it(it(t)))){var e=Tt(it(it(t)));1===W(e)?(ft(it(t),Ci),ft(e,Ci),ft(it(it(t)),1),t=it(it(t))):(t===Tt(it(t))&&(t=it(t),this.rotateLeft(t)),ft(it(t),Ci),ft(it(it(t)),1),this.rotateRight(it(it(t))))}else{var o=Ct(it(it(t)));1===W(o)?(ft(it(t),Ci),ft(o,Ci),ft(it(it(t)),1),t=it(it(t))):(t===Ct(it(t))&&(t=it(t),this.rotateRight(t)),ft(it(t),Ci),ft(it(it(t)),1),this.rotateLeft(it(it(t))))}this.root_.color=Ci},xt.prototype.values=function(){var t=new kt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=xt.successor(e));)t.add(e.value);return t},xt.prototype.entrySet=function(){var t=new As,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=xt.successor(e));)t.add(e);return t},xt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},xt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},xt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},xt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var o=t.parent,s=t;null!==o&&s===o.right;)s=o,o=o.parent;return o},xt.prototype.size=function(){return this.size_};var ss=function(){};ss.prototype.interfaces_=function(){return[]},ss.prototype.getClass=function(){return ss},mt.prototype=new nt,(It.prototype=new mt).contains=function(t){for(var e=0,o=this.array_.length;e<o;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},It.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,o=this.array_.length;e<o;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},It.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},It.prototype.remove=function(t){throw new d},It.prototype.size=function(){return this.array_.length},It.prototype.isEmpty=function(){return 0===this.array_.length},It.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t},It.prototype.iterator=function(){return new as(this)};var as=function(t){this.treeSet_=t,this.position_=0};as.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new R;return this.treeSet_.array_[this.position_++]},as.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},as.prototype.remove=function(){throw new d};var $i=function(){};$i.sort=function(){var t,e,o,l=arguments[0];if(1===arguments.length)l.sort(function(x,b){return x.compareTo(b)});else if(2===arguments.length)o=arguments[1],l.sort(function(x,b){return o.compare(x,b)});else if(3===arguments.length){(e=l.slice(arguments[1],arguments[2])).sort();var y=l.slice(0,arguments[1]).concat(e,l.slice(arguments[2],l.length));for(l.splice(0,l.length),t=0;t<y.length;t++)l.push(y[t])}else if(4===arguments.length)for(e=l.slice(arguments[1],arguments[2]),o=arguments[3],e.sort(function(x,b){return o.compare(x,b)}),y=l.slice(0,arguments[1]).concat(e,l.slice(arguments[2],l.length)),l.splice(0,l.length),t=0;t<y.length;t++)l.push(y[t])},$i.asList=function(t){for(var e=new kt,o=0,s=t.length;o<s;o++)e.add(t[o]);return e};var je=function(){},$r={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};$r.P.get=function(){return 0},$r.L.get=function(){return 1},$r.A.get=function(){return 2},$r.FALSE.get=function(){return-1},$r.TRUE.get=function(){return-2},$r.DONTCARE.get=function(){return-3},$r.SYM_FALSE.get=function(){return"F"},$r.SYM_TRUE.get=function(){return"T"},$r.SYM_DONTCARE.get=function(){return"*"},$r.SYM_P.get=function(){return"0"},$r.SYM_L.get=function(){return"1"},$r.SYM_A.get=function(){return"2"},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je},je.toDimensionSymbol=function(t){switch(t){case je.FALSE:return je.SYM_FALSE;case je.TRUE:return je.SYM_TRUE;case je.DONTCARE:return je.SYM_DONTCARE;case je.P:return je.SYM_P;case je.L:return je.SYM_L;case je.A:return je.SYM_A}throw new C("Unknown dimension value: "+t)},je.toDimensionValue=function(t){switch(ct.toUpperCase(t)){case je.SYM_FALSE:return je.FALSE;case je.SYM_TRUE:return je.TRUE;case je.SYM_DONTCARE:return je.DONTCARE;case je.SYM_P:return je.P;case je.SYM_L:return je.L;case je.SYM_A:return je.A}throw new C("Unknown dimension symbol: "+t)},Object.defineProperties(je,$r);var di=function(){};di.prototype.filter=function(t){},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di};var Lr=function(){};Lr.prototype.filter=function(t,e){},Lr.prototype.isDone=function(){},Lr.prototype.isGeometryChanged=function(){},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr};var jn=function(t){function e(s,l){if(t.call(this,l),this._geometries=s||[],t.hasNullElements(this._geometries))throw new C("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var s=new Gt,l=0;l<this._geometries.length;l++)s.expandToInclude(this._geometries[l].getEnvelopeInternal());return s},e.prototype.getGeometryN=function(s){return this._geometries[s]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var s=new Array(this.getNumPoints()).fill(null),l=-1,y=0;y<this._geometries.length;y++)for(var x=this._geometries[y].getCoordinates(),b=0;b<x.length;b++)s[++l]=x[b];return s},e.prototype.getArea=function(){for(var s=0,l=0;l<this._geometries.length;l++)s+=this._geometries[l].getArea();return s},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];if(!this.isEquivalentClass(s))return!1;var y=s;if(this._geometries.length!==y._geometries.length)return!1;for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].equalsExact(y._geometries[x],l))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var s=0;s<this._geometries.length;s++)this._geometries[s].normalize();$i.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var s=je.FALSE,l=0;l<this._geometries.length;l++)s=Math.max(s,this._geometries[l].getBoundaryDimension());return s},e.prototype.getDimension=function(){for(var s=je.FALSE,l=0;l<this._geometries.length;l++)s=Math.max(s,this._geometries[l].getDimension());return s},e.prototype.getLength=function(){for(var s=0,l=0;l<this._geometries.length;l++)s+=this._geometries[l].getLength();return s},e.prototype.getNumPoints=function(){for(var s=0,l=0;l<this._geometries.length;l++)s+=this._geometries[l].getNumPoints();return s},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var l=new Array(this._geometries.length).fill(null),y=0;y<this._geometries.length;y++)l[y]=this._geometries[y].reverse();return this.getFactory().createGeometryCollection(l)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var s=arguments[0],l=new It($i.asList(this._geometries)),y=new It($i.asList(s._geometries));return this.compare(l,y)}if(2===arguments.length){for(var b=arguments[1],q=arguments[0],rt=this.getNumGeometries(),Et=q.getNumGeometries(),Nt=0;Nt<rt&&Nt<Et;){var zt=this.getGeometryN(Nt),Zt=q.getGeometryN(Nt),Wt=zt.compareToSameClass(Zt,b);if(0!==Wt)return Wt;Nt++}return Nt<rt?1:Nt<Et?-1:0}},e.prototype.apply=function(){if(Pt(arguments[0],we))for(var s=arguments[0],l=0;l<this._geometries.length;l++)this._geometries[l].apply(s);else if(Pt(arguments[0],Lr)){var y=arguments[0];if(0===this._geometries.length)return null;for(var x=0;x<this._geometries.length&&(this._geometries[x].apply(y),!y.isDone());x++);y.isGeometryChanged()&&this.geometryChanged()}else if(Pt(arguments[0],di)){var b=arguments[0];b.filter(this);for(var q=0;q<this._geometries.length;q++)this._geometries[q].apply(b)}else if(Pt(arguments[0],ye)){var rt=arguments[0];rt.filter(this);for(var Et=0;Et<this._geometries.length;Et++)this._geometries[Et].apply(rt)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),M.shouldNeverReachHere(),null},e.prototype.clone=function(){var s=t.prototype.clone.call(this);s._geometries=new Array(this._geometries.length).fill(null);for(var l=0;l<this._geometries.length;l++)s._geometries[l]=this._geometries[l].clone();return s},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),l=0;l<s.length;l++)s[l]=this._geometries[l].copy();return new e(s,this._factory)},e.prototype.isEmpty=function(){for(var s=0;s<this._geometries.length;s++)if(!this._geometries[s].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,o),e}(Ut),ji=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ut.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,l)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?je.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var s=0;s<this._geometries.length;s++)if(!this._geometries[s].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var s=this._geometries.length,l=new Array(s).fill(null),y=0;y<this._geometries.length;y++)l[s-1-y]=this._geometries[y].reverse();return this.getFactory().createMultiLineString(l)},e.prototype.getBoundary=function(){return new kr(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),l=0;l<s.length;l++)s[l]=this._geometries[l].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[ss]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,o),e}(jn),kr=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=nn.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var o=arguments[0],s=arguments[1];this._geom=o,this._geomFact=o.getFactory(),this._bnRule=s}};kr.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},kr.prototype.getBoundary=function(){return this._geom instanceof yn?this.boundaryLineString(this._geom):this._geom instanceof ji?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},kr.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},kr.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},kr.prototype.computeBoundaryCoordinates=function(t){var e=new kt;this._endpointMap=new xt;for(var o=0;o<t.getNumGeometries();o++){var s=t.getGeometryN(o);0!==s.getNumPoints()&&(this.addEndpoint(s.getCoordinateN(0)),this.addEndpoint(s.getCoordinateN(s.getNumPoints()-1)))}for(var l=this._endpointMap.entrySet().iterator();l.hasNext();){var y=l.next(),x=y.getValue().count;this._bnRule.isInBoundary(x)&&e.add(y.getKey())}return ge.toCoordinateArray(e)},kr.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Rs,this._endpointMap.put(t,e)),e.count++},kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr},kr.getBoundary=function(){return 1===arguments.length?new kr(arguments[0]).getBoundary():2===arguments.length?new kr(arguments[0],arguments[1]).getBoundary():void 0};var Rs=function(){this.count=null};Rs.prototype.interfaces_=function(){return[]},Rs.prototype.getClass=function(){return Rs};var qr=function(){},ua={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr},qr.chars=function(t,e){for(var o=new Array(e).fill(null),s=0;s<e;s++)o[s]=t;return String(o)},qr.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},o=new function(){}(e);return t.printStackTrace(o),e.toString()}if(2===arguments.length){for(var l=arguments[1],y="",x=new function(){}(new function(){}(qr.getStackTrace(arguments[0]))),b=0;b<l;b++)try{y+=x.readLine()+qr.NEWLINE}catch(q){if(!(q instanceof Bt))throw q;M.shouldNeverReachHere()}return y}},qr.split=function(t,e){for(var o=e.length,s=new kt,l=""+t,y=l.indexOf(e);y>=0;){var x=l.substring(0,y);s.add(x),y=(l=l.substring(y+o)).indexOf(e)}l.length>0&&s.add(l);for(var b=new Array(s.size()).fill(null),q=0;q<b.length;q++)b[q]=s.get(q);return b},qr.toString=function(){if(1===arguments.length)return qr.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},qr.spaces=function(t){return qr.chars(" ",t)},ua.NEWLINE.get=function(){return Jt.getProperty("line.separator")},ua.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(qr,ua);var Cn=function(){};Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.copyCoord=function(t,e,o,s){for(var l=Math.min(t.getDimension(),o.getDimension()),y=0;y<l;y++)o.setOrdinate(s,y,t.getOrdinate(e,y))},Cn.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Ot.X)===t.getOrdinate(e-1,Ot.X)&&t.getOrdinate(0,Ot.Y)===t.getOrdinate(e-1,Ot.Y)},Cn.isEqual=function(t,e){var o=t.size();if(o!==e.size())return!1;for(var s=Math.min(t.getDimension(),e.getDimension()),l=0;l<o;l++)for(var y=0;y<s;y++){var x=t.getOrdinate(l,y),b=e.getOrdinate(l,y);if(!(t.getOrdinate(l,y)===e.getOrdinate(l,y)||N.isNaN(x)&&N.isNaN(b)))return!1}return!0},Cn.extend=function(t,e,o){var s=t.create(o,e.getDimension()),l=e.size();if(Cn.copy(e,0,s,0,l),l>0)for(var y=l;y<o;y++)Cn.copy(e,l-1,s,y,1);return s},Cn.reverse=function(t){for(var e=t.size()-1,o=Math.trunc(e/2),s=0;s<=o;s++)Cn.swap(t,s,e-s)},Cn.swap=function(t,e,o){if(e===o)return null;for(var s=0;s<t.getDimension();s++){var l=t.getOrdinate(e,s);t.setOrdinate(e,s,t.getOrdinate(o,s)),t.setOrdinate(o,s,l)}},Cn.copy=function(t,e,o,s,l){for(var y=0;y<l;y++)Cn.copyCoord(t,e+y,o,s+y)},Cn.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var o=t.getDimension(),s=new J;s.append("(");for(var l=0;l<e;l++){l>0&&s.append(" ");for(var y=0;y<o;y++)y>0&&s.append(","),s.append(qr.toString(t.getOrdinate(l,y)))}return s.append(")"),s.toString()}},Cn.ensureValidRing=function(t,e){var o=e.size();return 0===o?e:o<=3?Cn.createClosedRing(t,e,4):e.getOrdinate(0,Ot.X)===e.getOrdinate(o-1,Ot.X)&&e.getOrdinate(0,Ot.Y)===e.getOrdinate(o-1,Ot.Y)?e:Cn.createClosedRing(t,e,o+1)},Cn.createClosedRing=function(t,e,o){var s=t.create(o,e.getDimension()),l=e.size();Cn.copy(e,0,s,0,l);for(var y=l;y<o;y++)Cn.copy(e,0,s,y,1);return s};var yn=function(t){function e(s,l){t.call(this,l),this._points=null,this.init(s)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Gt:this._points.expandEnvelope(new Gt)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];if(!this.isEquivalentClass(s))return!1;var y=s;if(this._points.size()!==y._points.size())return!1;for(var x=0;x<this._points.size();x++)if(!this.equal(this._points.getCoordinate(x),y._points.getCoordinate(x),l))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var s=0;s<Math.trunc(this._points.size()/2);s++){var l=this._points.size()-1-s;if(!this._points.getCoordinate(s).equals(this._points.getCoordinate(l)))return this._points.getCoordinate(s).compareTo(this._points.getCoordinate(l))>0&&Cn.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?je.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Mt.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var s=this._points.copy();return Cn.reverse(s),this.getFactory().createLineString(s)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var s=arguments[0],l=0,y=0;l<this._points.size()&&y<s._points.size();){var x=this._points.getCoordinate(l).compareTo(s._points.getCoordinate(y));if(0!==x)return x;l++,y++}return l<this._points.size()?1:y<s._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){if(Pt(arguments[0],we))for(var s=arguments[0],l=0;l<this._points.size();l++)s.filter(this._points.getCoordinate(l));else if(Pt(arguments[0],Lr)){var y=arguments[0];if(0===this._points.size())return null;for(var x=0;x<this._points.size()&&(y.filter(this._points,x),!y.isDone());x++);y.isGeometryChanged()&&this.geometryChanged()}else(Pt(arguments[0],di)||Pt(arguments[0],ye))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new kr(this).getBoundary()},e.prototype.isEquivalentClass=function(s){return s instanceof e},e.prototype.clone=function(){var s=t.prototype.clone.call(this);return s._points=this._points.clone(),s},e.prototype.getCoordinateN=function(s){return this._points.getCoordinate(s)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(s){if(null===s&&(s=this.getFactory().getCoordinateSequenceFactory().create([])),1===s.size())throw new C("Invalid number of points in LineString (found "+s.size()+" - must be 0 or >= 2)");this._points=s},e.prototype.isCoordinate=function(s){for(var l=0;l<this._points.size();l++)if(this._points.getCoordinate(l).equals(s))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(s){return this.getFactory().createPoint(this._points.getCoordinate(s))},e.prototype.interfaces_=function(){return[ss]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,o),e}(Ut),Jo=function(){};Jo.prototype.interfaces_=function(){return[]},Jo.prototype.getClass=function(){return Jo};var mr=function(t){function e(s,l){t.call(this,l),this._coordinates=s||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Gt;var s=new Gt;return s.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),s},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];return!!this.isEquivalentClass(s)&&(!(!this.isEmpty()||!s.isEmpty())||this.isEmpty()===s.isEmpty()&&this.equal(s.getCoordinate(),this.getCoordinate(),l))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return je.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var s=arguments[0];return this.getCoordinate().compareTo(s.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(Pt(arguments[0],we)){var s=arguments[0];if(this.isEmpty())return null;s.filter(this.getCoordinate())}else if(Pt(arguments[0],Lr)){var l=arguments[0];if(this.isEmpty())return null;l.filter(this._coordinates,0),l.isGeometryChanged()&&this.geometryChanged()}else(Pt(arguments[0],di)||Pt(arguments[0],ye))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var s=t.prototype.clone.call(this);return s._coordinates=this._coordinates.clone(),s},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(s){null===s&&(s=this.getFactory().getCoordinateSequenceFactory().create([])),M.isTrue(s.size()<=1),this._coordinates=s},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Jo]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,o),e}(Ut),ki=function(){};ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki};var Bn=function(t){function e(s,l,y){if(t.call(this,y),this._shell=null,this._holes=null,null===s&&(s=this.getFactory().createLinearRing()),null===l&&(l=[]),t.hasNullElements(l))throw new C("holes must not contain null elements");if(s.isEmpty()&&t.hasNonEmptyElements(l))throw new C("shell is empty but holes are not");this._shell=s,this._holes=l}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var s=new Array(this.getNumPoints()).fill(null),l=-1,y=this._shell.getCoordinates(),x=0;x<y.length;x++)s[++l]=y[x];for(var b=0;b<this._holes.length;b++)for(var q=this._holes[b].getCoordinates(),rt=0;rt<q.length;rt++)s[++l]=q[rt];return s},e.prototype.getArea=function(){var s=0;s+=Math.abs(Mt.signedArea(this._shell.getCoordinateSequence()));for(var l=0;l<this._holes.length;l++)s-=Math.abs(Mt.signedArea(this._holes[l].getCoordinateSequence()));return s},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var s=this._shell.getCoordinateSequence(),l=this.getEnvelopeInternal(),y=0;y<5;y++){var x=s.getX(y);if(x!==l.getMinX()&&x!==l.getMaxX())return!1;var b=s.getY(y);if(b!==l.getMinY()&&b!==l.getMaxY())return!1}for(var q=s.getX(0),rt=s.getY(0),Et=1;Et<=4;Et++){var Nt=s.getX(Et),zt=s.getY(Et);if(Nt!==q==(zt!==rt))return!1;q=Nt,rt=zt}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];if(!this.isEquivalentClass(s))return!1;var y=s;if(!this._shell.equalsExact(y._shell,l)||this._holes.length!==y._holes.length)return!1;for(var q=0;q<this._holes.length;q++)if(!this._holes[q].equalsExact(y._holes[q],l))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var s=0;s<this._holes.length;s++)this.normalize(this._holes[s],!1);$i.sort(this._holes)}else if(2===arguments.length){var l=arguments[0],y=arguments[1];if(l.isEmpty())return null;var x=new Array(l.getCoordinates().length-1).fill(null);Jt.arraycopy(l.getCoordinates(),0,x,0,x.length);var b=ge.minCoordinate(l.getCoordinates());ge.scroll(x,b),Jt.arraycopy(x,0,l.getCoordinates(),0,x.length),l.getCoordinates()[x.length]=x[0],Mt.isCCW(l.getCoordinates())===y&&ge.reverse(l.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var s=0;s+=this._shell.getLength();for(var l=0;l<this._holes.length;l++)s+=this._holes[l].getLength();return s},e.prototype.getNumPoints=function(){for(var s=this._shell.getNumPoints(),l=0;l<this._holes.length;l++)s+=this._holes[l].getNumPoints();return s},e.prototype.reverse=function(){var s=this.copy();s._shell=this._shell.copy().reverse(),s._holes=new Array(this._holes.length).fill(null);for(var l=0;l<this._holes.length;l++)s._holes[l]=this._holes[l].copy().reverse();return s},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var b=arguments[1],q=arguments[0],Nt=this._shell.compareToSameClass(q._shell,b);if(0!==Nt)return Nt;for(var zt=this.getNumInteriorRing(),Zt=q.getNumInteriorRing(),Wt=0;Wt<zt&&Wt<Zt;){var ee=this.getInteriorRingN(Wt),Ie=q.getInteriorRingN(Wt),On=ee.compareToSameClass(Ie,b);if(0!==On)return On;Wt++}return Wt<zt?1:Wt<Zt?-1:0}},e.prototype.apply=function(s){if(Pt(s,we)){this._shell.apply(s);for(var l=0;l<this._holes.length;l++)this._holes[l].apply(s)}else if(Pt(s,Lr)){if(this._shell.apply(s),!s.isDone())for(var y=0;y<this._holes.length&&(this._holes[y].apply(s),!s.isDone());y++);s.isGeometryChanged()&&this.geometryChanged()}else if(Pt(s,di))s.filter(this);else if(Pt(s,ye)){s.filter(this),this._shell.apply(s);for(var x=0;x<this._holes.length;x++)this._holes[x].apply(s)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var s=new Array(this._holes.length+1).fill(null);s[0]=this._shell;for(var l=0;l<this._holes.length;l++)s[l+1]=this._holes[l];return s.length<=1?this.getFactory().createLinearRing(s[0].getCoordinateSequence()):this.getFactory().createMultiLineString(s)},e.prototype.clone=function(){var s=t.prototype.clone.call(this);s._shell=this._shell.clone(),s._holes=new Array(this._holes.length).fill(null);for(var l=0;l<this._holes.length;l++)s._holes[l]=this._holes[l].clone();return s},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var s=this._shell.copy(),l=new Array(this._holes.length).fill(null),y=0;y<l.length;y++)l[y]=this._holes[y].copy();return new e(s,l,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(s){return this._holes[s]},e.prototype.interfaces_=function(){return[ki]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,o),e}(Ut),qi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ut.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,l)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return je.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),l=0;l<s.length;l++)s[l]=this._geometries[l].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[Jo]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,o),e}(jn),yi=function(t){function e(s,l){s instanceof w&&l instanceof ve&&(s=l.getCoordinateSequenceFactory().create(s)),t.call(this,s,l),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ut.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return je.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var s=this._points.copy();return Cn.reverse(s),this.getFactory().createLinearRing(s)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new C("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new C("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.MINIMUM_VALID_SIZE.get=function(){return 4},o.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,o),e}(yn),Si=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ut.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,l)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var l=new Array(this._geometries.length).fill(null),y=0;y<this._geometries.length;y++)l[y]=this._geometries[y].reverse();return this.getFactory().createMultiPolygon(l)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var s=new kt,l=0;l<this._geometries.length;l++)for(var y=this._geometries[l].getBoundary(),x=0;x<y.getNumGeometries();x++)s.add(y.getGeometryN(x));var b=new Array(s.size()).fill(null);return this.getFactory().createMultiLineString(s.toArray(b))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),l=0;l<s.length;l++)s[l]=this._geometries[l].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[ki]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,o),e}(jn),Gr=function(t){this._factory=t||null,this._isUserDataCopied=!1},Ds={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Gr.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Gr.prototype.edit=function(t,e){if(null===t)return null;var o=this.editInternal(t,e);return this._isUserDataCopied&&o.setUserData(t.getUserData()),o},Gr.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof jn?this.editGeometryCollection(t,e):t instanceof Bn?this.editPolygon(t,e):t instanceof mr||t instanceof yn?e.edit(t,this._factory):(M.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Gr.prototype.editGeometryCollection=function(t,e){for(var o=e.edit(t,this._factory),s=new kt,l=0;l<o.getNumGeometries();l++){var y=this.edit(o.getGeometryN(l),e);null===y||y.isEmpty()||s.add(y)}return o.getClass()===qi?this._factory.createMultiPoint(s.toArray([])):o.getClass()===ji?this._factory.createMultiLineString(s.toArray([])):o.getClass()===Si?this._factory.createMultiPolygon(s.toArray([])):this._factory.createGeometryCollection(s.toArray([]))},Gr.prototype.editPolygon=function(t,e){var o=e.edit(t,this._factory);if(null===o&&(o=this._factory.createPolygon(null)),o.isEmpty())return o;var s=this.edit(o.getExteriorRing(),e);if(null===s||s.isEmpty())return this._factory.createPolygon();for(var l=new kt,y=0;y<o.getNumInteriorRing();y++){var x=this.edit(o.getInteriorRingN(y),e);null===x||x.isEmpty()||l.add(x)}return this._factory.createPolygon(s,l.toArray([]))},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr},Gr.GeometryEditorOperation=function(){},Ds.NoOpGeometryOperation.get=function(){return To},Ds.CoordinateOperation.get=function(){return Oo},Ds.CoordinateSequenceOperation.get=function(){return Qi},Object.defineProperties(Gr,Ds);var To=function(){};To.prototype.edit=function(t,e){return t},To.prototype.interfaces_=function(){return[Gr.GeometryEditorOperation]},To.prototype.getClass=function(){return To};var Oo=function(){};Oo.prototype.edit=function(t,e){var o=this.editCoordinates(t.getCoordinates(),t);return null===o?t:t instanceof yi?e.createLinearRing(o):t instanceof yn?e.createLineString(o):t instanceof mr?o.length>0?e.createPoint(o[0]):e.createPoint():t},Oo.prototype.interfaces_=function(){return[Gr.GeometryEditorOperation]},Oo.prototype.getClass=function(){return Oo};var Qi=function(){};Qi.prototype.edit=function(t,e){return t instanceof yi?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof yn?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof mr?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Qi.prototype.interfaces_=function(){return[Gr.GeometryEditorOperation]},Qi.prototype.getClass=function(){return Qi};var Sn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new w}else if(Pt(arguments[0],Ot)){var o=arguments[0];if(null===o)return this._coordinates=new Array(0).fill(null),null;this._dimension=o.getDimension(),this._coordinates=new Array(o.size()).fill(null);for(var s=0;s<this._coordinates.length;s++)this._coordinates[s]=o.getCoordinateCopy(s)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var l=arguments[0],y=arguments[1];this._coordinates=l,this._dimension=y,null===l&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var x=arguments[0],b=arguments[1];this._coordinates=new Array(x).fill(null),this._dimension=b;for(var q=0;q<x;q++)this._coordinates[q]=new w}},fu={serialVersionUID:{configurable:!0}};Sn.prototype.setOrdinate=function(t,e,o){switch(e){case Ot.X:this._coordinates[t].x=o;break;case Ot.Y:this._coordinates[t].y=o;break;case Ot.Z:this._coordinates[t].z=o;break;default:throw new C("invalid ordinateIndex")}},Sn.prototype.size=function(){return this._coordinates.length},Sn.prototype.getOrdinate=function(t,e){switch(e){case Ot.X:return this._coordinates[t].x;case Ot.Y:return this._coordinates[t].y;case Ot.Z:return this._coordinates[t].z}return N.NaN},Sn.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var e=arguments[0],o=arguments[1];o.x=this._coordinates[e].x,o.y=this._coordinates[e].y,o.z=this._coordinates[e].z}},Sn.prototype.getCoordinateCopy=function(t){return new w(this._coordinates[t])},Sn.prototype.getDimension=function(){return this._dimension},Sn.prototype.getX=function(t){return this._coordinates[t].x},Sn.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Sn(t,this._dimension)},Sn.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Sn.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Sn(t,this._dimension)},Sn.prototype.toString=function(){if(this._coordinates.length>0){var t=new J(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Sn.prototype.getY=function(t){return this._coordinates[t].y},Sn.prototype.toCoordinateArray=function(){return this._coordinates},Sn.prototype.interfaces_=function(){return[Ot,B]},Sn.prototype.getClass=function(){return Sn},fu.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Sn,fu);var Pi=function(){},Fs={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Pi.prototype.readResolve=function(){return Pi.instance()},Pi.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Sn(arguments[0]);if(Pt(arguments[0],Ot))return new Sn(arguments[0])}else if(2===arguments.length){var o=arguments[0],s=arguments[1];return s>3&&(s=3),s<2?new Sn(o):new Sn(o,s)}},Pi.prototype.interfaces_=function(){return[K,B]},Pi.prototype.getClass=function(){return Pi},Pi.instance=function(){return Pi.instanceObject},Fs.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Fs.instanceObject.get=function(){return new Pi},Object.defineProperties(Pi,Fs);var us=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(o){return this.map_.get(o)||null},e.prototype.put=function(o,s){return this.map_.set(o,s),s},e.prototype.values=function(){for(var o=new kt,s=this.map_.values(),l=s.next();!l.done;)o.add(l.value),l=s.next();return o},e.prototype.entrySet=function(){var o=new As;return this.map_.entries().forEach(function(s){return o.add(s)}),o},e.prototype.size=function(){return this.map_.size()},e}(Bi),Qe=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof mi){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var o=arguments[0];this._modelType=t.FIXED,this.setScale(o)}else if(arguments[0]instanceof t){var s=arguments[0];this._modelType=s._modelType,this._scale=s._scale}},la={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Qe.prototype.equals=function(t){return t instanceof Qe&&this._modelType===t._modelType&&this._scale===t._scale},Qe.prototype.compareTo=function(t){var e=t,o=this.getMaximumSignificantDigits(),s=e.getMaximumSignificantDigits();return new ut(o).compareTo(new ut(s))},Qe.prototype.getScale=function(){return this._scale},Qe.prototype.isFloating=function(){return this._modelType===Qe.FLOATING||this._modelType===Qe.FLOATING_SINGLE},Qe.prototype.getType=function(){return this._modelType},Qe.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Qe.FLOATING?t="Floating":this._modelType===Qe.FLOATING_SINGLE?t="Floating-Single":this._modelType===Qe.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Qe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return N.isNaN(t)||this._modelType===Qe.FLOATING_SINGLE?t:this._modelType===Qe.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof w){var e=arguments[0];if(this._modelType===Qe.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Qe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Qe.FLOATING?t=16:this._modelType===Qe.FLOATING_SINGLE?t=6:this._modelType===Qe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Qe.prototype.setScale=function(t){this._scale=Math.abs(t)},Qe.prototype.interfaces_=function(){return[B,S]},Qe.prototype.getClass=function(){return Qe},Qe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},la.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},la.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Qe,la);var mi=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ca={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};mi.prototype.readResolve=function(){return mi.nameToTypeMap.get(this._name)},mi.prototype.toString=function(){return this._name},mi.prototype.interfaces_=function(){return[B]},mi.prototype.getClass=function(){return mi},ca.serialVersionUID.get=function(){return-552860263173159e4},ca.nameToTypeMap.get=function(){return new us},Object.defineProperties(mi,ca),Qe.Type=mi,Qe.FIXED=new mi("FIXED"),Qe.FLOATING=new mi("FLOATING"),Qe.FLOATING_SINGLE=new mi("FLOATING SINGLE");var ve=function t(){this._precisionModel=new Qe,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Pt(arguments[0],K)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Qe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},fa={serialVersionUID:{configurable:!0}};ve.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new w(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new w(t.getMinX(),t.getMinY()),new w(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new w(t.getMinX(),t.getMinY()),new w(t.getMinX(),t.getMaxY()),new w(t.getMaxX(),t.getMaxY()),new w(t.getMaxX(),t.getMinY()),new w(t.getMinX(),t.getMinY())]),null)},ve.prototype.createLineString=function(t){return t?t instanceof Array?new yn(this.getCoordinateSequenceFactory().create(t),this):Pt(t,Ot)?new yn(t,this):void 0:new yn(this.getCoordinateSequenceFactory().create([]),this)},ve.prototype.createMultiLineString=function(){return 0===arguments.length?new ji(null,this):1===arguments.length?new ji(arguments[0],this):void 0},ve.prototype.buildGeometry=function(t){for(var e=null,o=!1,s=!1,l=t.iterator();l.hasNext();){var y=l.next(),x=y.getClass();null===e&&(e=x),x!==e&&(o=!0),y.isGeometryCollectionOrDerived()&&(s=!0)}if(null===e)return this.createGeometryCollection();if(o||s)return this.createGeometryCollection(ve.toGeometryArray(t));var b=t.iterator().next();if(t.size()>1){if(b instanceof Bn)return this.createMultiPolygon(ve.toPolygonArray(t));if(b instanceof yn)return this.createMultiLineString(ve.toLineStringArray(t));if(b instanceof mr)return this.createMultiPoint(ve.toPointArray(t));M.shouldNeverReachHere("Unhandled class: "+b.getClass().getName())}return b},ve.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},ve.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Pt(arguments[0],Ot))return new mr(arguments[0],this)}},ve.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ve.prototype.createPolygon=function(){if(0===arguments.length)return new Bn(null,null,this);if(1===arguments.length){if(Pt(arguments[0],Ot))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof yi)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Bn(arguments[0],arguments[1],this)},ve.prototype.getSRID=function(){return this._SRID},ve.prototype.createGeometryCollection=function(){return 0===arguments.length?new jn(null,this):1===arguments.length?new jn(arguments[0],this):void 0},ve.prototype.createGeometry=function(t){return new Gr(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},ve.prototype.getPrecisionModel=function(){return this._precisionModel},ve.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Pt(arguments[0],Ot))return new yi(arguments[0],this)}},ve.prototype.createMultiPolygon=function(){return 0===arguments.length?new Si(null,this):1===arguments.length?new Si(arguments[0],this):void 0},ve.prototype.createMultiPoint=function(){if(0===arguments.length)return new qi(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new qi(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Pt(arguments[0],Ot)){var o=arguments[0];if(null===o)return this.createMultiPoint(new Array(0).fill(null));for(var s=new Array(o.size()).fill(null),l=0;l<o.size();l++){var y=this.getCoordinateSequenceFactory().create(1,o.getDimension());Cn.copy(o,l,y,0,1),s[l]=this.createPoint(y)}return this.createMultiPoint(s)}}},ve.prototype.interfaces_=function(){return[B]},ve.prototype.getClass=function(){return ve},ve.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.getDefaultCoordinateSequenceFactory=function(){return Pi.instance()},ve.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},fa.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(ve,fa);var vl=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Bs=function(t){this.geometryFactory=t||new ve};Bs.prototype.read=function(t){var e,o=(e="string"==typeof t?JSON.parse(t):t).type;if(!jr[o])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==vl.indexOf(o)?jr[o].apply(this,[e.coordinates]):jr[o].apply(this,"GeometryCollection"===o?[e.geometries]:[e])},Bs.prototype.write=function(t){var e=t.getGeometryType();if(!Gi[e])throw new Error("Geometry is not supported");return Gi[e].apply(this,[t])};var jr={Feature:function(t){var e={};for(var o in t)e[o]=t[o];if(t.geometry){if(!jr[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=jr.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var o=0;o<t.features.length;++o)e.features.push(this.read(t.features[o]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],o=0;o<t.length;++o){var s=t[o];e.push(new w(s[0],s[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new w(t[0],t[1]),new w(t[2],t[1]),new w(t[2],t[3]),new w(t[0],t[3]),new w(t[0],t[1])])},Point:function(t){var e=new w(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],o=0;o<t.length;++o)e.push(jr.Point.apply(this,[t[o]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=jr.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],o=0;o<t.length;++o)e.push(jr.LineString.apply(this,[t[o]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=jr.coordinates.apply(this,[t[0]]),o=this.geometryFactory.createLinearRing(e),s=[],l=1;l<t.length;++l){var x=jr.coordinates.apply(this,[t[l]]),b=this.geometryFactory.createLinearRing(x);s.push(b)}return this.geometryFactory.createPolygon(o,s)},MultiPolygon:function(t){for(var e=[],o=0;o<t.length;++o)e.push(jr.Polygon.apply(this,[t[o]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],o=0;o<t.length;++o)e.push(this.read(t[o]));return this.geometryFactory.createGeometryCollection(e)}},Gi={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Gi.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var l=Gi.Point.apply(this,[t._geometries[o]]);e.push(l.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],o=t.getCoordinates(),s=0;s<o.length;++s)e.push(Gi.coordinate.apply(this,[o[s]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var l=Gi.LineString.apply(this,[t._geometries[o]]);e.push(l.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],o=Gi.LineString.apply(this,[t._shell]);e.push(o.coordinates);for(var s=0;s<t._holes.length;++s){var y=Gi.LineString.apply(this,[t._holes[s]]);e.push(y.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var l=Gi.Polygon.apply(this,[t._geometries[o]]);e.push(l.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var s=t._geometries[o],l=s.getGeometryType();e.push(Gi[l].apply(this,[s]))}return{type:"GeometryCollection",geometries:e}}},ha=function(t){this.geometryFactory=t||new ve,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Bs(this.geometryFactory)};ha.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Qe.FIXED&&this.reducePrecision(e),e},ha.prototype.reducePrecision=function(t){var e,o;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,o=t.points.length;e<o;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,o=t.geometries.length;e<o;e++)this.reducePrecision(t.geometries[e])};var pa=function(){this.parser=new Bs(this.geometryFactory)};pa.prototype.write=function(t){return this.parser.write(t)};var qt=function(){},ks={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.opposite=function(t){return t===qt.LEFT?qt.RIGHT:t===qt.RIGHT?qt.LEFT:t},ks.ON.get=function(){return 0},ks.LEFT.get=function(){return 1},ks.RIGHT.get=function(){return 2},Object.defineProperties(qt,ks),(et.prototype=new Error).name="EmptyStackException",(pt.prototype=new Fn).add=function(t){return this.array_.push(t),!0},pt.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},pt.prototype.push=function(t){return this.array_.push(t),t},pt.prototype.pop=function(t){if(0===this.array_.length)throw new et;return this.array_.pop()},pt.prototype.peek=function(){if(0===this.array_.length)throw new et;return this.array_[this.array_.length-1]},pt.prototype.empty=function(){return 0===this.array_.length},pt.prototype.isEmpty=function(){return this.empty()},pt.prototype.search=function(t){return this.array_.indexOf(t)},pt.prototype.size=function(){return this.array_.length},pt.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t};var vi=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};vi.prototype.getCoordinate=function(){return this._minCoord},vi.prototype.getRightmostSide=function(t,e){var o=this.getRightmostSideOfSegment(t,e);return o<0&&(o=this.getRightmostSideOfSegment(t,e-1)),o<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),o},vi.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();M.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],o=t[this._minIndex+1],s=Mt.computeOrientation(this._minCoord,o,e),l=!1;(e.y<this._minCoord.y&&o.y<this._minCoord.y&&s===Mt.COUNTERCLOCKWISE||e.y>this._minCoord.y&&o.y>this._minCoord.y&&s===Mt.CLOCKWISE)&&(l=!0),l&&(this._minIndex=this._minIndex-1)},vi.prototype.getRightmostSideOfSegment=function(t,e){var o=t.getEdge().getCoordinates();if(e<0||e+1>=o.length||o[e].y===o[e+1].y)return-1;var s=qt.LEFT;return o[e].y<o[e+1].y&&(s=qt.RIGHT),s},vi.prototype.getEdge=function(){return this._orientedDe},vi.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),o=0;o<e.length-1;o++)(null===this._minCoord||e[o].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=o,this._minCoord=e[o])},vi.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},vi.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();o.isForward()&&this.checkForRightmostCoordinate(o)}M.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===qt.LEFT&&(this._orientedDe=this._minDe.getSym())},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi};var Ui=function(t){function e(o,s){t.call(this,e.msgWithCoord(o,s)),this.pt=s?new w(s):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(o,s){return s?o:o+" [ "+s+" ]"},e}(D),qs=function(){this.array_=[]};qs.prototype.addLast=function(t){this.array_.push(t)},qs.prototype.removeFirst=function(){return this.array_.shift()},qs.prototype.isEmpty=function(){return 0===this.array_.length};var ar=function(){this._finder=null,this._dirEdgeList=new kt,this._nodes=new kt,this._rightMostCoord=null,this._env=null,this._finder=new vi};ar.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},ar.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},ar.prototype.computeNodeDepth=function(t){for(var e=null,o=t.getEdges().iterator();o.hasNext();){var s=o.next();if(s.isVisited()||s.getSym().isVisited()){e=s;break}}if(null===e)throw new Ui("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var l=t.getEdges().iterator();l.hasNext();){var y=l.next();y.setVisited(!0),this.copySymDepths(y)}},ar.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(qt.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},ar.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},ar.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(qt.RIGHT)>=1&&e.getDepth(qt.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},ar.prototype.computeDepths=function(t){var e=new As,o=new qs,s=t.getNode();for(o.addLast(s),e.add(s),t.setVisited(!0);!o.isEmpty();){var l=o.removeFirst();e.add(l),this.computeNodeDepth(l);for(var y=l.getEdges().iterator();y.hasNext();){var x=y.next().getSym();if(!x.isVisited()){var b=x.getNode();e.contains(b)||(o.addLast(b),e.add(b))}}}},ar.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},ar.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Gt,e=this._dirEdgeList.iterator();e.hasNext();)for(var o=e.next().getEdge().getCoordinates(),s=0;s<o.length-1;s++)t.expandToInclude(o[s]);this._env=t}return this._env},ar.prototype.addReachable=function(t){var e=new pt;for(e.add(t);!e.empty();){var o=e.pop();this.add(o,e)}},ar.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(qt.LEFT,t.getDepth(qt.RIGHT)),e.setDepth(qt.RIGHT,t.getDepth(qt.LEFT))},ar.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var o=t.getEdges().iterator();o.hasNext();){var s=o.next();this._dirEdgeList.add(s);var l=s.getSym().getNode();l.isVisited()||e.push(l)}},ar.prototype.getNodes=function(){return this._nodes},ar.prototype.getDirectedEdges=function(){return this._dirEdgeList},ar.prototype.interfaces_=function(){return[S]},ar.prototype.getClass=function(){return ar};var cn=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var o=arguments[0];this.init(1),this.location[qt.ON]=o}else if(arguments[0]instanceof t){var s=arguments[0];if(this.init(s.location.length),null!==s)for(var l=0;l<this.location.length;l++)this.location[l]=s.location[l]}}else if(3===arguments.length){var y=arguments[0],x=arguments[1],b=arguments[2];this.init(3),this.location[qt.ON]=y,this.location[qt.LEFT]=x,this.location[qt.RIGHT]=b}};cn.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},cn.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==A.NONE)return!1;return!0},cn.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===A.NONE&&(this.location[e]=t)},cn.prototype.isLine=function(){return 1===this.location.length},cn.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[qt.ON]=this.location[qt.ON],e[qt.LEFT]=A.NONE,e[qt.RIGHT]=A.NONE,this.location=e}for(var o=0;o<this.location.length;o++)this.location[o]===A.NONE&&o<t.location.length&&(this.location[o]=t.location[o])},cn.prototype.getLocations=function(){return this.location},cn.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[qt.LEFT];this.location[qt.LEFT]=this.location[qt.RIGHT],this.location[qt.RIGHT]=t},cn.prototype.toString=function(){var t=new J;return this.location.length>1&&t.append(A.toLocationSymbol(this.location[qt.LEFT])),t.append(A.toLocationSymbol(this.location[qt.ON])),this.location.length>1&&t.append(A.toLocationSymbol(this.location[qt.RIGHT])),t.toString()},cn.prototype.setLocations=function(t,e,o){this.location[qt.ON]=t,this.location[qt.LEFT]=e,this.location[qt.RIGHT]=o},cn.prototype.get=function(t){return t<this.location.length?this.location[t]:A.NONE},cn.prototype.isArea=function(){return this.location.length>1},cn.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===A.NONE)return!0;return!1},cn.prototype.setLocation=function(){1===arguments.length?this.setLocation(qt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},cn.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(A.NONE)},cn.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},cn.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var be=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new cn(e),this.elt[1]=new cn(e)}else if(arguments[0]instanceof t){var o=arguments[0];this.elt[0]=new cn(o.elt[0]),this.elt[1]=new cn(o.elt[1])}}else if(2===arguments.length){var s=arguments[0],l=arguments[1];this.elt[0]=new cn(A.NONE),this.elt[1]=new cn(A.NONE),this.elt[s].setLocation(l)}else if(3===arguments.length){var y=arguments[0],x=arguments[1],b=arguments[2];this.elt[0]=new cn(y,x,b),this.elt[1]=new cn(y,x,b)}else if(4===arguments.length){var q=arguments[0],rt=arguments[1],Et=arguments[2],Nt=arguments[3];this.elt[0]=new cn(A.NONE,A.NONE,A.NONE),this.elt[1]=new cn(A.NONE,A.NONE,A.NONE),this.elt[q].setLocations(rt,Et,Nt)}};be.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},be.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},be.prototype.isNull=function(t){return this.elt[t].isNull()},be.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},be.prototype.isLine=function(t){return this.elt[t].isLine()},be.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new cn(t.elt[e]):this.elt[e].merge(t.elt[e])},be.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},be.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(qt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},be.prototype.toString=function(){var t=new J;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},be.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},be.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},be.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(qt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},be.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},be.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},be.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new cn(this.elt[t].location[0]))},be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be},be.toLineLabel=function(t){for(var e=new be(A.NONE),o=0;o<2;o++)e.setLocation(o,t.getLocation(o));return e};var xn=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new kt,this._pts=new kt,this._label=new be(A.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new kt,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};xn.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Mt.isCCW(this._ring.getCoordinates())},xn.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},xn.prototype.computePoints=function(t){this._startDe=t;var e=t,o=!0;do{if(null===e)throw new Ui("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Ui("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var s=e.getLabel();M.isTrue(s.isArea()),this.mergeLabel(s),this.addPoints(e.getEdge(),e.isForward(),o),o=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},xn.prototype.getLinearRing=function(){return this._ring},xn.prototype.getCoordinate=function(t){return this._pts.get(t)},xn.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},xn.prototype.addPoints=function(t,e,o){var s=t.getCoordinates();if(e){var l=1;o&&(l=0);for(var y=l;y<s.length;y++)this._pts.add(s[y])}else{var x=s.length-2;o&&(x=s.length-1);for(var b=x;b>=0;b--)this._pts.add(s[b])}},xn.prototype.isHole=function(){return this._isHole},xn.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},xn.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t)||!Mt.isPointInRing(t,e.getCoordinates()))return!1;for(var o=this._holes.iterator();o.hasNext();)if(o.next().containsPoint(t))return!1;return!0},xn.prototype.addHole=function(t){this._holes.add(t)},xn.prototype.isShell=function(){return null===this._shell},xn.prototype.getLabel=function(){return this._label},xn.prototype.getEdges=function(){return this._edges},xn.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},xn.prototype.getShell=function(){return this._shell},xn.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var o=arguments[1],s=arguments[0].getLocation(o,qt.RIGHT);if(s===A.NONE)return null;if(this._label.getLocation(o)===A.NONE)return this._label.setLocation(o,s),null}},xn.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},xn.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),o=0;o<this._holes.size();o++)e[o]=this._holes.get(o).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn};var ga=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(o,s){o.setMinEdgeRing(s)},e.prototype.getNext=function(o){return o.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xn),_l=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var o=new kt,s=this._startDe;do{if(null===s.getMinEdgeRing()){var l=new ga(s,this._geometryFactory);o.add(l)}s=s.getNext()}while(s!==this._startDe);return o},e.prototype.setEdgeRing=function(o,s){o.setEdgeRing(s)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var o=this._startDe;do{o.getNode().getEdges().linkMinimalDirectedEdges(this),o=o.getNext()}while(o!==this._startDe)},e.prototype.getNext=function(o){return o.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xn),Sr=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};Sr.prototype.setVisited=function(t){this._isVisited=t},Sr.prototype.setInResult=function(t){this._isInResult=t},Sr.prototype.isCovered=function(){return this._isCovered},Sr.prototype.isCoveredSet=function(){return this._isCoveredSet},Sr.prototype.setLabel=function(t){this._label=t},Sr.prototype.getLabel=function(){return this._label},Sr.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Sr.prototype.updateIM=function(t){M.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Sr.prototype.isInResult=function(){return this._isInResult},Sr.prototype.isVisited=function(){return this._isVisited},Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr};var ls=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var s=arguments[1];this._coord=arguments[0],this._edges=s,this._label=new be(0,A.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var o=this.getEdges().getEdges().iterator();o.hasNext();)if(o.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(o){o.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(o){},e.prototype.computeMergedLocation=function(o,s){var l=A.NONE;if(l=this._label.getLocation(s),!o.isNull(s)){var y=o.getLocation(s);l!==A.BOUNDARY&&(l=y)}return l},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var o=arguments[0],s=arguments[1];null===this._label?this._label=new be(o,s):this._label.setLocation(o,s)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof be)for(var s=arguments[0],l=0;l<2;l++){var y=this.computeMergedLocation(s,l);this._label.getLocation(l)===A.NONE&&this._label.setLocation(l,y)}},e.prototype.add=function(o){this._edges.insert(o),o.setNode(this)},e.prototype.setLabelBoundary=function(o){if(null===this._label)return null;var s=A.NONE;null!==this._label&&(s=this._label.getLocation(o));var l=null;switch(s){case A.BOUNDARY:l=A.INTERIOR;break;case A.INTERIOR:default:l=A.BOUNDARY}this._label.setLocation(o,l)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Sr),Qr=function(){this.nodeMap=new xt,this.nodeFact=null,this.nodeFact=arguments[0]};Qr.prototype.find=function(t){return this.nodeMap.get(t)},Qr.prototype.addNode=function(){if(arguments[0]instanceof w){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof ls){var o=arguments[0],s=this.nodeMap.get(o.getCoordinate());return null===s?(this.nodeMap.put(o.getCoordinate(),o),o):(s.mergeLabel(o),s)}},Qr.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Qr.prototype.iterator=function(){return this.nodeMap.values().iterator()},Qr.prototype.values=function(){return this.nodeMap.values()},Qr.prototype.getBoundaryNodes=function(t){for(var e=new kt,o=this.iterator();o.hasNext();){var s=o.next();s.getLabel().getLocation(t)===A.BOUNDARY&&e.add(s)}return e},Qr.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr};var rn=function(){},Ho={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn},rn.isNorthern=function(t){return t===rn.NE||t===rn.NW},rn.isOpposite=function(t,e){return t!==e&&(t-e+4)%4==2},rn.commonHalfPlane=function(t,e){if(t===e)return t;if((t-e+4)%4==2)return-1;var o=t<e?t:e;return 0===o&&3===(t>e?t:e)?3:o},rn.isInHalfPlane=function(t,e){return e===rn.SE?t===rn.SE||t===rn.SW:t===e||t===e+1},rn.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new C("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?rn.NE:rn.SE:e>=0?rn.NW:rn.SW}if(arguments[0]instanceof w&&arguments[1]instanceof w){var o=arguments[0],s=arguments[1];if(s.x===o.x&&s.y===o.y)throw new C("Cannot compute the quadrant for two identical points "+o);return s.x>=o.x?s.y>=o.y?rn.NE:rn.SE:s.y>=o.y?rn.NW:rn.SW}},Ho.NE.get=function(){return 0},Ho.NW.get=function(){return 1},Ho.SW.get=function(){return 2},Ho.SE.get=function(){return 3},Object.defineProperties(rn,Ho);var Un=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var o=arguments[1],s=arguments[2];this._edge=arguments[0],this.init(o,s),this._label=null}else if(4===arguments.length){var y=arguments[1],x=arguments[2],b=arguments[3];this._edge=arguments[0],this.init(y,x),this._label=b}};Un.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Mt.computeOrientation(t._p0,t._p1,this._p1)},Un.prototype.getDy=function(){return this._dy},Un.prototype.getCoordinate=function(){return this._p0},Un.prototype.setNode=function(t){this._node=t},Un.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),s=o.lastIndexOf("."),l=o.substring(s+1);t.print("  "+l+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Un.prototype.compareTo=function(t){return this.compareDirection(t)},Un.prototype.getDirectedCoordinate=function(){return this._p1},Un.prototype.getDx=function(){return this._dx},Un.prototype.getLabel=function(){return this._label},Un.prototype.getEdge=function(){return this._edge},Un.prototype.getQuadrant=function(){return this._quadrant},Un.prototype.getNode=function(){return this._node},Un.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),o=e.lastIndexOf(".");return"  "+e.substring(o+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Un.prototype.computeLabel=function(t){},Un.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=rn.quadrant(this._dx,this._dy),M.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Un.prototype.interfaces_=function(){return[S]},Un.prototype.getClass=function(){return Un};var da=function(t){function e(){var o=arguments[0],s=arguments[1];if(t.call(this,o),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=s,s)this.init(o.getCoordinate(0),o.getCoordinate(1));else{var l=o.getNumPoints()-1;this.init(o.getCoordinate(l),o.getCoordinate(l-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(o){return this._depth[o]},e.prototype.setVisited=function(o){this._isVisited=o},e.prototype.computeDirectedLabel=function(){this._label=new be(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(o,s){if(-999!==this._depth[o]&&this._depth[o]!==s)throw new Ui("assigned depths do not match",this.getCoordinate());this._depth[o]=s},e.prototype.isInteriorAreaEdge=function(){for(var o=!0,s=0;s<2;s++)this._label.isArea(s)&&this._label.getLocation(s,qt.LEFT)===A.INTERIOR&&this._label.getLocation(s,qt.RIGHT)===A.INTERIOR||(o=!1);return o},e.prototype.setNextMin=function(o){this._nextMin=o},e.prototype.print=function(o){t.prototype.print.call(this,o),o.print(" "+this._depth[qt.LEFT]+"/"+this._depth[qt.RIGHT]),o.print(" ("+this.getDepthDelta()+")"),this._isInResult&&o.print(" inResult")},e.prototype.setMinEdgeRing=function(o){this._minEdgeRing=o},e.prototype.isLineEdge=function(){var o=this._label.isLine(0)||this._label.isLine(1),s=!this._label.isArea(0)||this._label.allPositionsEqual(0,A.EXTERIOR),l=!this._label.isArea(1)||this._label.allPositionsEqual(1,A.EXTERIOR);return o&&s&&l},e.prototype.setEdgeRing=function(o){this._edgeRing=o},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var o=this._edge.getDepthDelta();return this._isForward||(o=-o),o},e.prototype.setInResult=function(o){this._isInResult=o},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(o){this.print(o),o.print(" "),this._isForward?this._edge.print(o):this._edge.printReverse(o)},e.prototype.setSym=function(o){this._sym=o},e.prototype.setVisitedEdge=function(o){this.setVisited(o),this._sym.setVisited(o)},e.prototype.setEdgeDepths=function(o,s){var l=this.getEdge().getDepthDelta();this._isForward||(l=-l);var y=1;o===qt.LEFT&&(y=-1);var x=qt.opposite(o),b=s+l*y;this.setDepth(o,s),this.setDepth(x,b)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(o){this._next=o},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(o,s){return o===A.EXTERIOR&&s===A.INTERIOR?1:o===A.INTERIOR&&s===A.EXTERIOR?-1:0},e}(Un),Ao=function(){};Ao.prototype.createNode=function(t){return new ls(t,null)},Ao.prototype.interfaces_=function(){return[]},Ao.prototype.getClass=function(){return Ao};var gn=function(){this._edges=new kt,this._nodes=null,this._edgeEndList=new kt,0===arguments.length?this._nodes=new Qr(new Ao):1===arguments.length&&(this._nodes=new Qr(arguments[0]))};gn.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var o=this._edges.get(e);o.print(t),o.eiList.print(t)}},gn.prototype.find=function(t){return this._nodes.find(t)},gn.prototype.addNode=function(){return arguments[0]instanceof ls||arguments[0]instanceof w?this._nodes.addNode(arguments[0]):void 0},gn.prototype.getNodeIterator=function(){return this._nodes.iterator()},gn.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},gn.prototype.debugPrintln=function(t){Jt.out.println(t)},gn.prototype.isBoundaryNode=function(t,e){var o=this._nodes.find(e);if(null===o)return!1;var s=o.getLabel();return null!==s&&s.getLocation(t)===A.BOUNDARY},gn.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},gn.prototype.matchInSameDirection=function(t,e,o,s){return!!t.equals(o)&&Mt.computeOrientation(t,e,s)===Mt.COLLINEAR&&rn.quadrant(t,e)===rn.quadrant(o,s)},gn.prototype.getEdgeEnds=function(){return this._edgeEndList},gn.prototype.debugPrint=function(t){Jt.out.print(t)},gn.prototype.getEdgeIterator=function(){return this._edges.iterator()},gn.prototype.findEdgeInSameDirection=function(t,e){for(var o=0;o<this._edges.size();o++){var s=this._edges.get(o),l=s.getCoordinates();if(this.matchInSameDirection(t,e,l[0],l[1])||this.matchInSameDirection(t,e,l[l.length-1],l[l.length-2]))return s}return null},gn.prototype.insertEdge=function(t){this._edges.add(t)},gn.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var o=e.next();if(o.getEdge()===t)return o}return null},gn.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();this._edges.add(o);var s=new da(o,!0),l=new da(o,!1);s.setSym(l),l.setSym(s),this.add(s),this.add(l)}},gn.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},gn.prototype.getNodes=function(){return this._nodes.values()},gn.prototype.findEdge=function(t,e){for(var o=0;o<this._edges.size();o++){var s=this._edges.get(o),l=s.getCoordinates();if(t.equals(l[0])&&e.equals(l[1]))return s}return null},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var ur=function(){this._geometryFactory=null,this._shellList=new kt,this._geometryFactory=arguments[0]};ur.prototype.sortShellsAndHoles=function(t,e,o){for(var s=t.iterator();s.hasNext();){var l=s.next();l.isHole()?o.add(l):e.add(l)}},ur.prototype.computePolygons=function(t){for(var e=new kt,o=t.iterator();o.hasNext();){var s=o.next().toPolygon(this._geometryFactory);e.add(s)}return e},ur.prototype.placeFreeHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var s=o.next();if(null===s.getShell()){var l=this.findEdgeRingContaining(s,t);if(null===l)throw new Ui("unable to assign hole to a shell",s.getCoordinate(0));s.setShell(l)}}},ur.prototype.buildMinimalEdgeRings=function(t,e,o){for(var s=new kt,l=t.iterator();l.hasNext();){var y=l.next();if(y.getMaxNodeDegree()>2){y.linkDirectedEdgesForMinimalEdgeRings();var x=y.buildMinimalRings(),b=this.findShell(x);null!==b?(this.placePolygonHoles(b,x),e.add(b)):o.addAll(x)}else s.add(y)}return s},ur.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},ur.prototype.buildMaximalEdgeRings=function(t){for(var e=new kt,o=t.iterator();o.hasNext();){var s=o.next();if(s.isInResult()&&s.getLabel().isArea()&&null===s.getEdgeRing()){var l=new _l(s,this._geometryFactory);e.add(l),l.setInResult()}}return e},ur.prototype.placePolygonHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var s=o.next();s.isHole()&&s.setShell(t)}},ur.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},ur.prototype.findEdgeRingContaining=function(t,e){for(var o=t.getLinearRing(),s=o.getEnvelopeInternal(),l=o.getCoordinateN(0),y=null,x=null,b=e.iterator();b.hasNext();){var q=b.next(),rt=q.getLinearRing(),Et=rt.getEnvelopeInternal();null!==y&&(x=y.getLinearRing().getEnvelopeInternal());var Nt=!1;Et.contains(s)&&Mt.isPointInRing(l,rt.getCoordinates())&&(Nt=!0),Nt&&(null===y||x.contains(Et))&&(y=q)}return y},ur.prototype.findShell=function(t){for(var e=0,o=null,s=t.iterator();s.hasNext();){var l=s.next();l.isHole()||(o=l,e++)}return M.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),o},ur.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];gn.linkResultDirectedEdges(arguments[1]);var s=this.buildMaximalEdgeRings(e),l=new kt,y=this.buildMinimalEdgeRings(s,this._shellList,l);this.sortShellsAndHoles(y,this._shellList,l),this.placeFreeHoles(this._shellList,l)}},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur};var Ro=function(){};Ro.prototype.getBounds=function(){},Ro.prototype.interfaces_=function(){return[]},Ro.prototype.getClass=function(){return Ro};var Kr=function(){this._bounds=null,this._item=null;var e=arguments[1];this._bounds=arguments[0],this._item=e};Kr.prototype.getItem=function(){return this._item},Kr.prototype.getBounds=function(){return this._bounds},Kr.prototype.interfaces_=function(){return[Ro,B]},Kr.prototype.getClass=function(){return Kr};var zi=function(){this._size=null,this._items=null,this._size=0,this._items=new kt,this._items.add(null)};zi.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},zi.prototype.size=function(){return this._size},zi.prototype.reorder=function(t){for(var e=null,o=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(o)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,o)},zi.prototype.clear=function(){this._size=0,this._items.clear()},zi.prototype.isEmpty=function(){return 0===this._size},zi.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi};var Ki=function(){};Ki.prototype.visitItem=function(t){},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki};var mo=function(){};mo.prototype.insert=function(t,e){},mo.prototype.remove=function(t,e){},mo.prototype.query=function(){},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo};var Mn=function(){this._childBoundables=new kt,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},hu={serialVersionUID:{configurable:!0}};Mn.prototype.getLevel=function(){return this._level},Mn.prototype.size=function(){return this._childBoundables.size()},Mn.prototype.getChildBoundables=function(){return this._childBoundables},Mn.prototype.addChildBoundable=function(t){M.isTrue(null===this._bounds),this._childBoundables.add(t)},Mn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Mn.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Mn.prototype.interfaces_=function(){return[Ro,B]},Mn.prototype.getClass=function(){return Mn},hu.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Mn,hu);var ti=function(){};ti.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},ti.min=function(t){return ti.sort(t),t.get(0)},ti.sort=function(t,e){var o=t.toArray();e?$i.sort(o,e):$i.sort(o);for(var s=t.iterator(),l=0,y=o.length;l<y;l++)s.next(),s.set(o[l])},ti.singletonList=function(t){var e=new kt;return e.add(t),e};var Ln=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[1],o=arguments[2];this._boundable1=arguments[0],this._boundable2=e,this._itemDistance=o,this._distance=this.distance()};Ln.prototype.expandToQueue=function(t,e){var o=Ln.isComposite(this._boundable1),s=Ln.isComposite(this._boundable2);if(o&&s)return Ln.area(this._boundable1)>Ln.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(o)return this.expand(this._boundable1,this._boundable2,t,e),null;if(s)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new C("neither boundable is composite")},Ln.prototype.isLeaves=function(){return!(Ln.isComposite(this._boundable1)||Ln.isComposite(this._boundable2))},Ln.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Ln.prototype.expand=function(t,e,o,s){for(var l=t.getChildBoundables().iterator();l.hasNext();){var y=l.next(),x=new Ln(y,e,this._itemDistance);x.getDistance()<s&&o.add(x)}},Ln.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Ln.prototype.getDistance=function(){return this._distance},Ln.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Ln.prototype.interfaces_=function(){return[S]},Ln.prototype.getClass=function(){return Ln},Ln.area=function(t){return t.getBounds().getArea()},Ln.isComposite=function(t){return t instanceof Mn};var Yn=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new kt,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var o=arguments[0];M.isTrue(o>1,"Node capacity must be greater than 1"),this._nodeCapacity=o}},Gs={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Yn.prototype.getNodeCapacity=function(){return this._nodeCapacity},Yn.prototype.lastNode=function(t){return t.get(t.size()-1)},Yn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();o instanceof Mn?t+=this.size(o):o instanceof Kr&&(t+=1)}return t}},Yn.prototype.removeItem=function(t,e){for(var o=null,s=t.getChildBoundables().iterator();s.hasNext();){var l=s.next();l instanceof Kr&&l.getItem()===e&&(o=l)}return null!==o&&(t.getChildBoundables().remove(o),!0)},Yn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new kt:t}if(1===arguments.length){for(var e=arguments[0],o=new kt,s=e.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(l instanceof Mn){var y=this.itemsTree(l);null!==y&&o.add(y)}else l instanceof Kr?o.add(l.getItem()):M.shouldNeverReachHere()}return o.size()<=0?null:o}},Yn.prototype.insert=function(t,e){M.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Kr(t,e))},Yn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new kt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var o=arguments[0],s=arguments[1],l=arguments[2];if(M.isTrue(o>-2),s.getLevel()===o)return l.add(s),null;for(var y=s.getChildBoundables().iterator();y.hasNext();){var x=y.next();x instanceof Mn?this.boundablesAtLevel(o,x,l):(M.isTrue(x instanceof Kr),-1===o&&l.add(x))}return null}},Yn.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new kt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var o=arguments[0],s=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.query(o,this._root,s)}else if(3===arguments.length)if(Pt(arguments[2],Ki)&&arguments[0]instanceof Object&&arguments[1]instanceof Mn)for(var l=arguments[0],x=arguments[2],b=arguments[1].getChildBoundables(),q=0;q<b.size();q++){var rt=b.get(q);this.getIntersectsOp().intersects(rt.getBounds(),l)&&(rt instanceof Mn?this.query(l,rt,x):rt instanceof Kr?x.visitItem(rt.getItem()):M.shouldNeverReachHere())}else if(Pt(arguments[2],Fn)&&arguments[0]instanceof Object&&arguments[1]instanceof Mn)for(var Et=arguments[0],zt=arguments[2],Zt=arguments[1].getChildBoundables(),Wt=0;Wt<Zt.size();Wt++){var ee=Zt.get(Wt);this.getIntersectsOp().intersects(ee.getBounds(),Et)&&(ee instanceof Mn?this.query(Et,ee,zt):ee instanceof Kr?zt.add(ee.getItem()):M.shouldNeverReachHere())}},Yn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Yn.prototype.getRoot=function(){return this.build(),this._root},Yn.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var o=arguments[0],s=arguments[1],l=arguments[2],y=this.removeItem(s,l);if(y)return!0;for(var x=null,b=s.getChildBoundables().iterator();b.hasNext();){var q=b.next();if(this.getIntersectsOp().intersects(q.getBounds(),o)&&q instanceof Mn&&(y=this.remove(o,q,l))){x=q;break}}return null!==x&&x.getChildBoundables().isEmpty()&&s.getChildBoundables().remove(x),y}},Yn.prototype.createHigherLevels=function(t,e){M.isTrue(!t.isEmpty());var o=this.createParentBoundables(t,e+1);return 1===o.size()?o.get(0):this.createHigherLevels(o,e+1)},Yn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();if(o instanceof Mn){var s=this.depth(o);s>t&&(t=s)}}return t+1}},Yn.prototype.createParentBoundables=function(t,e){M.isTrue(!t.isEmpty());var o=new kt;o.add(this.createNode(e));var s=new kt(t);ti.sort(s,this.getComparator());for(var l=s.iterator();l.hasNext();){var y=l.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(e)),this.lastNode(o).addChildBoundable(y)}return o},Yn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Yn.prototype.interfaces_=function(){return[B]},Yn.prototype.getClass=function(){return Yn},Yn.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Gs.IntersectsOp.get=function(){return pu},Gs.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Gs.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Yn,Gs);var pu=function(){},Wo=function(){};Wo.prototype.distance=function(t,e){},Wo.prototype.interfaces_=function(){return[]},Wo.prototype.getClass=function(){return Wo};var ya=function(t){function e(s){t.call(this,s=s||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(s,l){M.isTrue(s.length>0);for(var y=new kt,x=0;x<s.length;x++)y.addAll(this.createParentBoundablesFromVerticalSlice(s[x],l));return y},e.prototype.createNode=function(s){return new ma(s)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var s=arguments[0],l=arguments[1];if(s.isNull())return null;t.prototype.insert.call(this,s,l)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(s,l){for(var y=Math.trunc(Math.ceil(s.size()/l)),x=new Array(l).fill(null),b=s.iterator(),q=0;q<l;q++){x[q]=new kt;for(var rt=0;b.hasNext()&&rt<y;){var Et=b.next();x[q].add(Et),rt++}}return x},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Pt(arguments[2],Ki)&&arguments[0]instanceof Object&&arguments[1]instanceof Mn||Pt(arguments[2],Fn)&&arguments[0]instanceof Object&&arguments[1]instanceof Mn)&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(s,l){return t.prototype.createParentBoundables.call(this,s,l)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(s,l){M.isTrue(!s.isEmpty());var y=Math.trunc(Math.ceil(s.size()/this.getNodeCapacity())),x=new kt(s);ti.sort(x,e.xComparator);var b=this.verticalSlices(x,Math.trunc(Math.ceil(Math.sqrt(y))));return this.createParentBoundablesFromVerticalSlices(b,l)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Pt(arguments[0],Wo)){var s=arguments[0],l=new Ln(this.getRoot(),this.getRoot(),s);return this.nearestNeighbour(l)}if(arguments[0]instanceof Ln)return this.nearestNeighbour(arguments[0],N.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&Pt(arguments[1],Wo)){var x=arguments[0],b=arguments[1],q=new Ln(this.getRoot(),x.getRoot(),b);return this.nearestNeighbour(q)}if(arguments[0]instanceof Ln&&"number"==typeof arguments[1]){var rt=arguments[0],Et=arguments[1],Nt=null,zt=new zi;for(zt.add(rt);!zt.isEmpty()&&Et>0;){var Zt=zt.poll(),Wt=Zt.getDistance();if(Wt>=Et)break;Zt.isLeaves()?(Et=Wt,Nt=Zt):Zt.expandToQueue(zt,Et)}return[Nt.getBoundable(0).getItem(),Nt.getBoundable(1).getItem()]}}else if(3===arguments.length){var On=arguments[2],gr=new Kr(arguments[0],arguments[1]),Ri=new Ln(this.getRoot(),gr,On);return this.nearestNeighbour(Ri)[0]}},e.prototype.interfaces_=function(){return[mo,B]},e.prototype.getClass=function(){return e},e.centreX=function(s){return e.avg(s.getMinX(),s.getMaxX())},e.avg=function(s,l){return(s+l)/2},e.centreY=function(s){return e.avg(s.getMinY(),s.getMaxY())},o.STRtreeNode.get=function(){return ma},o.serialVersionUID.get=function(){return 0x39920f7d5f261e0},o.xComparator.get=function(){return{interfaces_:function(){return[O]},compare:function(s,l){return t.compareDoubles(e.centreX(s.getBounds()),e.centreX(l.getBounds()))}}},o.yComparator.get=function(){return{interfaces_:function(){return[O]},compare:function(s,l){return t.compareDoubles(e.centreY(s.getBounds()),e.centreY(l.getBounds()))}}},o.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(s,l){return s.intersects(l)}}},o.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,o),e}(Yn),ma=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var o=null,s=this.getChildBoundables().iterator();s.hasNext();){var l=s.next();null===o?o=new Gt(l.getBounds()):o.expandToInclude(l.getBounds())}return o},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mn),lr=function(){};lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr},lr.relativeSign=function(t,e){return t<e?-1:t>e?1:0},lr.compare=function(t,e,o){if(e.equals2D(o))return 0;var s=lr.relativeSign(e.x,o.x),l=lr.relativeSign(e.y,o.y);switch(t){case 0:return lr.compareValue(s,l);case 1:return lr.compareValue(l,s);case 2:return lr.compareValue(l,-s);case 3:return lr.compareValue(-s,l);case 4:return lr.compareValue(-s,-l);case 5:return lr.compareValue(-l,-s);case 6:return lr.compareValue(-l,s);case 7:return lr.compareValue(s,-l)}return M.shouldNeverReachHere("invalid octant value"),0},lr.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var to=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],o=arguments[2],s=arguments[3];this._segString=t,this.coord=new w(e),this.segmentIndex=o,this._segmentOctant=s,this._isInterior=!e.equals2D(t.getCoordinate(o))};to.prototype.getCoordinate=function(){return this.coord},to.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},to.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:lr.compare(this._segmentOctant,this.coord,e.coord)},to.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},to.prototype.isInterior=function(){return this._isInterior},to.prototype.interfaces_=function(){return[S]},to.prototype.getClass=function(){return to};var cr=function(){this._nodeMap=new xt,this._edge=null,this._edge=arguments[0]};cr.prototype.getSplitCoordinates=function(){var t=new me;this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var s=e.next();this.addEdgeCoordinates(o,s,t),o=s}return t.toCoordinateArray()},cr.prototype.addCollapsedNodes=function(){var t=new kt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var o=e.next().intValue();this.add(this._edge.getCoordinate(o),o)}},cr.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},cr.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var o=this._edge.getCoordinate(e),s=this._edge.getCoordinate(e+2);o.equals2D(s)&&t.add(new ut(e+1))}},cr.prototype.addEdgeCoordinates=function(t,e,o){var s=this._edge.getCoordinate(e.segmentIndex),l=e.isInterior()||!e.coord.equals2D(s);o.add(new w(t.coord),!1);for(var y=t.segmentIndex+1;y<=e.segmentIndex;y++)o.add(this._edge.getCoordinate(y));l&&o.add(new w(e.coord))},cr.prototype.iterator=function(){return this._nodeMap.values().iterator()},cr.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),o=e.next();e.hasNext();){var s=e.next(),l=this.createSplitEdge(o,s);t.add(l),o=s}},cr.prototype.findCollapseIndex=function(t,e,o){if(!t.coord.equals2D(e.coord))return!1;var s=e.segmentIndex-t.segmentIndex;return e.isInterior()||s--,1===s&&(o[0]=t.segmentIndex+1,!0)},cr.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),o=this.iterator(),s=o.next();o.hasNext();){var l=o.next();this.findCollapseIndex(s,l,e)&&t.add(new ut(e[0])),s=l}},cr.prototype.getEdge=function(){return this._edge},cr.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cr.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,s=this._edge.getCoordinate(e.segmentIndex),l=e.isInterior()||!e.coord.equals2D(s);l||o--;var y=new Array(o).fill(null),x=0;y[x++]=new w(t.coord);for(var b=t.segmentIndex+1;b<=e.segmentIndex;b++)y[x++]=this._edge.getCoordinate(b);return l&&(y[x]=new w(e.coord)),new En(y,this._edge.getData())},cr.prototype.add=function(t,e){var o=new to(this._edge,t,e,this._edge.getSegmentOctant(e)),s=this._nodeMap.get(o);return null!==s?(M.isTrue(s.coord.equals2D(t),"Found equal nodes with different coordinates"),s):(this._nodeMap.put(o,o),o)},cr.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),o=t.get(0).getCoordinate(0);if(!o.equals2D(e[0]))throw new D("bad split edge start point at "+o);var s=t.get(t.size()-1).getCoordinates(),l=s[s.length-1];if(!l.equals2D(e[e.length-1]))throw new D("bad split edge end point at "+l)},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr};var Do=function(){};Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do},Do.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new C("Cannot compute the octant for point ( "+t+", "+e+" )");var o=Math.abs(t),s=Math.abs(e);return t>=0?e>=0?o>=s?0:1:o>=s?7:6:e>=0?o>=s?3:2:o>=s?4:5}if(arguments[0]instanceof w&&arguments[1]instanceof w){var l=arguments[0],y=arguments[1],x=y.x-l.x,b=y.y-l.y;if(0===x&&0===b)throw new C("Cannot compute the octant for two identical points "+l);return Do.octant(x,b)}};var Ni=function(){};Ni.prototype.getCoordinates=function(){},Ni.prototype.size=function(){},Ni.prototype.getCoordinate=function(t){},Ni.prototype.isClosed=function(){},Ni.prototype.setData=function(t){},Ni.prototype.getData=function(){},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni};var cs=function(){};cs.prototype.addIntersection=function(t,e){},cs.prototype.interfaces_=function(){return[Ni]},cs.prototype.getClass=function(){return cs};var En=function(){this._nodeList=new cr(this),this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};En.prototype.getCoordinates=function(){return this._pts},En.prototype.size=function(){return this._pts.length},En.prototype.getCoordinate=function(t){return this._pts[t]},En.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},En.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},En.prototype.setData=function(t){this._data=t},En.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Do.octant(t,e)},En.prototype.getData=function(){return this._data},En.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var s=arguments[1],y=new w(arguments[0].getIntersection(arguments[3]));this.addIntersection(y,s)}},En.prototype.toString=function(){return dt.toLineString(new Sn(this._pts))},En.prototype.getNodeList=function(){return this._nodeList},En.prototype.addIntersectionNode=function(t,e){var o=e,s=o+1;return s<this._pts.length&&t.equals2D(this._pts[s])&&(o=s),this._nodeList.add(t,o)},En.prototype.addIntersections=function(t,e,o){for(var s=0;s<t.getIntersectionNum();s++)this.addIntersection(t,e,o,s)},En.prototype.interfaces_=function(){return[cs]},En.prototype.getClass=function(){return En},En.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new kt;return En.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var s=arguments[1],l=arguments[0].iterator();l.hasNext();)l.next().getNodeList().addSplitEdges(s)};var Kt=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new w,this.p1=new w;else if(1===arguments.length){var t=arguments[0];this.p0=new w(t.p0),this.p1=new w(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var s=arguments[2],l=arguments[3];this.p0=new w(arguments[0],arguments[1]),this.p1=new w(s,l)}},gu={serialVersionUID:{configurable:!0}};Kt.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Kt.prototype.orientationIndex=function(){if(arguments[0]instanceof Kt){var t=arguments[0],e=Mt.orientationIndex(this.p0,this.p1,t.p0),o=Mt.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&o>=0||e<=0&&o<=0?Math.max(e,o):0}if(arguments[0]instanceof w)return Mt.orientationIndex(this.p0,this.p1,arguments[0])},Kt.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Kt.prototype.isVertical=function(){return this.p0.x===this.p1.x},Kt.prototype.equals=function(t){if(!(t instanceof Kt))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Kt.prototype.intersection=function(t){var e=new bt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Kt.prototype.project=function(){if(arguments[0]instanceof w){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new w(t);var e=this.projectionFactor(t),o=new w;return o.x=this.p0.x+e*(this.p1.x-this.p0.x),o.y=this.p0.y+e*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof Kt){var s=arguments[0],l=this.projectionFactor(s.p0),y=this.projectionFactor(s.p1);if(l>=1&&y>=1||l<=0&&y<=0)return null;var x=this.project(s.p0);l<0&&(x=this.p0),l>1&&(x=this.p1);var b=this.project(s.p1);return y<0&&(b=this.p0),y>1&&(b=this.p1),new Kt(x,b)}},Kt.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Kt.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Kt.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Kt.prototype.distancePerpendicular=function(t){return Mt.distancePointLinePerpendicular(t,this.p0,this.p1)},Kt.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Kt.prototype.midPoint=function(){return Kt.midPoint(this.p0,this.p1)},Kt.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=e*e+o*o;return s<=0?N.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*o)/s},Kt.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var o=new Array(2).fill(null),s=N.MAX_VALUE,l=null,y=this.closestPoint(t.p0);s=y.distance(t.p0),o[0]=y,o[1]=t.p0;var x=this.closestPoint(t.p1);(l=x.distance(t.p1))<s&&(s=l,o[0]=x,o[1]=t.p1);var b=t.closestPoint(this.p0);(l=b.distance(this.p0))<s&&(s=l,o[0]=this.p0,o[1]=b);var q=t.closestPoint(this.p1);return(l=q.distance(this.p1))<s&&(s=l,o[0]=this.p1,o[1]=q),o},Kt.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Kt.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Kt.prototype.getLength=function(){return this.p0.distance(this.p1)},Kt.prototype.compareTo=function(t){var e=t,o=this.p0.compareTo(e.p0);return 0!==o?o:this.p1.compareTo(e.p1)},Kt.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Kt.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Kt.prototype.lineIntersection=function(t){try{return $t.intersection(this.p0,this.p1,t.p0,t.p1)}catch(e){if(!(e instanceof ue))throw e}return null},Kt.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Kt.prototype.pointAlongOffset=function(t,e){var o=this.p0.x+t*(this.p1.x-this.p0.x),s=this.p0.y+t*(this.p1.y-this.p0.y),l=this.p1.x-this.p0.x,y=this.p1.y-this.p0.y,x=Math.sqrt(l*l+y*y),b=0,q=0;if(0!==e){if(x<=0)throw new Error("Cannot compute offset from zero-length line segment");b=e*l/x,q=e*y/x}return new w(o-q,s+b)},Kt.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=o.x,this.p1.y=o.y}},Kt.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||N.isNaN(e))&&(e=1),e},Kt.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Kt.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Kt.prototype.distance=function(){if(arguments[0]instanceof Kt){var t=arguments[0];return Mt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof w)return Mt.distancePointLine(arguments[0],this.p0,this.p1)},Kt.prototype.pointAlong=function(t){var e=new w;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Kt.prototype.hashCode=function(){var t=N.doubleToLongBits(this.p0.x);t^=31*N.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),o=N.doubleToLongBits(this.p1.x);return o^=31*N.doubleToLongBits(this.p1.y),e^Math.trunc(o)^Math.trunc(o>>32)},Kt.prototype.interfaces_=function(){return[S,B]},Kt.prototype.getClass=function(){return Kt},Kt.midPoint=function(t,e){return new w((t.x+e.x)/2,(t.y+e.y)/2)},gu.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Kt,gu);var fs=function(){this.tempEnv1=new Gt,this.tempEnv2=new Gt,this._overlapSeg1=new Kt,this._overlapSeg2=new Kt};fs.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var o=arguments[2],s=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),o.getLineSegment(s,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},fs.prototype.interfaces_=function(){return[]},fs.prototype.getClass=function(){return fs};var vr=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[1],o=arguments[2],s=arguments[3];this._pts=arguments[0],this._start=e,this._end=o,this._context=s};vr.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},vr.prototype.computeSelect=function(t,e,o,s){if(s.tempEnv1.init(this._pts[e],this._pts[o]),o-e==1)return s.select(this,e),null;if(!t.intersects(s.tempEnv1))return null;var x=Math.trunc((e+o)/2);e<x&&this.computeSelect(t,e,x,s),x<o&&this.computeSelect(t,x,o,s)},vr.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,o=this._start;o<=this._end;o++)t[e++]=this._pts[o];return t},vr.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},vr.prototype.setId=function(t){this._id=t},vr.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},vr.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Gt(this._pts[this._start],this._pts[this._end])),this._env},vr.prototype.getEndIndex=function(){return this._end},vr.prototype.getStartIndex=function(){return this._start},vr.prototype.getContext=function(){return this._context},vr.prototype.getId=function(){return this._id},vr.prototype.computeOverlapsInternal=function(t,e,o,s,l,y){var x=this._pts[t],b=this._pts[e],q=o._pts[s],rt=o._pts[l];if(e-t==1&&l-s==1)return y.overlap(this,t,o,s),null;if(y.tempEnv1.init(x,b),y.tempEnv2.init(q,rt),!y.tempEnv1.intersects(y.tempEnv2))return null;var Et=Math.trunc((t+e)/2),Nt=Math.trunc((s+l)/2);t<Et&&(s<Nt&&this.computeOverlapsInternal(t,Et,o,s,Nt,y),Nt<l&&this.computeOverlapsInternal(t,Et,o,Nt,l,y)),Et<e&&(s<Nt&&this.computeOverlapsInternal(Et,e,o,s,Nt,y),Nt<l&&this.computeOverlapsInternal(Et,e,o,Nt,l,y))},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr};var Ur=function(){};Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.getChainStartIndices=function(t){var e=0,o=new kt;o.add(new ut(e));do{var s=Ur.findChainEnd(t,e);o.add(new ut(s)),e=s}while(e<t.length-1);return Ur.toIntArray(o)},Ur.findChainEnd=function(t,e){for(var o=e;o<t.length-1&&t[o].equals2D(t[o+1]);)o++;if(o>=t.length-1)return t.length-1;for(var s=rn.quadrant(t[o],t[o+1]),l=e+1;l<t.length&&(t[l-1].equals2D(t[l])||rn.quadrant(t[l-1],t[l])===s);)l++;return l-1},Ur.getChains=function(){if(1===arguments.length)return Ur.getChains(arguments[0],null);if(2===arguments.length){for(var e=arguments[0],o=arguments[1],s=new kt,l=Ur.getChainStartIndices(e),y=0;y<l.length-1;y++){var x=new vr(e,l[y],l[y+1],o);s.add(x)}return s}},Ur.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var vo=function(){};vo.prototype.computeNodes=function(t){},vo.prototype.getNodedSubstrings=function(){},vo.prototype.interfaces_=function(){return[]},vo.prototype.getClass=function(){return vo};var hs=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};hs.prototype.setSegmentIntersector=function(t){this._segInt=t},hs.prototype.interfaces_=function(){return[vo]},hs.prototype.getClass=function(){return hs};var Us=function(t){function e(s){s?t.call(this,s):t.call(this),this._monoChains=new kt,this._index=new ya,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return En.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(s){for(var l=Ur.getChains(s.getCoordinates(),s).iterator();l.hasNext();){var y=l.next();y.setId(this._idCounter++),this._index.insert(y.getEnvelope(),y),this._monoChains.add(y)}},e.prototype.computeNodes=function(s){this._nodedSegStrings=s;for(var l=s.iterator();l.hasNext();)this.add(l.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var s=new du(this._segInt),l=this._monoChains.iterator();l.hasNext();)for(var y=l.next(),x=this._index.query(y.getEnvelope()).iterator();x.hasNext();){var b=x.next();if(b.getId()>y.getId()&&(y.computeOverlaps(b,s),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.SegmentOverlapAction.get=function(){return du},Object.defineProperties(e,o),e}(hs),du=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var s=arguments[1],l=arguments[2],y=arguments[3],x=arguments[0].getContext(),b=l.getContext();this._si.processIntersections(x,s,b,y)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fs),Ke=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var s=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(s)}else if(4===arguments.length){var y=arguments[1],x=arguments[2],b=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(y),this.setJoinStyle(x),this.setMitreLimit(b)}},Zi={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Ke.prototype.getEndCapStyle=function(){return this._endCapStyle},Ke.prototype.isSingleSided=function(){return this._isSingleSided},Ke.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Ke.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Ke.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Ke.JOIN_ROUND&&(this._quadrantSegments=Ke.DEFAULT_QUADRANT_SEGMENTS)},Ke.prototype.getJoinStyle=function(){return this._joinStyle},Ke.prototype.setJoinStyle=function(t){this._joinStyle=t},Ke.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Ke.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Ke.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Ke.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Ke.prototype.getMitreLimit=function(){return this._mitreLimit},Ke.prototype.setMitreLimit=function(t){this._mitreLimit=t},Ke.prototype.setSingleSided=function(t){this._isSingleSided=t},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke},Ke.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Zi.CAP_ROUND.get=function(){return 1},Zi.CAP_FLAT.get=function(){return 2},Zi.CAP_SQUARE.get=function(){return 3},Zi.JOIN_ROUND.get=function(){return 1},Zi.JOIN_MITRE.get=function(){return 2},Zi.JOIN_BEVEL.get=function(){return 3},Zi.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Zi.DEFAULT_MITRE_LIMIT.get=function(){return 5},Zi.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Ke,Zi);var wn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Mt.COUNTERCLOCKWISE,this._inputLine=t||null},ps={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};wn.prototype.isDeletable=function(t,e,o,s){var l=this._inputLine[t],y=this._inputLine[e],x=this._inputLine[o];return!!this.isConcave(l,y,x)&&!!this.isShallow(l,y,x,s)&&this.isShallowSampled(l,y,t,o,s)},wn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),o=this.findNextNonDeletedIndex(e),s=!1;o<this._inputLine.length;){var l=!1;this.isDeletable(t,e,o,this._distanceTol)&&(this._isDeleted[e]=wn.DELETE,l=!0,s=!0),e=this.findNextNonDeletedIndex(t=l?o:e),o=this.findNextNonDeletedIndex(e)}return s},wn.prototype.isShallowConcavity=function(t,e,o,s){return Mt.computeOrientation(t,e,o)===this._angleOrientation&&Mt.distancePointLine(e,t,o)<s},wn.prototype.isShallowSampled=function(t,e,o,s,l){var y=Math.trunc((s-o)/wn.NUM_PTS_TO_CHECK);y<=0&&(y=1);for(var x=o;x<s;x+=y)if(!this.isShallow(t,e,this._inputLine[x],l))return!1;return!0},wn.prototype.isConcave=function(t,e,o){return Mt.computeOrientation(t,e,o)===this._angleOrientation},wn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Mt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},wn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===wn.DELETE;)e++;return e},wn.prototype.isShallow=function(t,e,o,s){return Mt.distancePointLine(e,t,o)<s},wn.prototype.collapseLine=function(){for(var t=new me,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==wn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},wn.simplify=function(t,e){return new wn(t).simplify(e)},ps.INIT.get=function(){return 0},ps.DELETE.get=function(){return 1},ps.KEEP.get=function(){return 1},ps.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(wn,ps);var Tr=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new kt},yu={COORDINATE_ARRAY_TYPE:{configurable:!0}};Tr.prototype.getCoordinates=function(){return this._ptList.toArray(Tr.COORDINATE_ARRAY_TYPE)},Tr.prototype.setPrecisionModel=function(t){this._precisionModel=t},Tr.prototype.addPt=function(t){var e=new w(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Tr.prototype.revere=function(){},Tr.prototype.addPts=function(t,e){if(e)for(var o=0;o<t.length;o++)this.addPt(t[o]);else for(var s=t.length-1;s>=0;s--)this.addPt(t[s])},Tr.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Tr.prototype.toString=function(){return(new ve).createLineString(this.getCoordinates()).toString()},Tr.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new w(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Tr.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},yu.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Tr,yu);var xe=function(){},_o={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};xe.prototype.interfaces_=function(){return[]},xe.prototype.getClass=function(){return xe},xe.toDegrees=function(t){return 180*t/Math.PI},xe.normalize=function(t){for(;t>Math.PI;)t-=xe.PI_TIMES_2;for(;t<=-Math.PI;)t+=xe.PI_TIMES_2;return t},xe.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return Math.atan2(o.y-e.y,o.x-e.x)}},xe.isAcute=function(t,e,o){return(t.x-e.x)*(o.x-e.x)+(t.y-e.y)*(o.y-e.y)>0},xe.isObtuse=function(t,e,o){return(t.x-e.x)*(o.x-e.x)+(t.y-e.y)*(o.y-e.y)<0},xe.interiorAngle=function(t,e,o){var s=xe.angle(e,t),l=xe.angle(e,o);return Math.abs(l-s)},xe.normalizePositive=function(t){if(t<0){for(;t<0;)t+=xe.PI_TIMES_2;t>=xe.PI_TIMES_2&&(t=0)}else{for(;t>=xe.PI_TIMES_2;)t-=xe.PI_TIMES_2;t<0&&(t=0)}return t},xe.angleBetween=function(t,e,o){var s=xe.angle(e,t),l=xe.angle(e,o);return xe.diff(s,l)},xe.diff=function(t,e){var o=null;return(o=t<e?e-t:t-e)>Math.PI&&(o=2*Math.PI-o),o},xe.toRadians=function(t){return t*Math.PI/180},xe.getTurn=function(t,e){var o=Math.sin(e-t);return o>0?xe.COUNTERCLOCKWISE:o<0?xe.CLOCKWISE:xe.NONE},xe.angleBetweenOriented=function(t,e,o){var s=xe.angle(e,t),l=xe.angle(e,o)-s;return l<=-Math.PI?l+xe.PI_TIMES_2:l>Math.PI?l-xe.PI_TIMES_2:l},_o.PI_TIMES_2.get=function(){return 2*Math.PI},_o.PI_OVER_2.get=function(){return Math.PI/2},_o.PI_OVER_4.get=function(){return Math.PI/4},_o.COUNTERCLOCKWISE.get=function(){return Mt.COUNTERCLOCKWISE},_o.CLOCKWISE.get=function(){return Mt.CLOCKWISE},_o.NONE.get=function(){return Mt.COLLINEAR},Object.defineProperties(xe,_o);var dn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Kt,this._seg1=new Kt,this._offset0=new Kt,this._offset1=new Kt,this._side=0,this._hasNarrowConcaveAngle=!1;var o=arguments[1],s=arguments[2];this._precisionModel=arguments[0],this._bufParams=o,this._li=new bt,this._filletAngleQuantum=Math.PI/2/o.getQuadrantSegments(),o.getQuadrantSegments()>=8&&o.getJoinStyle()===Ke.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(s)},gs={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};dn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var o=Mt.computeOrientation(this._s0,this._s1,this._s2),s=o===Mt.CLOCKWISE&&this._side===qt.LEFT||o===Mt.COUNTERCLOCKWISE&&this._side===qt.RIGHT;0===o?this.addCollinear(e):s?this.addOutsideTurn(o,e):this.addInsideTurn(o,e)},dn.prototype.addLineEndCap=function(t,e){var o=new Kt(t,e),s=new Kt;this.computeOffsetSegment(o,qt.LEFT,this._distance,s);var l=new Kt;this.computeOffsetSegment(o,qt.RIGHT,this._distance,l);var b=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case Ke.CAP_ROUND:this._segList.addPt(s.p1),this.addFilletArc(e,b+Math.PI/2,b-Math.PI/2,Mt.CLOCKWISE,this._distance),this._segList.addPt(l.p1);break;case Ke.CAP_FLAT:this._segList.addPt(s.p1),this._segList.addPt(l.p1);break;case Ke.CAP_SQUARE:var q=new w;q.x=Math.abs(this._distance)*Math.cos(b),q.y=Math.abs(this._distance)*Math.sin(b);var rt=new w(s.p1.x+q.x,s.p1.y+q.y),Et=new w(l.p1.x+q.x,l.p1.y+q.y);this._segList.addPt(rt),this._segList.addPt(Et)}},dn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},dn.prototype.addMitreJoin=function(t,e,o,s){var l=!0,y=null;try{y=$t.intersection(e.p0,e.p1,o.p0,o.p1),(s<=0?1:y.distance(t)/Math.abs(s))>this._bufParams.getMitreLimit()&&(l=!1)}catch(x){if(!(x instanceof ue))throw x;y=new w(0,0),l=!1}l?this._segList.addPt(y):this.addLimitedMitreJoin(e,o,s,this._bufParams.getMitreLimit())},dn.prototype.addFilletCorner=function(t,e,o,s,l){var b=Math.atan2(e.y-t.y,e.x-t.x),Et=Math.atan2(o.y-t.y,o.x-t.x);s===Mt.CLOCKWISE?b<=Et&&(b+=2*Math.PI):b>=Et&&(b-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,b,Et,s,l),this._segList.addPt(o)},dn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*dn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Ke.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Ke.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},dn.prototype.createSquare=function(t){this._segList.addPt(new w(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new w(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new w(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new w(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},dn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},dn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},dn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},dn.prototype.initSideSegments=function(t,e,o){this._s1=t,this._s2=e,this._side=o,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)},dn.prototype.addLimitedMitreJoin=function(t,e,o,s){var l=this._seg0.p1,y=xe.angle(l,this._seg0.p0),x=xe.angleBetweenOriented(this._seg0.p0,l,this._seg1.p1)/2,b=xe.normalize(y+x),q=xe.normalize(b+Math.PI),rt=s*o,Et=o-rt*Math.abs(Math.sin(x)),Nt=l.x+rt*Math.cos(q),zt=l.y+rt*Math.sin(q),Zt=new w(Nt,zt),Wt=new Kt(l,Zt),ee=Wt.pointAlongOffset(1,Et),Ie=Wt.pointAlongOffset(1,-Et);this._side===qt.LEFT?(this._segList.addPt(ee),this._segList.addPt(Ie)):(this._segList.addPt(Ie),this._segList.addPt(ee))},dn.prototype.computeOffsetSegment=function(t,e,o,s){var l=e===qt.LEFT?1:-1,y=t.p1.x-t.p0.x,x=t.p1.y-t.p0.y,b=Math.sqrt(y*y+x*x),q=l*o*y/b,rt=l*o*x/b;s.p0.x=t.p0.x-rt,s.p0.y=t.p0.y+q,s.p1.x=t.p1.x-rt,s.p1.y=t.p1.y+q},dn.prototype.addFilletArc=function(t,e,o,s,l){var y=s===Mt.CLOCKWISE?-1:1,x=Math.abs(e-o),b=Math.trunc(x/this._filletAngleQuantum+.5);if(b<1)return null;for(var q=x/b,rt=0,Et=new w;rt<x;){var Nt=e+y*rt;Et.x=t.x+l*Math.cos(Nt),Et.y=t.y+l*Math.sin(Nt),this._segList.addPt(Et),rt+=q}},dn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*dn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var o=new w((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o);var s=new w((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},dn.prototype.createCircle=function(t){var e=new w(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},dn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},dn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Tr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*dn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},dn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Ke.JOIN_BEVEL||this._bufParams.getJoinStyle()===Ke.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Mt.CLOCKWISE,this._distance))},dn.prototype.closeRing=function(){this._segList.closeRing()},dn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},dn.prototype.interfaces_=function(){return[]},dn.prototype.getClass=function(){return dn},gs.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},gs.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},gs.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},gs.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(dn,gs);var _r=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[1];this._precisionModel=arguments[0],this._bufParams=e};_r.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var o=e<0,s=Math.abs(e),l=this.getSegGen(s);t.length<=1?this.computePointCurve(t[0],l):this.computeOffsetCurve(t,o,l);var y=l.getCoordinates();return o&&ge.reverse(y),y},_r.prototype.computeSingleSidedBufferCurve=function(t,e,o){var s=this.simplifyTolerance(this._distance);if(e){o.addSegments(t,!0);var l=wn.simplify(t,-s),y=l.length-1;o.initSideSegments(l[y],l[y-1],qt.LEFT),o.addFirstSegment();for(var x=y-2;x>=0;x--)o.addNextSegment(l[x],!0)}else{o.addSegments(t,!1);var b=wn.simplify(t,s),q=b.length-1;o.initSideSegments(b[0],b[1],qt.LEFT),o.addFirstSegment();for(var rt=2;rt<=q;rt++)o.addNextSegment(b[rt],!0)}o.addLastSegment(),o.closeRing()},_r.prototype.computeRingBufferCurve=function(t,e,o){var s=this.simplifyTolerance(this._distance);e===qt.RIGHT&&(s=-s);var l=wn.simplify(t,s),y=l.length-1;o.initSideSegments(l[y-1],l[0],e);for(var x=1;x<=y;x++)o.addNextSegment(l[x],1!==x);o.closeRing()},_r.prototype.computeLineBufferCurve=function(t,e){var o=this.simplifyTolerance(this._distance),s=wn.simplify(t,o),l=s.length-1;e.initSideSegments(s[0],s[1],qt.LEFT);for(var y=2;y<=l;y++)e.addNextSegment(s[y],!0);e.addLastSegment(),e.addLineEndCap(s[l-1],s[l]);var x=wn.simplify(t,-o),b=x.length-1;e.initSideSegments(x[b],x[b-1],qt.LEFT);for(var q=b-2;q>=0;q--)e.addNextSegment(x[q],!0);e.addLastSegment(),e.addLineEndCap(x[1],x[0]),e.closeRing()},_r.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Ke.CAP_ROUND:e.createCircle(t);break;case Ke.CAP_SQUARE:e.createSquare(t)}},_r.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided()||0===e)return null;var o=Math.abs(e),s=this.getSegGen(o);return t.length<=1?this.computePointCurve(t[0],s):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,s):this.computeLineBufferCurve(t,s),s.getCoordinates()},_r.prototype.getBufferParameters=function(){return this._bufParams},_r.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},_r.prototype.getRingCurve=function(t,e,o){if(this._distance=o,t.length<=2)return this.getLineCurve(t,o);if(0===o)return _r.copyCoordinates(t);var s=this.getSegGen(o);return this.computeRingBufferCurve(t,e,s),s.getCoordinates()},_r.prototype.computeOffsetCurve=function(t,e,o){var s=this.simplifyTolerance(this._distance);if(e){var l=wn.simplify(t,-s),y=l.length-1;o.initSideSegments(l[y],l[y-1],qt.LEFT),o.addFirstSegment();for(var x=y-2;x>=0;x--)o.addNextSegment(l[x],!0)}else{var b=wn.simplify(t,s),q=b.length-1;o.initSideSegments(b[0],b[1],qt.LEFT),o.addFirstSegment();for(var rt=2;rt<=q;rt++)o.addNextSegment(b[rt],!0)}o.addLastSegment()},_r.prototype.getSegGen=function(t){return new dn(this._precisionModel,this._bufParams,t)},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r},_r.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),o=0;o<e.length;o++)e[o]=new w(t[o]);return e};var Fo=function(){this._subgraphs=null,this._seg=new Kt,this._cga=new Mt,this._subgraphs=arguments[0]},va={DepthSegment:{configurable:!0}};Fo.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new kt,o=this._subgraphs.iterator();o.hasNext();){var s=o.next(),l=s.getEnvelope();t.y<l.getMinY()||t.y>l.getMaxY()||this.findStabbedSegments(t,s.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Pt(arguments[2],Fn)&&arguments[0]instanceof w&&arguments[1]instanceof da){for(var y=arguments[0],x=arguments[1],b=arguments[2],q=x.getEdge().getCoordinates(),rt=0;rt<q.length-1;rt++)if(this._seg.p0=q[rt],this._seg.p1=q[rt+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<y.x||this._seg.isHorizontal()||y.y<this._seg.p0.y||y.y>this._seg.p1.y||Mt.computeOrientation(this._seg.p0,this._seg.p1,y)===Mt.RIGHT)){var Et=x.getDepth(qt.LEFT);this._seg.p0.equals(q[rt])||(Et=x.getDepth(qt.RIGHT));var Nt=new eo(this._seg,Et);b.add(Nt)}}else if(Pt(arguments[2],Fn)&&arguments[0]instanceof w&&Pt(arguments[1],Fn))for(var zt=arguments[0],Wt=arguments[2],ee=arguments[1].iterator();ee.hasNext();){var Ie=ee.next();Ie.isForward()&&this.findStabbedSegments(zt,Ie,Wt)}},Fo.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:ti.min(e)._leftDepth},Fo.prototype.interfaces_=function(){return[]},Fo.prototype.getClass=function(){return Fo},va.DepthSegment.get=function(){return eo},Object.defineProperties(Fo,va);var eo=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[1];this._upwardSeg=new Kt(arguments[0]),this._leftDepth=e};eo.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var o=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==o||0!=(o=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?o:this._upwardSeg.compareTo(e._upwardSeg)},eo.prototype.compareX=function(t,e){var o=t.p0.compareTo(e.p0);return 0!==o?o:t.p1.compareTo(e.p1)},eo.prototype.toString=function(){return this._upwardSeg.toString()},eo.prototype.interfaces_=function(){return[S]},eo.prototype.getClass=function(){return eo};var Ce=function(t,e,o){this.p0=t||null,this.p1=e||null,this.p2=o||null};Ce.prototype.area=function(){return Ce.area(this.p0,this.p1,this.p2)},Ce.prototype.signedArea=function(){return Ce.signedArea(this.p0,this.p1,this.p2)},Ce.prototype.interpolateZ=function(t){if(null===t)throw new C("Supplied point is null.");return Ce.interpolateZ(t,this.p0,this.p1,this.p2)},Ce.prototype.longestSideLength=function(){return Ce.longestSideLength(this.p0,this.p1,this.p2)},Ce.prototype.isAcute=function(){return Ce.isAcute(this.p0,this.p1,this.p2)},Ce.prototype.circumcentre=function(){return Ce.circumcentre(this.p0,this.p1,this.p2)},Ce.prototype.area3D=function(){return Ce.area3D(this.p0,this.p1,this.p2)},Ce.prototype.centroid=function(){return Ce.centroid(this.p0,this.p1,this.p2)},Ce.prototype.inCentre=function(){return Ce.inCentre(this.p0,this.p1,this.p2)},Ce.prototype.interfaces_=function(){return[]},Ce.prototype.getClass=function(){return Ce},Ce.area=function(t,e,o){return Math.abs(((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2)},Ce.signedArea=function(t,e,o){return((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2},Ce.det=function(t,e,o,s){return t*s-e*o},Ce.interpolateZ=function(t,e,o,s){var l=e.x,y=e.y,x=o.x-l,b=s.x-l,q=o.y-y,rt=s.y-y,Et=x*rt-b*q,Nt=t.x-l,zt=t.y-y;return e.z+(rt*Nt-b*zt)/Et*(o.z-e.z)+(-q*Nt+x*zt)/Et*(s.z-e.z)},Ce.longestSideLength=function(t,e,o){var s=t.distance(e),l=e.distance(o),y=o.distance(t),x=s;return l>x&&(x=l),y>x&&(x=y),x},Ce.isAcute=function(t,e,o){return!!xe.isAcute(t,e,o)&&!!xe.isAcute(e,o,t)&&!!xe.isAcute(o,t,e)},Ce.circumcentre=function(t,e,o){var s=o.x,l=o.y,y=t.x-s,x=t.y-l,b=e.x-s,q=e.y-l,rt=2*Ce.det(y,x,b,q),Et=Ce.det(x,y*y+x*x,q,b*b+q*q),Nt=Ce.det(y,y*y+x*x,b,b*b+q*q);return new w(s-Et/rt,l+Nt/rt)},Ce.perpendicularBisector=function(t,e){var o=e.x-t.x,s=e.y-t.y,l=new $t(t.x+o/2,t.y+s/2,1),y=new $t(t.x-s+o/2,t.y+o+s/2,1);return new $t(l,y)},Ce.angleBisector=function(t,e,o){var s=e.distance(t),l=s/(s+e.distance(o));return new w(t.x+l*(o.x-t.x),t.y+l*(o.y-t.y))},Ce.area3D=function(t,e,o){var s=e.x-t.x,l=e.y-t.y,y=e.z-t.z,x=o.x-t.x,b=o.y-t.y,q=o.z-t.z,rt=l*q-y*b,Et=y*x-s*q,Nt=s*b-l*x;return Math.sqrt(rt*rt+Et*Et+Nt*Nt)/2},Ce.centroid=function(t,e,o){return new w((t.x+e.x+o.x)/3,(t.y+e.y+o.y)/3)},Ce.inCentre=function(t,e,o){var s=e.distance(o),l=t.distance(o),y=t.distance(e),x=s+l+y;return new w((s*t.x+l*e.x+y*o.x)/x,(s*t.y+l*e.y+y*o.y)/x)};var zr=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new kt;var e=arguments[1],o=arguments[2];this._inputGeom=arguments[0],this._distance=e,this._curveBuilder=o};zr.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,A.EXTERIOR,A.INTERIOR)},zr.prototype.addPolygon=function(t){var e=this._distance,o=qt.LEFT;this._distance<0&&(e=-this._distance,o=qt.RIGHT);var s=t.getExteriorRing(),l=ge.removeRepeatedPoints(s.getCoordinates());if(this._distance<0&&this.isErodedCompletely(s,this._distance)||this._distance<=0&&l.length<3)return null;this.addPolygonRing(l,e,o,A.EXTERIOR,A.INTERIOR);for(var y=0;y<t.getNumInteriorRing();y++){var x=t.getInteriorRingN(y),b=ge.removeRepeatedPoints(x.getCoordinates());this._distance>0&&this.isErodedCompletely(x,-this._distance)||this.addPolygonRing(b,e,qt.opposite(o),A.INTERIOR,A.EXTERIOR)}},zr.prototype.isTriangleErodedCompletely=function(t,e){var o=new Ce(t[0],t[1],t[2]),s=o.inCentre();return Mt.distancePointLine(s,o.p0,o.p1)<Math.abs(e)},zr.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=ge.removeRepeatedPoints(t.getCoordinates()),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,A.EXTERIOR,A.INTERIOR)},zr.prototype.addCurve=function(t,e,o){if(null===t||t.length<2)return null;var s=new En(t,new be(0,A.BOUNDARY,e,o));this._curveList.add(s)},zr.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},zr.prototype.addPolygonRing=function(t,e,o,s,l){if(0===e&&t.length<yi.MINIMUM_VALID_SIZE)return null;var y=s,x=l;t.length>=yi.MINIMUM_VALID_SIZE&&Mt.isCCW(t)&&(y=l,x=s,o=qt.opposite(o));var b=this._curveBuilder.getRingCurve(t,o,e);this.addCurve(b,y,x)},zr.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Bn?this.addPolygon(t):t instanceof yn?this.addLineString(t):t instanceof mr?this.addPoint(t):(t instanceof qi||t instanceof ji||t instanceof Si||t instanceof jn)&&this.addCollection(t)},zr.prototype.isErodedCompletely=function(t,e){var o=t.getCoordinates();if(o.length<4)return e<0;if(4===o.length)return this.isTriangleErodedCompletely(o,e);var s=t.getEnvelopeInternal(),l=Math.min(s.getHeight(),s.getWidth());return e<0&&2*Math.abs(e)>l},zr.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var o=t.getGeometryN(e);this.add(o)}},zr.prototype.interfaces_=function(){return[]},zr.prototype.getClass=function(){return zr};var Vo=function(){};Vo.prototype.locate=function(t){},Vo.prototype.interfaces_=function(){return[]},Vo.prototype.getClass=function(){return Vo};var Mi=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Mi.prototype.next=function(){if(this._atStart)return this._atStart=!1,Mi.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new R;var t=this._parent.getGeometryN(this._index++);return t instanceof jn?(this._subcollectionIterator=new Mi(t),this._subcollectionIterator.next()):t},Mi.prototype.remove=function(){throw new Error(this.getClass().getName())},Mi.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Mi.prototype.interfaces_=function(){return[Br]},Mi.prototype.getClass=function(){return Mi},Mi.isAtomic=function(t){return!(t instanceof jn)};var xr=function(){this._geom=null,this._geom=arguments[0]};xr.prototype.locate=function(t){return xr.locate(t,this._geom)},xr.prototype.interfaces_=function(){return[Vo]},xr.prototype.getClass=function(){return xr},xr.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Mt.isPointInRing(t,e.getCoordinates())},xr.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var o=e.getExteriorRing();if(!xr.isPointInRing(t,o))return!1;for(var s=0;s<e.getNumInteriorRing();s++){var l=e.getInteriorRingN(s);if(xr.isPointInRing(t,l))return!1}return!0},xr.containsPoint=function(t,e){if(e instanceof Bn)return xr.containsPointInPolygon(t,e);if(e instanceof jn)for(var o=new Mi(e);o.hasNext();){var s=o.next();if(s!==e&&xr.containsPoint(t,s))return!0}return!1},xr.locate=function(t,e){return e.isEmpty()?A.EXTERIOR:xr.containsPoint(t,e)?A.INTERIOR:A.EXTERIOR};var rr=function(){this._edgeMap=new xt,this._edgeList=null,this._ptInAreaLocation=[A.NONE,A.NONE]};rr.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),o=e-1;return 0===e&&(o=this._edgeList.size()-1),this._edgeList.get(o)},rr.prototype.propagateSideLabels=function(t){for(var e=A.NONE,o=this.iterator();o.hasNext();){var s=o.next().getLabel();s.isArea(t)&&s.getLocation(t,qt.LEFT)!==A.NONE&&(e=s.getLocation(t,qt.LEFT))}if(e===A.NONE)return null;for(var l=e,y=this.iterator();y.hasNext();){var x=y.next(),b=x.getLabel();if(b.getLocation(t,qt.ON)===A.NONE&&b.setLocation(t,qt.ON,l),b.isArea(t)){var q=b.getLocation(t,qt.LEFT),rt=b.getLocation(t,qt.RIGHT);if(rt!==A.NONE){if(rt!==l)throw new Ui("side location conflict",x.getCoordinate());q===A.NONE&&M.shouldNeverReachHere("found single null side (at "+x.getCoordinate()+")"),l=q}else M.isTrue(b.getLocation(t,qt.LEFT)===A.NONE,"found single null side"),b.setLocation(t,qt.RIGHT,l),b.setLocation(t,qt.LEFT,l)}}},rr.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},rr.prototype.print=function(t){Jt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},rr.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},rr.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var o=e.size()-1,s=e.get(o).getLabel().getLocation(t,qt.LEFT);M.isTrue(s!==A.NONE,"Found unlabelled area edge");for(var l=s,y=this.iterator();y.hasNext();){var x=y.next().getLabel();M.isTrue(x.isArea(t),"Found non-area edge");var b=x.getLocation(t,qt.LEFT),q=x.getLocation(t,qt.RIGHT);if(b===q||q!==l)return!1;l=b}return!0},rr.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},rr.prototype.iterator=function(){return this.getEdges().iterator()},rr.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new kt(this._edgeMap.values())),this._edgeList},rr.prototype.getLocation=function(t,e,o){return this._ptInAreaLocation[t]===A.NONE&&(this._ptInAreaLocation[t]=xr.locate(e,o[t].getGeometry())),this._ptInAreaLocation[t]},rr.prototype.toString=function(){var t=new J;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var o=e.next();t.append(o),t.append("\n")}return t.toString()},rr.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},rr.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],o=this.iterator();o.hasNext();)for(var s=o.next().getLabel(),l=0;l<2;l++)s.isLine(l)&&s.getLocation(l)===A.BOUNDARY&&(e[l]=!0);for(var y=this.iterator();y.hasNext();)for(var x=y.next(),b=x.getLabel(),q=0;q<2;q++)if(b.isAnyNull(q)){var rt=A.NONE;if(e[q])rt=A.EXTERIOR;else{var Et=x.getCoordinate();rt=this.getLocation(q,Et,t)}b.setAllLocationsIfNull(q,rt)}},rr.prototype.getDegree=function(){return this._edgeMap.size()},rr.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr};var xl=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var o=null,s=null,l=this._SCANNING_FOR_INCOMING,y=0;y<this._resultAreaEdgeList.size();y++){var x=this._resultAreaEdgeList.get(y),b=x.getSym();if(x.getLabel().isArea())switch(null===o&&x.isInResult()&&(o=x),l){case this._SCANNING_FOR_INCOMING:if(!b.isInResult())continue;s=b,l=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!x.isInResult())continue;s.setNext(x),l=this._SCANNING_FOR_INCOMING}}if(l===this._LINKING_TO_OUTGOING){if(null===o)throw new Ui("no outgoing dirEdge found",this.getCoordinate());M.isTrue(o.isInResult(),"unable to link last incoming dirEdge"),s.setNext(o)}},e.prototype.insert=function(o){this.insertEdgeEnd(o,o)},e.prototype.getRightmostEdge=function(){var o=this.getEdges(),s=o.size();if(s<1)return null;var l=o.get(0);if(1===s)return l;var y=o.get(s-1),x=l.getQuadrant(),b=y.getQuadrant();return rn.isNorthern(x)&&rn.isNorthern(b)?l:rn.isNorthern(x)||rn.isNorthern(b)?0!==l.getDy()?l:0!==y.getDy()?y:(M.shouldNeverReachHere("found two horizontal edges incident on node"),null):y},e.prototype.print=function(o){Jt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var s=this.iterator();s.hasNext();){var l=s.next();o.print("out "),l.print(o),o.println(),o.print("in "),l.getSym().print(o),o.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new kt;for(var o=this.iterator();o.hasNext();){var s=o.next();(s.isInResult()||s.getSym().isInResult())&&this._resultAreaEdgeList.add(s)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(o){for(var s=this.iterator();s.hasNext();){var l=s.next().getLabel();l.setAllLocationsIfNull(0,o.getLocation(0)),l.setAllLocationsIfNull(1,o.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var o=null,s=null,l=this._edgeList.size()-1;l>=0;l--){var y=this._edgeList.get(l),x=y.getSym();null===s&&(s=x),null!==o&&x.setNext(o),o=y}s.setNext(o)},e.prototype.computeDepths=function(){if(1===arguments.length){var o=arguments[0],s=this.findIndex(o),l=o.getDepth(qt.LEFT),y=o.getDepth(qt.RIGHT),x=this.computeDepths(s+1,this._edgeList.size(),l);if(this.computeDepths(0,s,x)!==y)throw new Ui("depth mismatch at "+o.getCoordinate())}else if(3===arguments.length){for(var q=arguments[1],rt=arguments[2],Et=arguments[0];Et<q;Et++){var Nt=this._edgeList.get(Et);Nt.setEdgeDepths(qt.RIGHT,rt),rt=Nt.getDepth(qt.LEFT)}return rt}},e.prototype.mergeSymLabels=function(){for(var o=this.iterator();o.hasNext();){var s=o.next();s.getLabel().merge(s.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(o){for(var s=null,l=null,y=this._SCANNING_FOR_INCOMING,x=this._resultAreaEdgeList.size()-1;x>=0;x--){var b=this._resultAreaEdgeList.get(x),q=b.getSym();switch(null===s&&b.getEdgeRing()===o&&(s=b),y){case this._SCANNING_FOR_INCOMING:if(q.getEdgeRing()!==o)continue;l=q,y=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(b.getEdgeRing()!==o)continue;l.setNextMin(b),y=this._SCANNING_FOR_INCOMING}}y===this._LINKING_TO_OUTGOING&&(M.isTrue(null!==s,"found null for first outgoing dirEdge"),M.isTrue(s.getEdgeRing()===o,"unable to link last incoming dirEdge"),l.setNextMin(s))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var o=0,s=this.iterator();s.hasNext();)s.next().isInResult()&&o++;return o}if(1===arguments.length){for(var l=arguments[0],y=0,x=this.iterator();x.hasNext();)x.next().getEdgeRing()===l&&y++;return y}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var o=A.NONE,s=this.iterator();s.hasNext();){var l=s.next(),y=l.getSym();if(!l.isLineEdge()){if(l.isInResult()){o=A.INTERIOR;break}if(y.isInResult()){o=A.EXTERIOR;break}}}if(o===A.NONE)return null;for(var x=o,b=this.iterator();b.hasNext();){var q=b.next(),rt=q.getSym();q.isLineEdge()?q.getEdge().setCovered(x===A.INTERIOR):(q.isInResult()&&(x=A.EXTERIOR),rt.isInResult()&&(x=A.INTERIOR))}},e.prototype.computeLabelling=function(o){t.prototype.computeLabelling.call(this,o),this._label=new be(A.NONE);for(var s=this.iterator();s.hasNext();)for(var l=s.next().getEdge().getLabel(),y=0;y<2;y++){var x=l.getLocation(y);x!==A.INTERIOR&&x!==A.BOUNDARY||this._label.setLocation(y,A.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(rr),mu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(o){return new ls(o,new xl)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ao),no=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};no.prototype.compareTo=function(t){return no.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},no.prototype.interfaces_=function(){return[S]},no.prototype.getClass=function(){return no},no.orientation=function(t){return 1===ge.increasingDirection(t)},no.compareOriented=function(t,e,o,s){for(var l=e?1:-1,y=s?1:-1,x=e?t.length:-1,b=s?o.length:-1,q=e?0:t.length-1,rt=s?0:o.length-1;;){var Et=t[q].compareTo(o[rt]);if(0!==Et)return Et;var Nt=(q+=l)===x,zt=(rt+=y)===b;if(Nt&&!zt)return-1;if(!Nt&&zt)return 1;if(Nt&&zt)return 0}};var Zr=function(){this._edges=new kt,this._ocaMap=new xt};Zr.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var o=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var s=o.getCoordinates(),l=0;l<s.length;l++)l>0&&t.print(","),t.print(s[l].x+" "+s[l].y);t.println(")")}t.print(")  ")},Zr.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Zr.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Zr.prototype.iterator=function(){return this._edges.iterator()},Zr.prototype.getEdges=function(){return this._edges},Zr.prototype.get=function(t){return this._edges.get(t)},Zr.prototype.findEqualEdge=function(t){var e=new no(t.getCoordinates());return this._ocaMap.get(e)},Zr.prototype.add=function(t){this._edges.add(t);var e=new no(t.getCoordinates());this._ocaMap.put(e,t)},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr};var xo=function(){};xo.prototype.processIntersections=function(t,e,o,s){},xo.prototype.isDone=function(){},xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo};var Or=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Or.prototype.isTrivialIntersection=function(t,e,o,s){if(t===o&&1===this._li.getIntersectionNum()){if(Or.isAdjacentSegments(e,s))return!0;if(t.isClosed()){var l=t.size()-1;if(0===e&&s===l||0===s&&e===l)return!0}}return!1},Or.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Or.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Or.prototype.getLineIntersector=function(){return this._li},Or.prototype.hasProperIntersection=function(){return this._hasProper},Or.prototype.processIntersections=function(t,e,o,s){if(t===o&&e===s)return null;this.numTests++;var l=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[s],b=o.getCoordinates()[s+1];this._li.computeIntersection(l,y,x,b),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,o,s)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),o.addIntersections(this._li,s,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Or.prototype.hasIntersection=function(){return this._hasIntersection},Or.prototype.isDone=function(){return!1},Or.prototype.hasInteriorIntersection=function(){return this._hasInterior},Or.prototype.interfaces_=function(){return[xo]},Or.prototype.getClass=function(){return Or},Or.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var ei=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[1],o=arguments[2];this.coord=new w(arguments[0]),this.segmentIndex=e,this.dist=o};ei.prototype.getSegmentIndex=function(){return this.segmentIndex},ei.prototype.getCoordinate=function(){return this.coord},ei.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},ei.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},ei.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},ei.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},ei.prototype.getDistance=function(){return this.dist},ei.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},ei.prototype.interfaces_=function(){return[S]},ei.prototype.getClass=function(){return ei};var ni=function(){this._nodeMap=new xt,this.edge=null,this.edge=arguments[0]};ni.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},ni.prototype.iterator=function(){return this._nodeMap.values().iterator()},ni.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var s=e.next(),l=this.createSplitEdge(o,s);t.add(l),o=s}},ni.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},ni.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,l=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);l||o--;var y=new Array(o).fill(null),x=0;y[x++]=new w(t.coord);for(var b=t.segmentIndex+1;b<=e.segmentIndex;b++)y[x++]=this.edge.pts[b];return l&&(y[x]=e.coord),new zs(y,new be(this.edge._label))},ni.prototype.add=function(t,e,o){var s=new ei(t,e,o),l=this._nodeMap.get(s);return null!==l?l:(this._nodeMap.put(s,s),s)},ni.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni};var Li=function(){};Li.prototype.getChainStartIndices=function(t){var e=0,o=new kt;o.add(new ut(e));do{var s=this.findChainEnd(t,e);o.add(new ut(s)),e=s}while(e<t.length-1);return Li.toIntArray(o)},Li.prototype.findChainEnd=function(t,e){for(var o=rn.quadrant(t[e],t[e+1]),s=e+1;s<t.length&&rn.quadrant(t[s-1],t[s])===o;)s++;return s-1},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var Xi=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Gt,this.env2=new Gt;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Li;this.startIndex=e.getChainStartIndices(this.pts)};Xi.prototype.getCoordinates=function(){return this.pts},Xi.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e>o?e:o},Xi.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e<o?e:o},Xi.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[o],e.startIndex[o+1],arguments[3])}else if(6===arguments.length){var l=arguments[0],y=arguments[1],x=arguments[2],b=arguments[3],q=arguments[4],rt=arguments[5],Et=this.pts[l],Nt=this.pts[y],zt=x.pts[b],Zt=x.pts[q];if(y-l==1&&q-b==1)return rt.addIntersections(this.e,l,x.e,b),null;if(this.env1.init(Et,Nt),this.env2.init(zt,Zt),!this.env1.intersects(this.env2))return null;var Wt=Math.trunc((l+y)/2),ee=Math.trunc((b+q)/2);l<Wt&&(b<ee&&this.computeIntersectsForChain(l,Wt,x,b,ee,rt),ee<q&&this.computeIntersectsForChain(l,Wt,x,ee,q,rt)),Wt<y&&(b<ee&&this.computeIntersectsForChain(Wt,y,x,b,ee,rt),ee<q&&this.computeIntersectsForChain(Wt,y,x,ee,q,rt))}},Xi.prototype.getStartIndexes=function(){return this.startIndex},Xi.prototype.computeIntersects=function(t,e){for(var o=0;o<this.startIndex.length-1;o++)for(var s=0;s<t.startIndex.length-1;s++)this.computeIntersectsForChain(o,t,s,e)},Xi.prototype.interfaces_=function(){return[]},Xi.prototype.getClass=function(){return Xi};var Qn=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var o=0;o<3;o++)this._depth[e][o]=t.NULL_VALUE},_a={NULL_VALUE:{configurable:!0}};Qn.prototype.getDepth=function(t,e){return this._depth[t][e]},Qn.prototype.setDepth=function(t,e,o){this._depth[t][e]=o},Qn.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Qn.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Qn.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Qn.NULL_VALUE:void 0},Qn.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var o=1;o<3;o++){var s=0;this._depth[t][o]>e&&(s=1),this._depth[t][o]=s}}},Qn.prototype.getDelta=function(t){return this._depth[t][qt.RIGHT]-this._depth[t][qt.LEFT]},Qn.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?A.EXTERIOR:A.INTERIOR},Qn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Qn.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var o=1;o<3;o++){var s=t.getLocation(e,o);s!==A.EXTERIOR&&s!==A.INTERIOR||(this.isNull(e,o)?this._depth[e][o]=Qn.depthAtLocation(s):this._depth[e][o]+=Qn.depthAtLocation(s))}else 3===arguments.length&&arguments[2]===A.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Qn.depthAtLocation=function(t){return t===A.EXTERIOR?0:t===A.INTERIOR?1:Qn.NULL_VALUE},_a.NULL_VALUE.get=function(){return-1},Object.defineProperties(Qn,_a);var zs=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new ni(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Qn,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var l=arguments[1];this.pts=arguments[0],this._label=l}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var o=new Array(2).fill(null);return o[0]=this.pts[0],o[1]=this.pts[1],new e(o,be.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(o){this._isIsolated=o},e.prototype.setName=function(o){this._name=o},e.prototype.equals=function(o){if(!(o instanceof e))return!1;var s=o;if(this.pts.length!==s.pts.length)return!1;for(var l=!0,y=!0,x=this.pts.length,b=0;b<this.pts.length;b++)if(this.pts[b].equals2D(s.pts[b])||(l=!1),this.pts[b].equals2D(s.pts[--x])||(y=!1),!l&&!y)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(o){o.print("edge "+this._name+": "),o.print("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&o.print(","),o.print(this.pts[s].x+" "+this.pts[s].y);o.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(o){e.updateIM(this._label,o)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(o){o.print("edge "+this._name+": ");for(var s=this.pts.length-1;s>=0;s--)o.print(this.pts[s]+" ");o.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Xi(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Gt;for(var o=0;o<this.pts.length;o++)this._env.expandToInclude(this.pts[o])}return this._env},e.prototype.addIntersection=function(o,s,l,y){var x=new w(o.getIntersection(y)),b=s,q=o.getEdgeDistance(l,y),rt=b+1;rt<this.pts.length&&x.equals2D(this.pts[rt])&&(b=rt,q=0),this.eiList.add(x,b,q)},e.prototype.toString=function(){var o=new J;o.append("edge "+this._name+": "),o.append("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&o.append(","),o.append(this.pts[s].x+" "+this.pts[s].y);return o.append(")  "+this._label+" "+this._depthDelta),o.toString()},e.prototype.isPointwiseEqual=function(o){if(this.pts.length!==o.pts.length)return!1;for(var s=0;s<this.pts.length;s++)if(!this.pts[s].equals2D(o.pts[s]))return!1;return!0},e.prototype.setDepthDelta=function(o){this._depthDelta=o},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(o,s,l){for(var y=0;y<o.getIntersectionNum();y++)this.addIntersection(o,s,l,y)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var o=arguments[0],s=arguments[1];s.setAtLeastIfValid(o.getLocation(0,qt.ON),o.getLocation(1,qt.ON),1),o.isArea()&&(s.setAtLeastIfValid(o.getLocation(0,qt.LEFT),o.getLocation(1,qt.LEFT),2),s.setAtLeastIfValid(o.getLocation(0,qt.RIGHT),o.getLocation(1,qt.RIGHT),2))},e}(Sr),fr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Zr,this._bufParams=t||null};fr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},fr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var o=e.getLabel(),s=t.getLabel();e.isPointwiseEqual(t)||(s=new be(t.getLabel())).flip(),o.merge(s);var l=fr.depthDelta(s),y=e.getDepthDelta()+l;e.setDepthDelta(y)}else this._edgeList.add(t),t.setDepthDelta(fr.depthDelta(t.getLabel()))},fr.prototype.buildSubgraphs=function(t,e){for(var o=new kt,s=t.iterator();s.hasNext();){var l=s.next(),y=l.getRightmostCoordinate(),x=new Fo(o).getDepth(y);l.computeDepth(x),l.findResultEdges(),o.add(l),e.add(l.getDirectedEdges(),l.getNodes())}},fr.prototype.createSubgraphs=function(t){for(var e=new kt,o=t.getNodes().iterator();o.hasNext();){var s=o.next();if(!s.isVisited()){var l=new ar;l.create(s),e.add(l)}}return ti.sort(e,ti.reverseOrder()),e},fr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},fr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new Us,o=new bt;return o.setPrecisionModel(t),e.setSegmentIntersector(new Or(o)),e},fr.prototype.buffer=function(t,e){var o=this._workingPrecisionModel;null===o&&(o=t.getPrecisionModel()),this._geomFact=t.getFactory();var s=new _r(o,this._bufParams),l=new zr(t,e,s).getCurves();if(l.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(l,o),this._graph=new gn(new mu),this._graph.addEdges(this._edgeList.getEdges());var y=this.createSubgraphs(this._graph),x=new ur(this._geomFact);this.buildSubgraphs(y,x);var b=x.getPolygons();return b.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(b)},fr.prototype.computeNodedEdges=function(t,e){var o=this.getNoder(e);o.computeNodes(t);for(var s=o.getNodedSubstrings().iterator();s.hasNext();){var l=s.next(),y=l.getCoordinates();if(2!==y.length||!y[0].equals2D(y[1])){var x=l.getData(),b=new zs(l.getCoordinates(),new be(x));this.insertUniqueEdge(b)}}},fr.prototype.setNoder=function(t){this._workingNoder=t},fr.prototype.interfaces_=function(){return[]},fr.prototype.getClass=function(){return fr},fr.depthDelta=function(t){var e=t.getLocation(0,qt.LEFT),o=t.getLocation(0,qt.RIGHT);return e===A.INTERIOR&&o===A.EXTERIOR?1:e===A.EXTERIOR&&o===A.INTERIOR?-1:0},fr.convertSegStrings=function(t){for(var e=new ve,o=new kt;t.hasNext();){var s=t.next(),l=e.createLineString(s.getCoordinates());o.add(l)}return e.buildGeometry(o)};var ro=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[1];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var s=arguments[1],l=arguments[2],y=arguments[3];this._noder=arguments[0],this._scaleFactor=s,this._offsetX=l,this._offsetY=y,this._isScaled=!this.isIntegerPrecision()}};ro.prototype.rescale=function(){if(Pt(arguments[0],pn))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],s=0;s<o.length;s++)o[s].x=o[s].x/this._scaleFactor+this._offsetX,o[s].y=o[s].y/this._scaleFactor+this._offsetY;2===o.length&&o[0].equals2D(o[1])&&Jt.out.println(o)}},ro.prototype.scale=function(){if(Pt(arguments[0],pn)){for(var t=arguments[0],e=new kt,o=t.iterator();o.hasNext();){var s=o.next();e.add(new En(this.scale(s.getCoordinates()),s.getData()))}return e}if(arguments[0]instanceof Array){for(var l=arguments[0],y=new Array(l.length).fill(null),x=0;x<l.length;x++)y[x]=new w(Math.round((l[x].x-this._offsetX)*this._scaleFactor),Math.round((l[x].y-this._offsetY)*this._scaleFactor),l[x].z);return ge.removeRepeatedPoints(y)}},ro.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ro.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ro.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ro.prototype.interfaces_=function(){return[vo]},ro.prototype.getClass=function(){return ro};var _i=function(){this._li=new bt,this._segStrings=null,this._segStrings=arguments[0]},xa={fact:{configurable:!0}};_i.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var o=arguments[0],s=arguments[1].iterator();s.hasNext();)for(var l=s.next().getCoordinates(),y=1;y<l.length-1;y++)if(l[y].equals(o))throw new D("found endpt/interior pt intersection at index "+y+" :pt "+o)},_i.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),o=this._segStrings.iterator();o.hasNext();){var s=o.next();this.checkInteriorIntersections(e,s)}else if(2===arguments.length)for(var l=arguments[0],y=arguments[1],x=l.getCoordinates(),b=y.getCoordinates(),q=0;q<x.length-1;q++)for(var rt=0;rt<b.length-1;rt++)this.checkInteriorIntersections(l,q,y,rt);else if(4===arguments.length){var Et=arguments[0],Nt=arguments[1],zt=arguments[2],Zt=arguments[3];if(Et===zt&&Nt===Zt)return null;var Wt=Et.getCoordinates()[Nt],ee=Et.getCoordinates()[Nt+1],Ie=zt.getCoordinates()[Zt],On=zt.getCoordinates()[Zt+1];if(this._li.computeIntersection(Wt,ee,Ie,On),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Wt,ee)||this.hasInteriorIntersection(this._li,Ie,On)))throw new D("found non-noded intersection at "+Wt+"-"+ee+" and "+Ie+"-"+On)}},_i.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},_i.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var o=arguments[0].getCoordinates(),s=0;s<o.length-2;s++)this.checkCollapse(o[s],o[s+1],o[s+2])},_i.prototype.hasInteriorIntersection=function(t,e,o){for(var s=0;s<t.getIntersectionNum();s++){var l=t.getIntersection(s);if(!l.equals(e)&&!l.equals(o))return!0}return!1},_i.prototype.checkCollapse=function(t,e,o){if(t.equals(o))throw new D("found non-noded collapse at "+_i.fact.createLineString([t,e,o]))},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i},xa.fact.get=function(){return new ve},Object.defineProperties(_i,xa);var Er=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],o=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=o,e<=0)throw new C("Scale factor must be non-zero");1!==e&&(this._pt=new w(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new w,this._p1Scaled=new w),this.initCorners(this._pt)},Ea={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Er.prototype.intersectsScaled=function(t,e){var o=Math.min(t.x,e.x),s=Math.max(t.x,e.x),l=Math.min(t.y,e.y),y=Math.max(t.y,e.y),x=this._maxx<o||this._minx>s||this._maxy<l||this._miny>y;if(x)return!1;var b=this.intersectsToleranceSquare(t,e);return M.isTrue(!(x&&b),"Found bad envelope test"),b},Er.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new w(this._maxx,this._maxy),this._corner[1]=new w(this._minx,this._maxy),this._corner[2]=new w(this._minx,this._miny),this._corner[3]=new w(this._maxx,this._miny)},Er.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Er.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Er.prototype.getCoordinate=function(){return this._originalPt},Er.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Er.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Er.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Gt(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Er.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Er.prototype.intersectsToleranceSquare=function(t,e){var o=!1,s=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||o&&s||t.equals(this._pt)||e.equals(this._pt)))))},Er.prototype.addSnappedNode=function(t,e){var o=t.getCoordinate(e),s=t.getCoordinate(e+1);return!!this.intersects(o,s)&&(t.addIntersection(this.getCoordinate(),e),!0)},Er.prototype.interfaces_=function(){return[]},Er.prototype.getClass=function(){return Er},Ea.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Er,Ea);var Bo=function(){this.tempEnv1=new Gt,this.selectedSegment=new Kt};Bo.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo};var $o=function(){this._index=null,this._index=arguments[0]},Zs={HotPixelSnapAction:{configurable:!0}};$o.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var e=arguments[0],o=arguments[1],s=arguments[2],l=e.getSafeEnvelope(),y=new vu(e,o,s);return this._index.query(l,{interfaces_:function(){return[Ki]},visitItem:function(x){x.select(l,y)}}),y.isNodeAdded()}},$o.prototype.interfaces_=function(){return[]},$o.prototype.getClass=function(){return $o},Zs.HotPixelSnapAction.get=function(){return vu},Object.defineProperties($o,Zs);var vu=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[1],l=arguments[2];this._hotPixel=arguments[0],this._parentEdge=s,this._hotPixelVertexIndex=l}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var s=arguments[1],l=arguments[0].getContext();if(null!==this._parentEdge&&l===this._parentEdge&&s===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(l,s)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Bo),Eo=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new kt};Eo.prototype.processIntersections=function(t,e,o,s){if(t===o&&e===s)return null;var l=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[s],b=o.getCoordinates()[s+1];if(this._li.computeIntersection(l,y,x,b),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var q=0;q<this._li.getIntersectionNum();q++)this._interiorIntersections.add(this._li.getIntersection(q));t.addIntersections(this._li,e,0),o.addIntersections(this._li,s,1)}},Eo.prototype.isDone=function(){return!1},Eo.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Eo.prototype.interfaces_=function(){return[xo]},Eo.prototype.getClass=function(){return Eo};var ri=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new bt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};ri.prototype.checkCorrectness=function(t){var e=En.getNodedSubstrings(t),o=new _i(e);try{o.checkValid()}catch(s){if(!(s instanceof he))throw s;s.printStackTrace()}},ri.prototype.getNodedSubstrings=function(){return En.getNodedSubstrings(this._nodedSegStrings)},ri.prototype.snapRound=function(t,e){var o=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(o),this.computeVertexSnaps(t)},ri.prototype.findInteriorIntersections=function(t,e){var o=new Eo(e);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(t),o.getInteriorIntersections()},ri.prototype.computeVertexSnaps=function(){if(Pt(arguments[0],pn))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof En)for(var o=arguments[0],s=o.getCoordinates(),l=0;l<s.length;l++){var y=new Er(s[l],this._scaleFactor,this._li);this._pointSnapper.snap(y,o,l)&&o.addIntersection(s[l],l)}},ri.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new Us,this._pointSnapper=new $o(this._noder.getIndex()),this.snapRound(t,this._li)},ri.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),s=new Er(o,this._scaleFactor,this._li);this._pointSnapper.snap(s)}},ri.prototype.interfaces_=function(){return[vo]},ri.prototype.getClass=function(){return ri};var zn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Ke,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var o=arguments[1];this._argGeom=arguments[0],this._bufParams=o}},io={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};zn.prototype.bufferFixedPrecision=function(t){var e=new ro(new ri(new Qe(1)),t.getScale()),o=new fr(this._bufParams);o.setWorkingPrecisionModel(t),o.setNoder(e),this._resultGeometry=o.buffer(this._argGeom,this._distance)},zn.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=zn.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(y){if(!(y instanceof Ui))throw y;t._saveException=y}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var s=zn.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),l=new Qe(s);this.bufferFixedPrecision(l)}},zn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Qe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},zn.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},zn.prototype.bufferOriginalPrecision=function(){try{var t=new fr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof D))throw e;this._saveException=e}},zn.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},zn.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},zn.prototype.interfaces_=function(){return[]},zn.prototype.getClass=function(){return zn},zn.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new zn(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ut&&"number"==typeof arguments[1]){var s=arguments[1],l=arguments[2],y=new zn(arguments[0]);return y.setQuadrantSegments(l),y.getResultGeometry(s)}if(arguments[2]instanceof Ke&&arguments[0]instanceof Ut&&"number"==typeof arguments[1]){var b=arguments[1];return new zn(arguments[0],arguments[2]).getResultGeometry(b)}}else if(4===arguments.length){var Et=arguments[1],Nt=arguments[2],zt=arguments[3],Zt=new zn(arguments[0]);return Zt.setQuadrantSegments(Nt),Zt.setEndCapStyle(zt),Zt.getResultGeometry(Et)}},zn.precisionScaleFactor=function(t,e,o){var s=t.getEnvelopeInternal(),l=U.max(Math.abs(s.getMaxX()),Math.abs(s.getMaxY()),Math.abs(s.getMinX()),Math.abs(s.getMinY()))+2*(e>0?e:0),y=o-Math.trunc(Math.log(l)/Math.log(10)+1);return Math.pow(10,y)},io.CAP_ROUND.get=function(){return Ke.CAP_ROUND},io.CAP_BUTT.get=function(){return Ke.CAP_FLAT},io.CAP_FLAT.get=function(){return Ke.CAP_FLAT},io.CAP_SQUARE.get=function(){return Ke.CAP_SQUARE},io.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(zn,io);var hr=function(){this._pt=[new w,new w],this._distance=N.NaN,this._isNull=!0};hr.prototype.getCoordinates=function(){return this._pt},hr.prototype.getCoordinate=function(t){return this._pt[t]},hr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s<this._distance&&this.initialize(e,o,s)}},hr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var s=arguments[1],l=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(s),this._distance=l,this._isNull=!1}},hr.prototype.getDistance=function(){return this._distance},hr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s>this._distance&&this.initialize(e,o,s)}},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr};var Ti=function(){};Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.computeDistance=function(){if(arguments[2]instanceof hr&&arguments[0]instanceof yn&&arguments[1]instanceof w)for(var e=arguments[1],o=arguments[2],s=arguments[0].getCoordinates(),l=new Kt,y=0;y<s.length-1;y++){l.setCoordinates(s[y],s[y+1]);var x=l.closestPoint(e);o.setMinimum(x,e)}else if(arguments[2]instanceof hr&&arguments[0]instanceof Bn&&arguments[1]instanceof w){var b=arguments[0],q=arguments[1],rt=arguments[2];Ti.computeDistance(b.getExteriorRing(),q,rt);for(var Et=0;Et<b.getNumInteriorRing();Et++)Ti.computeDistance(b.getInteriorRingN(Et),q,rt)}else if(arguments[2]instanceof hr&&arguments[0]instanceof Ut&&arguments[1]instanceof w){var Nt=arguments[0],zt=arguments[1],Zt=arguments[2];if(Nt instanceof yn)Ti.computeDistance(Nt,zt,Zt);else if(Nt instanceof Bn)Ti.computeDistance(Nt,zt,Zt);else if(Nt instanceof jn)for(var Wt=Nt,ee=0;ee<Wt.getNumGeometries();ee++){var Ie=Wt.getGeometryN(ee);Ti.computeDistance(Ie,zt,Zt)}else Zt.setMinimum(Nt.getCoordinate(),zt)}else if(arguments[2]instanceof hr&&arguments[0]instanceof Kt&&arguments[1]instanceof w){var gr=arguments[1],Ri=arguments[2],ci=arguments[0].closestPoint(gr);Ri.setMinimum(ci,gr)}};var wo=function(t){this._maxPtDist=new hr,this._inputGeom=t||null},wa={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};wo.prototype.computeMaxMidpointDistance=function(t){var e=new oo(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},wo.prototype.computeMaxVertexDistance=function(t){var e=new ko(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},wo.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},wo.prototype.getDistancePoints=function(){return this._maxPtDist},wo.prototype.interfaces_=function(){return[]},wo.prototype.getClass=function(){return wo},wa.MaxPointDistanceFilter.get=function(){return ko},wa.MaxMidpointDistanceFilter.get=function(){return oo},Object.defineProperties(wo,wa);var ko=function(t){this._maxPtDist=new hr,this._minPtDist=new hr,this._geom=t||null};ko.prototype.filter=function(t){this._minPtDist.initialize(),Ti.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ko.prototype.getMaxPointDistance=function(){return this._maxPtDist},ko.prototype.interfaces_=function(){return[we]},ko.prototype.getClass=function(){return ko};var oo=function(t){this._maxPtDist=new hr,this._minPtDist=new hr,this._geom=t||null};oo.prototype.filter=function(t,e){if(0===e)return null;var o=t.getCoordinate(e-1),s=t.getCoordinate(e),l=new w((o.x+s.x)/2,(o.y+s.y)/2);this._minPtDist.initialize(),Ti.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},oo.prototype.isDone=function(){return!1},oo.prototype.isGeometryChanged=function(){return!1},oo.prototype.getMaxPointDistance=function(){return this._maxPtDist},oo.prototype.interfaces_=function(){return[Lr]},oo.prototype.getClass=function(){return oo};var Yi=function(t){this._comps=t||null};Yi.prototype.filter=function(t){t instanceof Bn&&this._comps.add(t)},Yi.prototype.interfaces_=function(){return[di]},Yi.prototype.getClass=function(){return Yi},Yi.getPolygons=function(){if(1===arguments.length)return Yi.getPolygons(arguments[0],new kt);if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof Bn?o.add(e):e instanceof jn&&e.apply(new Yi(o)),o}};var Jn=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var o=arguments[1];this._lines=arguments[0],this._isForcedToLineString=o}};Jn.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof yi){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof yn&&this._lines.add(t)},Jn.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Jn.prototype.interfaces_=function(){return[ye]},Jn.prototype.getClass=function(){return Jn},Jn.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Jn.getLines(t))}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().buildGeometry(Jn.getLines(e,o))}},Jn.getLines=function(){if(1===arguments.length)return Jn.getLines(arguments[0],!1);if(2===arguments.length){if(Pt(arguments[0],pn)&&Pt(arguments[1],pn)){for(var o=arguments[1],s=arguments[0].iterator();s.hasNext();){var l=s.next();Jn.getLines(l,o)}return o}if(arguments[0]instanceof Ut&&"boolean"==typeof arguments[1]){var y=arguments[0],x=arguments[1],b=new kt;return y.apply(new Jn(b,x)),b}if(arguments[0]instanceof Ut&&Pt(arguments[1],pn)){var q=arguments[0],rt=arguments[1];return q instanceof yn?rt.add(q):q.apply(new Jn(rt)),rt}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Pt(arguments[0],pn)&&Pt(arguments[1],pn)){for(var Nt=arguments[1],zt=arguments[2],Zt=arguments[0].iterator();Zt.hasNext();){var Wt=Zt.next();Jn.getLines(Wt,Nt,zt)}return Nt}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Ut&&Pt(arguments[1],pn)){var Ie=arguments[1];return arguments[0].apply(new Jn(Ie,arguments[2])),Ie}}};var ii=function(){if(this._boundaryRule=nn.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var t=arguments[0];if(null===t)throw new C("Rule must be non-null");this._boundaryRule=t}};ii.prototype.locateInternal=function(){if(arguments[0]instanceof w&&arguments[1]instanceof Bn){var t=arguments[0],e=arguments[1];if(e.isEmpty())return A.EXTERIOR;var o=e.getExteriorRing(),s=this.locateInPolygonRing(t,o);if(s===A.EXTERIOR)return A.EXTERIOR;if(s===A.BOUNDARY)return A.BOUNDARY;for(var l=0;l<e.getNumInteriorRing();l++){var y=e.getInteriorRingN(l),x=this.locateInPolygonRing(t,y);if(x===A.INTERIOR)return A.EXTERIOR;if(x===A.BOUNDARY)return A.BOUNDARY}return A.INTERIOR}if(arguments[0]instanceof w&&arguments[1]instanceof yn){var b=arguments[0],q=arguments[1];if(!q.getEnvelopeInternal().intersects(b))return A.EXTERIOR;var rt=q.getCoordinates();return q.isClosed()||!b.equals(rt[0])&&!b.equals(rt[rt.length-1])?Mt.isOnLine(b,rt)?A.INTERIOR:A.EXTERIOR:A.BOUNDARY}if(arguments[0]instanceof w&&arguments[1]instanceof mr){var Et=arguments[0];return arguments[1].getCoordinate().equals2D(Et)?A.INTERIOR:A.EXTERIOR}},ii.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Mt.locatePointInRing(t,e.getCoordinates()):A.EXTERIOR},ii.prototype.intersects=function(t,e){return this.locate(t,e)!==A.EXTERIOR},ii.prototype.updateLocationInfo=function(t){t===A.INTERIOR&&(this._isIn=!0),t===A.BOUNDARY&&this._numBoundaries++},ii.prototype.computeLocation=function(t,e){if(e instanceof mr&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof yn)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Bn)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ji)for(var o=e,s=0;s<o.getNumGeometries();s++){var l=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,l))}else if(e instanceof Si)for(var y=e,x=0;x<y.getNumGeometries();x++){var b=y.getGeometryN(x);this.updateLocationInfo(this.locateInternal(t,b))}else if(e instanceof jn)for(var q=new Mi(e);q.hasNext();){var rt=q.next();rt!==e&&this.computeLocation(t,rt)}},ii.prototype.locate=function(t,e){return e.isEmpty()?A.EXTERIOR:e instanceof yn||e instanceof Bn?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?A.BOUNDARY:this._numBoundaries>0||this._isIn?A.INTERIOR:A.EXTERIOR)},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii};var pr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var l=arguments[1],y=arguments[2];this._component=arguments[0],this._segIndex=l,this._pt=y}},Ia={INSIDE_AREA:{configurable:!0}};pr.prototype.isInsideArea=function(){return this._segIndex===pr.INSIDE_AREA},pr.prototype.getCoordinate=function(){return this._pt},pr.prototype.getGeometryComponent=function(){return this._component},pr.prototype.getSegmentIndex=function(){return this._segIndex},pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr},Ia.INSIDE_AREA.get=function(){return-1},Object.defineProperties(pr,Ia);var Ji=function(t){this._pts=t||null};Ji.prototype.filter=function(t){t instanceof mr&&this._pts.add(t)},Ji.prototype.interfaces_=function(){return[di]},Ji.prototype.getClass=function(){return Ji},Ji.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof mr?ti.singletonList(t):Ji.getPoints(t,new kt)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof mr?o.add(e):e instanceof jn&&e.apply(new Ji(o)),o}};var Io=function(){this._locations=null,this._locations=arguments[0]};Io.prototype.filter=function(t){(t instanceof mr||t instanceof yn||t instanceof Bn)&&this._locations.add(new pr(t,0,t.getCoordinate()))},Io.prototype.interfaces_=function(){return[di]},Io.prototype.getClass=function(){return Io},Io.getLocations=function(t){var e=new kt;return t.apply(new Io(e)),e};var Hn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ii,this._minDistanceLocation=null,this._minDistance=N.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var o=arguments[0],s=arguments[1],l=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=o,this._geom[1]=s,this._terminateDistance=l}};Hn.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],s=1-e,l=Yi.getPolygons(this._geom[e]);if(l.size()>0){var y=Io.getLocations(this._geom[s]);if(this.computeContainmentDistance(y,l,o),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[s]=o[0],this._minDistanceLocation[e]=o[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Pt(arguments[0],Fn)&&Pt(arguments[1],Fn)){for(var x=arguments[0],b=arguments[1],q=arguments[2],rt=0;rt<x.size();rt++)for(var Et=x.get(rt),Nt=0;Nt<b.size();Nt++)if(this.computeContainmentDistance(Et,b.get(Nt),q),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof pr&&arguments[1]instanceof Bn){var zt=arguments[0],Zt=arguments[1],Wt=arguments[2],ee=zt.getCoordinate();if(A.EXTERIOR!==this._ptLocator.locate(ee,Zt))return this._minDistance=0,Wt[0]=zt,Wt[1]=new pr(Zt,ee),null}},Hn.prototype.computeMinDistanceLinesPoints=function(t,e,o){for(var s=0;s<t.size();s++)for(var l=t.get(s),y=0;y<e.size();y++){var x=e.get(y);if(this.computeMinDistance(l,x,o),this._minDistance<=this._terminateDistance)return null}},Hn.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Jn.getLines(this._geom[0]),o=Jn.getLines(this._geom[1]),s=Ji.getPoints(this._geom[0]),l=Ji.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,l,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(o,s,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(s,l,t),void this.updateMinDistance(t,!1))))},Hn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Hn.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Hn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Hn.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof yn&&arguments[1]instanceof mr){var t=arguments[0],e=arguments[1],o=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var s=t.getCoordinates(),l=e.getCoordinate(),y=0;y<s.length-1;y++){var x=Mt.distancePointLine(l,s[y],s[y+1]);if(x<this._minDistance){this._minDistance=x;var b=new Kt(s[y],s[y+1]).closestPoint(l);o[0]=new pr(t,y,b),o[1]=new pr(e,0,l)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof yn&&arguments[1]instanceof yn){var q=arguments[0],rt=arguments[1],Et=arguments[2];if(q.getEnvelopeInternal().distance(rt.getEnvelopeInternal())>this._minDistance)return null;for(var Nt=q.getCoordinates(),zt=rt.getCoordinates(),Zt=0;Zt<Nt.length-1;Zt++)for(var Wt=0;Wt<zt.length-1;Wt++){var ee=Mt.distanceLineLine(Nt[Zt],Nt[Zt+1],zt[Wt],zt[Wt+1]);if(ee<this._minDistance){this._minDistance=ee;var Ie=new Kt(Nt[Zt],Nt[Zt+1]),On=new Kt(zt[Wt],zt[Wt+1]),gr=Ie.closestPoints(On);Et[0]=new pr(q,Zt,gr[0]),Et[1]=new pr(rt,Wt,gr[1])}if(this._minDistance<=this._terminateDistance)return null}}},Hn.prototype.computeMinDistancePoints=function(t,e,o){for(var s=0;s<t.size();s++)for(var l=t.get(s),y=0;y<e.size();y++){var x=e.get(y),b=l.getCoordinate().distance(x.getCoordinate());if(b<this._minDistance&&(this._minDistance=b,o[0]=new pr(l,0,l.getCoordinate()),o[1]=new pr(x,0,x.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Hn.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new C("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Hn.prototype.computeMinDistanceLines=function(t,e,o){for(var s=0;s<t.size();s++)for(var l=t.get(s),y=0;y<e.size();y++){var x=e.get(y);if(this.computeMinDistance(l,x,o),this._minDistance<=this._terminateDistance)return null}},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn},Hn.distance=function(t,e){return new Hn(t,e).distance()},Hn.isWithinDistance=function(t,e,o){return new Hn(t,e,o).distance()<=o},Hn.nearestPoints=function(t,e){return new Hn(t,e).nearestPoints()};var Kn=function(){this._pt=[new w,new w],this._distance=N.NaN,this._isNull=!0};Kn.prototype.getCoordinates=function(){return this._pt},Kn.prototype.getCoordinate=function(t){return this._pt[t]},Kn.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s<this._distance&&this.initialize(e,o,s)}},Kn.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var s=arguments[1],l=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(s),this._distance=l,this._isNull=!1}},Kn.prototype.toString=function(){return dt.toLineString(this._pt[0],this._pt[1])},Kn.prototype.getDistance=function(){return this._distance},Kn.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s>this._distance&&this.initialize(e,o,s)}},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn};var oi=function(){};oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.computeDistance=function(){if(arguments[2]instanceof Kn&&arguments[0]instanceof yn&&arguments[1]instanceof w)for(var t=arguments[0],e=arguments[1],o=arguments[2],s=new Kt,l=t.getCoordinates(),y=0;y<l.length-1;y++){s.setCoordinates(l[y],l[y+1]);var x=s.closestPoint(e);o.setMinimum(x,e)}else if(arguments[2]instanceof Kn&&arguments[0]instanceof Bn&&arguments[1]instanceof w){var b=arguments[0],q=arguments[1],rt=arguments[2];oi.computeDistance(b.getExteriorRing(),q,rt);for(var Et=0;Et<b.getNumInteriorRing();Et++)oi.computeDistance(b.getInteriorRingN(Et),q,rt)}else if(arguments[2]instanceof Kn&&arguments[0]instanceof Ut&&arguments[1]instanceof w){var Nt=arguments[0],zt=arguments[1],Zt=arguments[2];if(Nt instanceof yn)oi.computeDistance(Nt,zt,Zt);else if(Nt instanceof Bn)oi.computeDistance(Nt,zt,Zt);else if(Nt instanceof jn)for(var Wt=Nt,ee=0;ee<Wt.getNumGeometries();ee++){var Ie=Wt.getGeometryN(ee);oi.computeDistance(Ie,zt,Zt)}else Zt.setMinimum(Nt.getCoordinate(),zt)}else if(arguments[2]instanceof Kn&&arguments[0]instanceof Kt&&arguments[1]instanceof w){var gr=arguments[1],Ri=arguments[2],ci=arguments[0].closestPoint(gr);Ri.setMinimum(ci,gr)}};var Ar=function(){this._g0=null,this._g1=null,this._ptDist=new Kn,this._densifyFrac=0;var e=arguments[1];this._g0=arguments[0],this._g1=e},ds={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ar.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Ar.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new C("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Ar.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Ar.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Ar.prototype.computeOrientedDistance=function(t,e,o){var s=new so(e);if(t.apply(s),o.setMaximum(s.getMaxPointDistance()),this._densifyFrac>0){var l=new Hi(e,this._densifyFrac);t.apply(l),o.setMaximum(l.getMaxPointDistance())}},Ar.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.distance=function(){if(2===arguments.length)return new Ar(arguments[0],arguments[1]).distance();if(3===arguments.length){var l=arguments[2],y=new Ar(arguments[0],arguments[1]);return y.setDensifyFraction(l),y.distance()}},ds.MaxPointDistanceFilter.get=function(){return so},ds.MaxDensifiedByFractionDistanceFilter.get=function(){return Hi},Object.defineProperties(Ar,ds);var so=function(){this._maxPtDist=new Kn,this._minPtDist=new Kn,this._euclideanDist=new oi,this._geom=null,this._geom=arguments[0]};so.prototype.filter=function(t){this._minPtDist.initialize(),oi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},so.prototype.getMaxPointDistance=function(){return this._maxPtDist},so.prototype.interfaces_=function(){return[we]},so.prototype.getClass=function(){return so};var Hi=function(){this._maxPtDist=new Kn,this._minPtDist=new Kn,this._geom=null,this._numSubSegs=0;var e=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/e))};Hi.prototype.filter=function(t,e){if(0===e)return null;for(var o=t.getCoordinate(e-1),s=t.getCoordinate(e),l=(s.x-o.x)/this._numSubSegs,y=(s.y-o.y)/this._numSubSegs,x=0;x<this._numSubSegs;x++){var rt=new w(o.x+x*l,o.y+x*y);this._minPtDist.initialize(),oi.computeDistance(this._geom,rt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Hi.prototype.isDone=function(){return!1},Hi.prototype.isGeometryChanged=function(){return!1},Hi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Hi.prototype.interfaces_=function(){return[Lr]},Hi.prototype.getClass=function(){return Hi};var Pr=function(t,e,o){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=o||null},ba={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Pr.prototype.checkMaximumDistance=function(t,e,o){var s=new Ar(e,t);if(s.setDensifyFraction(.25),this._maxDistanceFound=s.orientedDistance(),this._maxDistanceFound>o){this._isValid=!1;var l=s.getCoordinates();this._errorLocation=l[1],this._errorIndicator=t.getFactory().createLineString(l),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+dt.toLineString(l[0],l[1])+")"}},Pr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Pr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Pr.VERBOSE&&Jt.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Pr.prototype.checkNegativeValid=function(){if(!(this._input instanceof Bn||this._input instanceof Si||this._input instanceof jn))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Pr.prototype.getErrorIndicator=function(){return this._errorIndicator},Pr.prototype.checkMinimumDistance=function(t,e,o){var s=new Hn(t,e,o);if(this._minDistanceFound=s.distance(),this._minDistanceFound<o){this._isValid=!1;var l=s.nearestPoints();this._errorLocation=s.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(l),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+dt.toLineString(l[0],l[1])+" )"}},Pr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Pr.prototype.getErrorLocation=function(){return this._errorLocation},Pr.prototype.getPolygonLines=function(t){for(var e=new kt,o=new Jn(e),s=Yi.getPolygons(t).iterator();s.hasNext();)s.next().apply(o);return t.getFactory().buildGeometry(e)},Pr.prototype.getErrorMessage=function(){return this._errMsg},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr},ba.VERBOSE.get=function(){return!1},ba.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Pr,ba);var tr=function(t,e,o){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=o||null},Ca={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};tr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},tr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*tr.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Gt(this._input.getEnvelopeInternal());e.expandBy(this._distance);var o=new Gt(this._result.getEnvelopeInternal());o.expandBy(t),o.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(o)),this.report("Envelope")},tr.prototype.checkDistance=function(){var t=new Pr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},tr.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},tr.prototype.checkPolygonal=function(){this._result instanceof Bn||this._result instanceof Si||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},tr.prototype.getErrorIndicator=function(){return this._errorIndicator},tr.prototype.getErrorLocation=function(){return this._errorLocation},tr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},tr.prototype.report=function(t){if(!tr.VERBOSE)return null;Jt.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},tr.prototype.getErrorMessage=function(){return this._errorMsg},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},tr.isValidMsg=function(t,e,o){var s=new tr(t,e,o);return s.isValid()?null:s.getErrorMessage()},tr.isValid=function(t,e,o){return!!new tr(t,e,o).isValid()},Ca.VERBOSE.get=function(){return!1},Ca.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(tr,Ca);var si=function(){this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};si.prototype.getCoordinates=function(){return this._pts},si.prototype.size=function(){return this._pts.length},si.prototype.getCoordinate=function(t){return this._pts[t]},si.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},si.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Do.octant(this.getCoordinate(t),this.getCoordinate(t+1))},si.prototype.setData=function(t){this._data=t},si.prototype.getData=function(){return this._data},si.prototype.toString=function(){return dt.toLineString(new Sn(this._pts))},si.prototype.interfaces_=function(){return[Ni]},si.prototype.getClass=function(){return si};var Wn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new kt,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};Wn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Wn.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Wn.prototype.getIntersectionSegments=function(){return this._intSegments},Wn.prototype.count=function(){return this._intersectionCount},Wn.prototype.getIntersections=function(){return this._intersections},Wn.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Wn.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Wn.prototype.processIntersections=function(t,e,o,s){if(!this._findAllIntersections&&this.hasIntersection()||t===o&&e===s||this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(o,s))return null;var l=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[s],b=o.getCoordinates()[s+1];this._li.computeIntersection(l,y,x,b),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=l,this._intSegments[1]=y,this._intSegments[2]=x,this._intSegments[3]=b,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Wn.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Wn.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Wn.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Wn.prototype.interfaces_=function(){return[xo]},Wn.prototype.getClass=function(){return Wn},Wn.createAllIntersectionsFinder=function(t){var e=new Wn(t);return e.setFindAllIntersections(!0),e},Wn.createAnyIntersectionFinder=function(t){return new Wn(t)},Wn.createIntersectionCounter=function(t){var e=new Wn(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var ai=function(){this._li=new bt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};ai.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},ai.prototype.getIntersections=function(){return this._segInt.getIntersections()},ai.prototype.isValid=function(){return this.execute(),this._isValid},ai.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},ai.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Wn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new Us;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},ai.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ui(this.getErrorMessage(),this._segInt.getInteriorIntersection())},ai.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+dt.toLineString(t[0],t[1])+" and "+dt.toLineString(t[2],t[3])},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.computeIntersections=function(t){var e=new ai(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var bo=function t(){this._nv=null,this._nv=new ai(t.toSegmentStrings(arguments[0]))};bo.prototype.checkValid=function(){this._nv.checkValid()},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo},bo.toSegmentStrings=function(t){for(var e=new kt,o=t.iterator();o.hasNext();){var s=o.next();e.add(new si(s.getCoordinates(),s))}return e},bo.checkValid=function(t){new bo(t).checkValid()};var qo=function(t){this._mapOp=t};qo.prototype.map=function(t){for(var e=new kt,o=0;o<t.getNumGeometries();o++){var s=this._mapOp.map(t.getGeometryN(o));s.isEmpty()||e.add(s)}return t.getFactory().createGeometryCollection(ve.toGeometryArray(e))},qo.prototype.interfaces_=function(){return[]},qo.prototype.getClass=function(){return qo},qo.map=function(t,e){return new qo(e).map(t)};var ui=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new kt,this._resultLineList=new kt;var e=arguments[1],o=arguments[2];this._op=arguments[0],this._geometryFactory=e,this._ptLocator=o};ui.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next();this.collectLineEdge(o,t,this._lineEdgesList),this.collectBoundaryTouchEdge(o,t,this._lineEdgesList)}},ui.prototype.labelIsolatedLine=function(t,e){var o=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,o)},ui.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},ui.prototype.collectLineEdge=function(t,e,o){var s=t.getLabel(),l=t.getEdge();t.isLineEdge()&&(t.isVisited()||!ce.isResultOfOp(s,e)||l.isCovered()||(o.add(l),t.setVisitedEdge(!0)))},ui.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next(),s=o.getEdge();if(o.isLineEdge()&&!s.isCoveredSet()){var l=this._op.isCoveredByA(o.getCoordinate());s.setCovered(l)}}},ui.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),s=o.getLabel();o.isIsolated()&&(s.isNull(0)?this.labelIsolatedLine(o,0):this.labelIsolatedLine(o,1))}},ui.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var o=e.next(),s=this._geometryFactory.createLineString(o.getCoordinates());this._resultLineList.add(s),o.setInResult(!0)}},ui.prototype.collectBoundaryTouchEdge=function(t,e,o){var s=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(M.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(ce.isResultOfOp(s,e)&&e===ce.INTERSECTION&&(o.add(t.getEdge()),t.setVisitedEdge(!0))))},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui};var Go=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new kt;var e=arguments[1];this._op=arguments[0],this._geometryFactory=e};Go.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var o=this._geometryFactory.createPoint(e);this._resultPointList.add(o)}},Go.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var o=e.next();if(!(o.isInResult()||o.isIncidentEdgeInResult()||0!==o.getEdges().getDegree()&&t!==ce.INTERSECTION)){var s=o.getLabel();ce.isResultOfOp(s,t)&&this.filterCoveredNodeToPoint(o)}}},Go.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go};var wr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};wr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},wr.prototype.transformPolygon=function(t,e){var o=!0,s=this.transformLinearRing(t.getExteriorRing(),t);null!==s&&s instanceof yi&&!s.isEmpty()||(o=!1);for(var l=new kt,y=0;y<t.getNumInteriorRing();y++){var x=this.transformLinearRing(t.getInteriorRingN(y),t);null===x||x.isEmpty()||(x instanceof yi||(o=!1),l.add(x))}if(o)return this._factory.createPolygon(s,l.toArray([]));var b=new kt;return null!==s&&b.add(s),b.addAll(l),this._factory.buildGeometry(b)},wr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},wr.prototype.getInputGeometry=function(){return this._inputGeom},wr.prototype.transformMultiLineString=function(t,e){for(var o=new kt,s=0;s<t.getNumGeometries();s++){var l=this.transformLineString(t.getGeometryN(s),t);null!==l&&(l.isEmpty()||o.add(l))}return this._factory.buildGeometry(o)},wr.prototype.transformCoordinates=function(t,e){return this.copy(t)},wr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},wr.prototype.transformMultiPoint=function(t,e){for(var o=new kt,s=0;s<t.getNumGeometries();s++){var l=this.transformPoint(t.getGeometryN(s),t);null!==l&&(l.isEmpty()||o.add(l))}return this._factory.buildGeometry(o)},wr.prototype.transformMultiPolygon=function(t,e){for(var o=new kt,s=0;s<t.getNumGeometries();s++){var l=this.transformPolygon(t.getGeometryN(s),t);null!==l&&(l.isEmpty()||o.add(l))}return this._factory.buildGeometry(o)},wr.prototype.copy=function(t){return t.copy()},wr.prototype.transformGeometryCollection=function(t,e){for(var o=new kt,s=0;s<t.getNumGeometries();s++){var l=this.transform(t.getGeometryN(s));null!==l&&(this._pruneEmptyGeometry&&l.isEmpty()||o.add(l))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ve.toGeometryArray(o)):this._factory.buildGeometry(o)},wr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof mr)return this.transformPoint(t,null);if(t instanceof qi)return this.transformMultiPoint(t,null);if(t instanceof yi)return this.transformLinearRing(t,null);if(t instanceof yn)return this.transformLineString(t,null);if(t instanceof ji)return this.transformMultiLineString(t,null);if(t instanceof Bn)return this.transformPolygon(t,null);if(t instanceof Si)return this.transformMultiPolygon(t,null);if(t instanceof jn)return this.transformGeometryCollection(t,null);throw new C("Unknown Geometry subtype: "+t.getClass().getName())},wr.prototype.transformLinearRing=function(t,e){var o=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===o)return this._factory.createLinearRing(null);var s=o.size();return s>0&&s<4&&!this._preserveType?this._factory.createLineString(o):this._factory.createLinearRing(o)},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr};var xi=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Kt,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof yn&&"number"==typeof arguments[1]){var o=arguments[1];t.call(this,arguments[0].getCoordinates(),o)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var s=arguments[0],l=arguments[1];this._srcPts=s,this._isClosed=t.isClosed(s),this._snapTolerance=l}};xi.prototype.snapVertices=function(t,e){for(var o=this._isClosed?t.size()-1:t.size(),s=0;s<o;s++){var l=t.get(s),y=this.findSnapForVertex(l,e);null!==y&&(t.set(s,new w(y)),0===s&&this._isClosed&&t.set(t.size()-1,new w(y)))}},xi.prototype.findSnapForVertex=function(t,e){for(var o=0;o<e.length;o++){if(t.equals2D(e[o]))return null;if(t.distance(e[o])<this._snapTolerance)return e[o]}return null},xi.prototype.snapTo=function(t){var e=new me(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},xi.prototype.snapSegments=function(t,e){if(0===e.length)return null;var o=e.length;e[0].equals2D(e[e.length-1])&&(o=e.length-1);for(var s=0;s<o;s++){var l=e[s],y=this.findSegmentIndexToSnap(l,t);y>=0&&t.add(y+1,new w(l),!1)}},xi.prototype.findSegmentIndexToSnap=function(t,e){for(var o=N.MAX_VALUE,s=-1,l=0;l<e.size()-1;l++){if(this._seg.p0=e.get(l),this._seg.p1=e.get(l+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var y=this._seg.distance(t);y<this._snapTolerance&&y<o&&(o=y,s=l)}return s},xi.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi},xi.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var In=function(t){this._srcGeom=t||null},Uo={SNAP_PRECISION_FACTOR:{configurable:!0}};In.prototype.snapTo=function(t,e){var o=this.extractTargetCoordinates(t);return new Sa(e,o).transform(this._srcGeom)},In.prototype.snapToSelf=function(t,e){var o=this.extractTargetCoordinates(this._srcGeom),s=new Sa(t,o,!0).transform(this._srcGeom),l=s;return e&&Pt(l,ki)&&(l=s.buffer(0)),l},In.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},In.prototype.extractTargetCoordinates=function(t){for(var e=new It,o=t.getCoordinates(),s=0;s<o.length;s++)e.add(o[s]);return e.toArray(new Array(0).fill(null))},In.prototype.computeMinimumSegmentLength=function(t){for(var e=N.MAX_VALUE,o=0;o<t.length-1;o++){var s=t[o].distance(t[o+1]);s<e&&(e=s)}return e},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},In.snap=function(t,e,o){var s=new Array(2).fill(null),l=new In(t);s[0]=l.snapTo(e,o);var y=new In(e);return s[1]=y.snapTo(s[0],o),s},In.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=In.computeSizeBasedSnapTolerance(t),o=t.getPrecisionModel();if(o.getType()===Qe.FIXED){var s=1/o.getScale()*2/1.415;s>e&&(e=s)}return e}if(2===arguments.length){var y=arguments[1];return Math.min(In.computeOverlaySnapTolerance(arguments[0]),In.computeOverlaySnapTolerance(y))}},In.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*In.SNAP_PRECISION_FACTOR},In.snapToSelf=function(t,e,o){return new In(t).snapToSelf(e,o)},Uo.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(In,Uo);var Sa=function(t){function e(o,s,l){t.call(this),this._snapTolerance=o||null,this._snapPts=s||null,this._isSelfSnap=void 0!==l&&l}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(o,s){var l=new xi(o,this._snapTolerance);return l.setAllowSnappingToSourceVertices(this._isSelfSnap),l.snapTo(s)},e.prototype.transformCoordinates=function(o,s){var l=o.toCoordinateArray(),y=this.snapLine(l,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(y)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(wr),er=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};er.prototype.getCommon=function(){return N.longBitsToDouble(this._commonBits)},er.prototype.add=function(t){var e=N.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=er.signExpBits(this._commonBits),this._isFirst=!1,null):er.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=er.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=er.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},er.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=N.longBitsToDouble(t),o="0000000000000000000000000000000000000000000000000000000000000000"+N.toBinaryString(t),s=o.substring(o.length-64);return s.substring(0,1)+"  "+s.substring(1,12)+"(exp) "+s.substring(12)+" [ "+e+" ]"}},er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er},er.getBit=function(t,e){return 0!=(t&1<<e)?1:0},er.signExpBits=function(t){return t>>52},er.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},er.numCommonMostSigMantissaBits=function(t,e){for(var o=0,s=52;s>=0;s--){if(er.getBit(t,s)!==er.getBit(e,s))return o;o++}return 52};var Oi=function(){this._commonCoord=null,this._ccFilter=new Co},zo={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Oi.prototype.addCommonBits=function(t){var e=new Xr(this._commonCoord);t.apply(e),t.geometryChanged()},Oi.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new w(this._commonCoord);e.x=-e.x,e.y=-e.y;var o=new Xr(e);return t.apply(o),t.geometryChanged(),t},Oi.prototype.getCommonCoordinate=function(){return this._commonCoord},Oi.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},zo.CommonCoordinateFilter.get=function(){return Co},zo.Translater.get=function(){return Xr},Object.defineProperties(Oi,zo);var Co=function(){this._commonBitsX=new er,this._commonBitsY=new er};Co.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Co.prototype.getCommonCoordinate=function(){return new w(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Co.prototype.interfaces_=function(){return[we]},Co.prototype.getClass=function(){return Co};var Xr=function(){this.trans=null,this.trans=arguments[0]};Xr.prototype.filter=function(t,e){var o=t.getOrdinate(e,0)+this.trans.x,s=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,o),t.setOrdinate(e,1,s)},Xr.prototype.isDone=function(){return!1},Xr.prototype.isGeometryChanged=function(){return!0},Xr.prototype.interfaces_=function(){return[Lr]},Xr.prototype.getClass=function(){return Xr};var _n=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};_n.prototype.selfSnap=function(t){return new In(t).snapTo(t,this._snapTolerance)},_n.prototype.removeCommonBits=function(t){this._cbr=new Oi,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},_n.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},_n.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),o=ce.overlayOp(e[0],e[1],t);return this.prepareResult(o)},_n.prototype.checkValid=function(t){t.isValid()||Jt.out.println("Snapped geometry is invalid")},_n.prototype.computeSnapTolerance=function(){this._snapTolerance=In.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},_n.prototype.snap=function(t){var e=this.removeCommonBits(t);return In.snap(e[0],e[1],this._snapTolerance)},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n},_n.overlayOp=function(t,e,o){return new _n(t,e).getResultGeometry(o)},_n.union=function(t,e){return _n.overlayOp(t,e,ce.UNION)},_n.intersection=function(t,e){return _n.overlayOp(t,e,ce.INTERSECTION)},_n.symDifference=function(t,e){return _n.overlayOp(t,e,ce.SYMDIFFERENCE)},_n.difference=function(t,e){return _n.overlayOp(t,e,ce.DIFFERENCE)};var ir=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};ir.prototype.getResultGeometry=function(t){var e=null,o=!1,s=null;try{e=ce.overlayOp(this._geom[0],this._geom[1],t),o=!0}catch(l){if(!(l instanceof D))throw l;s=l}if(!o)try{e=_n.overlayOp(this._geom[0],this._geom[1],t)}catch(l){throw l instanceof D?s:l}return e},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir},ir.overlayOp=function(t,e,o){return new ir(t,e).getResultGeometry(o)},ir.union=function(t,e){return ir.overlayOp(t,e,ce.UNION)},ir.intersection=function(t,e){return ir.overlayOp(t,e,ce.INTERSECTION)},ir.symDifference=function(t,e){return ir.overlayOp(t,e,ce.SYMDIFFERENCE)},ir.difference=function(t,e){return ir.overlayOp(t,e,ce.DIFFERENCE)};var ys=function(){this.mce=null,this.chainIndex=null;var e=arguments[1];this.mce=arguments[0],this.chainIndex=e};ys.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},ys.prototype.interfaces_=function(){return[]},ys.prototype.getClass=function(){return ys};var Nr=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],o=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=o}else if(3===arguments.length){var s=arguments[0],l=arguments[1],y=arguments[2];this._eventType=t.INSERT,this._label=s,this._xValue=l,this._obj=y}},ms={INSERT:{configurable:!0},DELETE:{configurable:!0}};Nr.prototype.isDelete=function(){return this._eventType===Nr.DELETE},Nr.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Nr.prototype.getObject=function(){return this._obj},Nr.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},Nr.prototype.getInsertEvent=function(){return this._insertEvent},Nr.prototype.isInsert=function(){return this._eventType===Nr.INSERT},Nr.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Nr.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Nr.prototype.interfaces_=function(){return[S]},Nr.prototype.getClass=function(){return Nr},ms.INSERT.get=function(){return 1},ms.DELETE.get=function(){return 2},Object.defineProperties(Nr,ms);var jo=function(){};jo.prototype.interfaces_=function(){return[]},jo.prototype.getClass=function(){return jo};var Pn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[1],o=arguments[2];this._li=arguments[0],this._includeProper=e,this._recordIsolated=o};Pn.prototype.isTrivialIntersection=function(t,e,o,s){if(t===o&&1===this._li.getIntersectionNum()){if(Pn.isAdjacentSegments(e,s))return!0;if(t.isClosed()){var l=t.getNumPoints()-1;if(0===e&&s===l||0===s&&e===l)return!0}}return!1},Pn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Pn.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Pn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Pn.prototype.isBoundaryPointInternal=function(t,e){for(var o=e.iterator();o.hasNext();){var s=o.next().getCoordinate();if(t.isIntersection(s))return!0}return!1},Pn.prototype.hasProperIntersection=function(){return this._hasProper},Pn.prototype.hasIntersection=function(){return this._hasIntersection},Pn.prototype.isDone=function(){return this._isDone},Pn.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Pn.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Pn.prototype.addIntersections=function(t,e,o,s){if(t===o&&e===s)return null;this.numTests++;var l=t.getCoordinates()[e],y=t.getCoordinates()[e+1],x=o.getCoordinates()[s],b=o.getCoordinates()[s+1];this._li.computeIntersection(l,y,x,b),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),o.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,o,s)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),o.addIntersections(this._li,s,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Pn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Pa=function(t){function e(){t.call(this),this.events=new kt,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){ti.sort(this.events);for(var o=0;o<this.events.size();o++){var s=this.events.get(o);s.isDelete()&&s.getInsertEvent().setDeleteEventIndex(o)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var o=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var s=0;s<this.events.size();s++){var l=this.events.get(s);if(l.isInsert()&&this.processOverlaps(s,l.getDeleteEventIndex(),l,o),o.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Pn&&Pt(arguments[0],Fn)&&Pt(arguments[1],Fn)){var y=arguments[0],x=arguments[1],b=arguments[2];this.addEdges(y,y),this.addEdges(x,x),this.computeIntersections(b)}else if("boolean"==typeof arguments[2]&&Pt(arguments[0],Fn)&&arguments[1]instanceof Pn){var q=arguments[0],rt=arguments[1];arguments[2]?this.addEdges(q,null):this.addEdges(q),this.computeIntersections(rt)}},e.prototype.addEdge=function(o,s){for(var l=o.getMonotoneChainEdge(),y=l.getStartIndexes(),x=0;x<y.length-1;x++){var b=new ys(l,x),q=new Nr(s,l.getMinX(x),b);this.events.add(q),this.events.add(new Nr(l.getMaxX(x),q))}},e.prototype.processOverlaps=function(o,s,l,y){for(var x=l.getObject(),b=o;b<s;b++){var q=this.events.get(b);if(q.isInsert()){var rt=q.getObject();l.isSameLabel(q)||(x.computeIntersections(rt,y),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var o=arguments[0].iterator();o.hasNext();){var s=o.next();this.addEdge(s,s)}else if(2===arguments.length)for(var y=arguments[1],x=arguments[0].iterator();x.hasNext();){var b=x.next();this.addEdge(b,y)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(jo),Yr=function(){this._min=N.POSITIVE_INFINITY,this._max=N.NEGATIVE_INFINITY},vs={NodeComparator:{configurable:!0}};Yr.prototype.getMin=function(){return this._min},Yr.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Yr.prototype.getMax=function(){return this._max},Yr.prototype.toString=function(){return dt.toLineString(new w(this._min,0),new w(this._max,0))},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},vs.NodeComparator.get=function(){return _s},Object.defineProperties(Yr,vs);var _s=function(){};_s.prototype.compare=function(t,e){var l=(t._min+t._max)/2,y=(e._min+e._max)/2;return l<y?-1:l>y?1:0},_s.prototype.interfaces_=function(){return[O]},_s.prototype.getClass=function(){return _s};var El=function(t){function e(){t.call(this),this._item=null;var s=arguments[1],l=arguments[2];this._min=arguments[0],this._max=s,this._item=l}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(o,s,l){if(!this.intersects(o,s))return null;l.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yr),wl=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var s=arguments[1];this._node1=arguments[0],this._node2=s,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(o,s){this._min=Math.min(o._min,s._min),this._max=Math.max(o._max,s._max)},e.prototype.query=function(o,s,l){if(!this.intersects(o,s))return null;null!==this._node1&&this._node1.query(o,s,l),null!==this._node2&&this._node2.query(o,s,l)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yr),li=function(){this._leaves=new kt,this._root=null,this._level=0};li.prototype.buildTree=function(){ti.sort(this._leaves,new Yr.NodeComparator);for(var t=this._leaves,e=null,o=new kt;;){if(this.buildLevel(t,o),1===o.size())return o.get(0);e=t,t=o,o=e}},li.prototype.insert=function(t,e,o){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new El(t,e,o))},li.prototype.query=function(t,e,o){this.init(),this._root.query(t,e,o)},li.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},li.prototype.printNode=function(t){Jt.out.println(dt.toLineString(new w(t._min,this._level),new w(t._max,this._level)))},li.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},li.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var o=0;o<t.size();o+=2){var s=t.get(o);if(null===(o+1<t.size()?t.get(o):null))e.add(s);else{var l=new wl(t.get(o),t.get(o+1));e.add(l)}}},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li};var ao=function(){this._items=new kt};ao.prototype.visitItem=function(t){this._items.add(t)},ao.prototype.getItems=function(){return this._items},ao.prototype.interfaces_=function(){return[Ki]},ao.prototype.getClass=function(){return ao};var So=function(){this._index=null;var t=arguments[0];if(!Pt(t,ki))throw new C("Argument must be Polygonal");this._index=new Po(t)},Qo={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};So.prototype.locate=function(t){var e=new Ft(t),o=new Ko(e);return this._index.query(t.y,t.y,o),e.getLocation()},So.prototype.interfaces_=function(){return[Vo]},So.prototype.getClass=function(){return So},Qo.SegmentVisitor.get=function(){return Ko},Qo.IntervalIndexedGeometry.get=function(){return Po},Object.defineProperties(So,Qo);var Ko=function(){this._counter=null,this._counter=arguments[0]};Ko.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Ko.prototype.interfaces_=function(){return[Ki]},Ko.prototype.getClass=function(){return Ko};var Po=function(){this._index=new li,this.init(arguments[0])};Po.prototype.init=function(t){for(var e=Jn.getLines(t).iterator();e.hasNext();){var o=e.next().getCoordinates();this.addLine(o)}},Po.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var o=new Kt(t[e-1],t[e]),s=Math.min(o.p0.y,o.p1.y),l=Math.max(o.p0.y,o.p1.y);this._index.insert(s,l,o)}},Po.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new ao;return this._index.query(t,e,o),o.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po};var Zo=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new us,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ii,2===arguments.length){var s=arguments[1],l=nn.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=s,this._boundaryNodeRule=l,null!==s&&this.add(s)}else if(3===arguments.length){var x=arguments[1],b=arguments[2];this._argIndex=arguments[0],this._parentGeom=x,this._boundaryNodeRule=b,null!==x&&this.add(x)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(o,s){var l=this._nodes.addNode(s).getLabel(),y=1;l.getLocation(o,qt.ON)===A.BOUNDARY&&y++;var x=e.determineBoundary(this._boundaryNodeRule,y);l.setLocation(o,x)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var y=arguments[1],x=arguments[2],b=new Pn(arguments[0],!0,!1);return b.setIsDoneIfProperInt(x),this.createEdgeSetIntersector().computeIntersections(this._edges,b,y||!(this._parentGeom instanceof yi||this._parentGeom instanceof Bn||this._parentGeom instanceof Si)),this.addSelfIntersectionNodes(this._argIndex),b}},e.prototype.computeSplitEdges=function(o){for(var s=this._edges.iterator();s.hasNext();)s.next().eiList.addSplitEdges(o)},e.prototype.computeEdgeIntersections=function(o,s,l){var y=new Pn(s,l,!0);return y.setBoundaryNodes(this.getBoundaryNodes(),o.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,o._edges,y),y},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof mr){var o=arguments[0].getCoordinate();this.insertPoint(this._argIndex,o,A.INTERIOR)}else arguments[0]instanceof w&&this.insertPoint(this._argIndex,arguments[0],A.INTERIOR)},e.prototype.addPolygon=function(o){this.addPolygonRing(o.getExteriorRing(),A.EXTERIOR,A.INTERIOR);for(var s=0;s<o.getNumInteriorRing();s++){var l=o.getInteriorRingN(s);this.addPolygonRing(l,A.INTERIOR,A.EXTERIOR)}},e.prototype.addEdge=function(o){this.insertEdge(o);var s=o.getCoordinates();this.insertPoint(this._argIndex,s[0],A.BOUNDARY),this.insertPoint(this._argIndex,s[s.length-1],A.BOUNDARY)},e.prototype.addLineString=function(o){var s=ge.removeRepeatedPoints(o.getCoordinates());if(s.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=s[0],null;var l=new zs(s,new be(this._argIndex,A.INTERIOR));this._lineEdgeMap.put(o,l),this.insertEdge(l),M.isTrue(s.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,s[0]),this.insertBoundaryPoint(this._argIndex,s[s.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var o=this.getBoundaryNodes(),s=new Array(o.size()).fill(null),l=0,y=o.iterator();y.hasNext();){var x=y.next();s[l++]=x.getCoordinate().copy()}return s},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(o,s,l){if(this.isBoundaryNode(o,s))return null;l===A.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(o,s):this.insertPoint(o,s,l)},e.prototype.addPolygonRing=function(o,s,l){if(o.isEmpty())return null;var y=ge.removeRepeatedPoints(o.getCoordinates());if(y.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=y[0],null;var x=s,b=l;Mt.isCCW(y)&&(x=l,b=s);var q=new zs(y,new be(this._argIndex,A.BOUNDARY,x,b));this._lineEdgeMap.put(o,q),this.insertEdge(q),this.insertPoint(this._argIndex,y[0],A.BOUNDARY)},e.prototype.insertPoint=function(o,s,l){var y=this._nodes.addNode(s),x=y.getLabel();null===x?y._label=new be(o,l):x.setLocation(o,l)},e.prototype.createEdgeSetIntersector=function(){return new Pa},e.prototype.addSelfIntersectionNodes=function(o){for(var s=this._edges.iterator();s.hasNext();)for(var l=s.next(),y=l.getLabel().getLocation(o),x=l.eiList.iterator();x.hasNext();){var b=x.next();this.addSelfIntersectionNode(o,b.coord,y)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var o=arguments[0];if(o.isEmpty())return null;if(o instanceof Si&&(this._useBoundaryDeterminationRule=!1),o instanceof Bn)this.addPolygon(o);else if(o instanceof yn)this.addLineString(o);else if(o instanceof mr)this.addPoint(o);else if(o instanceof qi)this.addCollection(o);else if(o instanceof ji)this.addCollection(o);else if(o instanceof Si)this.addCollection(o);else{if(!(o instanceof jn))throw new Error(o.getClass().getName());this.addCollection(o)}},e.prototype.addCollection=function(o){for(var s=0;s<o.getNumGeometries();s++){var l=o.getGeometryN(s);this.add(l)}},e.prototype.locate=function(o){return Pt(this._parentGeom,ki)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new So(this._parentGeom)),this._areaPtLocator.locate(o)):this._ptLocator.locate(o,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(o,s){return o.isInBoundary(s)?A.BOUNDARY:A.INTERIOR},e}(gn),ts=function(){if(this._li=new bt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Zo(0,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],s=nn.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Zo(0,e,s),this._arg[1]=new Zo(1,o,s)}else if(3===arguments.length){var l=arguments[0],y=arguments[1],x=arguments[2];l.getPrecisionModel().compareTo(y.getPrecisionModel())>=0?this.setComputationPrecision(l.getPrecisionModel()):this.setComputationPrecision(y.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Zo(0,l,x),this._arg[1]=new Zo(1,y,x)}};ts.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},ts.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts};var uo=function(){};uo.prototype.interfaces_=function(){return[]},uo.prototype.getClass=function(){return uo},uo.map=function(){if(arguments[0]instanceof Ut&&Pt(arguments[1],uo.MapOp)){for(var t=arguments[0],e=arguments[1],o=new kt,s=0;s<t.getNumGeometries();s++){var l=e.map(t.getGeometryN(s));null!==l&&o.add(l)}return t.getFactory().buildGeometry(o)}if(Pt(arguments[0],pn)&&Pt(arguments[1],uo.MapOp)){for(var y=arguments[0],x=arguments[1],b=new kt,q=y.iterator();q.hasNext();){var rt=q.next(),Et=x.map(rt);null!==Et&&b.add(Et)}return b}},uo.MapOp=function(){};var ce=function(t){function e(){var o=arguments[0];t.call(this,o,arguments[1]),this._ptLocator=new ii,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Zr,this._resultPolyList=new kt,this._resultLineList=new kt,this._resultPointList=new kt,this._graph=new gn(new mu),this._geomFact=o.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(o){var s=this._edgeList.findEqualEdge(o);if(null!==s){var l=s.getLabel(),y=o.getLabel();s.isPointwiseEqual(o)||(y=new be(o.getLabel())).flip();var x=s.getDepth();x.isNull()&&x.add(l),x.add(y),l.merge(y)}else this._edgeList.add(o)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var o=this._graph.getEdgeEnds().iterator();o.hasNext();){var s=o.next(),l=s.getSym();s.isInResult()&&l.isInResult()&&(s.setInResult(!1),l.setInResult(!1))}},e.prototype.isCoveredByLA=function(o){return!!this.isCovered(o,this._resultLineList)||!!this.isCovered(o,this._resultPolyList)},e.prototype.computeGeometry=function(o,s,l,y){var x=new kt;return x.addAll(o),x.addAll(s),x.addAll(l),x.isEmpty()?e.createEmptyResult(y,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(x)},e.prototype.mergeSymLabels=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();)o.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(o,s){for(var l=s.iterator();l.hasNext();){var y=l.next();if(this._ptLocator.locate(o,y)!==A.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var o=new kt,s=this._edgeList.iterator();s.hasNext();){var l=s.next();l.isCollapsed()&&(s.remove(),o.add(l.getCollapsedEdge()))}this._edgeList.addAll(o)},e.prototype.updateNodeLabelling=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var s=o.next(),l=s.getEdges().getLabel();s.getLabel().merge(l)}},e.prototype.getResultGeometry=function(o){return this.computeOverlay(o),this._resultGeom},e.prototype.insertUniqueEdges=function(o){for(var s=o.iterator();s.hasNext();){var l=s.next();this.insertUniqueEdge(l)}},e.prototype.computeOverlay=function(o){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var s=new kt;this._arg[0].computeSplitEdges(s),this._arg[1].computeSplitEdges(s),this.insertUniqueEdges(s),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),bo.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(o),this.cancelDuplicateResultEdges();var l=new ur(this._geomFact);l.add(this._graph),this._resultPolyList=l.getPolygons();var y=new ui(this,this._geomFact,this._ptLocator);this._resultLineList=y.build(o);var x=new Go(this,this._geomFact,this._ptLocator);this._resultPointList=x.build(o),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,o)},e.prototype.labelIncompleteNode=function(o,s){var l=this._ptLocator.locate(o.getCoordinate(),this._arg[s].getGeometry());o.getLabel().setLocation(s,l)},e.prototype.copyPoints=function(o){for(var s=this._arg[o].getNodeIterator();s.hasNext();){var l=s.next();this._graph.addNode(l.getCoordinate()).setLabel(o,l.getLabel().getLocation(o))}},e.prototype.findResultAreaEdges=function(o){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var l=s.next(),y=l.getLabel();y.isArea()&&!l.isInteriorAreaEdge()&&e.isResultOfOp(y.getLocation(0,qt.RIGHT),y.getLocation(1,qt.RIGHT),o)&&l.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var o=this._edgeList.iterator();o.hasNext();){var s=o.next(),l=s.getLabel(),y=s.getDepth();if(!y.isNull()){y.normalize();for(var x=0;x<2;x++)l.isNull(x)||!l.isArea()||y.isNull(x)||(0===y.getDelta(x)?l.toLine(x):(M.isTrue(!y.isNull(x,qt.LEFT),"depth of LEFT side has not been initialized"),l.setLocation(x,qt.LEFT,y.getLocation(x,qt.LEFT)),M.isTrue(!y.isNull(x,qt.RIGHT),"depth of RIGHT side has not been initialized"),l.setLocation(x,qt.RIGHT,y.getLocation(x,qt.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();)o.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var s=o.next(),l=s.getLabel();s.isIsolated()&&(l.isNull(0)?this.labelIncompleteNode(s,0):this.labelIncompleteNode(s,1)),s.getEdges().updateLabelling(l)}},e.prototype.isCoveredByA=function(o){return!!this.isCovered(o,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ts);ce.overlayOp=function(t,e,o){return new ce(t,e).getResultGeometry(o)},ce.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return ce.createEmptyResult(ce.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var o=e;return qo.map(t,{interfaces_:function(){return[uo.MapOp]},map:function(s){return s.intersection(o)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ir.overlayOp(t,e,ce.INTERSECTION)},ce.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ce.createEmptyResult(ce.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ir.overlayOp(t,e,ce.SYMDIFFERENCE)},ce.resultDimension=function(t,e,o){var s=e.getDimension(),l=o.getDimension(),y=-1;switch(t){case ce.INTERSECTION:y=Math.min(s,l);break;case ce.UNION:y=Math.max(s,l);break;case ce.DIFFERENCE:y=s;break;case ce.SYMDIFFERENCE:y=Math.max(s,l)}return y},ce.createEmptyResult=function(t,e,o,s){var l=null;switch(ce.resultDimension(t,e,o)){case-1:l=s.createGeometryCollection(new Array(0).fill(null));break;case 0:l=s.createPoint();break;case 1:l=s.createLineString();break;case 2:l=s.createPolygon()}return l},ce.difference=function(t,e){return t.isEmpty()?ce.createEmptyResult(ce.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ir.overlayOp(t,e,ce.DIFFERENCE))},ce.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=t.getLocation(0),s=t.getLocation(1);return ce.isResultOfOp(o,s,e)}if(3===arguments.length){var l=arguments[0],y=arguments[1];switch(l===A.BOUNDARY&&(l=A.INTERIOR),y===A.BOUNDARY&&(y=A.INTERIOR),arguments[2]){case ce.INTERSECTION:return l===A.INTERIOR&&y===A.INTERIOR;case ce.UNION:return l===A.INTERIOR||y===A.INTERIOR;case ce.DIFFERENCE:return l===A.INTERIOR&&y!==A.INTERIOR;case ce.SYMDIFFERENCE:return l===A.INTERIOR&&y!==A.INTERIOR||l!==A.INTERIOR&&y===A.INTERIOR}return!1}},ce.INTERSECTION=1,ce.UNION=2,ce.DIFFERENCE=3,ce.SYMDIFFERENCE=4;var Ai=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ii,this._seg=new Kt;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Ai.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var o=this._linework.getGeometryN(e).getCoordinateSequence(),s=0;s<o.size()-1;s++)if(o.getCoordinate(s,this._seg.p0),o.getCoordinate(s+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Ai.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?A.BOUNDARY:this._ptLocator.locate(t,this._g)},Ai.prototype.extractLinework=function(t){var e=new es;t.apply(e);var o=e.getLinework(),s=ve.toLineStringArray(o);return t.getFactory().createMultiLineString(s)},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai};var es=function(){this._linework=null,this._linework=new kt};es.prototype.getLinework=function(){return this._linework},es.prototype.filter=function(t){if(t instanceof Bn){var e=t;this._linework.add(e.getExteriorRing());for(var o=0;o<e.getNumInteriorRing();o++)this._linework.add(e.getInteriorRingN(o))}},es.prototype.interfaces_=function(){return[di]},es.prototype.getClass=function(){return es};var Wi=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};Wi.prototype.extractPoints=function(t,e,o){for(var s=t.getCoordinates(),l=0;l<s.length-1;l++)this.computeOffsetPoints(s[l],s[l+1],e,o)},Wi.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Wi.prototype.getPoints=function(t){for(var e=new kt,o=Jn.getLines(this._g).iterator();o.hasNext();){var s=o.next();this.extractPoints(s,t,e)}return e},Wi.prototype.computeOffsetPoints=function(t,e,o,s){var l=e.x-t.x,y=e.y-t.y,x=Math.sqrt(l*l+y*y),b=o*l/x,q=o*y/x,rt=(e.x+t.x)/2,Et=(e.y+t.y)/2;if(this._doLeft){var Nt=new w(rt-q,Et+b);s.add(Nt)}if(this._doRight){var zt=new w(rt+q,Et-b);s.add(zt)}},Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi};var Ir=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new kt;var e=arguments[0],o=arguments[1],s=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,o),this._geom=[e,o,s],this._locFinder=[new Ai(this._geom[0],this._boundaryDistanceTolerance),new Ai(this._geom[1],this._boundaryDistanceTolerance),new Ai(this._geom[2],this._boundaryDistanceTolerance)]},Na={TOLERANCE:{configurable:!0}};Ir.prototype.reportResult=function(t,e,o){Jt.out.println("Overlay result invalid - A:"+A.toLocationSymbol(e[0])+" B:"+A.toLocationSymbol(e[1])+" expected:"+(o?"i":"e")+" actual:"+A.toLocationSymbol(e[2]))},Ir.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Ir.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var o=this._testCoords.get(e);if(!this.checkValid(t,o))return this._invalidLocation=o,!1}return!0}if(2===arguments.length){var s=arguments[0],l=arguments[1];return this._location[0]=this._locFinder[0].getLocation(l),this._location[1]=this._locFinder[1].getLocation(l),this._location[2]=this._locFinder[2].getLocation(l),!!Ir.hasLocation(this._location,A.BOUNDARY)||this.isValidResult(s,this._location)}},Ir.prototype.addTestPts=function(t){var e=new Wi(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Ir.prototype.isValidResult=function(t,e){var o=ce.isResultOfOp(e[0],e[1],t),s=!(o^e[2]===A.INTERIOR);return s||this.reportResult(t,e,o),s},Ir.prototype.getInvalidLocation=function(){return this._invalidLocation},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir},Ir.hasLocation=function(t,e){for(var o=0;o<3;o++)if(t[o]===e)return!0;return!1},Ir.computeBoundaryDistanceTolerance=function(t,e){return Math.min(In.computeSizeBasedSnapTolerance(t),In.computeSizeBasedSnapTolerance(e))},Ir.isValid=function(t,e,o,s){return new Ir(t,e,s).isValid(o)},Na.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Ir,Na);var Rr=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Rr.prototype.extractElements=function(t,e){if(null===t)return null;for(var o=0;o<t.getNumGeometries();o++){var s=t.getGeometryN(o);this._skipEmpty&&s.isEmpty()||e.add(s)}},Rr.prototype.combine=function(){for(var t=new kt,e=this._inputGeoms.iterator();e.hasNext();){var o=e.next();this.extractElements(o,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.combine=function(){return 1===arguments.length?new Rr(arguments[0]).combine():2===arguments.length?new Rr(Rr.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Rr(Rr.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Rr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Rr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new kt;return o.add(t),o.add(e),o}if(3===arguments.length){var s=arguments[0],l=arguments[1],y=arguments[2],x=new kt;return x.add(s),x.add(l),x.add(y),x}};var Tn=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new kt)},Xs={STRTREE_NODE_CAPACITY:{configurable:!0}};Tn.prototype.reduceToGeometries=function(t){for(var e=new kt,o=t.iterator();o.hasNext();){var s=o.next(),l=null;Pt(s,Fn)?l=this.unionTree(s):s instanceof Ut&&(l=s),e.add(l)}return e},Tn.prototype.extractByEnvelope=function(t,e,o){for(var s=new kt,l=0;l<e.getNumGeometries();l++){var y=e.getGeometryN(l);y.getEnvelopeInternal().intersects(t)?s.add(y):o.add(y)}return this._geomFactory.buildGeometry(s)},Tn.prototype.unionOptimized=function(t,e){var o=t.getEnvelopeInternal(),s=e.getEnvelopeInternal();if(!o.intersects(s))return Rr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var l=o.intersection(s);return this.unionUsingEnvelopeIntersection(t,e,l)},Tn.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new ya(Tn.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var o=e.next();t.insert(o.getEnvelopeInternal(),o)}this._inputPolys=null;var s=t.itemsTree();return this.unionTree(s)},Tn.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],o=arguments[1],s=arguments[2];if(s-o<=1){var l=Tn.getGeometry(e,o);return this.unionSafe(l,null)}if(s-o==2)return this.unionSafe(Tn.getGeometry(e,o),Tn.getGeometry(e,o+1));var y=Math.trunc((s+o)/2),x=this.binaryUnion(e,o,y),b=this.binaryUnion(e,y,s);return this.unionSafe(x,b)}},Tn.prototype.repeatedUnion=function(t){for(var e=null,o=t.iterator();o.hasNext();){var s=o.next();e=null===e?s.copy():e.union(s)}return e},Tn.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Tn.prototype.unionActual=function(t,e){return Tn.restrictToPolygons(t.union(e))},Tn.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Tn.prototype.unionUsingEnvelopeIntersection=function(t,e,o){var s=new kt,l=this.extractByEnvelope(o,t,s),y=this.extractByEnvelope(o,e,s),x=this.unionActual(l,y);return s.add(x),Rr.combine(s)},Tn.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().createGeometryCollection([e,o]).buffer(0)}},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.restrictToPolygons=function(t){if(Pt(t,ki))return t;var e=Yi.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ve.toPolygonArray(e))},Tn.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Tn.union=function(t){return new Tn(t).union()},Xs.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Tn,Xs);var xs=function(){};xs.prototype.interfaces_=function(){return[]},xs.prototype.getClass=function(){return xs},xs.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ce.createEmptyResult(ce.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ir.overlayOp(t,e,ce.UNION)},Q.GeoJSONReader=ha,Q.GeoJSONWriter=pa,Q.OverlayOp=ce,Q.UnionOp=xs,Q.BufferOp=zn,Object.defineProperty(Q,"__esModule",{value:!0})}(yt)},3006:Rt=>{Rt.exports=B,Rt.exports.parse=B,Rt.exports.stringify=function j(R){function d(Ct){return Ct.join(" ")}function nt(Ct){return Ct.map(d).join(", ")}function W(Ct){return Ct.map(nt).map(ft).join(", ")}function ft(Ct){return"("+Ct+")"}switch("Feature"===R.type&&(R=R.geometry),R.type){case"Point":return"POINT ("+d(R.coordinates)+")";case"LineString":return"LINESTRING ("+nt(R.coordinates)+")";case"Polygon":return"POLYGON ("+W(R.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+nt(R.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+R.coordinates.map(W).map(ft).join(", ")+")";case"MultiLineString":return"MULTILINESTRING ("+W(R.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+R.geometries.map(j).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}};var yt=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,Q=new RegExp("^"+yt.source+"(\\s"+yt.source+"){1,}");function B(R){var S,d=R.split(";"),nt=d.pop(),W=(d.shift()||"").split("=").pop(),it=0;function ft(S){var P=nt.substring(it).match(S);return P?(it+=P[0].length,P[0]):null}function Tt(){ft(/^\s*/)}function xt(){Tt();for(var st,S=0,P=[],O=[P],w=P;st=ft(/^(\()/)||ft(/^(\))/)||ft(/^(,)/)||ft(Q);){if("("===st)O.push(w),O[O.length-1].push(w=[]),S++;else if(")"===st){if(0===w.length||!(w=O.pop()))return null;if(0==--S)break}else if(","===st)O[O.length-1].push(w=[]);else{if(st.split(/\s/g).some(isNaN))return null;Array.prototype.push.apply(w,st.split(/\s/g).map(parseFloat))}Tt()}return 0!==S?null:P}function mt(){for(var P,O,S=[];O=ft(Q)||ft(/^(,)/);)","===O?(S.push(P),P=[]):O.split(/\s/g).some(isNaN)||(P||(P=[]),Array.prototype.push.apply(P,O.split(/\s/g).map(parseFloat))),Tt();return P?(S.push(P),S.length?S:null):null}return(S=function z(){return function(){if(!ft(/^(point(\sz)?)/i)||(Tt(),!ft(/^(\()/)))return null;var S=mt();return S&&(Tt(),ft(/^(\))/))?{type:"Point",coordinates:S[0]}:null}()||function(){if(!ft(/^(linestring(\sz)?)/i)||(Tt(),!ft(/^(\()/)))return null;var S=mt();return S&&ft(/^(\))/)?{type:"LineString",coordinates:S}:null}()||function(){if(!ft(/^(polygon(\sz)?)/i))return null;Tt();var S=xt();return S?{type:"Polygon",coordinates:S}:null}()||function(){if(!ft(/^(multipoint)/i))return null;Tt();var S=nt.substring(nt.indexOf("(")+1,nt.length-1).replace(/\(/g,"").replace(/\)/g,"");nt="MULTIPOINT ("+S+")";var P=xt();return P?(Tt(),{type:"MultiPoint",coordinates:P}):null}()||function(){if(!ft(/^(multilinestring)/i))return null;Tt();var S=xt();return S?(Tt(),{type:"MultiLineString",coordinates:S}):null}()||function(){if(!ft(/^(multipolygon)/i))return null;Tt();var S=xt();return S?{type:"MultiPolygon",coordinates:S}:null}()||function(){var P,S=[];if(!ft(/^(geometrycollection)/i)||(Tt(),!ft(/^(\()/)))return null;for(;P=z();)S.push(P),Tt(),ft(/^(,)/),Tt();return ft(/^(\))/)?{type:"GeometryCollection",geometries:S}:null}()}())&&W.match(/\d+/)&&(S.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+W}}),S}},4470:(Rt,yt,Q)=>{"use strict";Q.r(yt),Q.d(yt,{DashboardModule:()=>Wg});var B=Q(8583),j=Q(6901),R=Q(2936),d=Q(639);function nt(n,r){if(1&n&&(d.TgZ(0,"div",51),d.TgZ(1,"span",52),d._UZ(2,"span",53),d.qZA(),d.TgZ(3,"span",38),d._uU(4),d.qZA(),d._UZ(5,"span",54),d.TgZ(6,"span",55),d._uU(7),d.qZA(),d.qZA()),2&n){const i=r.$implicit;d.xp6(4),d.Oqu(i.title),d.xp6(1),d.Q6J("innerHTML",i.content,d.oJD),d.xp6(2),d.Oqu(i.created_at)}}function W(n,r){1&n&&(d.TgZ(0,"div",36),d.TgZ(1,"span",38),d._uU(2,"No messages"),d.qZA(),d.qZA())}const it=function(n,r,i){return{"fg-blue":n,"fg-amber":r,"fg-red":i}},ft=function(n,r,i){return{"mif-info":n,"mif-warning":r,"mif-notification":i}};function Ct(n,r){if(1&n&&(d.TgZ(0,"div",51),d.TgZ(1,"span",52),d._UZ(2,"span",53),d.qZA(),d.TgZ(3,"span",38),d._uU(4),d.qZA(),d.TgZ(5,"span",39),d._uU(6),d.qZA(),d.TgZ(7,"span",55),d._uU(8),d.qZA(),d.qZA()),2&n){const i=r.$implicit;d.Tol(d.kEZ(7,it,0==i.notification_type_id,1==i.notification_type_id,2==i.notification_type_id)),d.xp6(2),d.Tol(d.kEZ(11,ft,0==i.notification_type_id,1==i.notification_type_id,2==i.notification_type_id)),d.xp6(2),d.Oqu(i.title),d.xp6(2),d.Oqu(i.description),d.xp6(2),d.Oqu(i.created_at)}}function Tt(n,r){1&n&&(d.TgZ(0,"div",36),d.TgZ(1,"span",38),d._uU(2,"No notifications"),d.qZA(),d.qZA())}function xt(n,r){if(1&n){const i=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"a",56),d.TgZ(2,"span",18),d._uU(3),d.qZA(),d.qZA(),d.TgZ(4,"div",57),d.TgZ(5,"div",58),d._UZ(6,"div",59),d._UZ(7,"div",60),d._UZ(8,"div",61),d.qZA(),d.TgZ(9,"div",62),d.TgZ(10,"button",63),d.NdJ("click",function(){return d.CHM(i),d.oxw().logout()}),d._UZ(11,"span",64),d.TgZ(12,"span",33),d._uU(13,"Logout"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&n){const i=d.oxw();d.xp6(3),d.AsE("",i.profile.first_name," ",i.profile.last_name,"")}}function mt(n,r){1&n&&d._UZ(0,"span",65)}function It(n,r){1&n&&d._UZ(0,"span",66)}function Bt(n,r){if(1&n){const i=d.EpF();d.TgZ(0,"button",67),d.NdJ("click",function(){return d.CHM(i),d.oxw().checkPendingStatus()}),d._uU(1,"Refresh Status"),d.qZA()}}function et(n,r){if(1&n){const i=d.EpF();d.TgZ(0,"button",68),d.NdJ("click",function(){return d.CHM(i),d.oxw().cancelPendingTransactions()}),d._uU(1,"Cancel Transaction"),d.qZA()}}let pt=(()=>{class n{constructor(i){this.data=i,this.alerts=[],this.inbox=[],this.coins=[],this.btcUsdPrice=0,this.currentSelectedCoin={},this.currentCoinPrice=0,this.$=$,this.profile={id:-1,user_id:1,first_name:"",last_name:"",description:"",mobile:"",banner_path:null,ref_code:"",created_at:"",updated_at:"",picture:"",email:"",no_of_properties:-1,inward:-1,outward:-1,net_worth:-1,reserve:-1,pending:null},this.pendingTransaction={pay_address:"",amount:"",qrcode:"assets/coin.png",status:"pending",coin_status:"",name:"",icon:"assets/coin.png",coin_id:"",coin_amount:""},setTimeout(()=>{const a=location.hash.split("/").pop();$(`li[routerLink="${a}"]`).click()},500)}ngOnInit(){this.getAlerts(),this.getAlerts(),this.getInbox(),this.getProfile(),this.getSettings(),this.data.currentMessage.subscribe(i=>{"get-settings"===i&&this.getSettings(),"cancel-pending"===i&&this.cancelPendingTransactions()}),this.getRates(),this.data.checkLogin()}getAlerts(i=!1){i||R.F.loading("alerts"),this.data.apiGetService("notification").subscribe(a=>{i||R.F.loading("alerts",!0),this.alerts=a},a=>{i||R.F.loading("alerts",!0)})}getInbox(i=!1){i||R.F.loading("inbox"),this.data.apiGetService("inbox").subscribe(a=>{i||R.F.loading("inbox",!0),this.inbox=a},a=>{i||R.F.loading("inbox",!0)})}getProfile(i=!1){i||R.F.loading("profile"),this.data.apiGetService("profile").subscribe(a=>{i||R.F.loading("profile",!0),R.F.profile=this.profile=a,this.startPendingCheck(),this.data.changeMessage("fetch-profile"),null!=this.profile.picture&&$("#dp").css("backgroundImage",`url('${R.F.server+this.profile.picture}')`)},a=>{i||R.F.loading("profile",!0)})}getSettings(){R.F.loading("settings"),this.data.apiGetService("user/settings").subscribe(i=>{R.F.loading("settings",!0),R.F.settings=i,this.data.changeMessage("fetch-settings")},i=>{R.F.loading("settings",!0)})}login(){this.data.redirect("login")}logout(){this.data.logOut()}getRates(){R.F.loading("rates"),this.data.apiGetService("rates").subscribe(i=>{R.F.loading("rates",!0),$("#coins").off("change").empty(),this.coins=[];var a=Object.keys(i.result);let u=0;a.forEach(f=>{const p=i.result[f];p.coin_id=f,"USD"!=f?"online"===p.status&&-1!==p.capabilities.indexOf("payments")&&(this.coins.push(p),$("#coins").append(`<option value="${u}" data-template="<img style='height:20px;margin-left:5px;' src='${p.image}'> $1">${p.name}</option>`),u++):this.btcUsdPrice=1/p.rate_btc}),Metro.getPlugin("#coins","select").reset(),$("#lima-to-buy").on("keyup",()=>{$("#coins").trigger("change")}),$("#coins").on("change",()=>{const f=Metro.getPlugin("#coins","select");this.currentSelectedCoin=this.coins[f.val()];const g=1/(this.currentSelectedCoin.rate_btc*this.btcUsdPrice),h=$("#lima-to-buy").val();this.currentCoinPrice=h*g,$("#coin-value").html(this.currentCoinPrice)}),$("#coins").trigger("change")},i=>{R.F.loading("rates",!0)})}buyCoins(){const i=$("#lima-to-buy").val();if(""==i.trim()||!this.currentSelectedCoin.hasOwnProperty("name"))return R.F.invalidForm("#wallet-dialog"),void R.F.fire("Please enter coin quantity",!0);const u={coin:btoa(JSON.stringify({name:this.currentSelectedCoin.name,icon:this.currentSelectedCoin.image,coin_id:this.currentSelectedCoin.coin_id})),amount:i};R.F.loading("transaction"),Metro.dialog.close("#wallet-dialog"),this.data.apiService("transaction",u).subscribe(c=>{if(R.F.loading("transaction",!0),c.status||"pending"!==c.message)c.status?(this.storePendingDetails(c.results),this.startPendingCheck(),Metro.dialog.open("#pending-dialog")):R.F.fire(c.message,!0);else{this.storePendingDetails(c.results);const f=this;Metro.dialog.create({title:"Pending Transaction",content:"You already have a ongoing transaction",clsDialog:"alert",actions:[{caption:"Cancel Pending Transaction",cls:"js-dialog-close warning",onclick:function(){f.cancelPendingTransactions()}},{caption:"View Details",cls:"js-dialog-close success",onclick:function(){Metro.dialog.open("#pending-dialog")}},{caption:"Close",cls:"js-dialog-close alert",onclick:function(){}}]})}},c=>{R.F.loading("transaction",!0),R.F.fire("Internal Error",!0)})}startPendingCheck(){clearInterval(R.F.checkPendingIntervalId),null!=this.profile.pending&&setTimeout(()=>{R.F.checkPendingIntervalId=setInterval(()=>{null!=this.profile.pending?this.data.apiGetService(`check-auto-transactions/${this.profile.pending}`).subscribe(i=>{"credited"===i.status&&(clearInterval(R.F.checkPendingIntervalId),this.storePendingDetails(i.results),this.data.changeMessage("get-profile"))},i=>{clearInterval(R.F.checkPendingIntervalId)}):clearInterval(R.F.checkPendingIntervalId)},2e4)},12e4)}storePendingDetails(i){const a=JSON.parse(atob(i.coin_name));this.pendingTransaction.status=i.status,this.pendingTransaction.coin_status=i.coin_status,this.pendingTransaction.qrcode=i.qrcode,this.pendingTransaction.amount=i.amount,this.pendingTransaction.coin_amount=i.coin_amount,this.pendingTransaction.pay_address=i.pay_address,this.pendingTransaction.name=a.name,this.pendingTransaction.icon=a.icon,this.pendingTransaction.coin_id=a.coin_id,this.profile.pending=i.order_id,"credited"===this.pendingTransaction.status&&(this.profile.pending=null)}cancelPendingTransactions(){R.F.loading("cancel-pending"),this.data.apiGetService("cancel-pending-transactions").subscribe(i=>{R.F.loading("cancel-pending",!0),R.F.fire(i.message,!i.status),i.status&&(this.data.changeMessage("get-profile"),this.data.changeMessage("cancel-pending-done"))},i=>{R.F.loading("cancel-pending",!0),R.F.fire("Internal Error",!0)})}checkPendingStatus(){R.F.loading("check-pending"),this.data.apiGetService("check-pending-transactions").subscribe(i=>{R.F.loading("check-pending",!0),i.status&&("credited"===i.results.status&&this.data.changeMessage("get-profile"),this.storePendingDetails(i.results)),R.F.fire(i.message,!i.status)},i=>{R.F.loading("check-pending",!0),R.F.fire("Internal Error",!0)})}}return n.\u0275fac=function(i){return new(i||n)(d.Y36(R.F))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dashboard"]],decls:100,vars:17,consts:[["id","inbox","data-role","panel","data-width","280","data-title-caption","Inbox","data-title-icon","<span class='mif-envelop'></span>","data-collapsible","true","data-cls-panel","shadow-3","data-cls-title","bg-darkTeal fg-white","data-cls-title-icon","fg-white","data-cls-collapse-toggle","bg-gray fg-white marker-dark",1,"w-75","z-inbox","d-none","pos-absolute",3,"collapse"],[1,"items-list",2,"max-height","480px","overflow","auto"],["class","item h-auto","style","min-height: 90px;",4,"ngFor","ngForOf"],["class","item",4,"ngIf"],["routerLink","inbox",1,"button","small","light",2,"text-decoration","none","position","sticky","bottom","5px"],["id","alerts","data-role","panel","data-width","280","data-title-caption","Notifications","data-title-icon","<span class='mif-bell'></span>","data-collapsible","true","data-cls-panel","shadow-3","data-cls-title","bg-darkTeal fg-white","data-cls-title-icon","fg-white","data-cls-collapse-toggle","bg-gray fg-white marker-dark",1,"w-75","z-inbox","d-none","pos-absolute",3,"collapse"],[1,"items-list",2,"max-height","370px","overflow","auto"],["class","item h-auto","style","min-height: 90px;",3,"class",4,"ngFor","ngForOf"],["routerLink","alerts",1,"button","small","light",2,"text-decoration","none","position","sticky","bottom","5px"],["data-role","appbar","data-expand-point","md",1,"d-flex","bg-white"],["href","#",1,"brand","no-hover"],["src","assets/logo.jpg",1,"img-fluid",2,"height","50px"],["id","main-menu","data-app-bar","false","data-role","materialtabs",1,""],["routerLink","map"],["href","#map"],[1,"app-bar-container","ml-auto"],[1,"app-bar-container","bg-light",2,"z-index","100000","position","fixed","top","0","right","0"],[1,"app-bar-item","c-pointer",3,"click"],[1,"ml-2","app-bar-name"],["class","app-bar-container bg-light","style","z-index: 100000;position: fixed;top: 0; right: 0",4,"ngIf"],["id","wallet-dialog","data-role","dialog",1,"dialog","fg-amber","border-none",2,"background","rgba(0,0,0,0.8)"],[1,"dialog-title"],[1,"dialog-content"],[1,"skills","p-3"],["data-role","input","type","number","id","lima-to-buy","value","1"],["for","coins"],["id","coins","data-role","select"],[1,"d-block"],["id","coin-value"],[1,"dialog-actions"],[1,"button","js-dialog-close","alert"],[1,"image-button","dark",3,"click"],["src","assets/coin.png",1,"icon"],[1,"caption"],["id","pending-dialog","data-role","dialog",1,"dialog","fg-amber","border-none",2,"background","rgba(0,0,0,0.8)","min-width","550px"],[1,"items-list"],[1,"item"],[1,"avatar",3,"src"],[1,"label"],[1,"second-label"],["src","assets/coin.png",1,"avatar"],[1,"avatar","mif-dollars"],[1,"avatar","mif-dollar"],["class","avatar mif-hour-glass",4,"ngIf"],["class","avatar mif-done_all",4,"ngIf"],[1,"label","text-cap"],[1,"item",2,"height","290px"],[3,"src"],["class","button warning",3,"click",4,"ngIf"],["class","button alert js-dialog-close",3,"click",4,"ngIf"],["target","_blank",1,"image-button","dark",3,"href"],[1,"item","h-auto",2,"min-height","90px"],[1,"avatar"],[1,"icon","mif-envelop"],[1,"second-label",3,"innerHTML"],[1,"second-action",2,"width","60px","font-size","10px","height","50px","background","white"],["href","#",1,"app-bar-item"],["data-role","collapse","data-collapsed","true",1,"social-box","shadow-1",2,"position","absolute","top","52px","right","0","width","320px"],[1,"header","bg-darkTeal","fg-white"],["id","dp",1,"avatar",2,"background-repeat","no-repeat","background-position","center","height","90px","background-image","url('assets/logo.jpg')"],[1,"title"],[1,"subtitle"],[1,"d-flex","flex-column","flex-align-center","flex-justify-center"],["data-role","button",1,"image-button","light","w-100","mt-5",3,"click"],[1,"icon","mif-exit"],[1,"avatar","mif-hour-glass"],[1,"avatar","mif-done_all"],[1,"button","warning",3,"click"],[1,"button","alert","js-dialog-close",3,"click"]],template:function(i,a){1&i&&(d.TgZ(0,"div",0),d.NdJ("collapse",function(){return a.$("#inbox").parent().addClass("d-none"),a.$("#inbox").parent().find(".dropdown-toggle").click()}),d.TgZ(1,"div",1),d.YNc(2,nt,8,3,"div",2),d.YNc(3,W,3,0,"div",3),d.TgZ(4,"a",4),d._uU(5,"View All"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(6,"div",5),d.NdJ("collapse",function(){return a.$("#alerts").parent().addClass("d-none"),a.$("#alerts").parent().find(".dropdown-toggle").click()}),d.TgZ(7,"div",6),d.YNc(8,Ct,9,15,"div",7),d.YNc(9,Tt,3,0,"div",3),d.TgZ(10,"a",8),d._uU(11,"View All"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"div",9),d.TgZ(13,"a",10),d._UZ(14,"img",11),d.qZA(),d.TgZ(15,"ul",12),d.TgZ(16,"li",13),d.TgZ(17,"a",14),d._uU(18,"Map"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"div",15),d.TgZ(20,"div",16),d.TgZ(21,"a",17),d.NdJ("click",function(){return a.login()}),d.TgZ(22,"span",18),d._uU(23,"Log Out"),d.qZA(),d.qZA(),d.qZA(),d.YNc(24,xt,14,2,"div",19),d.qZA(),d.qZA(),d.TgZ(25,"div",20),d.TgZ(26,"div",21),d._uU(27,"Buy Earthify Coin"),d.qZA(),d.TgZ(28,"div",22),d.TgZ(29,"div",23),d.TgZ(30,"label"),d._uU(31,"Quantity"),d.qZA(),d._UZ(32,"input",24),d.TgZ(33,"label",25),d._uU(34,"Coins"),d.qZA(),d._UZ(35,"select",26),d.TgZ(36,"span",27),d._uU(37,"Coin converted value"),d.qZA(),d._UZ(38,"span",28),d.qZA(),d.qZA(),d.TgZ(39,"div",29),d.TgZ(40,"button",30),d._uU(41,"Close"),d.qZA(),d.TgZ(42,"button",31),d.NdJ("click",function(){return a.buyCoins()}),d._UZ(43,"img",32),d.TgZ(44,"span",33),d._uU(45,"Pay via "),d.TgZ(46,"b"),d._uU(47,"Coinpayments"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(48,"div",34),d.TgZ(49,"div",21),d._uU(50,"Pending Transaction"),d.qZA(),d.TgZ(51,"div",22),d.TgZ(52,"div",35),d.TgZ(53,"div",36),d._UZ(54,"img",37),d.TgZ(55,"span",38),d._uU(56),d.qZA(),d.TgZ(57,"span",39),d._uU(58,"Coin"),d.qZA(),d.qZA(),d.TgZ(59,"div",36),d._UZ(60,"img",40),d.TgZ(61,"span",38),d._uU(62),d.qZA(),d.TgZ(63,"span",39),d._uU(64,"Address to pay"),d.qZA(),d.qZA(),d.TgZ(65,"div",36),d._UZ(66,"span",41),d.TgZ(67,"span",38),d._uU(68),d.qZA(),d.TgZ(69,"span",39),d._uU(70,"Amount to pay"),d.qZA(),d.qZA(),d.TgZ(71,"div",36),d._UZ(72,"span",42),d.TgZ(73,"span",38),d._uU(74),d.qZA(),d.TgZ(75,"span",39),d._uU(76,"Lima Coins"),d.qZA(),d.qZA(),d.TgZ(77,"div",36),d.YNc(78,mt,1,0,"span",43),d.YNc(79,It,1,0,"span",44),d.TgZ(80,"span",45),d._uU(81),d.qZA(),d.TgZ(82,"span",39),d._uU(83,"Status"),d.qZA(),d.qZA(),d.TgZ(84,"div",46),d._UZ(85,"img",40),d.TgZ(86,"span",38),d._UZ(87,"img",47),d.qZA(),d.TgZ(88,"span",39),d._uU(89,"QR"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(90,"div",29),d.TgZ(91,"button",30),d._uU(92,"Close"),d.qZA(),d.YNc(93,Bt,2,0,"button",48),d.YNc(94,et,2,0,"button",49),d.TgZ(95,"a",50),d._UZ(96,"img",32),d.TgZ(97,"span",33),d._uU(98,"View Live Details"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(99,"router-outlet")),2&i&&(d.xp6(2),d.Q6J("ngForOf",a.inbox),d.xp6(1),d.Q6J("ngIf",0==a.inbox.length),d.xp6(5),d.Q6J("ngForOf",a.alerts),d.xp6(1),d.Q6J("ngIf",0==a.alerts.length),d.xp6(15),d.Q6J("ngIf",-1!=a.profile.id),d.xp6(30),d.Q6J("src",a.pendingTransaction.icon,d.LSH),d.xp6(2),d.Oqu(a.pendingTransaction.name),d.xp6(6),d.Oqu(a.pendingTransaction.pay_address),d.xp6(6),d.Oqu(a.pendingTransaction.coin_amount),d.xp6(6),d.Oqu(a.pendingTransaction.amount),d.xp6(4),d.Q6J("ngIf","pending"==a.pendingTransaction.status),d.xp6(1),d.Q6J("ngIf","credited"==a.pendingTransaction.status),d.xp6(2),d.Oqu(a.pendingTransaction.status),d.xp6(6),d.Q6J("src",a.pendingTransaction.qrcode,d.LSH),d.xp6(6),d.Q6J("ngIf",null!=a.profile.pending),d.xp6(1),d.Q6J("ngIf",null!=a.profile.pending),d.xp6(1),d.Q6J("href",a.pendingTransaction.coin_status,d.LSH))},directives:[B.sg,B.O5,j.yS,j.rH,j.lC],styles:[""]}),n})();var I=Q(1841);function P(n,r,i){void 0===i&&(i={});var a={type:"Feature"};return(0===i.id||i.id)&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.properties=r||{},a.geometry=n,a}function w(n,r,i){if(void 0===i&&(i={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Jt(n[0])||!Jt(n[1]))throw new Error("coordinates must contain numbers");return P({type:"Point",coordinates:n},r,i)}function X(n,r,i){void 0===i&&(i={});for(var a=0,u=n;a<u.length;a++){var c=u[a];if(c.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<c[c.length-1].length;f++)if(c[c.length-1][f]!==c[0][f])throw new Error("First and last Position are not equivalent.")}return P({type:"Polygon",coordinates:n},r,i)}function Pt(n,r){void 0===r&&(r={});var i={type:"FeatureCollection"};return r.id&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.features=n,i}function Jt(n){return!isNaN(n)&&null!==n&&!Array.isArray(n)}function on(n,r,i){if(null!==n)for(var a,u,c,f,p,g,h,_,m=0,v=0,E=n.type,Y="FeatureCollection"===E,k="Feature"===E,ot=Y?n.features.length:1,H=0;H<ot;H++){p=(_=!!(h=Y?n.features[H].geometry:k?n.geometry:n)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var F=0;F<p;F++){var Z=0,gt=0;if(null!==(f=_?h.geometries[F]:h)){g=f.coordinates;var ht=f.type;switch(m=!i||"Polygon"!==ht&&"MultiPolygon"!==ht?0:1,ht){case null:break;case"Point":if(!1===r(g,v,H,Z,gt))return!1;v++,Z++;break;case"LineString":case"MultiPoint":for(a=0;a<g.length;a++){if(!1===r(g[a],v,H,Z,gt))return!1;v++,"MultiPoint"===ht&&Z++}"LineString"===ht&&Z++;break;case"Polygon":case"MultiLineString":for(a=0;a<g.length;a++){for(u=0;u<g[a].length-m;u++){if(!1===r(g[a][u],v,H,Z,gt))return!1;v++}"MultiLineString"===ht&&Z++,"Polygon"===ht&&gt++}"Polygon"===ht&&Z++;break;case"MultiPolygon":for(a=0;a<g.length;a++){for(gt=0,u=0;u<g[a].length;u++){for(c=0;c<g[a][u].length-m;c++){if(!1===r(g[a][u][c],v,H,Z,gt))return!1;v++}gt++}Z++}break;case"GeometryCollection":for(a=0;a<f.geometries.length;a++)if(!1===on(f.geometries[a],r,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function at(n,r){!function(n,r){var i,a,u,c,f,p,g,h,m,v,_=0,E="FeatureCollection"===n.type,Y="Feature"===n.type,k=E?n.features.length:1;for(i=0;i<k;i++){for(h=E?n.features[i].properties:Y?n.properties:{},m=E?n.features[i].bbox:Y?n.bbox:void 0,v=E?n.features[i].id:Y?n.id:void 0,f=(g=!!(p=E?n.features[i].geometry:Y?n.geometry:n)&&"GeometryCollection"===p.type)?p.geometries.length:1,u=0;u<f;u++)if(null!==(c=g?p.geometries[u]:p))switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(c,_,h,m,v))return!1;break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)if(!1===r(c.geometries[a],_,h,m,v))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,_,h,m,v))return!1;_++}}(n,function(i,a,u,c,f){var g,p=null===i?null:i.type;switch(p){case null:case"Point":case"LineString":case"Polygon":return!1!==r(P(i,u,{bbox:c,id:f}),a,0)&&void 0}switch(p){case"MultiPoint":g="Point";break;case"MultiLineString":g="LineString";break;case"MultiPolygon":g="Polygon"}for(var h=0;h<i.coordinates.length;h++)if(!1===r(P({type:g,coordinates:i.coordinates[h]},u),a,h))return!1})}function pe(n){var r=[1/0,1/0,-1/0,-1/0];return on(n,function(i){r[0]>i[0]&&(r[0]=i[0]),r[1]>i[1]&&(r[1]=i[1]),r[2]<i[0]&&(r[2]=i[0]),r[3]<i[1]&&(r[3]=i[1])}),r}pe.default=pe;const hn=pe;function Lr(n,r,i){if(void 0===i&&(i={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var a=function(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if("Feature"===n.type&&null!==n.geometry&&"Point"===n.geometry.type)return n.geometry.coordinates;if("Point"===n.type)return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(n),u=function(n){return"Feature"===n.type?n.geometry:n}(r),c=u.type,f=r.bbox,p=u.coordinates;if(f&&!1===function(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}(a,f))return!1;"Polygon"===c&&(p=[p]);for(var g=!1,h=0;h<p.length&&!g;h++)if(jn(a,p[h][0],i.ignoreBoundary)){for(var m=!1,v=1;v<p[h].length&&!m;)jn(a,p[h][v],!i.ignoreBoundary)&&(m=!0),v++;m||(g=!0)}return g}function jn(n,r,i){var a=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var u=0,c=r.length-1;u<r.length;c=u++){var f=r[u][0],p=r[u][1],g=r[c][0],h=r[c][1];if(n[1]*(f-g)+p*(g-n[0])+h*(n[0]-f)==0&&(f-n[0])*(g-n[0])<=0&&(p-n[1])*(h-n[1])<=0)return!i;p>n[1]!=h>n[1]&&n[0]<(g-f)*(n[1]-p)/(h-p)+f&&(a=!a)}return a}Q(8228),Q(6896);var To=new ArrayBuffer(16);new Float64Array(To),new Uint32Array(To),Q(5454),function(){function n(r){this.points=r.points||[],this.duration=r.duration||1e4,this.sharpness=r.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=r.stepLength||60,this.length=this.points.length,this.delay=0;for(var i=0;i<this.length;i++)this.points[i].z=this.points[i].z||0;for(i=0;i<this.length-1;i++){var a=this.points[i],u=this.points[i+1];this.centers.push({x:(a.x+u.x)/2,y:(a.y+u.y)/2,z:(a.z+u.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),i=0;i<this.centers.length-1;i++){var c=this.points[i+1].x-(this.centers[i].x+this.centers[i+1].x)/2,f=this.points[i+1].y-(this.centers[i].y+this.centers[i+1].y)/2,p=this.points[i+1].z-(this.centers[i].y+this.centers[i+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[i+1].x+this.sharpness*(this.centers[i].x+c),y:(1-this.sharpness)*this.points[i+1].y+this.sharpness*(this.centers[i].y+f),z:(1-this.sharpness)*this.points[i+1].z+this.sharpness*(this.centers[i].z+p)},{x:(1-this.sharpness)*this.points[i+1].x+this.sharpness*(this.centers[i+1].x+c),y:(1-this.sharpness)*this.points[i+1].y+this.sharpness*(this.centers[i+1].y+f),z:(1-this.sharpness)*this.points[i+1].z+this.sharpness*(this.centers[i+1].z+p)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}n.prototype.cacheSteps=function(r){var i=[],a=this.pos(0);i.push(0);for(var u=0;u<this.duration;u+=10){var c=this.pos(u);Math.sqrt((c.x-a.x)*(c.x-a.x)+(c.y-a.y)*(c.y-a.y)+(c.z-a.z)*(c.z-a.z))>r&&(i.push(u),a=c)}return i},n.prototype.vector=function(r){var i=this.pos(r+10),a=this.pos(r-10);return{angle:180*Math.atan2(i.y-a.y,i.x-a.x)/3.14,speed:Math.sqrt((a.x-i.x)*(a.x-i.x)+(a.y-i.y)*(a.y-i.y)+(a.z-i.z)*(a.z-i.z))}},n.prototype.pos=function(r){var i=r-this.delay;i<0&&(i=0),i>this.duration&&(i=this.duration-1);var a=i/this.duration;if(a>=1)return this.points[this.length-1];var u=Math.floor((this.points.length-1)*a);return function(n,r,i,a,u){var c=function(n){var r=n*n;return[r*n,3*r*(1-n),3*n*(1-n)*(1-n),(1-n)*(1-n)*(1-n)]}(n);return{x:u.x*c[0]+a.x*c[1]+i.x*c[2]+r.x*c[3],y:u.y*c[0]+a.y*c[1]+i.y*c[2]+r.y*c[3],z:u.z*c[0]+a.z*c[1]+i.z*c[2]+r.z*c[3]}}((this.length-1)*a-u,this.points[u],this.controls[u][1],this.controls[u+1][0],this.points[u+1])}}();const Ur=function(n,r){void 0===r&&(r={});var i=hn(n);return w([(i[0]+i[2])/2,(i[1]+i[3])/2],r.properties,r)};Q(1604),Q(2689),Q(8309);var ms=Math.PI/180,jo=180/Math.PI,Pn=function(n,r){this.lon=n,this.lat=r,this.x=ms*n,this.y=ms*r};Pn.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Pn.prototype.antipode=function(){return new Pn(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var Pa=function(){this.coords=[],this.length=0};Pa.prototype.move_to=function(n){this.length++,this.coords.push(n)};var Yr=function(n){this.properties=n||{},this.geometries=[]};Yr.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var n=[],r=0;r<this.geometries.length;r++)n.push(this.geometries[r].coords);return{geometry:{type:"MultiLineString",coordinates:n},type:"Feature",properties:this.properties}},Yr.prototype.wkt=function(){for(var n="",r="LINESTRING(",i=function(c){r+=c[0]+" "+c[1]+","},a=0;a<this.geometries.length;a++){if(0===this.geometries[a].coords.length)return"LINESTRING(empty)";this.geometries[a].coords.forEach(i),n+=r.substring(0,r.length-1)+")"}return n};var vs=function(n,r,i){if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!r||void 0===r.x||void 0===r.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Pn(n.x,n.y),this.end=new Pn(r.x,r.y),this.properties=i||{};var a=this.start.x-this.end.x,c=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(c)),this.g===Math.PI)throw new Error("it appears "+n.view()+" and "+r.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+r)};vs.prototype.interpolate=function(n){var r=Math.sin((1-n)*this.g)/Math.sin(this.g),i=Math.sin(n*this.g)/Math.sin(this.g),a=r*Math.cos(this.start.y)*Math.cos(this.start.x)+i*Math.cos(this.end.y)*Math.cos(this.end.x),u=r*Math.cos(this.start.y)*Math.sin(this.start.x)+i*Math.cos(this.end.y)*Math.sin(this.end.x),c=r*Math.sin(this.start.y)+i*Math.sin(this.end.y),f=jo*Math.atan2(c,Math.sqrt(Math.pow(a,2)+Math.pow(u,2)));return[jo*Math.atan2(u,a),f]},vs.prototype.Arc=function(n,r){var i=[];if(!n||n<=2)i.push([this.start.lon,this.start.lat]),i.push([this.end.lon,this.end.lat]);else for(var a=1/(n-1),u=0;u<n;++u){var f=this.interpolate(a*u);i.push(f)}for(var p=!1,g=0,h=r&&r.offset?r.offset:10,m=180-h,v=-180+h,_=360-h,E=1;E<i.length;++E){var Y=i[E-1][0],k=i[E][0],ot=Math.abs(k-Y);ot>_&&(k>m&&Y<v||Y>m&&k<v)?p=!0:ot>g&&(g=ot)}var H=[];if(p&&g<h){var F=[];H.push(F);for(var Z=0;Z<i.length;++Z){var gt=parseFloat(i[Z][0]);if(Z>0&&Math.abs(gt-i[Z-1][0])>_){var ht=parseFloat(i[Z-1][0]),_t=parseFloat(i[Z-1][1]),vt=parseFloat(i[Z][0]),St=parseFloat(i[Z][1]);if(ht>-180&&ht<v&&180===vt&&Z+1<i.length&&i[Z-1][0]>-180&&i[Z-1][0]<v){F.push([-180,i[Z][1]]),Z++,F.push([i[Z][0],i[Z][1]]);continue}if(ht>m&&ht<180&&-180===vt&&Z+1<i.length&&i[Z-1][0]>m&&i[Z-1][0]<180){F.push([180,i[Z][1]]),Z++,F.push([i[Z][0],i[Z][1]]);continue}if(ht<v&&vt>m){var tt=ht;ht=vt,vt=tt;var oe=_t;_t=St,St=oe}if(ht>m&&vt<v&&(vt+=360),ht<=180&&vt>=180&&ht<vt){var Vt=(180-ht)/(vt-ht),de=Vt*St+(1-Vt)*_t;F.push([i[Z-1][0]>m?180:-180,de]),(F=[]).push([i[Z-1][0]>m?-180:180,de]),H.push(F)}else H.push(F=[]);F.push([gt,i[Z][1]])}else F.push([i[Z][0],i[Z][1]])}}else{var _e=[];H.push(_e);for(var Xt=0;Xt<i.length;++Xt)_e.push([i[Xt][0],i[Xt][1]])}for(var ie=new Yr(this.properties),te=0;te<H.length;++te){var an=new Pa;ie.geometries.push(an);for(var sn=H[te],Ee=0;Ee<sn.length;++Ee)an.move_to(sn[Ee])}return ie},Q(2978);var Se=[],Pe=[],Ne=[],Me=[],Le=[],Te=[],Oe=[],Ae=[],Re=[],De=[],Fe=[],Be=[],ke=[],qe=[],Ge=[],Ue=[],ze=[],Ze=[],Xe=[],Ye=[],Je=[],He=[],We=[],Ve=[];Oe[85]=De[85]=-1,Ae[85]=Fe[85]=0,Re[85]=Be[85]=1,Xe[85]=He[85]=1,Ye[85]=We[85]=0,Je[85]=Ve[85]=1,Se[85]=Me[85]=0,Pe[85]=Le[85]=-1,Ne[85]=Ge[85]=0,Ue[85]=ke[85]=0,ze[85]=qe[85]=1,Te[85]=Ze[85]=1,He[1]=He[169]=0,We[1]=We[169]=-1,Ve[1]=Ve[169]=0,ke[1]=ke[169]=-1,qe[1]=qe[169]=0,Ge[1]=Ge[169]=0,De[4]=De[166]=0,Fe[4]=Fe[166]=-1,Be[4]=Be[166]=1,Ue[4]=Ue[166]=1,ze[4]=ze[166]=0,Ze[4]=Ze[166]=0,Oe[16]=Oe[154]=0,Ae[16]=Ae[154]=1,Re[16]=Re[154]=1,Me[16]=Me[154]=1,Le[16]=Le[154]=0,Te[16]=Te[154]=1,Xe[64]=Xe[106]=0,Ye[64]=Ye[106]=1,Je[64]=Je[106]=0,Se[64]=Se[106]=-1,Pe[64]=Pe[106]=0,Ne[64]=Ne[106]=1,Xe[2]=Xe[168]=0,Ye[2]=Ye[168]=-1,Je[2]=Je[168]=1,He[2]=He[168]=0,We[2]=We[168]=-1,Ve[2]=Ve[168]=0,ke[2]=ke[168]=-1,qe[2]=qe[168]=0,Ge[2]=Ge[168]=0,Ue[2]=Ue[168]=-1,ze[2]=ze[168]=0,Ze[2]=Ze[168]=1,Oe[8]=Oe[162]=0,Ae[8]=Ae[162]=-1,Re[8]=Re[162]=0,De[8]=De[162]=0,Fe[8]=Fe[162]=-1,Be[8]=Be[162]=1,ke[8]=ke[162]=1,qe[8]=qe[162]=0,Ge[8]=Ge[162]=1,Ue[8]=Ue[162]=1,ze[8]=ze[162]=0,Ze[8]=Ze[162]=0,Oe[32]=Oe[138]=0,Ae[32]=Ae[138]=1,Re[32]=Re[138]=1,De[32]=De[138]=0,Fe[32]=Fe[138]=1,Be[32]=Be[138]=0,Se[32]=Se[138]=1,Pe[32]=Pe[138]=0,Ne[32]=Ne[138]=0,Me[32]=Me[138]=1,Le[32]=Le[138]=0,Te[32]=Te[138]=1,He[128]=He[42]=0,We[128]=We[42]=1,Ve[128]=Ve[42]=1,Xe[128]=Xe[42]=0,Ye[128]=Ye[42]=1,Je[128]=Je[42]=0,Se[128]=Se[42]=-1,Pe[128]=Pe[42]=0,Ne[128]=Ne[42]=1,Me[128]=Me[42]=-1,Le[128]=Le[42]=0,Te[128]=Te[42]=0,De[5]=De[165]=-1,Fe[5]=Fe[165]=0,Be[5]=Be[165]=0,He[5]=He[165]=1,We[5]=We[165]=0,Ve[5]=Ve[165]=0,Ue[20]=Ue[150]=0,ze[20]=ze[150]=1,Ze[20]=Ze[150]=1,Me[20]=Me[150]=0,Le[20]=Le[150]=-1,Te[20]=Te[150]=1,Oe[80]=Oe[90]=-1,Ae[80]=Ae[90]=0,Re[80]=Re[90]=1,Xe[80]=Xe[90]=1,Ye[80]=Ye[90]=0,Je[80]=Je[90]=1,ke[65]=ke[105]=0,qe[65]=qe[105]=1,Ge[65]=Ge[105]=0,Se[65]=Se[105]=0,Pe[65]=Pe[105]=-1,Ne[65]=Ne[105]=0,Oe[160]=Oe[10]=-1,Ae[160]=Ae[10]=0,Re[160]=Re[10]=1,De[160]=De[10]=-1,Fe[160]=Fe[10]=0,Be[160]=Be[10]=0,He[160]=He[10]=1,We[160]=We[10]=0,Ve[160]=Ve[10]=0,Xe[160]=Xe[10]=1,Ye[160]=Ye[10]=0,Je[160]=Je[10]=1,Ue[130]=Ue[40]=0,ze[130]=ze[40]=1,Ze[130]=Ze[40]=1,ke[130]=ke[40]=0,qe[130]=qe[40]=1,Ge[130]=Ge[40]=0,Se[130]=Se[40]=0,Pe[130]=Pe[40]=-1,Ne[130]=Ne[40]=0,Me[130]=Me[40]=0,Le[130]=Le[40]=-1,Te[130]=Te[40]=1,De[37]=De[133]=0,Fe[37]=Fe[133]=1,Be[37]=Be[133]=1,He[37]=He[133]=0,We[37]=We[133]=1,Ve[37]=Ve[133]=0,Se[37]=Se[133]=-1,Pe[37]=Pe[133]=0,Ne[37]=Ne[133]=0,Me[37]=Me[133]=1,Le[37]=Le[133]=0,Te[37]=Te[133]=0,Ue[148]=Ue[22]=-1,ze[148]=ze[22]=0,Ze[148]=Ze[22]=0,He[148]=He[22]=0,We[148]=We[22]=-1,Ve[148]=Ve[22]=1,Xe[148]=Xe[22]=0,Ye[148]=Ye[22]=1,Je[148]=Je[22]=1,Me[148]=Me[22]=-1,Le[148]=Le[22]=0,Te[148]=Te[22]=1,Oe[82]=Oe[88]=0,Ae[82]=Ae[88]=-1,Re[82]=Re[88]=1,Ue[82]=Ue[88]=1,ze[82]=ze[88]=0,Ze[82]=Ze[88]=1,ke[82]=ke[88]=-1,qe[82]=qe[88]=0,Ge[82]=Ge[88]=1,Xe[82]=Xe[88]=0,Ye[82]=Ye[88]=-1,Je[82]=Je[88]=0,Oe[73]=Oe[97]=0,Ae[73]=Ae[97]=1,Re[73]=Re[97]=0,De[73]=De[97]=0,Fe[73]=Fe[97]=-1,Be[73]=Be[97]=0,ke[73]=ke[97]=1,qe[73]=qe[97]=0,Ge[73]=Ge[97]=0,Se[73]=Se[97]=1,Pe[73]=Pe[97]=0,Ne[73]=Ne[97]=1,Oe[145]=Oe[25]=0,Ae[145]=Ae[25]=-1,Re[145]=Re[25]=0,ke[145]=ke[25]=1,qe[145]=qe[25]=0,Ge[145]=Ge[25]=1,He[145]=He[25]=0,We[145]=We[25]=1,Ve[145]=Ve[25]=1,Me[145]=Me[25]=-1,Le[145]=Le[25]=0,Te[145]=Te[25]=0,De[70]=De[100]=0,Fe[70]=Fe[100]=1,Be[70]=Be[100]=0,Ue[70]=Ue[100]=-1,ze[70]=ze[100]=0,Ze[70]=Ze[100]=1,Xe[70]=Xe[100]=0,Ye[70]=Ye[100]=-1,Je[70]=Je[100]=1,Se[70]=Se[100]=1,Pe[70]=Pe[100]=0,Ne[70]=Ne[100]=0,De[101]=De[69]=0,Fe[101]=Fe[69]=1,Be[101]=Be[69]=0,Se[101]=Se[69]=1,Pe[101]=Pe[69]=0,Ne[101]=Ne[69]=0,He[149]=He[21]=0,We[149]=We[21]=1,Ve[149]=Ve[21]=1,Me[149]=Me[21]=-1,Le[149]=Le[21]=0,Te[149]=Te[21]=0,Ue[86]=Ue[84]=-1,ze[86]=ze[84]=0,Ze[86]=Ze[84]=1,Xe[86]=Xe[84]=0,Ye[86]=Ye[84]=-1,Je[86]=Je[84]=1,Oe[89]=Oe[81]=0,Ae[89]=Ae[81]=-1,Re[89]=Re[81]=0,ke[89]=ke[81]=1,qe[89]=qe[81]=0,Ge[89]=Ge[81]=1,Oe[96]=Oe[74]=0,Ae[96]=Ae[74]=1,Re[96]=Re[74]=0,De[96]=De[74]=-1,Fe[96]=Fe[74]=0,Be[96]=Be[74]=1,Xe[96]=Xe[74]=1,Ye[96]=Ye[74]=0,Je[96]=Je[74]=0,Se[96]=Se[74]=1,Pe[96]=Pe[74]=0,Ne[96]=Ne[74]=1,Oe[24]=Oe[146]=0,Ae[24]=Ae[146]=-1,Re[24]=Re[146]=1,Ue[24]=Ue[146]=1,ze[24]=ze[146]=0,Ze[24]=Ze[146]=1,ke[24]=ke[146]=0,qe[24]=qe[146]=1,Ge[24]=Ge[146]=1,Me[24]=Me[146]=0,Le[24]=Le[146]=-1,Te[24]=Te[146]=0,De[6]=De[164]=-1,Fe[6]=Fe[164]=0,Be[6]=Be[164]=1,Ue[6]=Ue[164]=-1,ze[6]=ze[164]=0,Ze[6]=Ze[164]=0,He[6]=He[164]=0,We[6]=We[164]=-1,Ve[6]=Ve[164]=1,Xe[6]=Xe[164]=1,Ye[6]=Ye[164]=0,Je[6]=Je[164]=0,ke[129]=ke[41]=0,qe[129]=qe[41]=1,Ge[129]=Ge[41]=1,He[129]=He[41]=0,We[129]=We[41]=1,Ve[129]=Ve[41]=0,Se[129]=Se[41]=-1,Pe[129]=Pe[41]=0,Ne[129]=Ne[41]=0,Me[129]=Me[41]=0,Le[129]=Le[41]=-1,Te[129]=Te[41]=0,Ue[66]=Ue[104]=0,ze[66]=ze[104]=1,Ze[66]=Ze[104]=0,ke[66]=ke[104]=-1,qe[66]=qe[104]=0,Ge[66]=Ge[104]=1,Xe[66]=Xe[104]=0,Ye[66]=Ye[104]=-1,Je[66]=Je[104]=0,Se[66]=Se[104]=0,Pe[66]=Pe[104]=-1,Ne[66]=Ne[104]=1,Oe[144]=Oe[26]=-1,Ae[144]=Ae[26]=0,Re[144]=Re[26]=0,He[144]=He[26]=1,We[144]=We[26]=0,Ve[144]=Ve[26]=1,Xe[144]=Xe[26]=0,Ye[144]=Ye[26]=1,Je[144]=Je[26]=1,Me[144]=Me[26]=-1,Le[144]=Le[26]=0,Te[144]=Te[26]=1,De[36]=De[134]=0,Fe[36]=Fe[134]=1,Be[36]=Be[134]=1,Ue[36]=Ue[134]=0,ze[36]=ze[134]=1,Ze[36]=Ze[134]=0,Se[36]=Se[134]=0,Pe[36]=Pe[134]=-1,Ne[36]=Ne[134]=1,Me[36]=Me[134]=1,Le[36]=Le[134]=0,Te[36]=Te[134]=0,Oe[9]=Oe[161]=-1,Ae[9]=Ae[161]=0,Re[9]=Re[161]=0,De[9]=De[161]=0,Fe[9]=Fe[161]=-1,Be[9]=Be[161]=0,ke[9]=ke[161]=1,qe[9]=qe[161]=0,Ge[9]=Ge[161]=0,He[9]=He[161]=1,We[9]=We[161]=0,Ve[9]=Ve[161]=1,Oe[136]=0,Ae[136]=1,Re[136]=1,De[136]=0,Fe[136]=1,Be[136]=0,Ue[136]=-1,ze[136]=0,Ze[136]=1,ke[136]=-1,qe[136]=0,Ge[136]=0,He[136]=0,We[136]=-1,Ve[136]=0,Xe[136]=0,Ye[136]=-1,Je[136]=1,Se[136]=1,Pe[136]=0,Ne[136]=0,Me[136]=1,Le[136]=0,Te[136]=1,Oe[34]=0,Ae[34]=-1,Re[34]=0,De[34]=0,Fe[34]=-1,Be[34]=1,Ue[34]=1,ze[34]=0,Ze[34]=0,ke[34]=1,qe[34]=0,Ge[34]=1,He[34]=0,We[34]=1,Ve[34]=1,Xe[34]=0,Ye[34]=1,Je[34]=0,Se[34]=-1,Pe[34]=0,Ne[34]=1,Me[34]=-1,Le[34]=0,Te[34]=0,Oe[35]=0,Ae[35]=1,Re[35]=1,De[35]=0,Fe[35]=-1,Be[35]=1,Ue[35]=1,ze[35]=0,Ze[35]=0,ke[35]=-1,qe[35]=0,Ge[35]=0,He[35]=0,We[35]=-1,Ve[35]=0,Xe[35]=0,Ye[35]=1,Je[35]=0,Se[35]=-1,Pe[35]=0,Ne[35]=1,Me[35]=1,Le[35]=0,Te[35]=1,Oe[153]=0,Ae[153]=1,Re[153]=1,ke[153]=-1,qe[153]=0,Ge[153]=0,He[153]=0,We[153]=-1,Ve[153]=0,Me[153]=1,Le[153]=0,Te[153]=1,De[102]=0,Fe[102]=-1,Be[102]=1,Ue[102]=1,ze[102]=0,Ze[102]=0,Xe[102]=0,Ye[102]=1,Je[102]=0,Se[102]=-1,Pe[102]=0,Ne[102]=1,Oe[155]=0,Ae[155]=-1,Re[155]=0,ke[155]=1,qe[155]=0,Ge[155]=1,He[155]=0,We[155]=1,Ve[155]=1,Me[155]=-1,Le[155]=0,Te[155]=0,De[103]=0,Fe[103]=1,Be[103]=0,Ue[103]=-1,ze[103]=0,Ze[103]=1,Xe[103]=0,Ye[103]=-1,Je[103]=1,Se[103]=1,Pe[103]=0,Ne[103]=0,Oe[152]=0,Ae[152]=1,Re[152]=1,Ue[152]=-1,ze[152]=0,Ze[152]=1,ke[152]=-1,qe[152]=0,Ge[152]=0,He[152]=0,We[152]=-1,Ve[152]=0,Xe[152]=0,Ye[152]=-1,Je[152]=1,Me[152]=1,Le[152]=0,Te[152]=1,Oe[156]=0,Ae[156]=-1,Re[156]=1,Ue[156]=1,ze[156]=0,Ze[156]=1,ke[156]=-1,qe[156]=0,Ge[156]=0,He[156]=0,We[156]=-1,Ve[156]=0,Xe[156]=0,Ye[156]=1,Je[156]=1,Me[156]=-1,Le[156]=0,Te[156]=1,Oe[137]=0,Ae[137]=1,Re[137]=1,De[137]=0,Fe[137]=1,Be[137]=0,ke[137]=-1,qe[137]=0,Ge[137]=0,He[137]=0,We[137]=-1,Ve[137]=0,Se[137]=1,Pe[137]=0,Ne[137]=0,Me[137]=1,Le[137]=0,Te[137]=1,Oe[139]=0,Ae[139]=1,Re[139]=1,De[139]=0,Fe[139]=-1,Be[139]=0,ke[139]=1,qe[139]=0,Ge[139]=0,He[139]=0,We[139]=1,Ve[139]=0,Se[139]=-1,Pe[139]=0,Ne[139]=0,Me[139]=1,Le[139]=0,Te[139]=1,Oe[98]=0,Ae[98]=-1,Re[98]=0,De[98]=0,Fe[98]=-1,Be[98]=1,Ue[98]=1,ze[98]=0,Ze[98]=0,ke[98]=1,qe[98]=0,Ge[98]=1,Xe[98]=0,Ye[98]=1,Je[98]=0,Se[98]=-1,Pe[98]=0,Ne[98]=1,Oe[99]=0,Ae[99]=1,Re[99]=0,De[99]=0,Fe[99]=-1,Be[99]=1,Ue[99]=1,ze[99]=0,Ze[99]=0,ke[99]=-1,qe[99]=0,Ge[99]=1,Xe[99]=0,Ye[99]=-1,Je[99]=0,Se[99]=1,Pe[99]=0,Ne[99]=1,De[38]=0,Fe[38]=-1,Be[38]=1,Ue[38]=1,ze[38]=0,Ze[38]=0,He[38]=0,We[38]=1,Ve[38]=1,Xe[38]=0,Ye[38]=1,Je[38]=0,Se[38]=-1,Pe[38]=0,Ne[38]=1,Me[38]=-1,Le[38]=0,Te[38]=0,De[39]=0,Fe[39]=1,Be[39]=1,Ue[39]=-1,ze[39]=0,Ze[39]=0,He[39]=0,We[39]=-1,Ve[39]=1,Xe[39]=0,Ye[39]=1,Je[39]=0,Se[39]=-1,Pe[39]=0,Ne[39]=1,Me[39]=1,Le[39]=0,Te[39]=0;var _u=function(n){return[[n.bottomleft,0],[0,0],[0,n.leftbottom]]},xu=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0]]},Eu=function(n){return[[n.topright,1],[1,1],[1,n.righttop]]},wu=function(n){return[[0,n.lefttop],[0,1],[n.topleft,1]]},Iu=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop]]},bu=function(n){return[[n.bottomright,0],[n.bottomleft,0],[1,n.righttop],[1,n.rightbottom]]},Cu=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.topleft,1],[n.topright,1]]},Su=function(n){return[[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Qt=[],jt=[],re=[],ne=[],fe=[],le=[],$e=[],tn=[];ne[1]=fe[1]=18,ne[169]=fe[169]=18,re[4]=jt[4]=12,re[166]=jt[166]=12,Qt[16]=tn[16]=4,Qt[154]=tn[154]=4,le[64]=$e[64]=22,le[106]=$e[106]=22,re[2]=le[2]=17,ne[2]=fe[2]=18,re[168]=le[168]=17,ne[168]=fe[168]=18,Qt[8]=ne[8]=9,jt[8]=re[8]=12,Qt[162]=ne[162]=9,jt[162]=re[162]=12,Qt[32]=tn[32]=4,jt[32]=$e[32]=1,Qt[138]=tn[138]=4,jt[138]=$e[138]=1,fe[128]=tn[128]=21,le[128]=$e[128]=22,fe[42]=tn[42]=21,le[42]=$e[42]=22,jt[5]=fe[5]=14,jt[165]=fe[165]=14,re[20]=tn[20]=6,re[150]=tn[150]=6,Qt[80]=le[80]=11,Qt[90]=le[90]=11,ne[65]=$e[65]=3,ne[105]=$e[105]=3,Qt[160]=le[160]=11,jt[160]=fe[160]=14,Qt[10]=le[10]=11,jt[10]=fe[10]=14,re[130]=tn[130]=6,ne[130]=$e[130]=3,re[40]=tn[40]=6,ne[40]=$e[40]=3,jt[101]=$e[101]=1,jt[69]=$e[69]=1,fe[149]=tn[149]=21,fe[21]=tn[21]=21,re[86]=le[86]=17,re[84]=le[84]=17,Qt[89]=ne[89]=9,Qt[81]=ne[81]=9,Qt[96]=$e[96]=0,jt[96]=le[96]=15,Qt[74]=$e[74]=0,jt[74]=le[74]=15,Qt[24]=re[24]=8,ne[24]=tn[24]=7,Qt[146]=re[146]=8,ne[146]=tn[146]=7,jt[6]=le[6]=15,re[6]=fe[6]=16,jt[164]=le[164]=15,re[164]=fe[164]=16,ne[129]=tn[129]=7,fe[129]=$e[129]=20,ne[41]=tn[41]=7,fe[41]=$e[41]=20,re[66]=$e[66]=2,ne[66]=le[66]=19,re[104]=$e[104]=2,ne[104]=le[104]=19,Qt[144]=fe[144]=10,le[144]=tn[144]=23,Qt[26]=fe[26]=10,le[26]=tn[26]=23,jt[36]=tn[36]=5,re[36]=$e[36]=2,jt[134]=tn[134]=5,re[134]=$e[134]=2,Qt[9]=fe[9]=10,jt[9]=ne[9]=13,Qt[161]=fe[161]=10,jt[161]=ne[161]=13,jt[37]=tn[37]=5,fe[37]=$e[37]=20,jt[133]=tn[133]=5,fe[133]=$e[133]=20,re[148]=fe[148]=16,le[148]=tn[148]=23,re[22]=fe[22]=16,le[22]=tn[22]=23,Qt[82]=re[82]=8,ne[82]=le[82]=19,Qt[88]=re[88]=8,ne[88]=le[88]=19,Qt[73]=$e[73]=0,jt[73]=ne[73]=13,Qt[97]=$e[97]=0,jt[97]=ne[97]=13,Qt[145]=ne[145]=9,fe[145]=tn[145]=21,Qt[25]=ne[25]=9,fe[25]=tn[25]=21,jt[70]=$e[70]=1,re[70]=le[70]=17,jt[100]=$e[100]=1,re[100]=le[100]=17,Qt[34]=ne[34]=9,jt[34]=re[34]=12,fe[34]=tn[34]=21,le[34]=$e[34]=22,Qt[136]=tn[136]=4,jt[136]=$e[136]=1,re[136]=le[136]=17,ne[136]=fe[136]=18,Qt[35]=tn[35]=4,jt[35]=re[35]=12,ne[35]=fe[35]=18,le[35]=$e[35]=22,Qt[153]=tn[153]=4,ne[153]=fe[153]=18,jt[102]=re[102]=12,le[102]=$e[102]=22,Qt[155]=ne[155]=9,fe[155]=tn[155]=23,jt[103]=$e[103]=1,re[103]=le[103]=17,Qt[152]=tn[152]=4,re[152]=le[152]=17,ne[152]=fe[152]=18,Qt[156]=re[156]=8,ne[156]=fe[156]=18,le[156]=tn[156]=23,Qt[137]=tn[137]=4,jt[137]=$e[137]=1,ne[137]=fe[137]=18,Qt[139]=tn[139]=4,jt[139]=ne[139]=13,fe[139]=$e[139]=20,Qt[98]=ne[98]=9,jt[98]=re[98]=12,le[98]=$e[98]=22,Qt[99]=$e[99]=0,jt[99]=re[99]=12,ne[99]=le[99]=19,jt[38]=re[38]=12,fe[38]=tn[38]=21,le[38]=$e[38]=22,jt[39]=tn[39]=5,re[39]=fe[39]=16,le[39]=$e[39]=22;var Ht=[];function Mu(n,r,i){return function(n){return(n>0)-(n<0)||+n}((r[0]-n[0])*(i[1]-r[1])-(i[0]-r[0])*(r[1]-n[1]))}function Pl(n,r){return r.geometry.coordinates[0].every(function(i){return Lr(w(i),n)})}Ht[1]=Ht[169]=_u,Ht[4]=Ht[166]=xu,Ht[16]=Ht[154]=Eu,Ht[64]=Ht[106]=wu,Ht[168]=Ht[2]=Iu,Ht[162]=Ht[8]=bu,Ht[138]=Ht[32]=Cu,Ht[42]=Ht[128]=Su,Ht[5]=Ht[165]=function(n){return[[0,0],[0,n.leftbottom],[1,n.rightbottom],[1,0]]},Ht[20]=Ht[150]=function(n){return[[1,0],[n.bottomright,0],[n.topright,1],[1,1]]},Ht[80]=Ht[90]=function(n){return[[1,1],[1,n.righttop],[0,n.lefttop],[0,1]]},Ht[65]=Ht[105]=function(n){return[[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Ht[160]=Ht[10]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.leftbottom],[0,n.lefttop]]},Ht[130]=Ht[40]=function(n){return[[n.topleft,1],[n.topright,1],[n.bottomright,0],[n.bottomleft,0]]},Ht[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Ht[101]=Ht[69]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,1],[n.topleft,1]]},Ht[149]=Ht[21]=function(n){return[[n.topright,1],[1,1],[1,0],[0,0],[0,n.leftbottom]]},Ht[86]=Ht[84]=function(n){return[[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[1,1]]},Ht[89]=Ht[81]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,1]]},Ht[96]=Ht[74]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[24]=Ht[146]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[n.topright,1]]},Ht[6]=Ht[164]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop]]},Ht[129]=Ht[41]=function(n){return[[n.topright,1],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1]]},Ht[66]=Ht[104]=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[144]=Ht[26]=function(n){return[[1,1],[1,n.righttop],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Ht[36]=Ht[134]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[n.topleft,1],[n.topright,1]]},Ht[9]=Ht[161]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom]]},Ht[37]=Ht[133]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Ht[148]=Ht[22]=function(n){return[[1,1],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Ht[82]=Ht[88]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1]]},Ht[73]=Ht[97]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Ht[145]=Ht[25]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Ht[70]=Ht[100]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[34]=function(n){return[Su(n),bu(n)]},Ht[35]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Ht[136]=function(n){return[Cu(n),Iu(n)]},Ht[153]=function(n){return[Eu(n),_u(n)]},Ht[102]=function(n){return[xu(n),wu(n)]},Ht[155]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Ht[103]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[152]=function(n){return[Eu(n),Iu(n)]},Ht[156]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Ht[137]=function(n){return[Cu(n),_u(n)]},Ht[139]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Ht[98]=function(n){return[bu(n),wu(n)]},Ht[99]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ht[38]=function(n){return[xu(n),Su(n)]},Ht[39]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]};const Nl=function(){function n(r){this.id=n.buildId(r),this.coordinates=r,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return n.buildId=function(r){return r.join(",")},n.prototype.removeInnerEdge=function(r){this.innerEdges=this.innerEdges.filter(function(i){return i.from.id!==r.from.id})},n.prototype.removeOuterEdge=function(r){this.outerEdges=this.outerEdges.filter(function(i){return i.to.id!==r.to.id})},n.prototype.addOuterEdge=function(r){this.outerEdges.push(r),this.outerEdgesSorted=!1},n.prototype.sortOuterEdges=function(){var r=this;this.outerEdgesSorted||(this.outerEdges.sort(function(i,a){var u=i.to,c=a.to;if(u.coordinates[0]-r.coordinates[0]>=0&&c.coordinates[0]-r.coordinates[0]<0)return 1;if(u.coordinates[0]-r.coordinates[0]<0&&c.coordinates[0]-r.coordinates[0]>=0)return-1;if(u.coordinates[0]-r.coordinates[0]==0&&c.coordinates[0]-r.coordinates[0]==0)return u.coordinates[1]-r.coordinates[1]>=0||c.coordinates[1]-r.coordinates[1]>=0?u.coordinates[1]-c.coordinates[1]:c.coordinates[1]-u.coordinates[1];var f=Mu(r.coordinates,u.coordinates,c.coordinates);return f<0?1:f>0?-1:Math.pow(u.coordinates[0]-r.coordinates[0],2)+Math.pow(u.coordinates[1]-r.coordinates[1],2)-(Math.pow(c.coordinates[0]-r.coordinates[0],2)+Math.pow(c.coordinates[1]-r.coordinates[1],2))}),this.outerEdgesSorted=!0)},n.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},n.prototype.getOuterEdge=function(r){return this.sortOuterEdges(),this.outerEdges[r]},n.prototype.addInnerEdge=function(r){this.innerEdges.push(r)},n}(),wh=function(){function n(r,i){this.from=r,this.to=i,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return n.prototype.getSymetric=function(){return this.symetric||(this.symetric=new n(this.to,this.from),this.symetric.symetric=this),this.symetric},n.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},n.prototype.isEqual=function(r){return this.from.id===r.from.id&&this.to.id===r.to.id},n.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},n.prototype.toLineString=function(){return function(n,r,i){if(void 0===i&&(i={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return P({type:"LineString",coordinates:n},r,i)}([this.from.coordinates,this.to.coordinates])},n.prototype.compareTo=function(r){return Mu(r.from.coordinates,r.to.coordinates,this.to.coordinates)},n}(),bh=function(){function n(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return n.prototype.push=function(r){this.edges.push(r),this.polygon=this.envelope=void 0},n.prototype.get=function(r){return this.edges[r]},Object.defineProperty(n.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),n.prototype.forEach=function(r){this.edges.forEach(r)},n.prototype.map=function(r){return this.edges.map(r)},n.prototype.some=function(r){return this.edges.some(r)},n.prototype.isValid=function(){return!0},n.prototype.isHole=function(){var r=this,i=this.edges.reduce(function(f,p,g){return p.from.coordinates[1]>r.edges[f].from.coordinates[1]&&(f=g),f},0),a=(0===i?this.length:i)-1,u=(i+1)%this.length,c=Mu(this.edges[a].from.coordinates,this.edges[i].from.coordinates,this.edges[u].from.coordinates);return 0===c?this.edges[a].from.coordinates[0]>this.edges[u].from.coordinates[0]:c>0},n.prototype.toMultiPoint=function(){return function(n,r,i){return void 0===i&&(i={}),P({type:"MultiPoint",coordinates:n},r,i)}(this.edges.map(function(r){return r.from.coordinates}))},n.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var r=this.edges.map(function(i){return i.from.coordinates});return r.push(this.edges[0].from.coordinates),this.polygon=X([r])},n.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function(n){return function(n,r){void 0===r&&(r={});var i=Number(n[0]),a=Number(n[1]),u=Number(n[2]),c=Number(n[3]);if(6===n.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var f=[i,a];return X([[f,[u,a],[u,c],[i,c],f]],r.properties,{bbox:n,id:r.id})}(hn(n))}(this.toPolygon())},n.findEdgeRingContaining=function(r,i){var u,c,a=r.getEnvelope();return i.forEach(function(f){var p=f.getEnvelope();if(c&&(u=c.getEnvelope()),!function(n,r){var i=n.geometry.coordinates[0].map(function(f){return f[0]}),a=n.geometry.coordinates[0].map(function(f){return f[1]}),u=r.geometry.coordinates[0].map(function(f){return f[0]}),c=r.geometry.coordinates[0].map(function(f){return f[1]});return Math.max.apply(null,i)===Math.max.apply(null,u)&&Math.max.apply(null,a)===Math.max.apply(null,c)&&Math.min.apply(null,i)===Math.min.apply(null,u)&&Math.min.apply(null,a)===Math.min.apply(null,c)}(p,a)&&Pl(p,a)){for(var g=r.map(function(Y){return Y.from.coordinates}),h=void 0,m=function(Y){f.some(function(k){return function(n,r){return n[0]===r[0]&&n[1]===r[1]}(Y,k.from.coordinates)})||(h=Y)},v=0,_=g;v<_.length;v++)m(_[v]);h&&f.inside(w(h))&&(!c||Pl(u,p))&&(c=f)}}),c},n.prototype.inside=function(r){return Lr(r,this.toPolygon())},n}();function Bl(n){for(var r=n,i=[];r.parent;)i.unshift(r),r=r.parent;return i}!function(){function n(){this.edges=[],this.nodes={}}n.fromGeoJson=function(r){!function(n){if(!n)throw new Error("No geojson passed");if("FeatureCollection"!==n.type&&"GeometryCollection"!==n.type&&"MultiLineString"!==n.type&&"LineString"!==n.type&&"Feature"!==n.type)throw new Error("Invalid input type '"+n.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(r);var i=new n;return at(r,function(a){(function(n,r,i){if(!n)throw new Error("No feature passed");if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!n.geometry||n.geometry.type!==r)throw new Error("Invalid input to "+i+": must be a "+r+", given "+n.geometry.type)})(a,"LineString","Graph::fromGeoJson"),function(n,r,i,a){var u=i;on(n,function(c,f,p,g,h){u=0===f?c:r(u,c)},void 0)}(a,function(u,c){if(u){var f=i.getNode(u),p=i.getNode(c);i.addEdge(f,p)}return c})}),i},n.prototype.getNode=function(r){var i=Nl.buildId(r),a=this.nodes[i];return a||(a=this.nodes[i]=new Nl(r)),a},n.prototype.addEdge=function(r,i){var a=new wh(r,i),u=a.getSymetric();this.edges.push(a),this.edges.push(u)},n.prototype.deleteDangles=function(){var r=this;Object.keys(this.nodes).map(function(i){return r.nodes[i]}).forEach(function(i){return r._removeIfDangle(i)})},n.prototype._removeIfDangle=function(r){var i=this;if(r.innerEdges.length<=1){var a=r.getOuterEdges().map(function(u){return u.to});this.removeNode(r),a.forEach(function(u){return i._removeIfDangle(u)})}},n.prototype.deleteCutEdges=function(){var r=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(i){i.label===i.symetric.label&&(r.removeEdge(i.symetric),r.removeEdge(i))})},n.prototype._computeNextCWEdges=function(r){var i=this;void 0===r?Object.keys(this.nodes).forEach(function(a){return i._computeNextCWEdges(i.nodes[a])}):r.getOuterEdges().forEach(function(a,u){r.getOuterEdge((0===u?r.getOuterEdges().length:u)-1).symetric.next=a})},n.prototype._computeNextCCWEdges=function(r,i){for(var u,c,a=r.getOuterEdges(),f=a.length-1;f>=0;--f){var p=a[f],g=p.symetric,h=void 0,m=void 0;p.label===i&&(h=p),g.label===i&&(m=g),h&&m&&(m&&(c=m),h&&(c&&(c.next=h,c=void 0),u||(u=h)))}c&&(c.next=u)},n.prototype._findLabeledEdgeRings=function(){var r=[],i=0;return this.edges.forEach(function(a){if(!(a.label>=0)){r.push(a);var u=a;do{u.label=i,u=u.next}while(!a.isEqual(u));i++}}),r},n.prototype.getEdgeRings=function(){var r=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){r._findIntersectionNodes(a).forEach(function(u){r._computeNextCCWEdges(u,a.label)})});var i=[];return this.edges.forEach(function(a){a.ring||i.push(r._findEdgeRing(a))}),i},n.prototype._findIntersectionNodes=function(r){var i=[],a=r,u=function(){var c=0;a.from.getOuterEdges().forEach(function(f){f.label===r.label&&++c}),c>1&&i.push(a.from),a=a.next};do{u()}while(!r.isEqual(a));return i},n.prototype._findEdgeRing=function(r){var i=r,a=new bh;do{a.push(i),i.ring=a,i=i.next}while(!r.isEqual(i));return a},n.prototype.removeNode=function(r){var i=this;r.getOuterEdges().forEach(function(a){return i.removeEdge(a)}),r.innerEdges.forEach(function(a){return i.removeEdge(a)}),delete this.nodes[r.id]},n.prototype.removeEdge=function(r){this.edges=this.edges.filter(function(i){return!i.isEqual(r)}),r.deleteEdge()}}(),Q(9331),Q(6882),Q(3212);var La={search:function(n,r,i,a){n.cleanDirty();var u=(a=a||{}).heuristic||La.heuristics.manhattan,c=a.closest||!1,f=new kl(function(n){return n.f}),p=r;for(r.h=u(r,i),f.push(r);f.size()>0;){var g=f.pop();if(g===i)return Bl(g);g.closed=!0;for(var h=n.neighbors(g),m=0,v=h.length;m<v;++m){var _=h[m];if(!_.closed&&!_.isWall()){var E=g.g+_.getCost(g),Y=_.visited;(!Y||E<_.g)&&(_.visited=!0,_.parent=g,_.h=_.h||u(_,i),_.g=E,_.f=_.g+_.h,n.markDirty(_),c&&(_.h<p.h||_.h===p.h&&_.g<p.g)&&(p=_),Y?f.rescoreElement(_):f.push(_))}}}return c?Bl(p):[]},heuristics:{manhattan:function(n,r){return Math.abs(r.x-n.x)+Math.abs(r.y-n.y)},diagonal:function(n,r){var a=Math.sqrt(2),u=Math.abs(r.x-n.x),c=Math.abs(r.y-n.y);return 1*(u+c)+(a-2)*Math.min(u,c)}},cleanNode:function(n){n.f=0,n.g=0,n.h=0,n.visited=!1,n.closed=!1,n.parent=null}};function ws(n,r){r=r||{},this.nodes=[],this.diagonal=!!r.diagonal,this.grid=[];for(var i=0;i<n.length;i++){this.grid[i]=[];for(var a=0,u=n[i];a<u.length;a++){var c=new Ta(i,a,u[a]);this.grid[i][a]=c,this.nodes.push(c)}}this.init()}function Ta(n,r,i){this.x=n,this.y=r,this.weight=i}function kl(n){this.content=[],this.scoreFunction=n}function Tu(){this._=null}function Oa(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function Ys(n,r){var i=r,a=r.R,u=i.U;u?u.L===i?u.L=a:u.R=a:n._=a,a.U=u,i.U=a,i.R=a.L,i.R&&(i.R.U=i),a.L=i}function Js(n,r){var i=r,a=r.L,u=i.U;u?u.L===i?u.L=a:u.R=a:n._=a,a.U=u,i.U=a,i.L=a.R,i.L&&(i.L.U=i),a.R=i}function ql(n){for(;n.L;)n=n.L;return n}ws.prototype.init=function(){this.dirtyNodes=[];for(var n=0;n<this.nodes.length;n++)La.cleanNode(this.nodes[n])},ws.prototype.cleanDirty=function(){for(var n=0;n<this.dirtyNodes.length;n++)La.cleanNode(this.dirtyNodes[n]);this.dirtyNodes=[]},ws.prototype.markDirty=function(n){this.dirtyNodes.push(n)},ws.prototype.neighbors=function(n){var r=[],i=n.x,a=n.y,u=this.grid;return u[i-1]&&u[i-1][a]&&r.push(u[i-1][a]),u[i+1]&&u[i+1][a]&&r.push(u[i+1][a]),u[i]&&u[i][a-1]&&r.push(u[i][a-1]),u[i]&&u[i][a+1]&&r.push(u[i][a+1]),this.diagonal&&(u[i-1]&&u[i-1][a-1]&&r.push(u[i-1][a-1]),u[i+1]&&u[i+1][a-1]&&r.push(u[i+1][a-1]),u[i-1]&&u[i-1][a+1]&&r.push(u[i-1][a+1]),u[i+1]&&u[i+1][a+1]&&r.push(u[i+1][a+1])),r},ws.prototype.toString=function(){for(var i,a,u,c,n=[],r=this.grid,f=0,p=r.length;f<p;f++){for(i=[],u=0,c=(a=r[f]).length;u<c;u++)i.push(a[u].weight);n.push(i.join(" "))}return n.join("\n")},Ta.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Ta.prototype.getCost=function(n){return n&&n.x!==this.x&&n.y!==this.y?1.41421*this.weight:this.weight},Ta.prototype.isWall=function(){return 0===this.weight},kl.prototype={push:function(n){this.content.push(n),this.sinkDown(this.content.length-1)},pop:function(){var n=this.content[0],r=this.content.pop();return this.content.length>0&&(this.content[0]=r,this.bubbleUp(0)),n},remove:function(n){var r=this.content.indexOf(n),i=this.content.pop();r!==this.content.length-1&&(this.content[r]=i,this.scoreFunction(i)<this.scoreFunction(n)?this.sinkDown(r):this.bubbleUp(r))},size:function(){return this.content.length},rescoreElement:function(n){this.sinkDown(this.content.indexOf(n))},sinkDown:function(n){for(var r=this.content[n];n>0;){var i=(n+1>>1)-1,a=this.content[i];if(!(this.scoreFunction(r)<this.scoreFunction(a)))break;this.content[i]=r,this.content[n]=a,n=i}},bubbleUp:function(n){for(var r=this.content.length,i=this.content[n],a=this.scoreFunction(i);;){var p,u=n+1<<1,c=u-1,f=null;if(c<r&&(p=this.scoreFunction(this.content[c]))<a&&(f=c),u<r&&this.scoreFunction(this.content[u])<(null===f?a:p)&&(f=u),null===f)break;this.content[n]=this.content[f],this.content[f]=i,n=f}}},Tu.prototype={constructor:Tu,insert:function(n,r){var i,a,u;if(n){if(r.P=n,r.N=n.N,n.N&&(n.N.P=r),n.N=r,n.R){for(n=n.R;n.L;)n=n.L;n.L=r}else n.R=r;i=n}else this._?(n=ql(this._),r.P=null,r.N=n,n.P=n.L=r,i=n):(r.P=r.N=null,this._=r,i=null);for(r.L=r.R=null,r.U=i,r.C=!0,n=r;i&&i.C;)i===(a=i.U).L?(u=a.R)&&u.C?(i.C=u.C=!1,a.C=!0,n=a):(n===i.R&&(Ys(this,i),i=(n=i).U),i.C=!1,a.C=!0,Js(this,a)):(u=a.L)&&u.C?(i.C=u.C=!1,a.C=!0,n=a):(n===i.L&&(Js(this,i),i=(n=i).U),i.C=!1,a.C=!0,Ys(this,a)),i=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var i,c,f,r=n.U,a=n.L,u=n.R;if(c=a?u?ql(u):a:u,r?r.L===n?r.L=c:r.R=c:this._=c,a&&u?(f=c.C,c.C=n.C,c.L=a,a.U=c,c!==u?(r=c.U,c.U=n.U,r.L=n=c.R,c.R=u,u.U=c):(c.U=r,r=c,n=c.R)):(f=n.C,n=c),n&&(n.U=r),!f){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===r.L){if((i=r.R).C&&(i.C=!1,r.C=!0,Ys(this,r),i=r.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,Js(this,i),i=r.R),i.C=r.C,r.C=i.R.C=!1,Ys(this,r),n=this._;break}}else if((i=r.L).C&&(i.C=!1,r.C=!0,Js(this,r),i=r.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,Ys(this,i),i=r.L),i.C=r.C,r.C=i.L.C=!1,Js(this,r),n=this._;break}i.C=!0,n=r,r=r.U}while(!n.C);n&&(n.C=!1)}}};const Gl=Tu;function Hs(n,r,i,a){var u=[null,null],c=Dr.push(u)-1;return u.left=n,u.right=r,i&&Aa(u,n,r,i),a&&Aa(u,r,n,a),Ei[n.index].halfedges.push(c),Ei[r.index].halfedges.push(c),u}function Ws(n,r,i){var a=[r,i];return a.left=n,a}function Aa(n,r,i,a){n[0]||n[1]?n.left===i?n[1]=a:n[0]=a:(n[0]=a,n.left=r,n.right=i)}function Zh(n,r,i,a,u){var k,c=n[0],f=n[1],p=c[0],g=c[1],v=0,_=1,E=f[0]-p,Y=f[1]-g;if(k=r-p,E||!(k>0)){if(k/=E,E<0){if(k<v)return;k<_&&(_=k)}else if(E>0){if(k>_)return;k>v&&(v=k)}if(k=a-p,E||!(k<0)){if(k/=E,E<0){if(k>_)return;k>v&&(v=k)}else if(E>0){if(k<v)return;k<_&&(_=k)}if(k=i-g,Y||!(k>0)){if(k/=Y,Y<0){if(k<v)return;k<_&&(_=k)}else if(Y>0){if(k>_)return;k>v&&(v=k)}if(k=u-g,Y||!(k<0)){if(k/=Y,Y<0){if(k>_)return;k>v&&(v=k)}else if(Y>0){if(k<v)return;k<_&&(_=k)}return!(v>0)&&!(_<1)||(v>0&&(n[0]=[p+v*E,g+v*Y]),_<1&&(n[1]=[p+_*E,g+_*Y])),!0}}}}}function Xh(n,r,i,a,u){var c=n[1];if(c)return!0;var k,ot,f=n[0],p=n.left,g=n.right,h=p[0],m=p[1],v=g[0],_=g[1],E=(h+v)/2;if(_===m){if(E<r||E>=a)return;if(h>v){if(f){if(f[1]>=u)return}else f=[E,i];c=[E,u]}else{if(f){if(f[1]<i)return}else f=[E,u];c=[E,i]}}else if(ot=(m+_)/2-(k=(h-v)/(_-m))*E,k<-1||k>1)if(h>v){if(f){if(f[1]>=u)return}else f=[(i-ot)/k,i];c=[(u-ot)/k,u]}else{if(f){if(f[1]<i)return}else f=[(u-ot)/k,u];c=[(i-ot)/k,i]}else if(m<_){if(f){if(f[0]>=a)return}else f=[r,k*r+ot];c=[a,k*a+ot]}else{if(f){if(f[0]<r)return}else f=[a,k*a+ot];c=[r,k*r+ot]}return n[0]=f,n[1]=c,!0}function Hh(n,r){var i=n.site,a=r.left,u=r.right;return i===u&&(u=a,a=i),u?Math.atan2(u[1]-a[1],u[0]-a[0]):(i===a?(a=r[1],u=r[0]):(a=r[0],u=r[1]),Math.atan2(a[0]-u[0],u[1]-a[1]))}function Ul(n,r){return r[+(r.left!==n.site)]}function Wh(n,r){return r[+(r.left===n.site)]}var Ou,zl=[];function jh(){Oa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Is(n){var r=n.P,i=n.N;if(r&&i){var a=r.site,u=n.site,c=i.site;if(a!==c){var f=u[0],p=u[1],g=a[0]-f,h=a[1]-p,m=c[0]-f,v=c[1]-p,_=2*(g*v-h*m);if(!(_>=-np)){var E=g*g+h*h,Y=m*m+v*v,k=(v*E-h*Y)/_,ot=(g*Y-m*E)/_,H=zl.pop()||new jh;H.arc=n,H.site=u,H.x=k+f,H.y=(H.cy=ot+p)+Math.sqrt(k*k+ot*ot),n.circle=H;for(var F=null,Z=Vs._;Z;)if(H.y<Z.y||H.y===Z.y&&H.x<=Z.x){if(!Z.L){F=Z.P;break}Z=Z.L}else{if(!Z.R){F=Z;break}Z=Z.R}Vs.insert(F,H),F||(Ou=H)}}}}function bs(n){var r=n.circle;r&&(r.P||(Ou=r.N),Vs.remove(r),zl.push(r),Oa(r),n.circle=null)}var Zl=[];function Qh(){Oa(this),this.edge=this.site=this.circle=null}function Xl(n){var r=Zl.pop()||new Qh;return r.site=n,r}function Au(n){bs(n),Cs.remove(n),Zl.push(n),Oa(n)}function Kh(n){var r=n.circle,i=r.x,a=r.cy,u=[i,a],c=n.P,f=n.N,p=[n];Au(n);for(var g=c;g.circle&&Math.abs(i-g.circle.x)<kn&&Math.abs(a-g.circle.cy)<kn;)c=g.P,p.unshift(g),Au(g),g=c;p.unshift(g),bs(g);for(var h=f;h.circle&&Math.abs(i-h.circle.x)<kn&&Math.abs(a-h.circle.cy)<kn;)f=h.N,p.push(h),Au(h),h=f;p.push(h),bs(h);var v,m=p.length;for(v=1;v<m;++v)Aa((h=p[v]).edge,(g=p[v-1]).site,h.site,u);(h=p[m-1]).edge=Hs((g=p[0]).site,h.site,null,u),Is(g),Is(h)}function tp(n){for(var a,u,c,f,r=n[0],i=n[1],p=Cs._;p;)if((c=Yl(p,i)-r)>kn)p=p.L;else{if(!((f=r-ep(p,i))>kn)){c>-kn?(a=p.P,u=p):f>-kn?(a=p,u=p.N):a=u=p;break}if(!p.R){a=p;break}p=p.R}!function(n){Ei[n.index]={site:n,halfedges:[]}}(n);var g=Xl(n);if(Cs.insert(a,g),a||u){if(a===u)return bs(a),u=Xl(a.site),Cs.insert(g,u),g.edge=u.edge=Hs(a.site,g.site),Is(a),void Is(u);if(!u)return void(g.edge=Hs(a.site,g.site));bs(a),bs(u);var h=a.site,m=h[0],v=h[1],_=n[0]-m,E=n[1]-v,Y=u.site,k=Y[0]-m,ot=Y[1]-v,H=2*(_*ot-E*k),F=_*_+E*E,Z=k*k+ot*ot,gt=[(ot*F-E*Z)/H+m,(_*Z-k*F)/H+v];Aa(u.edge,h,Y,gt),g.edge=Hs(h,n,null,gt),u.edge=Hs(n,Y,null,gt),Is(a),Is(u)}}function Yl(n,r){var i=n.site,a=i[0],u=i[1],c=u-r;if(!c)return a;var f=n.P;if(!f)return-1/0;var p=(i=f.site)[0],g=i[1],h=g-r;if(!h)return p;var m=p-a,v=1/c-1/h,_=m/h;return v?(-_+Math.sqrt(_*_-2*v*(m*m/(-2*h)-g+h/2+u-c/2)))/v+a:(a+p)/2}function ep(n,r){var i=n.N;if(i)return Yl(i,r);var a=n.site;return a[1]===r?a[0]:1/0}var Cs,Ei,Vs,Dr,kn=1e-6,np=1e-12;function rp(n,r,i){return(n[0]-i[0])*(r[1]-n[1])-(n[0]-r[0])*(i[1]-n[1])}function ip(n,r){return r[1]-n[1]||r[0]-n[0]}function Jl(n,r){var a,u,c,i=n.sort(ip).pop();for(Dr=[],Ei=new Array(n.length),Cs=new Gl,Vs=new Gl;;)if(c=Ou,i&&(!c||i[1]<c.y||i[1]===c.y&&i[0]<c.x))(i[0]!==a||i[1]!==u)&&(tp(i),a=i[0],u=i[1]),i=n.pop();else{if(!c)break;Kh(c.arc)}if(function(){for(var i,a,u,c,n=0,r=Ei.length;n<r;++n)if((i=Ei[n])&&(c=(a=i.halfedges).length)){var f=new Array(c),p=new Array(c);for(u=0;u<c;++u)f[u]=u,p[u]=Hh(i,Dr[a[u]]);for(f.sort(function(g,h){return p[h]-p[g]}),u=0;u<c;++u)p[u]=a[f[u]];for(u=0;u<c;++u)a[u]=p[u]}}(),r){var f=+r[0][0],p=+r[0][1],g=+r[1][0],h=+r[1][1];(function(n,r,i,a){for(var c,u=Dr.length;u--;)Xh(c=Dr[u],n,r,i,a)&&Zh(c,n,r,i,a)&&(Math.abs(c[0][0]-c[1][0])>kn||Math.abs(c[0][1]-c[1][1])>kn)||delete Dr[u]})(f,p,g,h),function(n,r,i,a){var c,f,p,g,h,m,v,_,E,Y,k,ot,u=Ei.length,H=!0;for(c=0;c<u;++c)if(f=Ei[c]){for(p=f.site,g=(h=f.halfedges).length;g--;)Dr[h[g]]||h.splice(g,1);for(g=0,m=h.length;g<m;)k=(Y=Wh(f,Dr[h[g]]))[0],ot=Y[1],_=(v=Ul(f,Dr[h[++g%m]]))[0],E=v[1],(Math.abs(k-_)>kn||Math.abs(ot-E)>kn)&&(h.splice(g,0,Dr.push(Ws(p,Y,Math.abs(k-n)<kn&&a-ot>kn?[n,Math.abs(_-n)<kn?E:a]:Math.abs(ot-a)<kn&&i-k>kn?[Math.abs(E-a)<kn?_:i,a]:Math.abs(k-i)<kn&&ot-r>kn?[i,Math.abs(_-i)<kn?E:r]:Math.abs(ot-r)<kn&&k-n>kn?[Math.abs(E-r)<kn?_:n,r]:null))-1),++m);m&&(H=!1)}if(H){var F,Z,gt,ht=1/0;for(c=0,H=null;c<u;++c)(f=Ei[c])&&(gt=(F=(p=f.site)[0]-n)*F+(Z=p[1]-r)*Z)<ht&&(ht=gt,H=f);if(H){var _t=[n,r],vt=[n,a],St=[i,a],tt=[i,r];H.halfedges.push(Dr.push(Ws(p=H.site,_t,vt))-1,Dr.push(Ws(p,vt,St))-1,Dr.push(Ws(p,St,tt))-1,Dr.push(Ws(p,tt,_t))-1)}}for(c=0;c<u;++c)(f=Ei[c])&&(f.halfedges.length||delete Ei[c])}(f,p,g,h)}this.edges=Dr,this.cells=Ei,Cs=Vs=Dr=Ei=null}function Xo(){return new Ra}function Ra(){this.reset()}Jl.prototype={constructor:Jl,polygons:function(){var n=this.edges;return this.cells.map(function(r){var i=r.halfedges.map(function(a){return Ul(r,n[a])});return i.data=r.site.data,i})},triangles:function(){var n=[],r=this.edges;return this.cells.forEach(function(i,a){if(p=(c=i.halfedges).length)for(var c,p,g,u=i.site,f=-1,h=r[c[p-1]],m=h.left===u?h.right:h.left;++f<p;)g=m,m=(h=r[c[f]]).left===u?h.right:h.left,g&&m&&a<g.index&&a<m.index&&rp(u,g,m)<0&&n.push([u.data,g.data,m.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,r,i){for(var u,p,a=this,c=a._found||0,f=a.cells.length;!(p=a.cells[c]);)if(++c>=f)return null;var g=n-p.site[0],h=r-p.site[1],m=g*g+h*h;do{p=a.cells[u=c],c=null,p.halfedges.forEach(function(v){var _=a.edges[v],E=_.left;if(E!==p.site&&E||(E=_.right)){var Y=n-E[0],k=r-E[1],ot=Y*Y+k*k;ot<m&&(m=ot,c=E.index)}})}while(null!==c);return a._found=u,null==i||m<=i*i?p.site:null}},Q(171),Q(7299),Ra.prototype={constructor:Ra,reset:function(){this.s=this.t=0},add:function(n){rc(Da,n,this.t),rc(this,Da.s,this.s),this.s?this.t+=Da.t:this.s=Da.t},valueOf:function(){return this.s}};var Da=new Ra;function rc(n,r,i){var a=n.s=r+i,u=a-r;n.t=r-(a-u)+(i-u)}var n,Zn=Math.PI,fi=Zn/2,Ss=2*Zn,An=Zn/180,$s=(Math,Math.atan),Ps=Math.atan2,ln=Math.cos,en=(Math,Math,Math,Math,Math,Math.sin),No=(Math,Math.sqrt);Math;function Ns(n){return n>1?fi:n<-1?-fi:Math.asin(n)}function Hu(n,r){return[n>Zn?n-Ss:n<-Zn?n+Ss:n,r]}function Lc(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}Xo(),Xo(),Xo(),Hu.invert=Hu,1===(n=Lc).length&&(n=function(n){return function(r,i){return Lc(n(r),i)}}(n)),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Xo();function hl(){}function nf(n){return function(r,i){var a=ln(r),u=ln(i),c=n(a*u);return[c*u*en(r),c*en(i)]}}function sa(n){return function(r,i){var a=No(r*r+i*i),u=n(a),c=en(u),f=ln(u);return[Ps(r*c,a*f),Ns(a&&i*c/a)]}}function gl(n,r){return[n,r]}Xo(),Xo(),Xo(),Xo(),hl.prototype={constructor:hl,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ln(30*An),nf(function(n){return No(2/(1+n))}).invert=sa(function(n){return 2*Ns(n/2)}),nf(function(n){return(n=function(n){return n>1?0:n<-1?Zn:Math.acos(n)}(n))&&n/en(n)}).invert=sa(function(n){return n}),gl.invert=gl,sa($s),sa(Ns),sa(function(n){return 2*$s(n)});var Lg=Q(3006);const Tg=function(n){return{"bg-darkGrayBlue":n}};function Og(n,r){if(1&n){const i=d.EpF();d.TgZ(0,"li",39),d.NdJ("click",function(){const c=d.CHM(i).$implicit;return d.oxw().changeBaseMap(c.url)}),d.TgZ(1,"a",40),d._UZ(2,"img",41),d.TgZ(3,"span",42),d._uU(4),d.qZA(),d.qZA(),d.qZA()}if(2&n){const i=r.$implicit,a=d.oxw();d.Tol(d.VKq(4,Tg,i.url==a.currentView)),d.xp6(2),d.MGl("src","assets/",i.icon,".png",d.LSH),d.xp6(2),d.Oqu(i.view)}}function Ag(n,r){if(1&n&&(d.TgZ(0,"div",15),d.TgZ(1,"div",16),d._UZ(2,"span",43),d.qZA(),d.TgZ(3,"span",18),d._uU(4),d.qZA(),d.TgZ(5,"span",19),d._uU(6,"Deed name"),d.qZA(),d.qZA()),2&n){const i=d.oxw();d.xp6(4),d.Oqu(i.bidDetails.sale_text)}}function Rg(n,r){if(1&n&&(d.TgZ(0,"li"),d._UZ(1,"span",44),d._uU(2,"Sale For "),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.qZA()),2&n){const i=d.oxw();d.xp6(4),d.hij("L$",i.bidDetails.sale_price,"")}}function Dg(n,r){if(1&n){const i=d.EpF();d.TgZ(0,"li",27),d.NdJ("click",function(){return d.CHM(i),d.oxw().doBid()}),d._UZ(1,"span",45),d._uU(2,"Bid"),d.qZA()}}function Fg(n,r){if(1&n){const i=d.EpF();d.TgZ(0,"li",46),d.NdJ("click",function(){return d.CHM(i),d.oxw().cancelBid()}),d._UZ(1,"span",47),d._uU(2),d.qZA()}if(2&n){const i=d.oxw();d.xp6(2),d.hij("Cancel your Bid of $L",i.currentBidDetails.data.price,"")}}const dl=function(n,r){return{info:n,light:r}};let Bg=(()=>{class n{constructor(i){this.data=i,this.isGridVisible=!1,this.is3D=!1,this.isTerrain=!1,this.deedId="",this.deedAvailableForBid=!1,this.currentGroupCenter={lat:0,lng:0},this.ownProperty=!1,this.allBidIds=[],this.bidDetails={banner_path:"assets/logo.jpg",picture:"assets/logo.jpg",code:"no-flag",country_name:"",first_name:"",last_name:"",price:"0",sale_price:"0",sale_text:"",for_sale:!1,location_name:null},this.currentBidDetails={status:!1,data:null},this.userSaveIds=[],this.tempUserIds=[],this.newGridClick=!1,this.userPointCenters={},this.sideInfoExpand=!1,this.settings={settings:{country_flag_id:null,id:-1,is_allowed_bid_low_price:!1,is_send_email:!1,is_shown_profile_for_activity:!1,map_view:-1,user_id:-1,google2fa_enable:!1,google2fa:!1},countries:[],mapViews:[{id:1,url:"mapbox://styles/mapbox/streets-v11",view:"Mapbox Streets",icon:"street"},{id:2,url:"mapbox://styles/mapbox/outdoors-v11",view:"Mapbox Outdoors",icon:"outdoors"},{id:3,url:"mapbox://styles/mapbox/light-v10",view:"Mapbox Light",icon:"light"},{id:4,url:"mapbox://styles/mapbox/dark-v10",view:"Mapbox Dark",icon:"dark"},{id:5,url:"mapbox://styles/mapbox/satellite-streets-v11",view:"Mapbox Satellite Streets",icon:"satellite"},{id:6,url:"mapbox://styles/mapbox/navigation-day-v1",view:"Mapbox Navigation Day",icon:"day"},{id:7,url:"mapbox://styles/mapbox/navigation-night-v1",view:"Mapbox Navigation Night",icon:"night"}]},this.currentView="mapbox://styles/mapbox/satellite-streets-v11",this.tileUrl=""}ngOnInit(){setTimeout(()=>{this.initMap()},2e3),this.data.checkLogin()&&-1===R.F.settings.settings.id?this.data.currentMessage.subscribe(i=>{"fetch-settings"===i&&$("#map").length>0&&setTimeout(()=>{this.initMap()},2e3)}):setTimeout(()=>{this.initMap()},2e3)}changeBaseMap(i){this.currentView=i,this.map.setStyle(this.currentView)}setGridVisibility(){"none"==this.map.getLayoutProperty("sub-sub-maine","visibility")?(this.map.setLayoutProperty("sub-sub-maine","visibility","visible"),this.map.setLayoutProperty("sub-sub-grid-highlighted","visibility","visible"),this.isGridVisible=!0):(this.map.setLayoutProperty("sub-sub-maine","visibility","none"),this.map.setLayoutProperty("sub-sub-grid-highlighted","visibility","none"),this.isGridVisible=!1)}set3D(){"none"==this.map.getLayoutProperty("add-3d-buildings","visibility")?(this.map.setLayoutProperty("add-3d-buildings","visibility","visible"),this.is3D=!0):(this.map.setLayoutProperty("add-3d-buildings","visibility","none"),this.is3D=!1)}setTerrain(){null==this.map.getTerrain()?(this.map.setTerrain({source:"mapbox-dem",exaggeration:1.5}),this.isTerrain=!0):(this.map.setTerrain(null),this.isTerrain=!1)}initMap(){this.settings=R.F.settings;let i=this.settings.mapViews.filter(c=>c.id==this.settings.settings.map_view);if(i.length>0&&(this.currentView=i[0].url),this.map=new mapboxgl.Map({container:"map",center:[26,5],zoom:19,accessToken:R.F.accessToken,style:this.currentView}),this.map.addControl(new MapboxGeocoder({accessToken:R.F.accessToken,mapboxgl}),"top-left"),""===R.F.getCookie("userTiles")||""===R.F.getCookie("userTilesLatLngs"))R.F.setCookie("userTiles",JSON.stringify({data:[]}),1),R.F.setCookie("userTilesLatLngs",JSON.stringify({data:{}}),1);else{var a=JSON.parse(R.F.getCookie("userTiles")),u=JSON.parse(R.F.getCookie("userTilesLatLngs"));a.data.length>0&&Object.keys(u.data).length>0?(this.userSaveIds=a.data,this.userPointCenters=u.data):(R.F.setCookie("userTiles",JSON.stringify({data:[]}),1),R.F.setCookie("userTilesLatLngs",JSON.stringify({data:{}}),1))}this.map.on("styleimagemissing",c=>{this.map.loadImage(`assets/countries/${c.id}.png`,(f,p)=>{f||this.map.addImage(c.id,p)})}),this.map.on("style.load",c=>{const p=this.map.getStyle().layers.find(h=>"symbol"===h.type&&h.layout["text-field"]),g=this.is3D?"visible":"none";void 0!==p?this.map.addLayer({id:"add-3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.9},layout:{visibility:g}},p.id):this.map.addLayer({id:"add-3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.9},layout:{visibility:g}}),this.map.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),this.isTerrain&&this.map.setTerrain({source:"mapbox-dem",exaggeration:1.5})})}saveSelections(){R.F.setCookie("userTiles",JSON.stringify({data:this.userSaveIds}),1),R.F.setCookie("userTilesLatLngs",JSON.stringify({data:this.userPointCenters}),1),this.map.setFilter("sub-sub-grid-highlighted",this.buildFilter())}buildFilter(){const i=["in","id"];for(let a=0;a<this.userSaveIds.length;a+=1)i.push(this.userSaveIds[a]);for(let a=0;a<this.tempUserIds.length;a+=1)i.push(this.tempUserIds[a]);return i}buildFilterForBid(){const i=["in","id"];if(0===this.allBidIds.length)return i;for(let a=0;a<this.allBidIds.length;a+=1)i.push(this.allBidIds[a].grid_id);return i}buyLand(){if(!this.data.checkLogin())return void this.data.redirect("login");const i=this;Metro.dialog.create({title:"Please enter this property name",content:'<div id="property-error-div"></div><div class="form-group">\n<input type="text" id="property-name" data-role="materialinput"\n       placeholder="Enter property name"\n       data-icon="<span class=\'mif-info\'>"\n       data-label="Property name"\n       data-cls-line="bg-cyan"\n       data-cls-label="fg-cyan"\n       data-cls-informer="fg-lightCyan"\n       data-cls-icon="fg-darkCyan"\n></div>',clsDialog:"buy-land-dialog",actions:[{caption:"Buy",cls:"success",onclick:function(){const u=$("#property-name").val();if(u.length<2)return $("#property-error-div").empty().append("Property name must be at least 2 characters"),void R.F.invalidForm("#property-error-div");Metro.dialog.close(".buy-land-dialog"),i.buyLandRequest(u)}},{caption:"No",cls:"js-dialog-close light",onclick:function(){}}]})}buyLandRequest(i){const a=[],u=[];this.userSaveIds.forEach(p=>{const g=P((0,Lg.parse)(this.userPointCenters[p]));u.push(g),a.push({id:p,latlng:this.userPointCenters[p]})});const c=Ur(Pt(u)),f_lat=c.geometry.coordinates[1],f_lng=c.geometry.coordinates[0];R.F.loading("location"),this.data.apiGetService(`https://api.mapbox.com/geocoding/v5/mapbox.places/${f_lng},${f_lat}.json?access_token=${R.F.accessToken}&limit=1&types=address`,!0,new I.LE).subscribe(p=>{R.F.loading("location",!0);try{const g={fts:a,center:c.geometry.coordinates.join(","),name:i,location:p.features[0].place_name};R.F.loading("land"),this.data.apiService("buy/land",g).subscribe(h=>{R.F.loading("land",!0),h.hasOwnProperty("status")&&(R.F.fire(h.message,!h.status),h.status&&(this.clearSelection(),this.data.changeMessage("get-profile"),this.tileUrl=`${R.F.server}grids/{z}/{x}/{y}?dt=${Date.now()}&token=`+R.F.getCookie("access_token"),this.map.getSource("grid-source").setTiles([this.tileUrl])))},h=>{R.F.fire("Unable to process. Internal Error",!0),R.F.loading("land",!0)})}catch(g){R.F.loading("land",!0)}},p=>{R.F.loading("location",!0)})}clearSelection(){R.F.setCookie("userTiles",JSON.stringify({data:[]}),1),R.F.setCookie("userTilesLatLngs",JSON.stringify({data:[]}),1),this.userSaveIds=[],this.tempUserIds=[],this.userPointCenters={},this.map.setFilter("sub-sub-grid-highlighted",this.buildFilter())}clearBidSelection(){this.currentGroupCenter={lat:0,lng:0},this.allBidIds=[],this.bidDetails={banner_path:"assets/logo.jpg",picture:"assets/logo.jpg",code:"no-flag",country_name:"",first_name:"",last_name:"",price:"0",sale_price:"0",sale_text:""},this.map.setFilter("grids-for-bid",this.buildFilterForBid()),Metro.bottomsheet.close("#group-view","list")}getPropertInfo(i){this.clearBidSelection(),R.F.loading("bid"),this.deedId=i,this.deedAvailableForBid=!1,this.data.apiGetService(R.F.server+`get/property/${i}`,!0).subscribe(a=>{if(R.F.loading("bid",!0),a.grids.length>0){const u=[];a.grids=a.grids.map(g=>(g.point=JSON.parse(g.point),u.push(P(g.point)),g));const c=Pt(u),f=Ur(c);this.currentGroupCenter={lat:f.geometry.coordinates[1],lng:f.geometry.coordinates[0]},this.allBidIds=a.grids,this.map.setFilter("grids-for-bid",this.buildFilterForBid())}null!=a.detail.picture&&(a.detail.picture=R.F.server+a.detail.picture),null!=a.detail.banner_path&&(a.detail.banner_path=R.F.server+a.detail.banner_path),this.bidDetails=a.detail,this.currentBidDetails=a.bid_details,null==this.bidDetails.location_name?this.data.updateLocationName(this.currentGroupCenter,this.deedId).then(u=>{this.bidDetails.location_name=u,Metro.bottomsheet.open("#group-view","list")}):Metro.bottomsheet.open("#group-view","list")},a=>{R.F.fire("Unable to fetch. Internal Error",!0),R.F.loading("bid",!0)})}viewProperty(){this.data.redirect("dashboard/app/property",this.deedId)}openBidDialog(){const i=this;Metro.dialog.create({title:"Enter Bid Details",content:'<div id="bid-error-div" class="fg-red text-small"></div><div class="form-group">\n<input type="number" id="bid-price" value="0.0" data-role="materialinput"\n                       placeholder="Enter your bid price"\n                       data-icon="<span class=\'mif-dollars\'>"\n                       data-label="Bid Price"\n                       data-cls-line="bg-cyan"\n                       data-cls-label="fg-cyan"\n                       data-cls-informer="fg-lightCyan"\n                       data-cls-icon="fg-darkCyan"\n                ></div>',clsDialog:"bid-dialog fg-amber",actions:[{caption:"Submit",cls:"warning",onclick:function(){let u=$("#bid-price").val();if(!isNaN(u)&&(u=Number(u),u>0))return i.submitBid(u),void Metro.dialog.close(".bid-dialog");$("#bid-error-div").empty().append("Invalid bid details. It should be valid digit or number"),setTimeout(()=>{$("#bid-error-div").empty()},3e3),R.F.invalidForm("#bid-error-div")}},{caption:"Cancel",cls:"js-dialog-close alert",onclick:function(){}}]})}submitBid(i){const a=new FormData;a.append("gid",this.deedId),a.append("price",i),R.F.loading("biddo"),this.data.apiService("bid/do",a).subscribe(u=>{R.F.loading("biddo",!0),u.hasOwnProperty("status")?(R.F.fire(u.message,!u.status),u.status&&this.data.changeMessage("get-profile")):R.F.fire("Invalid request. Please try again later",!0)},u=>{R.F.loading("biddo",!0),R.F.fire("Invalid request. Please try again later",!0)})}doBid(){this.data.checkLogin()?this.openBidDialog():this.data.redirect("login")}cancelBid(){const i=this;Metro.dialog.create({title:"Bid",content:"Do you want to cancel your bid?",actions:[{caption:"Yes cancel",cls:"js-dialog-close alert",onclick:function(){i.cancelBidRequest()}},{caption:"No",cls:"js-dialog-close success",onclick:function(){}}]})}cancelBidRequest(){R.F.loading("bidcancel"),this.data.apiGetService("bid/cancel/"+this.currentBidDetails.data.id).subscribe(i=>{R.F.loading("bidcancel",!0),i.hasOwnProperty("status")?(R.F.fire(i.message,!i.status),i.status&&this.data.changeMessage("get-profile")):R.F.fire("Invalid request. Please try again later",!0)},i=>{R.F.loading("bidcancel",!0),R.F.fire("Invalid request. Please try again later",!0)})}}return n.\u0275fac=function(i){return new(i||n)(d.Y36(R.F))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-map"]],decls:57,vars:29,consts:[["id","map",1,"w-100","h-100",2,"z-index","0","top","50px"],[1,"pos-fixed","z-1",2,"bottom","30px","left","10px"],["id","basemaps_toggle",1,"button","cycle","light"],[1,"mif-map"],["data-role","dropdown","data-toggle-element","#basemaps_toggle",1,"d-menu","drop-up","shadowed","fg-black",2,"width","230px","background","rgba(255,255,255,0.7)","margin-left","0","border-radius","7px"],["class","c-pointer bg-transparent p-2",3,"class","click",4,"ngFor","ngForOf"],["data-role","bottomsheet","id","group-view",2,"min-width","650px"],[1,"p-0",2,"height","200px"],[1,"d-flex","flex-align-center"],[1,"d-flex","flex-column"],["onError","this.src='assets/logo.jpg'",2,"width","200px","height","130px",3,"src"],[1,"invalid_feedback","d-block",2,"height","20px"],[1,"invalid_feedback","d-block"],[1,"items-list"],["class","item",4,"ngIf"],[1,"item"],[1,"avatar"],[1,"icon","mif-pin"],[1,"label"],[1,"second-label"],["onError","this.src='assets/logo.jpg'",2,"width","40px","height","40px","border-radius","50%",3,"src"],["onError","this.src='assets/countries/no-flag.png'",1,"pos-absolute",2,"bottom","0","right","0","width","20px",3,"src"],[1,"icon","mif-apps"],[1,"text-bold"],[4,"ngIf"],["class","button d-flex dark flex-justify-between",3,"click",4,"ngIf"],["class","button d-flex alert flex-justify-between",3,"click",4,"ngIf"],[1,"button","d-flex","dark","flex-justify-between",3,"click"],[1,"icon","mif-paragraph-center"],["onclick","Metro.bottomsheet.close('#group-view', 'list')",1,"button","d-flex","alert","flex-justify-between",3,"click"],[1,"icon","mif-cross-light"],[1,"pos-absolute","d-flex","flex-column","z-1",2,"right","10px","bottom","70px"],[1,"button","light","cycle","shadowed","m-1",3,"click"],[1,"mif-plus"],[1,"button","cycle","shadowed","m-1",3,"click"],[1,"mif-apps"],[1,"mif-location-city"],[1,"mif-traffic-cone"],[1,"mif-minus"],[1,"c-pointer","bg-transparent","p-2",3,"click"],[1,"d-flex",2,"font-size","15px","color","black"],[1,"circle","shadowed",2,"width","35px","height","35px","border-radius","17px","margin","-17px -3px",3,"src"],[1,"pos-absolute",2,"left","45px","white-space","nowrap"],[1,"icon","mif-info"],[1,"icon","mif-dollars"],[1,"icon","mif-cart"],[1,"button","d-flex","alert","flex-justify-between",3,"click"],[1,"icon","mif-backspace1"]],template:function(i,a){1&i&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"button",2),d._UZ(3,"span",3),d.qZA(),d.TgZ(4,"ul",4),d.YNc(5,Og,5,6,"li",5),d.qZA(),d.qZA(),d.TgZ(6,"ul",6),d.TgZ(7,"li",7),d.TgZ(8,"div",8),d.TgZ(9,"div",9),d._UZ(10,"img",10),d.TgZ(11,"span",11),d._uU(12),d.qZA(),d.TgZ(13,"span",12),d._uU(14),d.qZA(),d.qZA(),d.TgZ(15,"div",13),d.YNc(16,Ag,7,1,"div",14),d.TgZ(17,"div",15),d.TgZ(18,"div",16),d._UZ(19,"span",17),d.qZA(),d.TgZ(20,"span",18),d._uU(21),d.qZA(),d.TgZ(22,"span",19),d._uU(23,"Located at"),d.qZA(),d.qZA(),d.TgZ(24,"div",15),d.TgZ(25,"div",16),d._UZ(26,"img",20),d._UZ(27,"img",21),d.qZA(),d.TgZ(28,"span",18),d._uU(29),d.qZA(),d.TgZ(30,"span",19),d._uU(31,"Owner"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(32,"li"),d._UZ(33,"span",22),d._uU(34,"Tiles "),d.TgZ(35,"span",23),d._uU(36),d.qZA(),d.qZA(),d.YNc(37,Rg,5,1,"li",24),d.YNc(38,Dg,3,0,"li",25),d.YNc(39,Fg,3,1,"li",26),d.TgZ(40,"li",27),d.NdJ("click",function(){return a.viewProperty()}),d._UZ(41,"span",28),d._uU(42,"Details"),d.qZA(),d.TgZ(43,"li",29),d.NdJ("click",function(){return a.clearBidSelection()}),d._UZ(44,"span",30),d._uU(45,"Close"),d.qZA(),d.qZA(),d.TgZ(46,"div",31),d.TgZ(47,"button",32),d.NdJ("click",function(){return a.map.zoomIn()}),d._UZ(48,"span",33),d.qZA(),d.TgZ(49,"button",34),d.NdJ("click",function(){return a.setGridVisibility()}),d._UZ(50,"span",35),d.qZA(),d.TgZ(51,"button",34),d.NdJ("click",function(){return a.set3D()}),d._UZ(52,"span",36),d.qZA(),d.TgZ(53,"button",34),d.NdJ("click",function(){return a.setTerrain()}),d._UZ(54,"span",37),d.qZA(),d.TgZ(55,"button",32),d.NdJ("click",function(){return a.map.zoomOut()}),d._UZ(56,"span",38),d.qZA(),d.qZA(),d.qZA()),2&i&&(d.xp6(5),d.Q6J("ngForOf",a.settings.mapViews),d.xp6(5),d.s9C("src",a.bidDetails.banner_path,d.LSH),d.xp6(2),d.hij("Lat ",a.currentGroupCenter.lat,""),d.xp6(2),d.hij("Lng ",a.currentGroupCenter.lng,""),d.xp6(2),d.Q6J("ngIf",a.bidDetails.for_sale),d.xp6(5),d.hij("",a.bidDetails.location_name," "),d.xp6(5),d.s9C("src",a.bidDetails.picture,d.LSH),d.xp6(1),d.MGl("src","assets/countries/",a.bidDetails.code,".png",d.LSH),d.xp6(2),d.AsE("",a.bidDetails.first_name," ",a.bidDetails.last_name,""),d.xp6(7),d.Oqu(a.allBidIds.length),d.xp6(1),d.Q6J("ngIf",a.bidDetails.for_sale),d.xp6(1),d.Q6J("ngIf",a.bidDetails.for_sale&&!a.currentBidDetails.status&&0==a.ownProperty),d.xp6(1),d.Q6J("ngIf",a.bidDetails.for_sale&&a.currentBidDetails.status&&0==a.ownProperty),d.xp6(10),d.Tol(d.WLB(20,dl,a.isGridVisible,!a.isGridVisible)),d.xp6(2),d.Tol(d.WLB(23,dl,a.is3D,!a.is3D)),d.xp6(2),d.Tol(d.WLB(26,dl,a.isTerrain,!a.isTerrain)))},directives:[B.sg,B.O5],styles:[""]}),n})();var yl=Q(2721);function kg(n,r){if(1&n){const i=d.EpF();d.TgZ(0,"button",11),d.NdJ("click",function(){return d.CHM(i),d.oxw().processFile()}),d._uU(1),d.qZA()}if(2&n){const i=d.oxw();d.xp6(1),d.hij("Submit (",i.file.name,")")}}function qg(n,r){if(1&n&&(d.TgZ(0,"div",12),d._UZ(1,"span",13),d.TgZ(2,"span",14),d._uU(3),d.qZA(),d.TgZ(4,"span",15),d._uU(5),d.qZA(),d.TgZ(6,"span",16),d._uU(7),d.qZA(),d.qZA()),2&n){const i=r.$implicit,a=d.oxw();d.xp6(3),d.Oqu(i.file_name),d.xp6(2),d.Oqu(i.start_time),d.xp6(2),d.hij(" ",a.getStatus(i.status)," ")}}function Ug(n,r){if(1&n){const i=d.EpF();d.TgZ(0,"button",12),d.NdJ("click",function(){return d.CHM(i),d.oxw().processJob()}),d._uU(1,"Process"),d.qZA()}}const zg=function(n){return{"bg-gray":n}};function Zg(n,r){if(1&n){const i=d.EpF();d.TgZ(0,"div",13),d.NdJ("click",function(){const c=d.CHM(i).$implicit;return d.oxw().getJobColumn(c.job_id)}),d._UZ(1,"span",14),d.TgZ(2,"span",15),d._uU(3),d.qZA(),d.TgZ(4,"span",16),d._uU(5),d.qZA(),d.qZA()}if(2&n){const i=r.$implicit,a=d.oxw();d.Q6J("ngClass",d.VKq(3,zg,a.currentJob==i.job_id)),d.xp6(3),d.Oqu(i.file_name),d.xp6(2),d.Oqu(i.job_id)}}function Xg(n,r){1&n&&(d.TgZ(0,"div",17),d.TgZ(1,"div",18),d.TgZ(2,"ul",19),d.TgZ(3,"li"),d._uU(4,"Col 1"),d.qZA(),d.TgZ(5,"li"),d._uU(6,"Col 2"),d.qZA(),d.TgZ(7,"li"),d._uU(8,"Col 3"),d.qZA(),d.qZA(),d._UZ(9,"ul",20),d.qZA(),d.qZA())}const Jg=[{path:"",redirectTo:"/dashboard/app/map",pathMatch:"full"},{path:"app",component:pt,children:[{path:"map",component:Bg,canActivate:[yl.i]},{path:"upload",component:(()=>{class n{constructor(i){this.data=i,this.file=null,this.jobs=[],this.processReady=!1}ngOnInit(){this.getJobs()}getJobs(){R.F.loading("getJob",!1),this.data.apiGetService("jobs/user").subscribe(i=>{R.F.loading("getJob",!0),this.jobs=i},i=>{R.F.loading("getJob",!0)})}getFile(i){this.file=i.target.files[0],console.log(this.file)}processFile(){const i=new FormData;i.append("file",this.file),R.F.loading("create_job",!1),this.data.apiService("create_job",i).subscribe(a=>{R.F.loading("create_job",!0),R.F.fire(a.message,!a.status),this.getJobs()},a=>{R.F.loading("create_job",!0)})}getStatus(i){let a="Unknown";switch(i){case 0:a="Submitted";break;case 1:a="Processed"}return a}}return n.\u0275fac=function(i){return new(i||n)(d.Y36(R.F))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-upload"]],decls:17,vars:2,consts:[[1,"container","h-100","p-0",2,"background","rgba(255,255,255,0.75)","overflow","auto"],[1,"mt-8","pb-5","pl-3","pr-3","pt-20","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"header","fg-white",2,"background","rgba(138, 162, 174,0.7)"],[1,"avatar"],[1,"icon","mif-2x","mif-chart-line"],[1,"title"],["type","file","data-role","file","data-mode","drop","accept",".geojson,.kml,.shp,.gpkg",3,"change"],["class","button small success",3,"click",4,"ngIf"],[1,"mt-2","pb-5","pl-3","pr-3","pt-2","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"items-list"],["class","item",4,"ngFor","ngForOf"],[1,"button","small","success",3,"click"],[1,"item"],[1,"avatar","mif-chart-line","fg-amber"],[1,"label"],[1,"second-label"],[1,"second-action",2,"font-size","11px","width","70px"]],template:function(i,a){1&i&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d._UZ(4,"span",4),d.qZA(),d.TgZ(5,"div",5),d._uU(6,"Upload data"),d.qZA(),d.qZA(),d.TgZ(7,"input",6),d.NdJ("change",function(c){return a.getFile(c)}),d.qZA(),d.YNc(8,kg,2,1,"button",7),d.qZA(),d.TgZ(9,"div",8),d.TgZ(10,"div",2),d.TgZ(11,"div",3),d._UZ(12,"span",4),d.qZA(),d.TgZ(13,"div",5),d._uU(14,"Jobs"),d.qZA(),d.qZA(),d.TgZ(15,"div",9),d.YNc(16,qg,8,3,"div",10),d.qZA(),d.qZA(),d.qZA()),2&i&&(d.xp6(8),d.Q6J("ngIf",null!=a.file),d.xp6(8),d.Q6J("ngForOf",a.jobs))},directives:[B.O5,B.sg],styles:[""]}),n})(),canActivate:[yl.i]},{path:"qc",component:(()=>{class n{constructor(i){this.data=i,this.jobs=[],this.columns=[],this.currentJob=""}ngOnInit(){this.getJobs()}getJobs(){R.F.loading("getJob",!1),this.data.apiGetService("jobs").subscribe(i=>{R.F.loading("getJob",!0),this.jobs=i},i=>{R.F.loading("getJob",!0)})}getJobColumn(i){this.currentJob=i,R.F.loading("getJobCol",!1),this.data.apiGetService("jobs/"+i).subscribe(a=>{R.F.loading("getJobCol",!0),$("#job-col").empty(),a.forEach(u=>{$("#job-col").append(`<li>${u}</li>`)})},a=>{R.F.loading("getJobCol",!0)})}processJob(){}}return n.\u0275fac=function(i){return new(i||n)(d.Y36(R.F))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-quality-check"]],decls:13,vars:3,consts:[[1,"container","h-100","p-0",2,"background","rgba(255,255,255,0.75)","overflow","auto"],[1,"mt-8","pb-5","pl-3","pr-3","pt-20","skill-box",2,"background","rgba(255,255,255,0.7)"],[1,"header","fg-white",2,"background","rgba(138, 162, 174,0.7)"],[1,"avatar"],[1,"icon","mif-2x","mif-chart-line"],["style","top:30px;right: 10px;","class","button light pos-absolute small",3,"click",4,"ngIf"],[1,"title"],[1,"row"],[1,"col-6","mr-0","p-0"],[1,"items-list","p-0"],["class","item c-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],["class","col-6 bg-gray ml-0 pl-0",4,"ngIf"],[1,"button","light","pos-absolute","small",2,"top","30px","right","10px",3,"click"],[1,"item","c-pointer",3,"ngClass","click"],[1,"avatar","mif-chart-line","fg-amber"],[1,"label"],[1,"second-label"],[1,"col-6","bg-gray","ml-0","pl-0"],[1,"d-flex"],[1,"items-list"],["data-role","drag-items","id","job-col",1,"items-list"]],template:function(i,a){1&i&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d._UZ(4,"span",4),d.qZA(),d.YNc(5,Ug,2,0,"button",5),d.TgZ(6,"div",6),d._uU(7,"Quality checking"),d.qZA(),d.qZA(),d.TgZ(8,"div",7),d.TgZ(9,"div",8),d.TgZ(10,"div",9),d.YNc(11,Zg,6,5,"div",10),d.qZA(),d.qZA(),d.YNc(12,Xg,10,0,"div",11),d.qZA(),d.qZA(),d.qZA()),2&i&&(d.xp6(5),d.Q6J("ngIf",""!=a.currentJob),d.xp6(6),d.Q6J("ngForOf",a.jobs),d.xp6(1),d.Q6J("ngIf",""!=a.currentJob))},directives:[B.O5,B.sg,B.mk],styles:[""]}),n})(),canActivate:[yl.i]}]}];let Hg=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[j.Bz.forChild(Jg)],j.Bz]}),n})(),Wg=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[B.ez,Hg]]}),n})()}}]);